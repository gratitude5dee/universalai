const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-DDjplZSu.js","assets/index-CSS9YPeK.js","assets/index-CU0xJr1u.css","assets/index-DI_5Pvk7.js"])))=>i.map(i=>d[i]);
var Tue=Object.defineProperty;var Rue=(e,t,n)=>t in e?Tue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var en=(e,t,n)=>Rue(e,typeof t!="symbol"?t+"":t,n);import{g as qo,c as Pue,r as vk,a as k,b as cr,_ as W7,H as Nz,d as c6,e as n2,t as jz,f as Oue,w as Bz,h as Gl,i as Nue,j as jue,k as Bue,l as $z,u as Pr,m as Mz,n as Se,o as u,R as Yr,p as $ue,q as Dz,s as z7,v as Mue,x as Due,y as Lue,z as Uue,A as dp,B as q7,C as Fue,D as Wue,E as Dl,F as zue,G as Tp,I as V7,J as H7,K as bk,L as que,M as Vue,N as Hue}from"./index-CSS9YPeK.js";var Kue="1.15.1",Gue=Kue,Zue=Object.defineProperty,Jue=Object.defineProperties,Yue=Object.getOwnPropertyDescriptors,T9=Object.getOwnPropertySymbols,Xue=Object.prototype.hasOwnProperty,Que=Object.prototype.propertyIsEnumerable,R9=(e,t,n)=>t in e?Zue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ql=(e,t)=>{for(var n in t||(t={}))Xue.call(t,n)&&R9(e,n,t[n]);if(T9)for(var n of T9(t))Que.call(t,n)&&R9(e,n,t[n]);return e},Mh=(e,t)=>Jue(e,Yue(t)),Bm=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())}),efe={ethereum:1,polygon:137,bsc:56,optimism:10,arbitrum:42161,base:8453,zora:7777777,arbitrumnova:42170,"ethereum-sepolia":11155111,"ethereum-goerli":5,"polygon-mumbai":80001,"polygon-amoy":80002,"bsc-testnet":97,"optimism-sepolia":11155420,"optimism-goerli":420,"base-goerli":84531,"base-sepolia":84532,"arbitrum-sepolia":421614,"zora-sepolia":999999999,"zora-goerli":999,zkatana:1261120,zkyoto:6038361,"astar-zkevm":3776,apex:70700,"hypersonic-testnet":675852,"story-testnet":1516,chiliz:88888},tfe=Object.entries(efe).reduce((e,[t,n])=>(e[n]=t,e),{});function nfe(e){return tfe[e]}var Lz="3hSfN4dWSwgCg1uf2yytBtK6KxK3ySFKasd2h9J2vSK5",Uz="8erZh8YApGck3iUSUHqATBxqMTM1Ukp9mHmvGgUWHtkK";function rfe(e){switch(e){case"development":case"staging":return Lz;case"production":return Uz;default:return null}}function ife(e){return e==="client"?"ck":"sk"}var r2={CLIENT:"ck",SERVER:"sk"},au={DEVELOPMENT:"development",STAGING:"staging",PRODUCTION:"production"},P9={CLIENT:"client",SERVER:"server"};function ofe(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,v=0,w=m.length;v!==w&&m[v]===0;)v++,g++;for(var _=(w-v)*l+1>>>0,E=new Uint8Array(_);v!==w;){for(var C=m[v],T=0,A=_-1;(C!==0||T<y)&&A!==-1;A--,T++)C+=256*E[A]>>>0,E[A]=C%s>>>0,C=C/s>>>0;if(C!==0)throw new Error("Non-zero carry");y=T,v++}for(var S=_-y;S!==_&&E[S]===0;)S++;for(var O=a.repeat(g);S<_;++S)O+=e.charAt(E[S]);return O}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var g=0,y=0,v=0;m[g]===a;)y++,g++;for(var w=(m.length-g)*c+1>>>0,_=new Uint8Array(w);m[g];){var E=m.charCodeAt(g);if(E>255)return;var C=t[E];if(C===255)return;for(var T=0,A=w-1;(C!==0||T<v)&&A!==-1;A--,T++)C+=s*_[A]>>>0,_[A]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");v=T,g++}for(var S=w-v;S!==w&&_[S]===0;)S++;for(var O=new Uint8Array(y+(w-S)),D=y;S!==w;)O[D++]=_[S++];return O}function p(m){var g=f(m);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:f,decode:p}}var sfe=ofe;const afe=sfe,cfe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var lfe=afe(cfe);const ui=qo(lfe);var Fz={exports:{}};(function(e){(function(t){var n=function(F){var Z,Y=new Float64Array(16);if(F)for(Z=0;Z<F.length;Z++)Y[Z]=F[Z];return Y},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=n(),a=n([1]),c=n([56129,1]),l=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(F,Z,Y,B){F[Z]=Y>>24&255,F[Z+1]=Y>>16&255,F[Z+2]=Y>>8&255,F[Z+3]=Y&255,F[Z+4]=B>>24&255,F[Z+5]=B>>16&255,F[Z+6]=B>>8&255,F[Z+7]=B&255}function y(F,Z,Y,B,Q){var _e,xe=0;for(_e=0;_e<Q;_e++)xe|=F[Z+_e]^Y[B+_e];return(1&xe-1>>>8)-1}function v(F,Z,Y,B){return y(F,Z,Y,B,16)}function w(F,Z,Y,B){return y(F,Z,Y,B,32)}function _(F,Z,Y,B){for(var Q=B[0]&255|(B[1]&255)<<8|(B[2]&255)<<16|(B[3]&255)<<24,_e=Y[0]&255|(Y[1]&255)<<8|(Y[2]&255)<<16|(Y[3]&255)<<24,xe=Y[4]&255|(Y[5]&255)<<8|(Y[6]&255)<<16|(Y[7]&255)<<24,Fe=Y[8]&255|(Y[9]&255)<<8|(Y[10]&255)<<16|(Y[11]&255)<<24,at=Y[12]&255|(Y[13]&255)<<8|(Y[14]&255)<<16|(Y[15]&255)<<24,ct=B[4]&255|(B[5]&255)<<8|(B[6]&255)<<16|(B[7]&255)<<24,ot=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Zn=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,At=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,pn=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,kn=B[8]&255|(B[9]&255)<<8|(B[10]&255)<<16|(B[11]&255)<<24,mn=Y[16]&255|(Y[17]&255)<<8|(Y[18]&255)<<16|(Y[19]&255)<<24,vn=Y[20]&255|(Y[21]&255)<<8|(Y[22]&255)<<16|(Y[23]&255)<<24,bn=Y[24]&255|(Y[25]&255)<<8|(Y[26]&255)<<16|(Y[27]&255)<<24,gn=Y[28]&255|(Y[29]&255)<<8|(Y[30]&255)<<16|(Y[31]&255)<<24,wn=B[12]&255|(B[13]&255)<<8|(B[14]&255)<<16|(B[15]&255)<<24,Nt=Q,zt=_e,vt=xe,wt=Fe,gt=at,xt=ct,Be=ot,je=Zn,Xe=At,Ke=pn,Je=kn,st=mn,_n=vn,Un=bn,qn=gn,Fn=wn,pe,ar=0;ar<20;ar+=2)pe=Nt+_n|0,gt^=pe<<7|pe>>>25,pe=gt+Nt|0,Xe^=pe<<9|pe>>>23,pe=Xe+gt|0,_n^=pe<<13|pe>>>19,pe=_n+Xe|0,Nt^=pe<<18|pe>>>14,pe=xt+zt|0,Ke^=pe<<7|pe>>>25,pe=Ke+xt|0,Un^=pe<<9|pe>>>23,pe=Un+Ke|0,zt^=pe<<13|pe>>>19,pe=zt+Un|0,xt^=pe<<18|pe>>>14,pe=Je+Be|0,qn^=pe<<7|pe>>>25,pe=qn+Je|0,vt^=pe<<9|pe>>>23,pe=vt+qn|0,Be^=pe<<13|pe>>>19,pe=Be+vt|0,Je^=pe<<18|pe>>>14,pe=Fn+st|0,wt^=pe<<7|pe>>>25,pe=wt+Fn|0,je^=pe<<9|pe>>>23,pe=je+wt|0,st^=pe<<13|pe>>>19,pe=st+je|0,Fn^=pe<<18|pe>>>14,pe=Nt+wt|0,zt^=pe<<7|pe>>>25,pe=zt+Nt|0,vt^=pe<<9|pe>>>23,pe=vt+zt|0,wt^=pe<<13|pe>>>19,pe=wt+vt|0,Nt^=pe<<18|pe>>>14,pe=xt+gt|0,Be^=pe<<7|pe>>>25,pe=Be+xt|0,je^=pe<<9|pe>>>23,pe=je+Be|0,gt^=pe<<13|pe>>>19,pe=gt+je|0,xt^=pe<<18|pe>>>14,pe=Je+Ke|0,st^=pe<<7|pe>>>25,pe=st+Je|0,Xe^=pe<<9|pe>>>23,pe=Xe+st|0,Ke^=pe<<13|pe>>>19,pe=Ke+Xe|0,Je^=pe<<18|pe>>>14,pe=Fn+qn|0,_n^=pe<<7|pe>>>25,pe=_n+Fn|0,Un^=pe<<9|pe>>>23,pe=Un+_n|0,qn^=pe<<13|pe>>>19,pe=qn+Un|0,Fn^=pe<<18|pe>>>14;Nt=Nt+Q|0,zt=zt+_e|0,vt=vt+xe|0,wt=wt+Fe|0,gt=gt+at|0,xt=xt+ct|0,Be=Be+ot|0,je=je+Zn|0,Xe=Xe+At|0,Ke=Ke+pn|0,Je=Je+kn|0,st=st+mn|0,_n=_n+vn|0,Un=Un+bn|0,qn=qn+gn|0,Fn=Fn+wn|0,F[0]=Nt>>>0&255,F[1]=Nt>>>8&255,F[2]=Nt>>>16&255,F[3]=Nt>>>24&255,F[4]=zt>>>0&255,F[5]=zt>>>8&255,F[6]=zt>>>16&255,F[7]=zt>>>24&255,F[8]=vt>>>0&255,F[9]=vt>>>8&255,F[10]=vt>>>16&255,F[11]=vt>>>24&255,F[12]=wt>>>0&255,F[13]=wt>>>8&255,F[14]=wt>>>16&255,F[15]=wt>>>24&255,F[16]=gt>>>0&255,F[17]=gt>>>8&255,F[18]=gt>>>16&255,F[19]=gt>>>24&255,F[20]=xt>>>0&255,F[21]=xt>>>8&255,F[22]=xt>>>16&255,F[23]=xt>>>24&255,F[24]=Be>>>0&255,F[25]=Be>>>8&255,F[26]=Be>>>16&255,F[27]=Be>>>24&255,F[28]=je>>>0&255,F[29]=je>>>8&255,F[30]=je>>>16&255,F[31]=je>>>24&255,F[32]=Xe>>>0&255,F[33]=Xe>>>8&255,F[34]=Xe>>>16&255,F[35]=Xe>>>24&255,F[36]=Ke>>>0&255,F[37]=Ke>>>8&255,F[38]=Ke>>>16&255,F[39]=Ke>>>24&255,F[40]=Je>>>0&255,F[41]=Je>>>8&255,F[42]=Je>>>16&255,F[43]=Je>>>24&255,F[44]=st>>>0&255,F[45]=st>>>8&255,F[46]=st>>>16&255,F[47]=st>>>24&255,F[48]=_n>>>0&255,F[49]=_n>>>8&255,F[50]=_n>>>16&255,F[51]=_n>>>24&255,F[52]=Un>>>0&255,F[53]=Un>>>8&255,F[54]=Un>>>16&255,F[55]=Un>>>24&255,F[56]=qn>>>0&255,F[57]=qn>>>8&255,F[58]=qn>>>16&255,F[59]=qn>>>24&255,F[60]=Fn>>>0&255,F[61]=Fn>>>8&255,F[62]=Fn>>>16&255,F[63]=Fn>>>24&255}function E(F,Z,Y,B){for(var Q=B[0]&255|(B[1]&255)<<8|(B[2]&255)<<16|(B[3]&255)<<24,_e=Y[0]&255|(Y[1]&255)<<8|(Y[2]&255)<<16|(Y[3]&255)<<24,xe=Y[4]&255|(Y[5]&255)<<8|(Y[6]&255)<<16|(Y[7]&255)<<24,Fe=Y[8]&255|(Y[9]&255)<<8|(Y[10]&255)<<16|(Y[11]&255)<<24,at=Y[12]&255|(Y[13]&255)<<8|(Y[14]&255)<<16|(Y[15]&255)<<24,ct=B[4]&255|(B[5]&255)<<8|(B[6]&255)<<16|(B[7]&255)<<24,ot=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Zn=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,At=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,pn=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,kn=B[8]&255|(B[9]&255)<<8|(B[10]&255)<<16|(B[11]&255)<<24,mn=Y[16]&255|(Y[17]&255)<<8|(Y[18]&255)<<16|(Y[19]&255)<<24,vn=Y[20]&255|(Y[21]&255)<<8|(Y[22]&255)<<16|(Y[23]&255)<<24,bn=Y[24]&255|(Y[25]&255)<<8|(Y[26]&255)<<16|(Y[27]&255)<<24,gn=Y[28]&255|(Y[29]&255)<<8|(Y[30]&255)<<16|(Y[31]&255)<<24,wn=B[12]&255|(B[13]&255)<<8|(B[14]&255)<<16|(B[15]&255)<<24,Nt=Q,zt=_e,vt=xe,wt=Fe,gt=at,xt=ct,Be=ot,je=Zn,Xe=At,Ke=pn,Je=kn,st=mn,_n=vn,Un=bn,qn=gn,Fn=wn,pe,ar=0;ar<20;ar+=2)pe=Nt+_n|0,gt^=pe<<7|pe>>>25,pe=gt+Nt|0,Xe^=pe<<9|pe>>>23,pe=Xe+gt|0,_n^=pe<<13|pe>>>19,pe=_n+Xe|0,Nt^=pe<<18|pe>>>14,pe=xt+zt|0,Ke^=pe<<7|pe>>>25,pe=Ke+xt|0,Un^=pe<<9|pe>>>23,pe=Un+Ke|0,zt^=pe<<13|pe>>>19,pe=zt+Un|0,xt^=pe<<18|pe>>>14,pe=Je+Be|0,qn^=pe<<7|pe>>>25,pe=qn+Je|0,vt^=pe<<9|pe>>>23,pe=vt+qn|0,Be^=pe<<13|pe>>>19,pe=Be+vt|0,Je^=pe<<18|pe>>>14,pe=Fn+st|0,wt^=pe<<7|pe>>>25,pe=wt+Fn|0,je^=pe<<9|pe>>>23,pe=je+wt|0,st^=pe<<13|pe>>>19,pe=st+je|0,Fn^=pe<<18|pe>>>14,pe=Nt+wt|0,zt^=pe<<7|pe>>>25,pe=zt+Nt|0,vt^=pe<<9|pe>>>23,pe=vt+zt|0,wt^=pe<<13|pe>>>19,pe=wt+vt|0,Nt^=pe<<18|pe>>>14,pe=xt+gt|0,Be^=pe<<7|pe>>>25,pe=Be+xt|0,je^=pe<<9|pe>>>23,pe=je+Be|0,gt^=pe<<13|pe>>>19,pe=gt+je|0,xt^=pe<<18|pe>>>14,pe=Je+Ke|0,st^=pe<<7|pe>>>25,pe=st+Je|0,Xe^=pe<<9|pe>>>23,pe=Xe+st|0,Ke^=pe<<13|pe>>>19,pe=Ke+Xe|0,Je^=pe<<18|pe>>>14,pe=Fn+qn|0,_n^=pe<<7|pe>>>25,pe=_n+Fn|0,Un^=pe<<9|pe>>>23,pe=Un+_n|0,qn^=pe<<13|pe>>>19,pe=qn+Un|0,Fn^=pe<<18|pe>>>14;F[0]=Nt>>>0&255,F[1]=Nt>>>8&255,F[2]=Nt>>>16&255,F[3]=Nt>>>24&255,F[4]=xt>>>0&255,F[5]=xt>>>8&255,F[6]=xt>>>16&255,F[7]=xt>>>24&255,F[8]=Je>>>0&255,F[9]=Je>>>8&255,F[10]=Je>>>16&255,F[11]=Je>>>24&255,F[12]=Fn>>>0&255,F[13]=Fn>>>8&255,F[14]=Fn>>>16&255,F[15]=Fn>>>24&255,F[16]=Be>>>0&255,F[17]=Be>>>8&255,F[18]=Be>>>16&255,F[19]=Be>>>24&255,F[20]=je>>>0&255,F[21]=je>>>8&255,F[22]=je>>>16&255,F[23]=je>>>24&255,F[24]=Xe>>>0&255,F[25]=Xe>>>8&255,F[26]=Xe>>>16&255,F[27]=Xe>>>24&255,F[28]=Ke>>>0&255,F[29]=Ke>>>8&255,F[30]=Ke>>>16&255,F[31]=Ke>>>24&255}function C(F,Z,Y,B){_(F,Z,Y,B)}function T(F,Z,Y,B){E(F,Z,Y,B)}var A=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function S(F,Z,Y,B,Q,_e,xe){var Fe=new Uint8Array(16),at=new Uint8Array(64),ct,ot;for(ot=0;ot<16;ot++)Fe[ot]=0;for(ot=0;ot<8;ot++)Fe[ot]=_e[ot];for(;Q>=64;){for(C(at,Fe,xe,A),ot=0;ot<64;ot++)F[Z+ot]=Y[B+ot]^at[ot];for(ct=1,ot=8;ot<16;ot++)ct=ct+(Fe[ot]&255)|0,Fe[ot]=ct&255,ct>>>=8;Q-=64,Z+=64,B+=64}if(Q>0)for(C(at,Fe,xe,A),ot=0;ot<Q;ot++)F[Z+ot]=Y[B+ot]^at[ot];return 0}function O(F,Z,Y,B,Q){var _e=new Uint8Array(16),xe=new Uint8Array(64),Fe,at;for(at=0;at<16;at++)_e[at]=0;for(at=0;at<8;at++)_e[at]=B[at];for(;Y>=64;){for(C(xe,_e,Q,A),at=0;at<64;at++)F[Z+at]=xe[at];for(Fe=1,at=8;at<16;at++)Fe=Fe+(_e[at]&255)|0,_e[at]=Fe&255,Fe>>>=8;Y-=64,Z+=64}if(Y>0)for(C(xe,_e,Q,A),at=0;at<Y;at++)F[Z+at]=xe[at];return 0}function D(F,Z,Y,B,Q){var _e=new Uint8Array(32);T(_e,B,Q,A);for(var xe=new Uint8Array(8),Fe=0;Fe<8;Fe++)xe[Fe]=B[Fe+16];return O(F,Z,Y,xe,_e)}function K(F,Z,Y,B,Q,_e,xe){var Fe=new Uint8Array(32);T(Fe,_e,xe,A);for(var at=new Uint8Array(8),ct=0;ct<8;ct++)at[ct]=_e[ct+16];return S(F,Z,Y,B,Q,at,Fe)}var H=function(F){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var Z,Y,B,Q,_e,xe,Fe,at;Z=F[0]&255|(F[1]&255)<<8,this.r[0]=Z&8191,Y=F[2]&255|(F[3]&255)<<8,this.r[1]=(Z>>>13|Y<<3)&8191,B=F[4]&255|(F[5]&255)<<8,this.r[2]=(Y>>>10|B<<6)&7939,Q=F[6]&255|(F[7]&255)<<8,this.r[3]=(B>>>7|Q<<9)&8191,_e=F[8]&255|(F[9]&255)<<8,this.r[4]=(Q>>>4|_e<<12)&255,this.r[5]=_e>>>1&8190,xe=F[10]&255|(F[11]&255)<<8,this.r[6]=(_e>>>14|xe<<2)&8191,Fe=F[12]&255|(F[13]&255)<<8,this.r[7]=(xe>>>11|Fe<<5)&8065,at=F[14]&255|(F[15]&255)<<8,this.r[8]=(Fe>>>8|at<<8)&8191,this.r[9]=at>>>5&127,this.pad[0]=F[16]&255|(F[17]&255)<<8,this.pad[1]=F[18]&255|(F[19]&255)<<8,this.pad[2]=F[20]&255|(F[21]&255)<<8,this.pad[3]=F[22]&255|(F[23]&255)<<8,this.pad[4]=F[24]&255|(F[25]&255)<<8,this.pad[5]=F[26]&255|(F[27]&255)<<8,this.pad[6]=F[28]&255|(F[29]&255)<<8,this.pad[7]=F[30]&255|(F[31]&255)<<8};H.prototype.blocks=function(F,Z,Y){for(var B=this.fin?0:2048,Q,_e,xe,Fe,at,ct,ot,Zn,At,pn,kn,mn,vn,bn,gn,wn,Nt,zt,vt,wt=this.h[0],gt=this.h[1],xt=this.h[2],Be=this.h[3],je=this.h[4],Xe=this.h[5],Ke=this.h[6],Je=this.h[7],st=this.h[8],_n=this.h[9],Un=this.r[0],qn=this.r[1],Fn=this.r[2],pe=this.r[3],ar=this.r[4],kr=this.r[5],lr=this.r[6],Vn=this.r[7],Ar=this.r[8],dr=this.r[9];Y>=16;)Q=F[Z+0]&255|(F[Z+1]&255)<<8,wt+=Q&8191,_e=F[Z+2]&255|(F[Z+3]&255)<<8,gt+=(Q>>>13|_e<<3)&8191,xe=F[Z+4]&255|(F[Z+5]&255)<<8,xt+=(_e>>>10|xe<<6)&8191,Fe=F[Z+6]&255|(F[Z+7]&255)<<8,Be+=(xe>>>7|Fe<<9)&8191,at=F[Z+8]&255|(F[Z+9]&255)<<8,je+=(Fe>>>4|at<<12)&8191,Xe+=at>>>1&8191,ct=F[Z+10]&255|(F[Z+11]&255)<<8,Ke+=(at>>>14|ct<<2)&8191,ot=F[Z+12]&255|(F[Z+13]&255)<<8,Je+=(ct>>>11|ot<<5)&8191,Zn=F[Z+14]&255|(F[Z+15]&255)<<8,st+=(ot>>>8|Zn<<8)&8191,_n+=Zn>>>5|B,At=0,pn=At,pn+=wt*Un,pn+=gt*(5*dr),pn+=xt*(5*Ar),pn+=Be*(5*Vn),pn+=je*(5*lr),At=pn>>>13,pn&=8191,pn+=Xe*(5*kr),pn+=Ke*(5*ar),pn+=Je*(5*pe),pn+=st*(5*Fn),pn+=_n*(5*qn),At+=pn>>>13,pn&=8191,kn=At,kn+=wt*qn,kn+=gt*Un,kn+=xt*(5*dr),kn+=Be*(5*Ar),kn+=je*(5*Vn),At=kn>>>13,kn&=8191,kn+=Xe*(5*lr),kn+=Ke*(5*kr),kn+=Je*(5*ar),kn+=st*(5*pe),kn+=_n*(5*Fn),At+=kn>>>13,kn&=8191,mn=At,mn+=wt*Fn,mn+=gt*qn,mn+=xt*Un,mn+=Be*(5*dr),mn+=je*(5*Ar),At=mn>>>13,mn&=8191,mn+=Xe*(5*Vn),mn+=Ke*(5*lr),mn+=Je*(5*kr),mn+=st*(5*ar),mn+=_n*(5*pe),At+=mn>>>13,mn&=8191,vn=At,vn+=wt*pe,vn+=gt*Fn,vn+=xt*qn,vn+=Be*Un,vn+=je*(5*dr),At=vn>>>13,vn&=8191,vn+=Xe*(5*Ar),vn+=Ke*(5*Vn),vn+=Je*(5*lr),vn+=st*(5*kr),vn+=_n*(5*ar),At+=vn>>>13,vn&=8191,bn=At,bn+=wt*ar,bn+=gt*pe,bn+=xt*Fn,bn+=Be*qn,bn+=je*Un,At=bn>>>13,bn&=8191,bn+=Xe*(5*dr),bn+=Ke*(5*Ar),bn+=Je*(5*Vn),bn+=st*(5*lr),bn+=_n*(5*kr),At+=bn>>>13,bn&=8191,gn=At,gn+=wt*kr,gn+=gt*ar,gn+=xt*pe,gn+=Be*Fn,gn+=je*qn,At=gn>>>13,gn&=8191,gn+=Xe*Un,gn+=Ke*(5*dr),gn+=Je*(5*Ar),gn+=st*(5*Vn),gn+=_n*(5*lr),At+=gn>>>13,gn&=8191,wn=At,wn+=wt*lr,wn+=gt*kr,wn+=xt*ar,wn+=Be*pe,wn+=je*Fn,At=wn>>>13,wn&=8191,wn+=Xe*qn,wn+=Ke*Un,wn+=Je*(5*dr),wn+=st*(5*Ar),wn+=_n*(5*Vn),At+=wn>>>13,wn&=8191,Nt=At,Nt+=wt*Vn,Nt+=gt*lr,Nt+=xt*kr,Nt+=Be*ar,Nt+=je*pe,At=Nt>>>13,Nt&=8191,Nt+=Xe*Fn,Nt+=Ke*qn,Nt+=Je*Un,Nt+=st*(5*dr),Nt+=_n*(5*Ar),At+=Nt>>>13,Nt&=8191,zt=At,zt+=wt*Ar,zt+=gt*Vn,zt+=xt*lr,zt+=Be*kr,zt+=je*ar,At=zt>>>13,zt&=8191,zt+=Xe*pe,zt+=Ke*Fn,zt+=Je*qn,zt+=st*Un,zt+=_n*(5*dr),At+=zt>>>13,zt&=8191,vt=At,vt+=wt*dr,vt+=gt*Ar,vt+=xt*Vn,vt+=Be*lr,vt+=je*kr,At=vt>>>13,vt&=8191,vt+=Xe*ar,vt+=Ke*pe,vt+=Je*Fn,vt+=st*qn,vt+=_n*Un,At+=vt>>>13,vt&=8191,At=(At<<2)+At|0,At=At+pn|0,pn=At&8191,At=At>>>13,kn+=At,wt=pn,gt=kn,xt=mn,Be=vn,je=bn,Xe=gn,Ke=wn,Je=Nt,st=zt,_n=vt,Z+=16,Y-=16;this.h[0]=wt,this.h[1]=gt,this.h[2]=xt,this.h[3]=Be,this.h[4]=je,this.h[5]=Xe,this.h[6]=Ke,this.h[7]=Je,this.h[8]=st,this.h[9]=_n},H.prototype.finish=function(F,Z){var Y=new Uint16Array(10),B,Q,_e,xe;if(this.leftover){for(xe=this.leftover,this.buffer[xe++]=1;xe<16;xe++)this.buffer[xe]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(B=this.h[1]>>>13,this.h[1]&=8191,xe=2;xe<10;xe++)this.h[xe]+=B,B=this.h[xe]>>>13,this.h[xe]&=8191;for(this.h[0]+=B*5,B=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=B,B=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=B,Y[0]=this.h[0]+5,B=Y[0]>>>13,Y[0]&=8191,xe=1;xe<10;xe++)Y[xe]=this.h[xe]+B,B=Y[xe]>>>13,Y[xe]&=8191;for(Y[9]-=8192,Q=(B^1)-1,xe=0;xe<10;xe++)Y[xe]&=Q;for(Q=~Q,xe=0;xe<10;xe++)this.h[xe]=this.h[xe]&Q|Y[xe];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,_e=this.h[0]+this.pad[0],this.h[0]=_e&65535,xe=1;xe<8;xe++)_e=(this.h[xe]+this.pad[xe]|0)+(_e>>>16)|0,this.h[xe]=_e&65535;F[Z+0]=this.h[0]>>>0&255,F[Z+1]=this.h[0]>>>8&255,F[Z+2]=this.h[1]>>>0&255,F[Z+3]=this.h[1]>>>8&255,F[Z+4]=this.h[2]>>>0&255,F[Z+5]=this.h[2]>>>8&255,F[Z+6]=this.h[3]>>>0&255,F[Z+7]=this.h[3]>>>8&255,F[Z+8]=this.h[4]>>>0&255,F[Z+9]=this.h[4]>>>8&255,F[Z+10]=this.h[5]>>>0&255,F[Z+11]=this.h[5]>>>8&255,F[Z+12]=this.h[6]>>>0&255,F[Z+13]=this.h[6]>>>8&255,F[Z+14]=this.h[7]>>>0&255,F[Z+15]=this.h[7]>>>8&255},H.prototype.update=function(F,Z,Y){var B,Q;if(this.leftover){for(Q=16-this.leftover,Q>Y&&(Q=Y),B=0;B<Q;B++)this.buffer[this.leftover+B]=F[Z+B];if(Y-=Q,Z+=Q,this.leftover+=Q,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(Y>=16&&(Q=Y-Y%16,this.blocks(F,Z,Q),Z+=Q,Y-=Q),Y){for(B=0;B<Y;B++)this.buffer[this.leftover+B]=F[Z+B];this.leftover+=Y}};function X(F,Z,Y,B,Q,_e){var xe=new H(_e);return xe.update(Y,B,Q),xe.finish(F,Z),0}function U(F,Z,Y,B,Q,_e){var xe=new Uint8Array(16);return X(xe,0,Y,B,Q,_e),v(F,Z,xe,0)}function I(F,Z,Y,B,Q){var _e;if(Y<32)return-1;for(K(F,0,Z,0,Y,B,Q),X(F,16,F,32,Y-32,F),_e=0;_e<16;_e++)F[_e]=0;return 0}function x(F,Z,Y,B,Q){var _e,xe=new Uint8Array(32);if(Y<32||(D(xe,0,32,B,Q),U(Z,16,Z,32,Y-32,xe)!==0))return-1;for(K(F,0,Z,0,Y,B,Q),_e=0;_e<32;_e++)F[_e]=0;return 0}function P(F,Z){var Y;for(Y=0;Y<16;Y++)F[Y]=Z[Y]|0}function N(F){var Z,Y,B=1;for(Z=0;Z<16;Z++)Y=F[Z]+B+65535,B=Math.floor(Y/65536),F[Z]=Y-B*65536;F[0]+=B-1+37*(B-1)}function $(F,Z,Y){for(var B,Q=~(Y-1),_e=0;_e<16;_e++)B=Q&(F[_e]^Z[_e]),F[_e]^=B,Z[_e]^=B}function L(F,Z){var Y,B,Q,_e=n(),xe=n();for(Y=0;Y<16;Y++)xe[Y]=Z[Y];for(N(xe),N(xe),N(xe),B=0;B<2;B++){for(_e[0]=xe[0]-65517,Y=1;Y<15;Y++)_e[Y]=xe[Y]-65535-(_e[Y-1]>>16&1),_e[Y-1]&=65535;_e[15]=xe[15]-32767-(_e[14]>>16&1),Q=_e[15]>>16&1,_e[14]&=65535,$(xe,_e,1-Q)}for(Y=0;Y<16;Y++)F[2*Y]=xe[Y]&255,F[2*Y+1]=xe[Y]>>8}function z(F,Z){var Y=new Uint8Array(32),B=new Uint8Array(32);return L(Y,F),L(B,Z),w(Y,0,B,0)}function q(F){var Z=new Uint8Array(32);return L(Z,F),Z[0]&1}function j(F,Z){var Y;for(Y=0;Y<16;Y++)F[Y]=Z[2*Y]+(Z[2*Y+1]<<8);F[15]&=32767}function W(F,Z,Y){for(var B=0;B<16;B++)F[B]=Z[B]+Y[B]}function re(F,Z,Y){for(var B=0;B<16;B++)F[B]=Z[B]-Y[B]}function de(F,Z,Y){var B,Q,_e=0,xe=0,Fe=0,at=0,ct=0,ot=0,Zn=0,At=0,pn=0,kn=0,mn=0,vn=0,bn=0,gn=0,wn=0,Nt=0,zt=0,vt=0,wt=0,gt=0,xt=0,Be=0,je=0,Xe=0,Ke=0,Je=0,st=0,_n=0,Un=0,qn=0,Fn=0,pe=Y[0],ar=Y[1],kr=Y[2],lr=Y[3],Vn=Y[4],Ar=Y[5],dr=Y[6],qr=Y[7],gr=Y[8],Tr=Y[9],wi=Y[10],ki=Y[11],Kn=Y[12],Zi=Y[13],Bi=Y[14],Ji=Y[15];B=Z[0],_e+=B*pe,xe+=B*ar,Fe+=B*kr,at+=B*lr,ct+=B*Vn,ot+=B*Ar,Zn+=B*dr,At+=B*qr,pn+=B*gr,kn+=B*Tr,mn+=B*wi,vn+=B*ki,bn+=B*Kn,gn+=B*Zi,wn+=B*Bi,Nt+=B*Ji,B=Z[1],xe+=B*pe,Fe+=B*ar,at+=B*kr,ct+=B*lr,ot+=B*Vn,Zn+=B*Ar,At+=B*dr,pn+=B*qr,kn+=B*gr,mn+=B*Tr,vn+=B*wi,bn+=B*ki,gn+=B*Kn,wn+=B*Zi,Nt+=B*Bi,zt+=B*Ji,B=Z[2],Fe+=B*pe,at+=B*ar,ct+=B*kr,ot+=B*lr,Zn+=B*Vn,At+=B*Ar,pn+=B*dr,kn+=B*qr,mn+=B*gr,vn+=B*Tr,bn+=B*wi,gn+=B*ki,wn+=B*Kn,Nt+=B*Zi,zt+=B*Bi,vt+=B*Ji,B=Z[3],at+=B*pe,ct+=B*ar,ot+=B*kr,Zn+=B*lr,At+=B*Vn,pn+=B*Ar,kn+=B*dr,mn+=B*qr,vn+=B*gr,bn+=B*Tr,gn+=B*wi,wn+=B*ki,Nt+=B*Kn,zt+=B*Zi,vt+=B*Bi,wt+=B*Ji,B=Z[4],ct+=B*pe,ot+=B*ar,Zn+=B*kr,At+=B*lr,pn+=B*Vn,kn+=B*Ar,mn+=B*dr,vn+=B*qr,bn+=B*gr,gn+=B*Tr,wn+=B*wi,Nt+=B*ki,zt+=B*Kn,vt+=B*Zi,wt+=B*Bi,gt+=B*Ji,B=Z[5],ot+=B*pe,Zn+=B*ar,At+=B*kr,pn+=B*lr,kn+=B*Vn,mn+=B*Ar,vn+=B*dr,bn+=B*qr,gn+=B*gr,wn+=B*Tr,Nt+=B*wi,zt+=B*ki,vt+=B*Kn,wt+=B*Zi,gt+=B*Bi,xt+=B*Ji,B=Z[6],Zn+=B*pe,At+=B*ar,pn+=B*kr,kn+=B*lr,mn+=B*Vn,vn+=B*Ar,bn+=B*dr,gn+=B*qr,wn+=B*gr,Nt+=B*Tr,zt+=B*wi,vt+=B*ki,wt+=B*Kn,gt+=B*Zi,xt+=B*Bi,Be+=B*Ji,B=Z[7],At+=B*pe,pn+=B*ar,kn+=B*kr,mn+=B*lr,vn+=B*Vn,bn+=B*Ar,gn+=B*dr,wn+=B*qr,Nt+=B*gr,zt+=B*Tr,vt+=B*wi,wt+=B*ki,gt+=B*Kn,xt+=B*Zi,Be+=B*Bi,je+=B*Ji,B=Z[8],pn+=B*pe,kn+=B*ar,mn+=B*kr,vn+=B*lr,bn+=B*Vn,gn+=B*Ar,wn+=B*dr,Nt+=B*qr,zt+=B*gr,vt+=B*Tr,wt+=B*wi,gt+=B*ki,xt+=B*Kn,Be+=B*Zi,je+=B*Bi,Xe+=B*Ji,B=Z[9],kn+=B*pe,mn+=B*ar,vn+=B*kr,bn+=B*lr,gn+=B*Vn,wn+=B*Ar,Nt+=B*dr,zt+=B*qr,vt+=B*gr,wt+=B*Tr,gt+=B*wi,xt+=B*ki,Be+=B*Kn,je+=B*Zi,Xe+=B*Bi,Ke+=B*Ji,B=Z[10],mn+=B*pe,vn+=B*ar,bn+=B*kr,gn+=B*lr,wn+=B*Vn,Nt+=B*Ar,zt+=B*dr,vt+=B*qr,wt+=B*gr,gt+=B*Tr,xt+=B*wi,Be+=B*ki,je+=B*Kn,Xe+=B*Zi,Ke+=B*Bi,Je+=B*Ji,B=Z[11],vn+=B*pe,bn+=B*ar,gn+=B*kr,wn+=B*lr,Nt+=B*Vn,zt+=B*Ar,vt+=B*dr,wt+=B*qr,gt+=B*gr,xt+=B*Tr,Be+=B*wi,je+=B*ki,Xe+=B*Kn,Ke+=B*Zi,Je+=B*Bi,st+=B*Ji,B=Z[12],bn+=B*pe,gn+=B*ar,wn+=B*kr,Nt+=B*lr,zt+=B*Vn,vt+=B*Ar,wt+=B*dr,gt+=B*qr,xt+=B*gr,Be+=B*Tr,je+=B*wi,Xe+=B*ki,Ke+=B*Kn,Je+=B*Zi,st+=B*Bi,_n+=B*Ji,B=Z[13],gn+=B*pe,wn+=B*ar,Nt+=B*kr,zt+=B*lr,vt+=B*Vn,wt+=B*Ar,gt+=B*dr,xt+=B*qr,Be+=B*gr,je+=B*Tr,Xe+=B*wi,Ke+=B*ki,Je+=B*Kn,st+=B*Zi,_n+=B*Bi,Un+=B*Ji,B=Z[14],wn+=B*pe,Nt+=B*ar,zt+=B*kr,vt+=B*lr,wt+=B*Vn,gt+=B*Ar,xt+=B*dr,Be+=B*qr,je+=B*gr,Xe+=B*Tr,Ke+=B*wi,Je+=B*ki,st+=B*Kn,_n+=B*Zi,Un+=B*Bi,qn+=B*Ji,B=Z[15],Nt+=B*pe,zt+=B*ar,vt+=B*kr,wt+=B*lr,gt+=B*Vn,xt+=B*Ar,Be+=B*dr,je+=B*qr,Xe+=B*gr,Ke+=B*Tr,Je+=B*wi,st+=B*ki,_n+=B*Kn,Un+=B*Zi,qn+=B*Bi,Fn+=B*Ji,_e+=38*zt,xe+=38*vt,Fe+=38*wt,at+=38*gt,ct+=38*xt,ot+=38*Be,Zn+=38*je,At+=38*Xe,pn+=38*Ke,kn+=38*Je,mn+=38*st,vn+=38*_n,bn+=38*Un,gn+=38*qn,wn+=38*Fn,Q=1,B=_e+Q+65535,Q=Math.floor(B/65536),_e=B-Q*65536,B=xe+Q+65535,Q=Math.floor(B/65536),xe=B-Q*65536,B=Fe+Q+65535,Q=Math.floor(B/65536),Fe=B-Q*65536,B=at+Q+65535,Q=Math.floor(B/65536),at=B-Q*65536,B=ct+Q+65535,Q=Math.floor(B/65536),ct=B-Q*65536,B=ot+Q+65535,Q=Math.floor(B/65536),ot=B-Q*65536,B=Zn+Q+65535,Q=Math.floor(B/65536),Zn=B-Q*65536,B=At+Q+65535,Q=Math.floor(B/65536),At=B-Q*65536,B=pn+Q+65535,Q=Math.floor(B/65536),pn=B-Q*65536,B=kn+Q+65535,Q=Math.floor(B/65536),kn=B-Q*65536,B=mn+Q+65535,Q=Math.floor(B/65536),mn=B-Q*65536,B=vn+Q+65535,Q=Math.floor(B/65536),vn=B-Q*65536,B=bn+Q+65535,Q=Math.floor(B/65536),bn=B-Q*65536,B=gn+Q+65535,Q=Math.floor(B/65536),gn=B-Q*65536,B=wn+Q+65535,Q=Math.floor(B/65536),wn=B-Q*65536,B=Nt+Q+65535,Q=Math.floor(B/65536),Nt=B-Q*65536,_e+=Q-1+37*(Q-1),Q=1,B=_e+Q+65535,Q=Math.floor(B/65536),_e=B-Q*65536,B=xe+Q+65535,Q=Math.floor(B/65536),xe=B-Q*65536,B=Fe+Q+65535,Q=Math.floor(B/65536),Fe=B-Q*65536,B=at+Q+65535,Q=Math.floor(B/65536),at=B-Q*65536,B=ct+Q+65535,Q=Math.floor(B/65536),ct=B-Q*65536,B=ot+Q+65535,Q=Math.floor(B/65536),ot=B-Q*65536,B=Zn+Q+65535,Q=Math.floor(B/65536),Zn=B-Q*65536,B=At+Q+65535,Q=Math.floor(B/65536),At=B-Q*65536,B=pn+Q+65535,Q=Math.floor(B/65536),pn=B-Q*65536,B=kn+Q+65535,Q=Math.floor(B/65536),kn=B-Q*65536,B=mn+Q+65535,Q=Math.floor(B/65536),mn=B-Q*65536,B=vn+Q+65535,Q=Math.floor(B/65536),vn=B-Q*65536,B=bn+Q+65535,Q=Math.floor(B/65536),bn=B-Q*65536,B=gn+Q+65535,Q=Math.floor(B/65536),gn=B-Q*65536,B=wn+Q+65535,Q=Math.floor(B/65536),wn=B-Q*65536,B=Nt+Q+65535,Q=Math.floor(B/65536),Nt=B-Q*65536,_e+=Q-1+37*(Q-1),F[0]=_e,F[1]=xe,F[2]=Fe,F[3]=at,F[4]=ct,F[5]=ot,F[6]=Zn,F[7]=At,F[8]=pn,F[9]=kn,F[10]=mn,F[11]=vn,F[12]=bn,F[13]=gn,F[14]=wn,F[15]=Nt}function te(F,Z){de(F,Z,Z)}function ce(F,Z){var Y=n(),B;for(B=0;B<16;B++)Y[B]=Z[B];for(B=253;B>=0;B--)te(Y,Y),B!==2&&B!==4&&de(Y,Y,Z);for(B=0;B<16;B++)F[B]=Y[B]}function ge(F,Z){var Y=n(),B;for(B=0;B<16;B++)Y[B]=Z[B];for(B=250;B>=0;B--)te(Y,Y),B!==1&&de(Y,Y,Z);for(B=0;B<16;B++)F[B]=Y[B]}function Ce(F,Z,Y){var B=new Uint8Array(32),Q=new Float64Array(80),_e,xe,Fe=n(),at=n(),ct=n(),ot=n(),Zn=n(),At=n();for(xe=0;xe<31;xe++)B[xe]=Z[xe];for(B[31]=Z[31]&127|64,B[0]&=248,j(Q,Y),xe=0;xe<16;xe++)at[xe]=Q[xe],ot[xe]=Fe[xe]=ct[xe]=0;for(Fe[0]=ot[0]=1,xe=254;xe>=0;--xe)_e=B[xe>>>3]>>>(xe&7)&1,$(Fe,at,_e),$(ct,ot,_e),W(Zn,Fe,ct),re(Fe,Fe,ct),W(ct,at,ot),re(at,at,ot),te(ot,Zn),te(At,Fe),de(Fe,ct,Fe),de(ct,at,Zn),W(Zn,Fe,ct),re(Fe,Fe,ct),te(at,Fe),re(ct,ot,At),de(Fe,ct,c),W(Fe,Fe,ot),de(ct,ct,Fe),de(Fe,ot,At),de(ot,at,Q),te(at,Zn),$(Fe,at,_e),$(ct,ot,_e);for(xe=0;xe<16;xe++)Q[xe+16]=Fe[xe],Q[xe+32]=ct[xe],Q[xe+48]=at[xe],Q[xe+64]=ot[xe];var pn=Q.subarray(32),kn=Q.subarray(16);return ce(pn,pn),de(kn,kn,pn),L(F,kn),0}function qe(F,Z){return Ce(F,Z,o)}function J(F,Z){return r(Z,32),qe(F,Z)}function G(F,Z,Y){var B=new Uint8Array(32);return Ce(B,Y,Z),T(F,i,B,A)}var we=I,$e=x;function yt(F,Z,Y,B,Q,_e){var xe=new Uint8Array(32);return G(xe,Q,_e),we(F,Z,Y,B,xe)}function Gt(F,Z,Y,B,Q,_e){var xe=new Uint8Array(32);return G(xe,Q,_e),$e(F,Z,Y,B,xe)}var _t=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Rn(F,Z,Y,B){for(var Q=new Int32Array(16),_e=new Int32Array(16),xe,Fe,at,ct,ot,Zn,At,pn,kn,mn,vn,bn,gn,wn,Nt,zt,vt,wt,gt,xt,Be,je,Xe,Ke,Je,st,_n=F[0],Un=F[1],qn=F[2],Fn=F[3],pe=F[4],ar=F[5],kr=F[6],lr=F[7],Vn=Z[0],Ar=Z[1],dr=Z[2],qr=Z[3],gr=Z[4],Tr=Z[5],wi=Z[6],ki=Z[7],Kn=0;B>=128;){for(gt=0;gt<16;gt++)xt=8*gt+Kn,Q[gt]=Y[xt+0]<<24|Y[xt+1]<<16|Y[xt+2]<<8|Y[xt+3],_e[gt]=Y[xt+4]<<24|Y[xt+5]<<16|Y[xt+6]<<8|Y[xt+7];for(gt=0;gt<80;gt++)if(xe=_n,Fe=Un,at=qn,ct=Fn,ot=pe,Zn=ar,At=kr,pn=lr,kn=Vn,mn=Ar,vn=dr,bn=qr,gn=gr,wn=Tr,Nt=wi,zt=ki,Be=lr,je=ki,Xe=je&65535,Ke=je>>>16,Je=Be&65535,st=Be>>>16,Be=(pe>>>14|gr<<18)^(pe>>>18|gr<<14)^(gr>>>9|pe<<23),je=(gr>>>14|pe<<18)^(gr>>>18|pe<<14)^(pe>>>9|gr<<23),Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Be=pe&ar^~pe&kr,je=gr&Tr^~gr&wi,Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Be=_t[gt*2],je=_t[gt*2+1],Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Be=Q[gt%16],je=_e[gt%16],Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Ke+=Xe>>>16,Je+=Ke>>>16,st+=Je>>>16,vt=Je&65535|st<<16,wt=Xe&65535|Ke<<16,Be=vt,je=wt,Xe=je&65535,Ke=je>>>16,Je=Be&65535,st=Be>>>16,Be=(_n>>>28|Vn<<4)^(Vn>>>2|_n<<30)^(Vn>>>7|_n<<25),je=(Vn>>>28|_n<<4)^(_n>>>2|Vn<<30)^(_n>>>7|Vn<<25),Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Be=_n&Un^_n&qn^Un&qn,je=Vn&Ar^Vn&dr^Ar&dr,Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Ke+=Xe>>>16,Je+=Ke>>>16,st+=Je>>>16,pn=Je&65535|st<<16,zt=Xe&65535|Ke<<16,Be=ct,je=bn,Xe=je&65535,Ke=je>>>16,Je=Be&65535,st=Be>>>16,Be=vt,je=wt,Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Ke+=Xe>>>16,Je+=Ke>>>16,st+=Je>>>16,ct=Je&65535|st<<16,bn=Xe&65535|Ke<<16,Un=xe,qn=Fe,Fn=at,pe=ct,ar=ot,kr=Zn,lr=At,_n=pn,Ar=kn,dr=mn,qr=vn,gr=bn,Tr=gn,wi=wn,ki=Nt,Vn=zt,gt%16===15)for(xt=0;xt<16;xt++)Be=Q[xt],je=_e[xt],Xe=je&65535,Ke=je>>>16,Je=Be&65535,st=Be>>>16,Be=Q[(xt+9)%16],je=_e[(xt+9)%16],Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,vt=Q[(xt+1)%16],wt=_e[(xt+1)%16],Be=(vt>>>1|wt<<31)^(vt>>>8|wt<<24)^vt>>>7,je=(wt>>>1|vt<<31)^(wt>>>8|vt<<24)^(wt>>>7|vt<<25),Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,vt=Q[(xt+14)%16],wt=_e[(xt+14)%16],Be=(vt>>>19|wt<<13)^(wt>>>29|vt<<3)^vt>>>6,je=(wt>>>19|vt<<13)^(vt>>>29|wt<<3)^(wt>>>6|vt<<26),Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Ke+=Xe>>>16,Je+=Ke>>>16,st+=Je>>>16,Q[xt]=Je&65535|st<<16,_e[xt]=Xe&65535|Ke<<16;Be=_n,je=Vn,Xe=je&65535,Ke=je>>>16,Je=Be&65535,st=Be>>>16,Be=F[0],je=Z[0],Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Ke+=Xe>>>16,Je+=Ke>>>16,st+=Je>>>16,F[0]=_n=Je&65535|st<<16,Z[0]=Vn=Xe&65535|Ke<<16,Be=Un,je=Ar,Xe=je&65535,Ke=je>>>16,Je=Be&65535,st=Be>>>16,Be=F[1],je=Z[1],Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Ke+=Xe>>>16,Je+=Ke>>>16,st+=Je>>>16,F[1]=Un=Je&65535|st<<16,Z[1]=Ar=Xe&65535|Ke<<16,Be=qn,je=dr,Xe=je&65535,Ke=je>>>16,Je=Be&65535,st=Be>>>16,Be=F[2],je=Z[2],Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Ke+=Xe>>>16,Je+=Ke>>>16,st+=Je>>>16,F[2]=qn=Je&65535|st<<16,Z[2]=dr=Xe&65535|Ke<<16,Be=Fn,je=qr,Xe=je&65535,Ke=je>>>16,Je=Be&65535,st=Be>>>16,Be=F[3],je=Z[3],Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Ke+=Xe>>>16,Je+=Ke>>>16,st+=Je>>>16,F[3]=Fn=Je&65535|st<<16,Z[3]=qr=Xe&65535|Ke<<16,Be=pe,je=gr,Xe=je&65535,Ke=je>>>16,Je=Be&65535,st=Be>>>16,Be=F[4],je=Z[4],Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Ke+=Xe>>>16,Je+=Ke>>>16,st+=Je>>>16,F[4]=pe=Je&65535|st<<16,Z[4]=gr=Xe&65535|Ke<<16,Be=ar,je=Tr,Xe=je&65535,Ke=je>>>16,Je=Be&65535,st=Be>>>16,Be=F[5],je=Z[5],Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Ke+=Xe>>>16,Je+=Ke>>>16,st+=Je>>>16,F[5]=ar=Je&65535|st<<16,Z[5]=Tr=Xe&65535|Ke<<16,Be=kr,je=wi,Xe=je&65535,Ke=je>>>16,Je=Be&65535,st=Be>>>16,Be=F[6],je=Z[6],Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Ke+=Xe>>>16,Je+=Ke>>>16,st+=Je>>>16,F[6]=kr=Je&65535|st<<16,Z[6]=wi=Xe&65535|Ke<<16,Be=lr,je=ki,Xe=je&65535,Ke=je>>>16,Je=Be&65535,st=Be>>>16,Be=F[7],je=Z[7],Xe+=je&65535,Ke+=je>>>16,Je+=Be&65535,st+=Be>>>16,Ke+=Xe>>>16,Je+=Ke>>>16,st+=Je>>>16,F[7]=lr=Je&65535|st<<16,Z[7]=ki=Xe&65535|Ke<<16,Kn+=128,B-=128}return B}function mr(F,Z,Y){var B=new Int32Array(8),Q=new Int32Array(8),_e=new Uint8Array(256),xe,Fe=Y;for(B[0]=1779033703,B[1]=3144134277,B[2]=1013904242,B[3]=2773480762,B[4]=1359893119,B[5]=2600822924,B[6]=528734635,B[7]=1541459225,Q[0]=4089235720,Q[1]=2227873595,Q[2]=4271175723,Q[3]=1595750129,Q[4]=2917565137,Q[5]=725511199,Q[6]=4215389547,Q[7]=327033209,Rn(B,Q,Z,Y),Y%=128,xe=0;xe<Y;xe++)_e[xe]=Z[Fe-Y+xe];for(_e[Y]=128,Y=256-128*(Y<112?1:0),_e[Y-9]=0,g(_e,Y-8,Fe/536870912|0,Fe<<3),Rn(B,Q,_e,Y),xe=0;xe<8;xe++)g(F,8*xe,B[xe],Q[xe]);return 0}function ve(F,Z){var Y=n(),B=n(),Q=n(),_e=n(),xe=n(),Fe=n(),at=n(),ct=n(),ot=n();re(Y,F[1],F[0]),re(ot,Z[1],Z[0]),de(Y,Y,ot),W(B,F[0],F[1]),W(ot,Z[0],Z[1]),de(B,B,ot),de(Q,F[3],Z[3]),de(Q,Q,d),de(_e,F[2],Z[2]),W(_e,_e,_e),re(xe,B,Y),re(Fe,_e,Q),W(at,_e,Q),W(ct,B,Y),de(F[0],xe,Fe),de(F[1],ct,at),de(F[2],at,Fe),de(F[3],xe,ct)}function Ue(F,Z,Y){var B;for(B=0;B<4;B++)$(F[B],Z[B],Y)}function Qe(F,Z){var Y=n(),B=n(),Q=n();ce(Q,Z[2]),de(Y,Z[0],Q),de(B,Z[1],Q),L(F,B),F[31]^=q(Y)<<7}function Ze(F,Z,Y){var B,Q;for(P(F[0],s),P(F[1],a),P(F[2],a),P(F[3],s),Q=255;Q>=0;--Q)B=Y[Q/8|0]>>(Q&7)&1,Ue(F,Z,B),ve(Z,F),ve(F,F),Ue(F,Z,B)}function it(F,Z){var Y=[n(),n(),n(),n()];P(Y[0],f),P(Y[1],p),P(Y[2],a),de(Y[3],f,p),Ze(F,Y,Z)}function It(F,Z,Y){var B=new Uint8Array(64),Q=[n(),n(),n(),n()],_e;for(Y||r(Z,32),mr(B,Z,32),B[0]&=248,B[31]&=127,B[31]|=64,it(Q,B),Qe(F,Q),_e=0;_e<32;_e++)Z[_e+32]=F[_e];return 0}var kt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function St(F,Z){var Y,B,Q,_e;for(B=63;B>=32;--B){for(Y=0,Q=B-32,_e=B-12;Q<_e;++Q)Z[Q]+=Y-16*Z[B]*kt[Q-(B-32)],Y=Math.floor((Z[Q]+128)/256),Z[Q]-=Y*256;Z[Q]+=Y,Z[B]=0}for(Y=0,Q=0;Q<32;Q++)Z[Q]+=Y-(Z[31]>>4)*kt[Q],Y=Z[Q]>>8,Z[Q]&=255;for(Q=0;Q<32;Q++)Z[Q]-=Y*kt[Q];for(B=0;B<32;B++)Z[B+1]+=Z[B]>>8,F[B]=Z[B]&255}function Dn(F){var Z=new Float64Array(64),Y;for(Y=0;Y<64;Y++)Z[Y]=F[Y];for(Y=0;Y<64;Y++)F[Y]=0;St(F,Z)}function fn(F,Z,Y,B){var Q=new Uint8Array(64),_e=new Uint8Array(64),xe=new Uint8Array(64),Fe,at,ct=new Float64Array(64),ot=[n(),n(),n(),n()];mr(Q,B,32),Q[0]&=248,Q[31]&=127,Q[31]|=64;var Zn=Y+64;for(Fe=0;Fe<Y;Fe++)F[64+Fe]=Z[Fe];for(Fe=0;Fe<32;Fe++)F[32+Fe]=Q[32+Fe];for(mr(xe,F.subarray(32),Y+32),Dn(xe),it(ot,xe),Qe(F,ot),Fe=32;Fe<64;Fe++)F[Fe]=B[Fe];for(mr(_e,F,Y+64),Dn(_e),Fe=0;Fe<64;Fe++)ct[Fe]=0;for(Fe=0;Fe<32;Fe++)ct[Fe]=xe[Fe];for(Fe=0;Fe<32;Fe++)for(at=0;at<32;at++)ct[Fe+at]+=_e[Fe]*Q[at];return St(F.subarray(32),ct),Zn}function cn(F,Z){var Y=n(),B=n(),Q=n(),_e=n(),xe=n(),Fe=n(),at=n();return P(F[2],a),j(F[1],Z),te(Q,F[1]),de(_e,Q,l),re(Q,Q,F[2]),W(_e,F[2],_e),te(xe,_e),te(Fe,xe),de(at,Fe,xe),de(Y,at,Q),de(Y,Y,_e),ge(Y,Y),de(Y,Y,Q),de(Y,Y,_e),de(Y,Y,_e),de(F[0],Y,_e),te(B,F[0]),de(B,B,_e),z(B,Q)&&de(F[0],F[0],m),te(B,F[0]),de(B,B,_e),z(B,Q)?-1:(q(F[0])===Z[31]>>7&&re(F[0],s,F[0]),de(F[3],F[0],F[1]),0)}function Cr(F,Z,Y,B){var Q,_e=new Uint8Array(32),xe=new Uint8Array(64),Fe=[n(),n(),n(),n()],at=[n(),n(),n(),n()];if(Y<64||cn(at,B))return-1;for(Q=0;Q<Y;Q++)F[Q]=Z[Q];for(Q=0;Q<32;Q++)F[Q+32]=B[Q];if(mr(xe,F,Y),Dn(xe),Ze(Fe,at,xe),it(at,Z.subarray(32)),ve(Fe,at),Qe(_e,Fe),Y-=64,w(Z,0,_e,0)){for(Q=0;Q<Y;Q++)F[Q]=0;return-1}for(Q=0;Q<Y;Q++)F[Q]=Z[Q+64];return Y}var Pn=32,jn=24,Dr=32,yn=16,Ir=32,wo=32,Lr=32,ur=32,as=32,Qr=jn,ri=Dr,Ms=yn,Xt=64,fr=32,Fi=64,zr=32,Ur=64;t.lowlevel={crypto_core_hsalsa20:T,crypto_stream_xor:K,crypto_stream:D,crypto_stream_salsa20_xor:S,crypto_stream_salsa20:O,crypto_onetimeauth:X,crypto_onetimeauth_verify:U,crypto_verify_16:v,crypto_verify_32:w,crypto_secretbox:I,crypto_secretbox_open:x,crypto_scalarmult:Ce,crypto_scalarmult_base:qe,crypto_box_beforenm:G,crypto_box_afternm:we,crypto_box:yt,crypto_box_open:Gt,crypto_box_keypair:J,crypto_hash:mr,crypto_sign:fn,crypto_sign_keypair:It,crypto_sign_open:Cr,crypto_secretbox_KEYBYTES:Pn,crypto_secretbox_NONCEBYTES:jn,crypto_secretbox_ZEROBYTES:Dr,crypto_secretbox_BOXZEROBYTES:yn,crypto_scalarmult_BYTES:Ir,crypto_scalarmult_SCALARBYTES:wo,crypto_box_PUBLICKEYBYTES:Lr,crypto_box_SECRETKEYBYTES:ur,crypto_box_BEFORENMBYTES:as,crypto_box_NONCEBYTES:Qr,crypto_box_ZEROBYTES:ri,crypto_box_BOXZEROBYTES:Ms,crypto_sign_BYTES:Xt,crypto_sign_PUBLICKEYBYTES:fr,crypto_sign_SECRETKEYBYTES:Fi,crypto_sign_SEEDBYTES:zr,crypto_hash_BYTES:Ur,gf:n,D:l,L:kt,pack25519:L,unpack25519:j,M:de,A:W,S:te,Z:re,pow2523:ge,add:ve,set25519:P,modL:St,scalarmult:Ze,scalarbase:it};function Ds(F,Z){if(F.length!==Pn)throw new Error("bad key size");if(Z.length!==jn)throw new Error("bad nonce size")}function si(F,Z){if(F.length!==Lr)throw new Error("bad public key size");if(Z.length!==ur)throw new Error("bad secret key size")}function or(){for(var F=0;F<arguments.length;F++)if(!(arguments[F]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Oo(F){for(var Z=0;Z<F.length;Z++)F[Z]=0}t.randomBytes=function(F){var Z=new Uint8Array(F);return r(Z,F),Z},t.secretbox=function(F,Z,Y){or(F,Z,Y),Ds(Y,Z);for(var B=new Uint8Array(Dr+F.length),Q=new Uint8Array(B.length),_e=0;_e<F.length;_e++)B[_e+Dr]=F[_e];return I(Q,B,B.length,Z,Y),Q.subarray(yn)},t.secretbox.open=function(F,Z,Y){or(F,Z,Y),Ds(Y,Z);for(var B=new Uint8Array(yn+F.length),Q=new Uint8Array(B.length),_e=0;_e<F.length;_e++)B[_e+yn]=F[_e];return B.length<32||x(Q,B,B.length,Z,Y)!==0?null:Q.subarray(Dr)},t.secretbox.keyLength=Pn,t.secretbox.nonceLength=jn,t.secretbox.overheadLength=yn,t.scalarMult=function(F,Z){if(or(F,Z),F.length!==wo)throw new Error("bad n size");if(Z.length!==Ir)throw new Error("bad p size");var Y=new Uint8Array(Ir);return Ce(Y,F,Z),Y},t.scalarMult.base=function(F){if(or(F),F.length!==wo)throw new Error("bad n size");var Z=new Uint8Array(Ir);return qe(Z,F),Z},t.scalarMult.scalarLength=wo,t.scalarMult.groupElementLength=Ir,t.box=function(F,Z,Y,B){var Q=t.box.before(Y,B);return t.secretbox(F,Z,Q)},t.box.before=function(F,Z){or(F,Z),si(F,Z);var Y=new Uint8Array(as);return G(Y,F,Z),Y},t.box.after=t.secretbox,t.box.open=function(F,Z,Y,B){var Q=t.box.before(Y,B);return t.secretbox.open(F,Z,Q)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var F=new Uint8Array(Lr),Z=new Uint8Array(ur);return J(F,Z),{publicKey:F,secretKey:Z}},t.box.keyPair.fromSecretKey=function(F){if(or(F),F.length!==ur)throw new Error("bad secret key size");var Z=new Uint8Array(Lr);return qe(Z,F),{publicKey:Z,secretKey:new Uint8Array(F)}},t.box.publicKeyLength=Lr,t.box.secretKeyLength=ur,t.box.sharedKeyLength=as,t.box.nonceLength=Qr,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(F,Z){if(or(F,Z),Z.length!==Fi)throw new Error("bad secret key size");var Y=new Uint8Array(Xt+F.length);return fn(Y,F,F.length,Z),Y},t.sign.open=function(F,Z){if(or(F,Z),Z.length!==fr)throw new Error("bad public key size");var Y=new Uint8Array(F.length),B=Cr(Y,F,F.length,Z);if(B<0)return null;for(var Q=new Uint8Array(B),_e=0;_e<Q.length;_e++)Q[_e]=Y[_e];return Q},t.sign.detached=function(F,Z){for(var Y=t.sign(F,Z),B=new Uint8Array(Xt),Q=0;Q<B.length;Q++)B[Q]=Y[Q];return B},t.sign.detached.verify=function(F,Z,Y){if(or(F,Z,Y),Z.length!==Xt)throw new Error("bad signature size");if(Y.length!==fr)throw new Error("bad public key size");var B=new Uint8Array(Xt+F.length),Q=new Uint8Array(Xt+F.length),_e;for(_e=0;_e<Xt;_e++)B[_e]=Z[_e];for(_e=0;_e<F.length;_e++)B[_e+Xt]=F[_e];return Cr(Q,B,B.length,Y)>=0},t.sign.keyPair=function(){var F=new Uint8Array(fr),Z=new Uint8Array(Fi);return It(F,Z),{publicKey:F,secretKey:Z}},t.sign.keyPair.fromSecretKey=function(F){if(or(F),F.length!==Fi)throw new Error("bad secret key size");for(var Z=new Uint8Array(fr),Y=0;Y<Z.length;Y++)Z[Y]=F[32+Y];return{publicKey:Z,secretKey:new Uint8Array(F)}},t.sign.keyPair.fromSeed=function(F){if(or(F),F.length!==zr)throw new Error("bad seed size");for(var Z=new Uint8Array(fr),Y=new Uint8Array(Fi),B=0;B<32;B++)Y[B]=F[B];return It(Z,Y,!0),{publicKey:Z,secretKey:Y}},t.sign.publicKeyLength=fr,t.sign.secretKeyLength=Fi,t.sign.seedLength=zr,t.sign.signatureLength=Xt,t.hash=function(F){or(F);var Z=new Uint8Array(Ur);return mr(Z,F,F.length),Z},t.hash.hashLength=Ur,t.verify=function(F,Z){return or(F,Z),F.length===0||Z.length===0||F.length!==Z.length?!1:y(F,0,Z,0,F.length)===0},t.setPRNG=function(F){r=F},function(){var F=typeof self<"u"?self.crypto||self.msCrypto:null;if(F&&F.getRandomValues){var Z=65536;t.setPRNG(function(Y,B){var Q,_e=new Uint8Array(B);for(Q=0;Q<B;Q+=Z)F.getRandomValues(_e.subarray(Q,Q+Math.min(B-Q,Z)));for(Q=0;Q<B;Q++)Y[Q]=_e[Q];Oo(_e)})}else typeof Pue<"u"&&(F=vk,F&&F.randomBytes&&t.setPRNG(function(Y,B){var Q,_e=F.randomBytes(B);for(Q=0;Q<B;Q++)Y[Q]=_e[Q];Oo(_e)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(Fz);var dfe=Fz.exports;const Ug=qo(dfe);function ufe(e,t){if(ffe(e))return{isValid:!1,message:"Old API key format detected. Please create a new API key from the Crossmint console."};let n=hfe(e);if(n==null)return{isValid:!1,message:`Malformed API key. Must start with '${r2.CLIENT}' or '${r2.SERVER}'.`};if((t==null?void 0:t.usageOrigin)!=null&&n!==t.usageOrigin)return{isValid:!1,message:`Disallowed API key. You passed a ${n} API key, but a ${t.usageOrigin} API key is required.`};let r=pfe(e);return r==null?{isValid:!1,message:`Malformed API key. Must have a valid environment: '${au.DEVELOPMENT}', '${au.STAGING}' or '${au.PRODUCTION}'.`}:(t==null?void 0:t.environment)!=null&&r!==t.environment?{isValid:!1,message:`Disallowed API key. You passed a ${r} API key, but a ${t.environment} API key is required.`}:{isValid:!0,usageOrigin:n,environment:r,prefix:`${ife(n)}_${r}`}}function ffe(e){return e.startsWith("sk_live")||e.startsWith("sk_test")}function hfe(e){return e.startsWith(r2.CLIENT+"_")?P9.CLIENT:e.startsWith(r2.SERVER+"_")?P9.SERVER:null}function pfe(e){let t=e.slice(3);return t.startsWith(au.DEVELOPMENT+"_")?au.DEVELOPMENT:t.startsWith(au.STAGING+"_")?au.STAGING:t.startsWith(au.PRODUCTION+"_")?au.PRODUCTION:null}function mfe(e,t){let n=ufe(e,t);if(!n.isValid)return n;let{prefix:r}=n,{keyData:i,keyDataWithoutPrefix:o,signature:s}=gfe(e,r);if(!yfe(i,s,t))return{isValid:!1,message:"Invalid API key. Failed to validate signature"};let[a]=o.split(".");return Mh(Ql({},n),{projectId:a})}function gfe(e,t){let n=e.slice(`${t}_`.length),r=ui.decode(n),i=new TextDecoder().decode(r),[o,s]=i.split(":");return{keyData:`${t}.${o}`,keyDataWithoutPrefix:o,signature:s}}function yfe(e,t,n){let r=rfe(n==null?void 0:n.environment);function i(o){try{let s=ui.decode(t),a=new TextEncoder().encode(e),c=ui.decode(o);return Ug.sign.detached.verify(a,s,c)}catch{return console.error("Failed to validate API key signature"),!1}}return r!=null?i(r):i(Uz)||i(Lz)}var l6=class EC{makeRequest(t,n){return Bm(this,null,function*(){return yield fetch(this.buildUrl(t),Mh(Ql({},n),{headers:Ql(Ql({},this.authHeaders),n.headers)}))})}buildUrl(t){return`${EC.normalizePath(this.baseUrl)}/${EC.normalizePath(t)}`}get(t,n){return Bm(this,null,function*(){return yield this.makeRequest(t,Mh(Ql({},n),{method:"GET"}))})}post(t,n){return Bm(this,null,function*(){return yield this.makeRequest(t,Mh(Ql({},n),{method:"POST"}))})}put(t,n){return Bm(this,null,function*(){return yield this.makeRequest(t,Mh(Ql({},n),{method:"PUT"}))})}delete(t,n){return Bm(this,null,function*(){return yield this.makeRequest(t,Mh(Ql({},n),{method:"DELETE"}))})}patch(t,n){return Bm(this,null,function*(){return yield this.makeRequest(t,Mh(Ql({},n),{method:"PATCH"}))})}static normalizePath(t){return t=t.startsWith("/")?t.slice(1):t,t=t.endsWith("/")?t.slice(0,-1):t,t}};function vfe(e,t){switch(e){case"development":return"http://localhost:3000";case"staging":return"https://staging.crossmint.com";case"production":return"https://www.crossmint.com"}}var bfe=class extends l6{constructor(t,{internalConfig:n}){let r=mfe(t.apiKey,n.apiKeyExpectations);if(!r.isValid)throw new Error(r.message);super(),this.crossmint=t,this.parsedAPIKey=r,this.internalConfig=n}get baseUrl(){if(this.crossmint.overrideBaseUrl)return l6.normalizePath(this.crossmint.overrideBaseUrl);let t=vfe(this.parsedAPIKey.environment);return l6.normalizePath(t)}get authHeaders(){return Ql({"x-api-key":this.crossmint.apiKey},this.crossmint.jwt?{Authorization:`Bearer ${this.crossmint.jwt}`}:{})}};function wfe(e,t){return new bfe(e,{internalConfig:{sdkMetadata:{name:"@crossmint/client-sdk-react-ui",version:Gue},apiKeyExpectations:t}})}var _fe=k.createContext(null);function xfe(e){let t=k.useContext(_fe);if(t==null)throw new Error("useCrossmint must be used within a CrossmintProvider");return t}var i2={exports:{}};i2.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Function]",g="[object GeneratorFunction]",y="[object Map]",v="[object Number]",w="[object Null]",_="[object Object]",E="[object Promise]",C="[object Proxy]",T="[object RegExp]",A="[object Set]",S="[object String]",O="[object Symbol]",D="[object Undefined]",K="[object WeakMap]",H="[object ArrayBuffer]",X="[object DataView]",U="[object Float32Array]",I="[object Float64Array]",x="[object Int8Array]",P="[object Int16Array]",N="[object Int32Array]",$="[object Uint8Array]",L="[object Uint8ClampedArray]",z="[object Uint16Array]",q="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,re=/^(?:0|[1-9]\d*)$/,de={};de[U]=de[I]=de[x]=de[P]=de[N]=de[$]=de[L]=de[z]=de[q]=!0,de[a]=de[c]=de[H]=de[d]=de[X]=de[f]=de[p]=de[m]=de[y]=de[v]=de[_]=de[T]=de[A]=de[S]=de[K]=!1;var te=typeof cr=="object"&&cr&&cr.Object===Object&&cr,ce=typeof self=="object"&&self&&self.Object===Object&&self,ge=te||ce||Function("return this")(),Ce=t&&!t.nodeType&&t,qe=Ce&&!0&&e&&!e.nodeType&&e,J=qe&&qe.exports===Ce,G=J&&te.process,we=function(){try{return G&&G.binding&&G.binding("util")}catch{}}(),$e=we&&we.isTypedArray;function yt(fe,ke){for(var rt=-1,Lt=fe==null?0:fe.length,ii=0,yr=[];++rt<Lt;){var Wi=fe[rt];ke(Wi,rt,fe)&&(yr[ii++]=Wi)}return yr}function Gt(fe,ke){for(var rt=-1,Lt=ke.length,ii=fe.length;++rt<Lt;)fe[ii+rt]=ke[rt];return fe}function _t(fe,ke){for(var rt=-1,Lt=fe==null?0:fe.length;++rt<Lt;)if(ke(fe[rt],rt,fe))return!0;return!1}function Rn(fe,ke){for(var rt=-1,Lt=Array(fe);++rt<fe;)Lt[rt]=ke(rt);return Lt}function mr(fe){return function(ke){return fe(ke)}}function ve(fe,ke){return fe.has(ke)}function Ue(fe,ke){return fe==null?void 0:fe[ke]}function Qe(fe){var ke=-1,rt=Array(fe.size);return fe.forEach(function(Lt,ii){rt[++ke]=[ii,Lt]}),rt}function Ze(fe,ke){return function(rt){return fe(ke(rt))}}function it(fe){var ke=-1,rt=Array(fe.size);return fe.forEach(function(Lt){rt[++ke]=Lt}),rt}var It=Array.prototype,kt=Function.prototype,St=Object.prototype,Dn=ge["__core-js_shared__"],fn=kt.toString,cn=St.hasOwnProperty,Cr=function(){var fe=/[^.]+$/.exec(Dn&&Dn.keys&&Dn.keys.IE_PROTO||"");return fe?"Symbol(src)_1."+fe:""}(),Pn=St.toString,jn=RegExp("^"+fn.call(cn).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dr=J?ge.Buffer:void 0,yn=ge.Symbol,Ir=ge.Uint8Array,wo=St.propertyIsEnumerable,Lr=It.splice,ur=yn?yn.toStringTag:void 0,as=Object.getOwnPropertySymbols,Qr=Dr?Dr.isBuffer:void 0,ri=Ze(Object.keys,Object),Ms=Tr(ge,"DataView"),Xt=Tr(ge,"Map"),fr=Tr(ge,"Promise"),Fi=Tr(ge,"Set"),zr=Tr(ge,"WeakMap"),Ur=Tr(Object,"create"),Ds=dc(Ms),si=dc(Xt),or=dc(fr),Oo=dc(Fi),F=dc(zr),Z=yn?yn.prototype:void 0,Y=Z?Z.valueOf:void 0;function B(fe){var ke=-1,rt=fe==null?0:fe.length;for(this.clear();++ke<rt;){var Lt=fe[ke];this.set(Lt[0],Lt[1])}}function Q(){this.__data__=Ur?Ur(null):{},this.size=0}function _e(fe){var ke=this.has(fe)&&delete this.__data__[fe];return this.size-=ke?1:0,ke}function xe(fe){var ke=this.__data__;if(Ur){var rt=ke[fe];return rt===r?void 0:rt}return cn.call(ke,fe)?ke[fe]:void 0}function Fe(fe){var ke=this.__data__;return Ur?ke[fe]!==void 0:cn.call(ke,fe)}function at(fe,ke){var rt=this.__data__;return this.size+=this.has(fe)?0:1,rt[fe]=Ur&&ke===void 0?r:ke,this}B.prototype.clear=Q,B.prototype.delete=_e,B.prototype.get=xe,B.prototype.has=Fe,B.prototype.set=at;function ct(fe){var ke=-1,rt=fe==null?0:fe.length;for(this.clear();++ke<rt;){var Lt=fe[ke];this.set(Lt[0],Lt[1])}}function ot(){this.__data__=[],this.size=0}function Zn(fe){var ke=this.__data__,rt=st(ke,fe);if(rt<0)return!1;var Lt=ke.length-1;return rt==Lt?ke.pop():Lr.call(ke,rt,1),--this.size,!0}function At(fe){var ke=this.__data__,rt=st(ke,fe);return rt<0?void 0:ke[rt][1]}function pn(fe){return st(this.__data__,fe)>-1}function kn(fe,ke){var rt=this.__data__,Lt=st(rt,fe);return Lt<0?(++this.size,rt.push([fe,ke])):rt[Lt][1]=ke,this}ct.prototype.clear=ot,ct.prototype.delete=Zn,ct.prototype.get=At,ct.prototype.has=pn,ct.prototype.set=kn;function mn(fe){var ke=-1,rt=fe==null?0:fe.length;for(this.clear();++ke<rt;){var Lt=fe[ke];this.set(Lt[0],Lt[1])}}function vn(){this.size=0,this.__data__={hash:new B,map:new(Xt||ct),string:new B}}function bn(fe){var ke=gr(this,fe).delete(fe);return this.size-=ke?1:0,ke}function gn(fe){return gr(this,fe).get(fe)}function wn(fe){return gr(this,fe).has(fe)}function Nt(fe,ke){var rt=gr(this,fe),Lt=rt.size;return rt.set(fe,ke),this.size+=rt.size==Lt?0:1,this}mn.prototype.clear=vn,mn.prototype.delete=bn,mn.prototype.get=gn,mn.prototype.has=wn,mn.prototype.set=Nt;function zt(fe){var ke=-1,rt=fe==null?0:fe.length;for(this.__data__=new mn;++ke<rt;)this.add(fe[ke])}function vt(fe){return this.__data__.set(fe,r),this}function wt(fe){return this.__data__.has(fe)}zt.prototype.add=zt.prototype.push=vt,zt.prototype.has=wt;function gt(fe){var ke=this.__data__=new ct(fe);this.size=ke.size}function xt(){this.__data__=new ct,this.size=0}function Be(fe){var ke=this.__data__,rt=ke.delete(fe);return this.size=ke.size,rt}function je(fe){return this.__data__.get(fe)}function Xe(fe){return this.__data__.has(fe)}function Ke(fe,ke){var rt=this.__data__;if(rt instanceof ct){var Lt=rt.__data__;if(!Xt||Lt.length<n-1)return Lt.push([fe,ke]),this.size=++rt.size,this;rt=this.__data__=new mn(Lt)}return rt.set(fe,ke),this.size=rt.size,this}gt.prototype.clear=xt,gt.prototype.delete=Be,gt.prototype.get=je,gt.prototype.has=Xe,gt.prototype.set=Ke;function Je(fe,ke){var rt=qu(fe),Lt=!rt&&yh(fe),ii=!rt&&!Lt&&Fa(fe),yr=!rt&&!Lt&&!ii&&_h(fe),Wi=rt||Lt||ii||yr,Vo=Wi?Rn(fe.length,String):[],ei=Vo.length;for(var Ti in fe)cn.call(fe,Ti)&&!(Wi&&(Ti=="length"||ii&&(Ti=="offset"||Ti=="parent")||yr&&(Ti=="buffer"||Ti=="byteLength"||Ti=="byteOffset")||Zi(Ti,ei)))&&Vo.push(Ti);return Vo}function st(fe,ke){for(var rt=fe.length;rt--;)if(gh(fe[rt][0],ke))return rt;return-1}function _n(fe,ke,rt){var Lt=ke(fe);return qu(fe)?Lt:Gt(Lt,rt(fe))}function Un(fe){return fe==null?fe===void 0?D:w:ur&&ur in Object(fe)?wi(fe):mh(fe)}function qn(fe){return zl(fe)&&Un(fe)==a}function Fn(fe,ke,rt,Lt,ii){return fe===ke?!0:fe==null||ke==null||!zl(fe)&&!zl(ke)?fe!==fe&&ke!==ke:pe(fe,ke,rt,Lt,Fn,ii)}function pe(fe,ke,rt,Lt,ii,yr){var Wi=qu(fe),Vo=qu(ke),ei=Wi?c:Kn(fe),Ti=Vo?c:Kn(ke);ei=ei==a?_:ei,Ti=Ti==a?_:Ti;var No=ei==_,ga=Ti==_,Ho=ei==Ti;if(Ho&&Fa(fe)){if(!Fa(ke))return!1;Wi=!0,No=!1}if(Ho&&!No)return yr||(yr=new gt),Wi||_h(fe)?Vn(fe,ke,rt,Lt,ii,yr):Ar(fe,ke,ei,rt,Lt,ii,yr);if(!(rt&i)){var zi=No&&cn.call(fe,"__wrapped__"),oa=ga&&cn.call(ke,"__wrapped__");if(zi||oa){var tl=zi?fe.value():fe,uc=oa?ke.value():ke;return yr||(yr=new gt),ii(tl,uc,rt,Lt,yr)}}return Ho?(yr||(yr=new gt),dr(fe,ke,rt,Lt,ii,yr)):!1}function ar(fe){if(!wh(fe)||Ji(fe))return!1;var ke=Ld(fe)?jn:W;return ke.test(dc(fe))}function kr(fe){return zl(fe)&&bh(fe.length)&&!!de[Un(fe)]}function lr(fe){if(!ph(fe))return ri(fe);var ke=[];for(var rt in Object(fe))cn.call(fe,rt)&&rt!="constructor"&&ke.push(rt);return ke}function Vn(fe,ke,rt,Lt,ii,yr){var Wi=rt&i,Vo=fe.length,ei=ke.length;if(Vo!=ei&&!(Wi&&ei>Vo))return!1;var Ti=yr.get(fe);if(Ti&&yr.get(ke))return Ti==ke;var No=-1,ga=!0,Ho=rt&o?new zt:void 0;for(yr.set(fe,ke),yr.set(ke,fe);++No<Vo;){var zi=fe[No],oa=ke[No];if(Lt)var tl=Wi?Lt(oa,zi,No,ke,fe,yr):Lt(zi,oa,No,fe,ke,yr);if(tl!==void 0){if(tl)continue;ga=!1;break}if(Ho){if(!_t(ke,function(uc,ql){if(!ve(Ho,ql)&&(zi===uc||ii(zi,uc,rt,Lt,yr)))return Ho.push(ql)})){ga=!1;break}}else if(!(zi===oa||ii(zi,oa,rt,Lt,yr))){ga=!1;break}}return yr.delete(fe),yr.delete(ke),ga}function Ar(fe,ke,rt,Lt,ii,yr,Wi){switch(rt){case X:if(fe.byteLength!=ke.byteLength||fe.byteOffset!=ke.byteOffset)return!1;fe=fe.buffer,ke=ke.buffer;case H:return!(fe.byteLength!=ke.byteLength||!yr(new Ir(fe),new Ir(ke)));case d:case f:case v:return gh(+fe,+ke);case p:return fe.name==ke.name&&fe.message==ke.message;case T:case S:return fe==ke+"";case y:var Vo=Qe;case A:var ei=Lt&i;if(Vo||(Vo=it),fe.size!=ke.size&&!ei)return!1;var Ti=Wi.get(fe);if(Ti)return Ti==ke;Lt|=o,Wi.set(fe,ke);var No=Vn(Vo(fe),Vo(ke),Lt,ii,yr,Wi);return Wi.delete(fe),No;case O:if(Y)return Y.call(fe)==Y.call(ke)}return!1}function dr(fe,ke,rt,Lt,ii,yr){var Wi=rt&i,Vo=qr(fe),ei=Vo.length,Ti=qr(ke),No=Ti.length;if(ei!=No&&!Wi)return!1;for(var ga=ei;ga--;){var Ho=Vo[ga];if(!(Wi?Ho in ke:cn.call(ke,Ho)))return!1}var zi=yr.get(fe);if(zi&&yr.get(ke))return zi==ke;var oa=!0;yr.set(fe,ke),yr.set(ke,fe);for(var tl=Wi;++ga<ei;){Ho=Vo[ga];var uc=fe[Ho],ql=ke[Ho];if(Lt)var _y=Wi?Lt(ql,uc,Ho,ke,fe,yr):Lt(uc,ql,Ho,fe,ke,yr);if(!(_y===void 0?uc===ql||ii(uc,ql,rt,Lt,yr):_y)){oa=!1;break}tl||(tl=Ho=="constructor")}if(oa&&!tl){var xh=fe.constructor,cs=ke.constructor;xh!=cs&&"constructor"in fe&&"constructor"in ke&&!(typeof xh=="function"&&xh instanceof xh&&typeof cs=="function"&&cs instanceof cs)&&(oa=!1)}return yr.delete(fe),yr.delete(ke),oa}function qr(fe){return _n(fe,_m,ki)}function gr(fe,ke){var rt=fe.__data__;return Bi(ke)?rt[typeof ke=="string"?"string":"hash"]:rt.map}function Tr(fe,ke){var rt=Ue(fe,ke);return ar(rt)?rt:void 0}function wi(fe){var ke=cn.call(fe,ur),rt=fe[ur];try{fe[ur]=void 0;var Lt=!0}catch{}var ii=Pn.call(fe);return Lt&&(ke?fe[ur]=rt:delete fe[ur]),ii}var ki=as?function(fe){return fe==null?[]:(fe=Object(fe),yt(as(fe),function(ke){return wo.call(fe,ke)}))}:_i,Kn=Un;(Ms&&Kn(new Ms(new ArrayBuffer(1)))!=X||Xt&&Kn(new Xt)!=y||fr&&Kn(fr.resolve())!=E||Fi&&Kn(new Fi)!=A||zr&&Kn(new zr)!=K)&&(Kn=function(fe){var ke=Un(fe),rt=ke==_?fe.constructor:void 0,Lt=rt?dc(rt):"";if(Lt)switch(Lt){case Ds:return X;case si:return y;case or:return E;case Oo:return A;case F:return K}return ke});function Zi(fe,ke){return ke=ke??s,!!ke&&(typeof fe=="number"||re.test(fe))&&fe>-1&&fe%1==0&&fe<ke}function Bi(fe){var ke=typeof fe;return ke=="string"||ke=="number"||ke=="symbol"||ke=="boolean"?fe!=="__proto__":fe===null}function Ji(fe){return!!Cr&&Cr in fe}function ph(fe){var ke=fe&&fe.constructor,rt=typeof ke=="function"&&ke.prototype||St;return fe===rt}function mh(fe){return Pn.call(fe)}function dc(fe){if(fe!=null){try{return fn.call(fe)}catch{}try{return fe+""}catch{}}return""}function gh(fe,ke){return fe===ke||fe!==fe&&ke!==ke}var yh=qn(function(){return arguments}())?qn:function(fe){return zl(fe)&&cn.call(fe,"callee")&&!wo.call(fe,"callee")},qu=Array.isArray;function vh(fe){return fe!=null&&bh(fe.length)&&!Ld(fe)}var Fa=Qr||pi;function wm(fe,ke){return Fn(fe,ke)}function Ld(fe){if(!wh(fe))return!1;var ke=Un(fe);return ke==m||ke==g||ke==l||ke==C}function bh(fe){return typeof fe=="number"&&fe>-1&&fe%1==0&&fe<=s}function wh(fe){var ke=typeof fe;return fe!=null&&(ke=="object"||ke=="function")}function zl(fe){return fe!=null&&typeof fe=="object"}var _h=$e?mr($e):kr;function _m(fe){return vh(fe)?Je(fe):lr(fe)}function _i(){return[]}function pi(){return!1}e.exports=wm})(i2,i2.exports);var kfe=i2.exports;const Sfe=qo(kfe);function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(null,arguments)}function Efe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wz={exports:{}},Ii={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=typeof Symbol=="function"&&Symbol.for,K7=ws?Symbol.for("react.element"):60103,G7=ws?Symbol.for("react.portal"):60106,wk=ws?Symbol.for("react.fragment"):60107,_k=ws?Symbol.for("react.strict_mode"):60108,xk=ws?Symbol.for("react.profiler"):60114,kk=ws?Symbol.for("react.provider"):60109,Sk=ws?Symbol.for("react.context"):60110,Z7=ws?Symbol.for("react.async_mode"):60111,Ek=ws?Symbol.for("react.concurrent_mode"):60111,Ck=ws?Symbol.for("react.forward_ref"):60112,Ik=ws?Symbol.for("react.suspense"):60113,Cfe=ws?Symbol.for("react.suspense_list"):60120,Ak=ws?Symbol.for("react.memo"):60115,Tk=ws?Symbol.for("react.lazy"):60116,Ife=ws?Symbol.for("react.block"):60121,Afe=ws?Symbol.for("react.fundamental"):60117,Tfe=ws?Symbol.for("react.responder"):60118,Rfe=ws?Symbol.for("react.scope"):60119;function ic(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case K7:switch(e=e.type,e){case Z7:case Ek:case wk:case xk:case _k:case Ik:return e;default:switch(e=e&&e.$$typeof,e){case Sk:case Ck:case Tk:case Ak:case kk:return e;default:return t}}case G7:return t}}}function zz(e){return ic(e)===Ek}Ii.AsyncMode=Z7;Ii.ConcurrentMode=Ek;Ii.ContextConsumer=Sk;Ii.ContextProvider=kk;Ii.Element=K7;Ii.ForwardRef=Ck;Ii.Fragment=wk;Ii.Lazy=Tk;Ii.Memo=Ak;Ii.Portal=G7;Ii.Profiler=xk;Ii.StrictMode=_k;Ii.Suspense=Ik;Ii.isAsyncMode=function(e){return zz(e)||ic(e)===Z7};Ii.isConcurrentMode=zz;Ii.isContextConsumer=function(e){return ic(e)===Sk};Ii.isContextProvider=function(e){return ic(e)===kk};Ii.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===K7};Ii.isForwardRef=function(e){return ic(e)===Ck};Ii.isFragment=function(e){return ic(e)===wk};Ii.isLazy=function(e){return ic(e)===Tk};Ii.isMemo=function(e){return ic(e)===Ak};Ii.isPortal=function(e){return ic(e)===G7};Ii.isProfiler=function(e){return ic(e)===xk};Ii.isStrictMode=function(e){return ic(e)===_k};Ii.isSuspense=function(e){return ic(e)===Ik};Ii.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===wk||e===Ek||e===xk||e===_k||e===Ik||e===Cfe||typeof e=="object"&&e!==null&&(e.$$typeof===Tk||e.$$typeof===Ak||e.$$typeof===kk||e.$$typeof===Sk||e.$$typeof===Ck||e.$$typeof===Afe||e.$$typeof===Tfe||e.$$typeof===Rfe||e.$$typeof===Ife)};Ii.typeOf=ic;Wz.exports=Ii;var Pfe=Wz.exports,qz=Pfe,Ofe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Nfe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vz={};Vz[qz.ForwardRef]=Ofe;Vz[qz.Memo]=Nfe;function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function jfe(e,t){if(Bv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bfe(e){var t=jfe(e,"string");return Bv(t)=="symbol"?t:t+""}function CC(e,t){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},CC(e,t)}function Hz(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,CC(e,t)}function bc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}const $fe="1.0.5";let Yc=class IC extends Error{constructor(t,n={}){var s;const r=n.cause instanceof IC?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof IC&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${$fe}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}};function nh(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Kz=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Gz=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Zz=/^\(.+?\).*?$/,O9=/^tuple(?<array>(\[(\d*)\])*)$/;function AC(e){let t=e.type;if(O9.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const o=e.components[i];t+=AC(o),i<n-1&&(t+=", ")}const r=nh(O9,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,AC({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function My(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=AC(i),r!==n-1&&(t+=", ")}return t}function Mfe(e){return e.type==="function"?`function ${e.name}(${My(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${My(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${My(e.inputs)})`:e.type==="error"?`error ${e.name}(${My(e.inputs)})`:e.type==="constructor"?`constructor(${My(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const Jz=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Dfe(e){return Jz.test(e)}function Lfe(e){return nh(Jz,e)}const Yz=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ufe(e){return Yz.test(e)}function Ffe(e){return nh(Yz,e)}const Xz=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Wfe(e){return Xz.test(e)}function zfe(e){return nh(Xz,e)}const Qz=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function eq(e){return Qz.test(e)}function qfe(e){return nh(Qz,e)}const tq=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Vfe(e){return tq.test(e)}function Hfe(e){return nh(tq,e)}const Kfe=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Gfe(e){return Kfe.test(e)}const Zfe=/^receive\(\) external payable$/;function Jfe(e){return Zfe.test(e)}const Yfe=new Set(["indexed"]),TC=new Set(["calldata","memory","storage"]);class Xfe extends Yc{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Qfe extends Yc{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class ehe extends Yc{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class the extends Yc{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class nhe extends Yc{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class rhe extends Yc{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class ihe extends Yc{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class ov extends Yc{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class ohe extends Yc{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class she extends Yc{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class ahe extends Yc{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class che extends Yc{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function lhe(e,t){return t?`${t}:${e}`:e}const d6=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function dhe(e,t={}){if(Wfe(e)){const n=zfe(e);if(!n)throw new ov({signature:e,type:"function"});const r=ml(n.parameters),i=[],o=r.length;for(let a=0;a<o;a++)i.push(Fh(r[a],{modifiers:TC,structs:t,type:"function"}));const s=[];if(n.returns){const a=ml(n.returns),c=a.length;for(let l=0;l<c;l++)s.push(Fh(a[l],{modifiers:TC,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:s}}if(Ufe(e)){const n=Ffe(e);if(!n)throw new ov({signature:e,type:"event"});const r=ml(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(Fh(r[s],{modifiers:Yfe,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}if(Dfe(e)){const n=Lfe(e);if(!n)throw new ov({signature:e,type:"error"});const r=ml(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(Fh(r[s],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}if(Vfe(e)){const n=Hfe(e);if(!n)throw new ov({signature:e,type:"constructor"});const r=ml(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(Fh(r[s],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}if(Gfe(e))return{type:"fallback"};if(Jfe(e))return{type:"receive",stateMutability:"payable"};throw new ohe({signature:e})}const uhe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,fhe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,hhe=/^u?int$/;function Fh(e,t){var f,p;const n=lhe(e,t==null?void 0:t.type);if(d6.has(n))return d6.get(n);const r=Zz.test(e),i=nh(r?fhe:uhe,e);if(!i)throw new ehe({param:e});if(i.name&&mhe(i.name))throw new the({param:e,name:i.name});const o=i.name?{name:i.name}:{},s=i.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,l={};if(r){c="tuple";const m=ml(i.type),g=[],y=m.length;for(let v=0;v<y;v++)g.push(Fh(m[v],{structs:a}));l={components:g}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if(hhe.test(i.type))c=`${i.type}256`;else if(c=i.type,(t==null?void 0:t.type)!=="struct"&&!nq(c))throw new Qfe({type:c});if(i.modifier){if(!((p=(f=t==null?void 0:t.modifiers)==null?void 0:f.has)!=null&&p.call(f,i.modifier)))throw new nhe({param:e,type:t==null?void 0:t.type,modifier:i.modifier});if(TC.has(i.modifier)&&!ghe(c,!!i.array))throw new rhe({param:e,type:t==null?void 0:t.type,modifier:i.modifier})}const d={type:`${c}${i.array??""}`,...o,...s,...l};return d6.set(n,d),d}function ml(e,t=[],n="",r=0){const i=e.trim().length;for(let o=0;o<i;o++){const s=e[o],a=e.slice(o+1);switch(s){case",":return r===0?ml(a,[...t,n.trim()]):ml(a,t,`${n}${s}`,r);case"(":return ml(a,t,`${n}${s}`,r+1);case")":return ml(a,t,`${n}${s}`,r-1);default:return ml(a,t,`${n}${s}`,r)}}if(n==="")return t;if(r!==0)throw new che({current:n,depth:r});return t.push(n.trim()),t}function nq(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Kz.test(e)||Gz.test(e)}const phe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function mhe(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Kz.test(e)||Gz.test(e)||phe.test(e)}function ghe(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function yhe(e){const t={},n=e.length;for(let s=0;s<n;s++){const a=e[s];if(!eq(a))continue;const c=qfe(a);if(!c)throw new ov({signature:a,type:"struct"});const l=c.properties.split(";"),d=[],f=l.length;for(let p=0;p<f;p++){const g=l[p].trim();if(!g)continue;const y=Fh(g,{type:"struct"});d.push(y)}if(!d.length)throw new she({signature:a});t[c.name]=d}const r={},i=Object.entries(t),o=i.length;for(let s=0;s<o;s++){const[a,c]=i[s];r[a]=rq(c,t)}return r}const vhe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function rq(e,t,n=new Set){const r=[],i=e.length;for(let o=0;o<i;o++){const s=e[o];if(Zz.test(s.type))r.push(s);else{const c=nh(vhe,s.type);if(!(c!=null&&c.type))throw new ihe({abiParameter:s});const{array:l,type:d}=c;if(d in t){if(n.has(d))throw new ahe({type:d});r.push({...s,type:`tuple${l??""}`,components:rq(t[d]??[],t,new Set([...n,d]))})}else if(nq(d))r.push(s);else throw new Xfe({type:d})}}return r}function iq(e){const t=yhe(e),n=[],r=e.length;for(let i=0;i<r;i++){const o=e[i];eq(o)||n.push(dhe(o,t))}return n}function Qn(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const i=e[n];return typeof i=="function"?i:o=>t(e,o)}function Iu(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new jhe(e.type);return`${e.name}(${Rk(e.inputs,{includeName:t})})`}function Rk(e,{includeName:t=!1}={}){return e?e.map(n=>bhe(n,{includeName:t})).join(t?", ":","):""}function bhe(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Rk(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Gc(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Io(e){return Gc(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const whe="2.17.5",_he=e=>e,J7=e=>e,xhe=()=>`viem@${whe}`;class tt extends Error{constructor(t,n={}){var o;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:xhe()});const r=n.cause instanceof tt?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof tt&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${n.docsBaseUrl??"https://viem.sh"}${i}${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return oq(this,t)}}function oq(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?oq(e.cause,t):t?null:e}class khe extends tt{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class N9 extends tt{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class sq extends tt{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Rk(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Pk extends tt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class She extends tt{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Ehe extends tt{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Io(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Che extends tt{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class aq extends tt{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Ihe extends tt{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class cq extends tt{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class j9 extends tt{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class o2 extends tt{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class Ahe extends tt{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class The extends tt{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Iu(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Iu(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class Rhe extends tt{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class $v extends tt{constructor({abiItem:t,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Rk(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=i}}class Ok extends tt{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Iu(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Phe extends tt{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Ohe extends tt{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class Nhe extends tt{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class jhe extends tt{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class Bhe extends tt{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class lq extends tt{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class dq extends tt{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class B9 extends tt{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}function Rp(e,{dir:t,size:n=32}={}){return typeof e=="string"?If(e,{dir:t,size:n}):$he(e,{dir:t,size:n})}function If(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new dq({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function $he(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new dq({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=t==="right";r[o?i:n-i-1]=e[o?i:e.length-i-1]}return r}class Mhe extends tt{constructor({max:t,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class Dhe extends tt{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class Lhe extends tt{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function jf(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let i=0;i<n.length-1&&n[t==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function _d(e,{size:t}){if(Io(e)>t)throw new Lhe({givenSize:Io(e),maxSize:t})}function ni(e,t={}){const{signed:n}=t;t.size&&_d(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Sl(e,t={}){return Number(ni(e,t))}const Uhe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function hn(e,t={}){return typeof e=="number"||typeof e=="bigint"?Er(e,t):typeof e=="string"?Fg(e,t):typeof e=="boolean"?uq(e,t):Yo(e,t)}function uq(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(_d(n,{size:t.size}),Rp(n,{size:t.size})):n}function Yo(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=Uhe[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(_d(r,{size:t.size}),Rp(r,{dir:"right",size:t.size})):r}function Er(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const c=typeof e=="bigint"?"n":"";throw new Mhe({max:o?`${o}${c}`:void 0,min:`${s}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Rp(a,{size:r}):a}const Fhe=new TextEncoder;function Fg(e,t={}){const n=Fhe.encode(e);return Yo(n,t)}const Whe=new TextEncoder;function bl(e,t={}){return typeof e=="number"||typeof e=="bigint"?qhe(e,t):typeof e=="boolean"?zhe(e,t):Gc(e)?wl(e,t):np(e,t)}function zhe(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(_d(n,{size:t.size}),Rp(n,{size:t.size})):n}const Zd={zero:48,nine:57,A:65,F:70,a:97,f:102};function $9(e){if(e>=Zd.zero&&e<=Zd.nine)return e-Zd.zero;if(e>=Zd.A&&e<=Zd.F)return e-(Zd.A-10);if(e>=Zd.a&&e<=Zd.f)return e-(Zd.a-10)}function wl(e,t={}){let n=e;t.size&&(_d(n,{size:t.size}),n=Rp(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const c=$9(r.charCodeAt(a++)),l=$9(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new tt(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[s]=c*16+l}return o}function qhe(e,t){const n=Er(e,t);return wl(n)}function np(e,t={}){const n=Whe.encode(e);return typeof t.size=="number"?(_d(n,{size:t.size}),Rp(n,{dir:"right",size:t.size})):n}function s2(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Vhe(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function e1(e,...t){if(!Vhe(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Hhe(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");s2(e.outputLen),s2(e.blockLen)}function Wg(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fq(e,t){e1(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const l_=BigInt(2**32-1),M9=BigInt(32);function Khe(e,t=!1){return t?{h:Number(e&l_),l:Number(e>>M9&l_)}:{h:Number(e>>M9&l_)|0,l:Number(e&l_)|0}}function Ghe(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=Khe(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const Zhe=(e,t,n)=>e<<n|t>>>32-n,Jhe=(e,t,n)=>t<<n|e>>>32-n,Yhe=(e,t,n)=>t<<n-32|e>>>64-n,Xhe=(e,t,n)=>e<<n-32|t>>>64-n,u6=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qhe=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),f6=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Zl=(e,t)=>e<<32-t|e>>>t,D9=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,epe=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function L9(e){for(let t=0;t<e.length;t++)e[t]=epe(e[t])}function tpe(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Nk(e){return typeof e=="string"&&(e=tpe(e)),e1(e),e}function npe(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];e1(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}let Y7=class{clone(){return this._cloneInto()}};function hq(e){const t=r=>e().update(Nk(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function rpe(e=32){if(u6&&typeof u6.getRandomValues=="function")return u6.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const pq=[],mq=[],gq=[],ipe=BigInt(0),Dy=BigInt(1),ope=BigInt(2),spe=BigInt(7),ape=BigInt(256),cpe=BigInt(113);for(let e=0,t=Dy,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],pq.push(2*(5*r+n)),mq.push((e+1)*(e+2)/2%64);let i=ipe;for(let o=0;o<7;o++)t=(t<<Dy^(t>>spe)*cpe)%ape,t&ope&&(i^=Dy<<(Dy<<BigInt(o))-Dy);gq.push(i)}const[lpe,dpe]=Ghe(gq,!0),U9=(e,t,n)=>n>32?Yhe(e,t,n):Zhe(e,t,n),F9=(e,t,n)=>n>32?Xhe(e,t,n):Jhe(e,t,n);function upe(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,l=n[c],d=n[c+1],f=U9(l,d,1)^n[a],p=F9(l,d,1)^n[a+1];for(let m=0;m<50;m+=10)e[s+m]^=f,e[s+m+1]^=p}let i=e[2],o=e[3];for(let s=0;s<24;s++){const a=mq[s],c=U9(i,o,a),l=F9(i,o,a),d=pq[s];i=e[d],o=e[d+1],e[d]=c,e[d+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=lpe[r],e[1]^=dpe[r]}n.fill(0)}let fpe=class yq extends Y7{constructor(t,n,r,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,s2(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Qhe(this.state)}keccak(){D9||L9(this.state32),upe(this.state32,this.rounds),D9||L9(this.state32),this.posOut=0,this.pos=0}update(t){Wg(this);const{blockLen:n,state:r}=this;t=Nk(t);const i=t.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Wg(this,!1),e1(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=t.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);t.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return s2(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(fq(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new yq(n,r,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};const hpe=(e,t,n)=>hq(()=>new fpe(t,e,n)),ppe=hpe(1,136,256/8);function Xs(e,t){const n=t||"hex",r=ppe(Gc(e,{strict:!1})?bl(e):e);return n==="bytes"?r:hn(r)}const mpe=e=>Xs(bl(e));function gpe(e){return mpe(e)}function ype(e){let t=!0,n="",r=0,i="",o=!1;for(let s=0;s<e.length;s++){const a=e[s];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){e[s-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=a,n+=a}}if(!o)throw new tt("Unable to normalize signature.");return i}const vpe=e=>{const t=typeof e=="string"?e:Mfe(e);return ype(t)};function vq(e){return gpe(vpe(e))}const X7=vq;class Jo extends tt{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class Q7 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,n){return super.set(t,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const h6=new Q7(8192);function t1(e,t){if(h6.has(`${e}.${t}`))return h6.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Xs(np(n),"bytes"),i=n.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const o=`0x${i.join("")}`;return h6.set(`${e}.${t}`,o),o}function jk(e,t){if(!Hi(e,{strict:!1}))throw new Jo({address:e});return t1(e,t)}const bpe=/^0x[a-fA-F0-9]{40}$/,p6=new Q7(8192);function Hi(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(p6.has(r))return p6.get(r);const i=bpe.test(e)?e.toLowerCase()===e?!0:n?t1(e)===e:!0:!1;return p6.set(r,i),i}function Au(e){return typeof e[0]=="string"?xd(e):wpe(e)}function wpe(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function xd(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Mv(e,t,n,{strict:r}={}){return Gc(e,{strict:!1})?xq(e,t,n,{strict:r}):_q(e,t,n,{strict:r})}function bq(e,t){if(typeof t=="number"&&t>0&&t>Io(e)-1)throw new lq({offset:t,position:"start",size:Io(e)})}function wq(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Io(e)!==n-t)throw new lq({offset:n,position:"end",size:Io(e)})}function _q(e,t,n,{strict:r}={}){bq(e,t);const i=e.slice(t,n);return r&&wq(i,t,n),i}function xq(e,t,n,{strict:r}={}){bq(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&wq(i,t,n),i}function O0(e,t){if(e.length!==t.length)throw new Che({expectedLength:e.length,givenLength:t.length});const n=_pe({params:e,values:t}),r=tA(n);return r.length===0?"0x":r}function _pe({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(eA({param:e[r],value:t[r]}));return n}function eA({param:e,value:t}){const n=nA(e.type);if(n){const[r,i]=n;return kpe(t,{length:r,param:{...e,type:i}})}if(e.type==="tuple")return Ape(t,{param:e});if(e.type==="address")return xpe(t);if(e.type==="bool")return Epe(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return Cpe(t,{signed:r})}if(e.type.startsWith("bytes"))return Spe(t,{param:e});if(e.type==="string")return Ipe(t);throw new Phe(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function tA(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:s,encoded:a}=e[o];s?t+=32:t+=Io(a)}const n=[],r=[];let i=0;for(let o=0;o<e.length;o++){const{dynamic:s,encoded:a}=e[o];s?(n.push(Er(t+i,{size:32})),r.push(a),i+=Io(a)):n.push(a)}return Au([...n,...r])}function xpe(e){if(!Hi(e))throw new Jo({address:e});return{dynamic:!1,encoded:If(e.toLowerCase())}}function kpe(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Nhe(e);if(!r&&e.length!==t)throw new She({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const o=[];for(let s=0;s<e.length;s++){const a=eA({param:n,value:e[s]});a.dynamic&&(i=!0),o.push(a)}if(r||i){const s=tA(o);if(r){const a=Er(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Au([a,s]):a}}if(i)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:Au(o.map(({encoded:s})=>s))}}function Spe(e,{param:t}){const[,n]=t.type.split("bytes"),r=Io(e);if(!n){let i=e;return r%32!==0&&(i=If(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Au([If(Er(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new Ehe({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:If(e,{dir:"right"})}}function Epe(e){if(typeof e!="boolean")throw new tt(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:If(uq(e))}}function Cpe(e,{signed:t}){return{dynamic:!1,encoded:Er(e,{size:32,signed:t})}}function Ipe(e){const t=Fg(e),n=Math.ceil(Io(t)/32),r=[];for(let i=0;i<n;i++)r.push(If(Mv(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Au([If(Er(Io(t),{size:32})),...r])}}function Ape(e,{param:t}){let n=!1;const r=[];for(let i=0;i<t.components.length;i++){const o=t.components[i],s=Array.isArray(e)?i:o.name,a=eA({param:o,value:e[s]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?tA(r):Au(r.map(({encoded:i})=>i))}}function nA(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const rA=e=>Mv(vq(e),0,4);function n1(e){const{abi:t,args:n=[],name:r}=e,i=Gc(r,{strict:!1}),o=t.filter(a=>i?a.type==="function"?rA(a)===r:a.type==="event"?X7(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let s;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,d)=>{const f="inputs"in a&&a.inputs[d];return f?RC(l,f):!1})){if(s&&"inputs"in s&&s.inputs){const l=kq(a.inputs,s.inputs,n);if(l)throw new The({abiItem:a,type:l[0]},{abiItem:s,type:l[1]})}s=a}}return s||o[0]}function RC(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Hi(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((i,o)=>RC(Object.values(e)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(i=>RC(i,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function kq(e,t,n){for(const r in e){const i=e[r],o=t[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return kq(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?Hi(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?Hi(n[r],{strict:!1}):!1)return s}}const W9="/docs/contract/encodeEventTopics";function r1(e){var c;const{abi:t,eventName:n,args:r}=e;let i=t[0];if(n){const l=n1({abi:t,name:n});if(!l)throw new j9(n,{docsPath:W9});i=l}if(i.type!=="event")throw new j9(void 0,{docsPath:W9});const o=Iu(i),s=X7(o);let a=[];if(r&&"inputs"in i){const l=(c=i.inputs)==null?void 0:c.filter(f=>"indexed"in f&&f.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(l==null?void 0:l.map(f=>r[f.name]))??[]:[];d.length>0&&(a=(l==null?void 0:l.map((f,p)=>Array.isArray(d[p])?d[p].map((m,g)=>z9({param:f,value:d[p][g]})):d[p]?z9({param:f,value:d[p]}):null))??[])}return[s,...a]}function z9({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Xs(bl(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Bhe(e.type);return O0([e],[t])}function Bk(e,{method:t}){var r,i;const n={};return e.transport.type==="fallback"&&((i=(r=e.transport).onResponse)==null||i.call(r,({method:o,response:s,status:a,transport:c})=>{a==="success"&&t===o&&(n[s]=c.request)})),o=>n[o]||e.request}async function Sq(e,t){const{address:n,abi:r,args:i,eventName:o,fromBlock:s,strict:a,toBlock:c}=t,l=Bk(e,{method:"eth_newFilter"}),d=o?r1({abi:r,args:i,eventName:o}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?Er(s):s,toBlock:typeof c=="bigint"?Er(c):c,topics:d}]});return{abi:r,args:i,eventName:o,id:f,request:l(f),strict:!!a,type:"event"}}function Xc(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const q9="/docs/contract/encodeFunctionData";function Tpe(e){const{abi:t,args:n,functionName:r}=e;let i=t[0];if(r){const o=n1({abi:t,args:n,name:r});if(!o)throw new o2(r,{docsPath:q9});i=o}if(i.type!=="function")throw new o2(void 0,{docsPath:q9});return{abi:[i],functionName:rA(Iu(i))}}function rh(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:Tpe(e)})(),i=n[0],o=r,s="inputs"in i&&i.inputs?O0(i.inputs,t??[]):void 0;return xd([o,s??"0x"])}const Eq={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Rpe={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Ppe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class V9 extends tt{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class Cq extends tt{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class Ope extends tt{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const Npe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ope({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Cq({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new V9({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new V9({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function iA(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Npe);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function jpe(e,t={}){typeof t.size<"u"&&_d(e,{size:t.size});const n=Yo(e,t);return ni(n,t)}function Bpe(e,t={}){let n=e;if(typeof t.size<"u"&&(_d(n,{size:t.size}),n=jf(n)),n.length>1||n[0]>1)throw new Dhe(n);return!!n[0]}function vu(e,t={}){typeof t.size<"u"&&_d(e,{size:t.size});const n=Yo(e,t);return Sl(n,t)}function $pe(e,t={}){let n=e;return typeof t.size<"u"&&(_d(n,{size:t.size}),n=jf(n,{dir:"right"})),new TextDecoder().decode(n)}function $k(e,t){const n=typeof t=="string"?wl(t):t,r=iA(n);if(Io(n)===0&&e.length>0)throw new Pk;if(Io(t)&&Io(t)<32)throw new sq({data:typeof t=="string"?t:Yo(t),params:e,size:Io(t)});let i=0;const o=[];for(let s=0;s<e.length;++s){const a=e[s];r.setPosition(i);const[c,l]=Eg(r,a,{staticPosition:0});i+=l,o.push(c)}return o}function Eg(e,t,{staticPosition:n}){const r=nA(t.type);if(r){const[i,o]=r;return Dpe(e,{...t,type:o},{length:i,staticPosition:n})}if(t.type==="tuple")return Wpe(e,t,{staticPosition:n});if(t.type==="address")return Mpe(e);if(t.type==="bool")return Lpe(e);if(t.type.startsWith("bytes"))return Upe(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Fpe(e,t);if(t.type==="string")return zpe(e,{staticPosition:n});throw new Ohe(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const H9=32,PC=32;function Mpe(e){const t=e.readBytes(32);return[t1(Yo(_q(t,-20))),32]}function Dpe(e,t,{length:n,staticPosition:r}){if(!n){const s=vu(e.readBytes(PC)),a=r+s,c=a+H9;e.setPosition(a);const l=vu(e.readBytes(H9)),d=Dv(t);let f=0;const p=[];for(let m=0;m<l;++m){e.setPosition(c+(d?m*32:f));const[g,y]=Eg(e,t,{staticPosition:c});f+=y,p.push(g)}return e.setPosition(r+32),[p,32]}if(Dv(t)){const s=vu(e.readBytes(PC)),a=r+s,c=[];for(let l=0;l<n;++l){e.setPosition(a+l*32);const[d]=Eg(e,t,{staticPosition:a});c.push(d)}return e.setPosition(r+32),[c,32]}let i=0;const o=[];for(let s=0;s<n;++s){const[a,c]=Eg(e,t,{staticPosition:r+i});i+=c,o.push(a)}return[o,i]}function Lpe(e){return[Bpe(e.readBytes(32),{size:32}),32]}function Upe(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const s=vu(e.readBytes(32));e.setPosition(n+s);const a=vu(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Yo(c),32]}return[Yo(e.readBytes(Number.parseInt(i),32)),32]}function Fpe(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),i=e.readBytes(32);return[r>48?jpe(i,{signed:n}):vu(i,{signed:n}),32]}function Wpe(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:s})=>!s),i=r?[]:{};let o=0;if(Dv(t)){const s=vu(e.readBytes(PC)),a=n+s;for(let c=0;c<t.components.length;++c){const l=t.components[c];e.setPosition(a+o);const[d,f]=Eg(e,l,{staticPosition:a});o+=f,i[r?c:l==null?void 0:l.name]=d}return e.setPosition(n+32),[i,32]}for(let s=0;s<t.components.length;++s){const a=t.components[s],[c,l]=Eg(e,a,{staticPosition:n});i[r?s:a==null?void 0:a.name]=c,o+=l}return[i,o]}function zpe(e,{staticPosition:t}){const n=vu(e.readBytes(32)),r=t+n;e.setPosition(r);const i=vu(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const o=e.readBytes(i,32),s=$pe(jf(o));return e.setPosition(t+32),[s,32]}function Dv(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Dv);const n=nA(e.type);return!!(n&&Dv({...e,type:n[1]}))}function qpe(e){const{abi:t,data:n}=e,r=Mv(n,0,4);if(r==="0x")throw new Pk;const o=[...t||[],Rpe,Ppe].find(s=>s.type==="error"&&r===rA(Iu(s)));if(!o)throw new aq(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?$k(o.inputs,Mv(n,4)):void 0,errorName:o.name}}const Os=(e,t,n)=>JSON.stringify(e,(r,i)=>typeof i=="bigint"?i.toString():i,n);function Iq({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((i,o)=>`${r&&i.name?`${i.name}: `:""}${typeof t[o]=="object"?Os(t[o]):t[o]}`).join(", ")})`}const Aq={gwei:9,wei:18},Vpe={ether:-9,wei:9};function Tq(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[i,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${o?`.${o}`:""}`}function N0(e,t="wei"){return Tq(e,Aq[t])}function Ra(e,t="wei"){return Tq(e,Vpe[t])}class Hpe extends tt{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class Kpe extends tt{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function K9(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Gpe(e){return e.reduce((t,{address:n,...r})=>{let i=`${t}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=K9(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=K9(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function i1(e){const t=Object.entries(e).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=t.reduce((r,[i])=>Math.max(r,i.length),0);return t.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class Zpe extends tt{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Jpe extends tt{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class Ype extends tt{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",i1(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Xpe extends tt{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class Rq extends tt{constructor(t,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:p}){var g;const m=i1({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:f,value:typeof p<"u"&&`${N0(p)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Ra(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ra(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ra(l)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class Pq extends tt{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:i,index:o}){let s="Transaction";r&&o!==void 0&&(s=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(s=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(s=`Transaction at block number "${n}" at index "${o}"`),i&&(s=`Transaction with hash "${i}"`),super(`${s} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Oq extends tt{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class G9 extends tt{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class Nq extends tt{constructor(t,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:p,stateOverride:m}){var v;const g=n?Xc(n):void 0;let y=i1({from:g==null?void 0:g.address,to:f,value:typeof p<"u"&&`${N0(p)} ${((v=i==null?void 0:i.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Ra(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ra(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ra(l)} gwei`,nonce:d});m&&(y+=`
${Gpe(m)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Qpe extends tt{constructor(t,{abi:n,args:r,contractAddress:i,docsPath:o,functionName:s,sender:a}){const c=n1({abi:n,args:r,name:s}),l=c?Iq({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?Iu(c,{includeName:!0}):void 0,f=i1({address:i&&_he(i),function:d,args:l&&l!=="()"&&`${[...Array((s==null?void 0:s.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",f].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=i,this.functionName=s,this.sender=a}}class OC extends tt{constructor({abi:t,data:n,functionName:r,message:i}){let o,s,a,c;if(n&&n!=="0x")try{s=qpe({abi:t,data:n});const{abiItem:d,errorName:f,args:p}=s;if(f==="Error")c=p[0];else if(f==="Panic"){const[m]=p;c=Eq[m]}else{const m=d?Iu(d,{includeName:!0}):void 0,g=d&&p?Iq({abiItem:d,args:p,includeFunctionName:!1,includeName:!1}):void 0;a=[m?`Error: ${m}`:"",g&&g!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(d){o=d}else i&&(c=i);let l;o instanceof aq&&(l=o.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.reason=c,this.signature=l}}class eme extends tt{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class tme extends tt{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CounterfactualDeploymentFailedError"})}}class oA extends tt{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class xv extends tt{constructor({body:t,cause:n,details:r,headers:i,status:o,url:s}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${J7(s)}`,t&&`Request body: ${Os(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=i,this.status=o,this.url=s}}class jq extends tt{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${J7(r)}`,`Request body: ${Os(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class Z9 extends tt{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${J7(n)}`,`Request body: ${Os(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const nme=-1;class Ba extends tt{constructor(t,{code:n,docsPath:r,metaMessages:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:i||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof jq?t.code:n??nme}}class j0 extends Ba{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Lv extends Ba{constructor(t){super(t,{code:Lv.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Lv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Uv extends Ba{constructor(t){super(t,{code:Uv.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Uv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Fv extends Ba{constructor(t){super(t,{code:Fv.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Fv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Wv extends Ba{constructor(t){super(t,{code:Wv.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Wv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class up extends Ba{constructor(t){super(t,{code:up.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(up,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class fp extends Ba{constructor(t){super(t,{code:fp.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class zv extends Ba{constructor(t){super(t,{code:zv.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(zv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class qv extends Ba{constructor(t){super(t,{code:qv.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(qv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Vv extends Ba{constructor(t){super(t,{code:Vv.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Vv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Hv extends Ba{constructor(t){super(t,{code:Hv.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Hv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class zg extends Ba{constructor(t){super(t,{code:zg.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Kv extends Ba{constructor(t){super(t,{code:Kv.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Kv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Cg extends j0{constructor(t){super(t,{code:Cg.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Cg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Gv extends j0{constructor(t){super(t,{code:Gv.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(Gv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Zv extends j0{constructor(t){super(t,{code:Zv.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(Zv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Jv extends j0{constructor(t){super(t,{code:Jv.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Jv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Yv extends j0{constructor(t){super(t,{code:Yv.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(Yv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Xv extends j0{constructor(t){super(t,{code:Xv.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Xv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class rme extends Ba{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const ime=3;function Qv(e,{abi:t,address:n,args:r,docsPath:i,functionName:o,sender:s}){const{code:a,data:c,message:l,shortMessage:d}=e instanceof oA?e:e instanceof tt?e.walk(p=>"data"in p)||e.walk():{},f=e instanceof Pk?new eme({functionName:o}):[ime,up.code].includes(a)&&(c||l||d)?new OC({abi:t,data:typeof c=="object"?c.data:c,functionName:o,message:d??l}):e;return new Qpe(f,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:o,sender:s})}class ome extends tt{constructor(t,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:p}){var g;const m=i1({from:n==null?void 0:n.address,to:f,value:typeof p<"u"&&`${N0(p)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Ra(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ra(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ra(l)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class lg extends tt{constructor({cause:t,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(lg,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(lg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Bf extends tt{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ra(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(Bf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class NC extends tt{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ra(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(NC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class jC extends tt{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(jC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class BC extends tt{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(BC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class $C extends tt{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty($C,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});let MC=class extends tt{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}};Object.defineProperty(MC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class DC extends tt{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(DC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class LC extends tt{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(LC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class UC extends tt{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(UC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class qg extends tt{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ra(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ra(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(qg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Mk extends tt{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function sA(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof tt?e.walk(i=>i.code===lg.code):e;return r instanceof tt?new lg({cause:e,message:r.details}):lg.nodeMessage.test(n)?new lg({cause:e,message:e.details}):Bf.nodeMessage.test(n)?new Bf({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):NC.nodeMessage.test(n)?new NC({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):jC.nodeMessage.test(n)?new jC({cause:e,nonce:t==null?void 0:t.nonce}):BC.nodeMessage.test(n)?new BC({cause:e,nonce:t==null?void 0:t.nonce}):$C.nodeMessage.test(n)?new $C({cause:e,nonce:t==null?void 0:t.nonce}):MC.nodeMessage.test(n)?new MC({cause:e}):DC.nodeMessage.test(n)?new DC({cause:e,gas:t==null?void 0:t.gas}):LC.nodeMessage.test(n)?new LC({cause:e,gas:t==null?void 0:t.gas}):UC.nodeMessage.test(n)?new UC({cause:e}):qg.nodeMessage.test(n)?new qg({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Mk({cause:e})}function sme(e,{docsPath:t,...n}){const r=(()=>{const i=sA(e,n);return i instanceof Mk?e:i})();return new ome(r,{docsPath:t,...n})}function aA(e,{format:t}){if(!t)return{};const n={};function r(o){const s=Object.keys(o);for(const a of s)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const i=t(e||{});return r(i),n}function Dk(e,t){return({exclude:n,format:r})=>({exclude:n,format:i=>{const o=t(i);if(n)for(const s of n)delete o[s];return{...o,...r(i)}},type:e})}const ame={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function o1(e){const t={};return typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>Yo(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=Er(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=Er(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=Er(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=Er(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=Er(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=Er(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=ame[e.type]),typeof e.value<"u"&&(t.value=Er(e.value)),t}const Bq=Dk("transactionRequest",o1);function J9(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new B9({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new B9({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function cme(e){const{balance:t,nonce:n,state:r,stateDiff:i,code:o}=e,s={};if(o!==void 0&&(s.code=o),t!==void 0&&(s.balance=Er(t)),n!==void 0&&(s.nonce=Er(n)),r!==void 0&&(s.state=J9(r)),i!==void 0){if(s.state)throw new Kpe;s.stateDiff=J9(i)}return s}function $q(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Hi(n,{strict:!1}))throw new Jo({address:n});if(t[n])throw new Hpe({address:n});t[n]=cme(r)}return t}function s1(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:o}=e,s=t?Xc(t):void 0;if(s&&!Hi(s.address))throw new Jo({address:s.address});if(o&&!Hi(o))throw new Jo({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new Zpe;if(r&&r>2n**256n-1n)throw new Bf({maxFeePerGas:r});if(i&&r&&i>r)throw new qg({maxFeePerGas:r,maxPriorityFeePerGas:i})}class lme extends tt{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class cA extends tt{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class dme extends tt{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ra(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Mq extends tt{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const Dq={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function a1(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Sl(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Sl(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Dq[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const lA=Dk("transaction",a1);function dA(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:a1(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const uA=Dk("block",dA);async function $f(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:i}={}){var d,f,p;const o=r??"latest",s=i??!1,a=n!==void 0?Er(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,s]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[a||o,s]},{dedupe:!!a}),!c)throw new Mq({blockHash:t,blockNumber:n});return(((p=(f=(d=e.chain)==null?void 0:d.formatters)==null?void 0:f.block)==null?void 0:p.format)||dA)(c)}async function fA(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function ume(e,t){return Lq(e,t)}async function Lq(e,t){var o,s,a;const{block:n,chain:r=e.chain,request:i}=t||{};if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)=="function"){const c=n||await Qn(e,$f,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:i})}if(typeof((s=r==null?void 0:r.fees)==null?void 0:s.defaultPriorityFee)<"u")return(a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return ni(c)}catch{const[c,l]=await Promise.all([n?Promise.resolve(n):Qn(e,$f,"getBlock")({}),Qn(e,fA,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new cA;const d=l-c.baseFeePerGas;return d<0n?0n:d}}async function fme(e,t){return FC(e,t)}async function FC(e,t){var p,m;const{block:n,chain:r=e.chain,request:i,type:o="eip1559"}=t||{},s=await(async()=>{var g,y;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:i}):((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)??1.2})();if(s<1)throw new lme;const c=10**(((p=s.toString().split(".")[1])==null?void 0:p.length)??0),l=g=>g*BigInt(Math.ceil(s*c))/BigInt(c),d=n||await Qn(e,$f,"getBlock")({});if(typeof((m=r==null?void 0:r.fees)==null?void 0:m.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:l,request:i,type:o});if(g!==null)return g}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new cA;const g=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await Lq(e,{block:d,chain:r,request:i}),y=l(d.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??y+g,maxPriorityFeePerGas:g}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await Qn(e,fA,"getGasPrice")({}))}}async function Uq(e,{address:t,blockTag:n="latest",blockNumber:r}){const i=await e.request({method:"eth_getTransactionCount",params:[t,r?Er(r):n]},{dedupe:!!r});return Sl(i)}function hA(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>wl(o)):e.blobs,i=[];for(const o of r)i.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?i:i.map(o=>Yo(o))}function pA(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(s=>wl(s)):e.blobs,i=typeof e.commitments[0]=="string"?e.commitments.map(s=>wl(s)):e.commitments,o=[];for(let s=0;s<r.length;s++){const a=r[s],c=i[s];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(s=>Yo(s))}function hme(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}const pme=(e,t,n)=>e&t^~e&n,mme=(e,t,n)=>e&t^e&n^t&n;let gme=class extends Y7{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=f6(this.buffer)}update(t){Wg(this);const{view:n,buffer:r,blockLen:i}=this;t=Nk(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=f6(t);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Wg(this),fq(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let f=s;f<i;f++)n[f]=0;hme(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=f6(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,d[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}};const yme=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ef=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tf=new Uint32Array(64);let vme=class extends gme{constructor(){super(64,32,8,!1),this.A=ef[0]|0,this.B=ef[1]|0,this.C=ef[2]|0,this.D=ef[3]|0,this.E=ef[4]|0,this.F=ef[5]|0,this.G=ef[6]|0,this.H=ef[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[t,n,r,i,o,s,a,c]}set(t,n,r,i,o,s,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)tf[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const p=tf[f-15],m=tf[f-2],g=Zl(p,7)^Zl(p,18)^p>>>3,y=Zl(m,17)^Zl(m,19)^m>>>10;tf[f]=y+tf[f-7]+g+tf[f-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:l,H:d}=this;for(let f=0;f<64;f++){const p=Zl(a,6)^Zl(a,11)^Zl(a,25),m=d+p+pme(a,c,l)+yme[f]+tf[f]|0,y=(Zl(r,2)^Zl(r,13)^Zl(r,22))+mme(r,i,o)|0;d=l,l=c,c=a,a=s+m|0,s=o,o=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,c,l,d)}roundClean(){tf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Fq=hq(()=>new vme);function Wq(e,t){const n=t||"hex",r=Fq(Gc(e,{strict:!1})?bl(e):e);return n==="bytes"?r:hn(r)}function bme(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),i=Wq(t,"bytes");return i.set([n],0),r==="bytes"?i:Yo(i)}function zq(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),i=[];for(const o of t)i.push(bme({commitment:o,to:r,version:n}));return i}const Y9=6,qq=32,mA=4096,Vq=qq*mA,X9=Vq*Y9-1-1*mA*Y9,Hq=1;class wme extends tt{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class Kq extends tt{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class _me extends tt{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashSizeError"})}}class xme extends tt{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Hq}`,`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashVersionError"})}}function kme(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?wl(e.data):e.data,r=Io(n);if(!r)throw new Kq;if(r>X9)throw new wme({maxSize:X9,size:r});const i=[];let o=!0,s=0;for(;o;){const a=iA(new Uint8Array(Vq));let c=0;for(;c<mA;){const l=n.slice(s,s+(qq-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),o=!1;break}c++,s+=31}i.push(a)}return t==="bytes"?i.map(a=>a.bytes):i.map(a=>Yo(a.bytes))}function Gq(e){const{data:t,kzg:n,to:r}=e,i=e.blobs??kme({data:t,to:r}),o=e.commitments??hA({blobs:i,kzg:n,to:r}),s=e.proofs??pA({blobs:i,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:o[c],proof:s[c]});return a}function Zq(e){if(e.type)return e.type;if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Ype({transaction:e})}async function c1(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Sl(t)}const Jq=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Lk(e,t){const{account:n=e.account,blobs:r,chain:i,gas:o,kzg:s,nonce:a,parameters:c=Jq,type:l}=t,d=n?Xc(n):void 0,f={...t,...d?{from:d==null?void 0:d.address}:{}};let p;async function m(){return p||(p=await Qn(e,$f,"getBlock")({blockTag:"latest"}),p)}let g;async function y(){return g||(i?i.id:typeof t.chainId<"u"?t.chainId:(g=await Qn(e,c1,"getChainId")({}),g))}if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&s){const v=hA({blobs:r,kzg:s});if(c.includes("blobVersionedHashes")){const w=zq({commitments:v,to:"hex"});f.blobVersionedHashes=w}if(c.includes("sidecars")){const w=pA({blobs:r,commitments:v,kzg:s}),_=Gq({blobs:r,commitments:v,proofs:w,to:"hex"});f.sidecars=_}}if(c.includes("chainId")&&(f.chainId=await y()),c.includes("nonce")&&typeof a>"u"&&d)if(d.nonceManager){const v=await y();f.nonce=await d.nonceManager.consume({address:d.address,chainId:v,client:e})}else f.nonce=await Qn(e,Uq,"getTransactionCount")({address:d.address,blockTag:"pending"});if((c.includes("fees")||c.includes("type"))&&typeof l>"u")try{f.type=Zq(f)}catch{const v=await m();f.type=typeof(v==null?void 0:v.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(c.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const v=await m(),{maxFeePerGas:w,maxPriorityFeePerGas:_}=await FC(e,{block:v,chain:i,request:f});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<_)throw new dme({maxPriorityFeePerGas:_});f.maxPriorityFeePerGas=_,f.maxFeePerGas=w}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new cA;const v=await m(),{gasPrice:w}=await FC(e,{block:v,chain:i,request:f,type:"legacy"});f.gasPrice=w}return c.includes("gas")&&typeof o>"u"&&(f.gas=await Qn(e,gA,"estimateGas")({...f,account:d?{address:d.address,type:"json-rpc"}:void 0})),s1(f),delete f.parameters,f}async function gA(e,t){var i,o,s;const n=t.account??e.account,r=n?Xc(n):void 0;try{const{accessList:a,blobs:c,blobVersionedHashes:l,blockNumber:d,blockTag:f,data:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:_,to:E,value:C,stateOverride:T,...A}=await Lk(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),O=(d?Er(d):void 0)||f,D=$q(T);s1(t);const K=(s=(o=(i=e.chain)==null?void 0:i.formatters)==null?void 0:o.transactionRequest)==null?void 0:s.format,X=(K||o1)({...aA(A,{format:K}),from:r==null?void 0:r.address,accessList:a,blobs:c,blobVersionedHashes:l,data:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:_,to:E,value:C}),U=await e.request({method:"eth_estimateGas",params:D?[X,O??"latest",D]:O?[X,O]:[X]});return BigInt(U)}catch(a){throw sme(a,{...t,account:r,chain:e.chain})}}async function Sme(e,t){const{abi:n,address:r,args:i,functionName:o,...s}=t,a=rh({abi:n,args:i,functionName:o});try{return await Qn(e,gA,"estimateGas")({data:a,to:r,...s})}catch(c){const l=s.account?Xc(s.account):void 0;throw Qv(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:l==null?void 0:l.address})}}const Q9="/docs/contract/decodeEventLog";function yA(e){const{abi:t,data:n,strict:r,topics:i}=e,o=r??!0,[s,...a]=i;if(!s)throw new Ihe({docsPath:Q9});const c=t.find(y=>y.type==="event"&&s===X7(Iu(y)));if(!(c&&"name"in c)||c.type!=="event")throw new cq(s,{docsPath:Q9});const{name:l,inputs:d}=c,f=d==null?void 0:d.some(y=>!("name"in y&&y.name));let p=f?[]:{};const m=d.filter(y=>"indexed"in y&&y.indexed);for(let y=0;y<m.length;y++){const v=m[y],w=a[y];if(!w)throw new Ok({abiItem:c,param:v});p[f?y:v.name||y]=Eme({param:v,value:w})}const g=d.filter(y=>!("indexed"in y&&y.indexed));if(g.length>0){if(n&&n!=="0x")try{const y=$k(g,n);if(y)if(f)p=[...p,...y];else for(let v=0;v<g.length;v++)p[g[v].name]=y[v]}catch(y){if(o)throw y instanceof sq||y instanceof Cq?new $v({abiItem:c,data:n,params:g,size:Io(n)}):y}else if(o)throw new $v({abiItem:c,data:"0x",params:g,size:0})}return{eventName:l,args:Object.values(p).length>0?p:void 0}}function Eme({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:($k([e],t)||[])[0]}function vA({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(i=>{var o;try{const s=yA({...i,abi:e,strict:r});return t&&!t.includes(s.eventName)?null:{...s,...i}}catch(s){let a,c;if(s instanceof cq)return null;if(s instanceof $v||s instanceof Ok){if(r)return null;a=s.abiItem.name,c=(o=s.abiItem.inputs)==null?void 0:o.some(l=>!("name"in l&&l.name))}return{...i,args:c?[]:{},eventName:a}}}).filter(Boolean)}function Tu(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function bA(e,{address:t,blockHash:n,fromBlock:r,toBlock:i,event:o,events:s,args:a,strict:c}={}){const l=c??!1,d=s??(o?[o]:void 0);let f=[];d&&(f=[d.flatMap(y=>r1({abi:[y],eventName:y.name,args:a}))],o&&(f=f[0]));let p;n?p=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):p=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof r=="bigint"?Er(r):r,toBlock:typeof i=="bigint"?Er(i):i}]});const m=p.map(g=>Tu(g));return d?vA({abi:d,logs:m,strict:l}):m}async function Yq(e,t){const{abi:n,address:r,args:i,blockHash:o,eventName:s,fromBlock:a,toBlock:c,strict:l}=t,d=s?n1({abi:n,name:s}):void 0,f=d?void 0:n.filter(p=>p.type==="event");return Qn(e,bA,"getLogs")({address:r,args:i,blockHash:o,event:d,events:f,fromBlock:a,toBlock:c,strict:l})}const m6="/docs/contract/decodeFunctionResult";function B0(e){const{abi:t,args:n,functionName:r,data:i}=e;let o=t[0];if(r){const a=n1({abi:t,args:n,name:r});if(!a)throw new o2(r,{docsPath:m6});o=a}if(o.type!=="function")throw new o2(void 0,{docsPath:m6});if(!o.outputs)throw new Ahe(o.name,{docsPath:m6});const s=$k(o.outputs,i);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}const WC=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Xq=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Qq=[...Xq,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Cme=[...Xq,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],ej=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],tj=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Ime=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],Ame="0x82ad56cb",Tme="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Rme="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Pme="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class zC extends tt{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class Ome extends tt{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class Nme extends tt{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class eV extends tt{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class l1 extends tt{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}const g6="/docs/contract/encodeDeployData";function Uk(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const i=t.find(s=>"type"in s&&s.type==="constructor");if(!i)throw new khe({docsPath:g6});if(!("inputs"in i))throw new N9({docsPath:g6});if(!i.inputs||i.inputs.length===0)throw new N9({docsPath:g6});const o=O0(i.inputs,n);return xd([r,o])}function $0({blockNumber:e,chain:t,contract:n}){var i;const r=(i=t==null?void 0:t.contracts)==null?void 0:i[n];if(!r)throw new zC({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new zC({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function jme(e,{docsPath:t,...n}){const r=(()=>{const i=sA(e,n);return i instanceof Mk?e:i})();return new Nq(r,{docsPath:t,...n})}const y6=new Map;function tV({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:i}){const o=async()=>{const d=c();s();const f=d.map(({args:p})=>p);f.length!==0&&e(f).then(p=>{var m;i&&Array.isArray(p)&&p.sort(i);for(let g=0;g<d.length;g++){const{pendingPromise:y}=d[g];(m=y.resolve)==null||m.call(y,[p[g],p])}}).catch(p=>{var m;for(let g=0;g<d.length;g++){const{pendingPromise:y}=d[g];(m=y.reject)==null||m.call(y,p)}})},s=()=>y6.delete(t),a=()=>c().map(({args:d})=>d),c=()=>y6.get(t)||[],l=d=>y6.set(t,[...c(),d]);return{flush:s,async schedule(d){const f={},p=new Promise((y,v)=>{f.resolve=y,f.reject=v});return(n==null?void 0:n([...a(),d]))&&o(),c().length>0?(l({args:d,pendingPromise:f}),p):(l({args:d,pendingPromise:f}),setTimeout(o,r),p)}}}async function Fk(e,t){var H,X,U,I;const{account:n=e.account,batch:r=!!((H=e.batch)!=null&&H.multicall),blockNumber:i,blockTag:o="latest",accessList:s,blobs:a,code:c,data:l,factory:d,factoryData:f,gas:p,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:w,to:_,value:E,stateOverride:C,...T}=t,A=n?Xc(n):void 0;if(c&&(d||f))throw new tt("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&_)throw new tt("Cannot provide both `code` & `to` as parameters.");const S=c&&l,O=d&&f&&_&&l,D=S||O,K=S?Mme({code:c,data:l}):O?Dme({data:l,factory:d,factoryData:f,to:_}):l;try{s1(t);const P=(i?Er(i):void 0)||o,N=$q(C),$=(I=(U=(X=e.chain)==null?void 0:X.formatters)==null?void 0:U.transactionRequest)==null?void 0:I.format,z=($||o1)({...aA(T,{format:$}),from:A==null?void 0:A.address,accessList:s,blobs:a,data:K,gas:p,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:w,to:D?void 0:_,value:E});if(r&&Bme({request:z})&&!N)try{return await $me(e,{...z,blockNumber:i,blockTag:o})}catch(j){if(!(j instanceof eV)&&!(j instanceof zC))throw j}const q=await e.request({method:"eth_call",params:N?[z,P,N]:[z,P]});return q==="0x"?{data:void 0}:{data:q}}catch(x){const P=Lme(x),{offchainLookup:N,offchainLookupSignature:$}=await W7(async()=>{const{offchainLookup:L,offchainLookupSignature:z}=await import("./ccip-DDjplZSu.js");return{offchainLookup:L,offchainLookupSignature:z}},__vite__mapDeps([0,1,2]));if(e.ccipRead!==!1&&(P==null?void 0:P.slice(0,10))===$&&_)return{data:await N(e,{data:P,to:_})};throw D&&(P==null?void 0:P.slice(0,10))==="0x101bb98d"?new tme({factory:d}):jme(x,{...t,account:A,chain:e.chain})}}function Bme({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Ame)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function $me(e,t){var y;const{batchSize:n=1024,wait:r=0}=typeof((y=e.batch)==null?void 0:y.multicall)=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:o="latest",data:s,multicallAddress:a,to:c}=t;let l=a;if(!l){if(!e.chain)throw new eV;l=$0({blockNumber:i,chain:e.chain,contract:"multicall3"})}const f=(i?Er(i):void 0)||o,{schedule:p}=tV({id:`${e.uid}.${f}`,wait:r,shouldSplitBatch(v){return v.reduce((_,{data:E})=>_+(E.length-2),0)>n*2},fn:async v=>{const w=v.map(C=>({allowFailure:!0,callData:C.data,target:C.to})),_=rh({abi:WC,args:[w],functionName:"aggregate3"}),E=await e.request({method:"eth_call",params:[{data:_,to:l},f]});return B0({abi:WC,args:[w],functionName:"aggregate3",data:E||"0x"})}}),[{returnData:m,success:g}]=await p({data:s,to:c});if(!g)throw new oA({data:m});return m==="0x"?{data:void 0}:{data:m}}function Mme(e){const{code:t,data:n}=e;return Uk({abi:iq(["constructor(bytes, bytes)"]),bytecode:Tme,args:[t,n]})}function Dme(e){const{data:t,factory:n,factoryData:r,to:i}=e;return Uk({abi:iq(["constructor(address, bytes, address, bytes)"]),bytecode:Rme,args:[i,t,n,r]})}function Lme(e){var n;if(!(e instanceof tt))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function Ru(e,t){const{abi:n,address:r,args:i,functionName:o,...s}=t,a=rh({abi:n,args:i,functionName:o});try{const{data:c}=await Qn(e,Fk,"call")({...s,data:a,to:r});return B0({abi:n,args:i,functionName:o,data:c||"0x"})}catch(c){throw Qv(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:o})}}async function Ume(e,t){const{abi:n,address:r,args:i,dataSuffix:o,functionName:s,...a}=t,c=a.account?Xc(a.account):e.account,l=rh({abi:n,args:i,functionName:s});try{const{data:d}=await Qn(e,Fk,"call")({batch:!1,data:`${l}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),f=B0({abi:n,args:i,functionName:s,data:d||"0x"}),p=n.filter(m=>"name"in m&&m.name===t.functionName);return{result:f,request:{abi:p,address:r,args:i,dataSuffix:o,functionName:s,...a,account:c}}}catch(d){throw Qv(d,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:c==null?void 0:c.address})}}const v6=new Map,nj=new Map;let Fme=0;function Mf(e,t,n){const r=++Fme,i=()=>v6.get(e)||[],o=()=>{const d=i();v6.set(e,d.filter(f=>f.id!==r))},s=()=>{const d=nj.get(e);i().length===1&&d&&d(),o()},a=i();if(v6.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return s;const c={};for(const d in t)c[d]=(...f)=>{var m,g;const p=i();if(p.length!==0)for(const y of p)(g=(m=y.fns)[d])==null||g.call(m,...f)};const l=n(c);return typeof l=="function"&&nj.set(e,l),s}async function qC(e){return new Promise(t=>setTimeout(t,e))}function d1(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let i=!0;const o=()=>i=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await qC(c);const l=async()=>{i&&(await e({unpoll:o}),await qC(r),l())};l()})(),o}const Wme=new Map,zme=new Map;function qme(e){const t=(i,o)=>({clear:()=>o.delete(i),get:()=>o.get(i),set:s=>o.set(i,s)}),n=t(e,Wme),r=t(e,zme);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Vme(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=qme(t),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const s=await o;return r.response.set({created:new Date,data:s}),s}finally{r.promise.clear()}}const Hme=e=>`blockNumber.${e}`;async function u1(e,{cacheTime:t=e.cacheTime}={}){const n=await Vme(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Hme(e.uid),cacheTime:t});return BigInt(n)}async function Wk(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const i=r.map(o=>Tu(o));return!("abi"in t)||!t.abi?i:vA({abi:t.abi,logs:i,strict:n})}async function zk(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Kme(e,t){const{abi:n,address:r,args:i,batch:o=!0,eventName:s,fromBlock:a,onError:c,onLogs:l,poll:d,pollingInterval:f=e.pollingInterval,strict:p}=t;return(typeof d<"u"?d:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const v=p??!1,w=Os(["watchContractEvent",r,i,o,e.uid,s,f,v,a]);return Mf(w,{onLogs:l,onError:c},_=>{let E;a!==void 0&&(E=a-1n);let C,T=!1;const A=d1(async()=>{var S;if(!T){try{C=await Qn(e,Sq,"createContractEventFilter")({abi:n,address:r,args:i,eventName:s,strict:v,fromBlock:a})}catch{}T=!0;return}try{let O;if(C)O=await Qn(e,Wk,"getFilterChanges")({filter:C});else{const D=await Qn(e,u1,"getBlockNumber")({});E&&E<D?O=await Qn(e,Yq,"getContractEvents")({abi:n,address:r,args:i,eventName:s,fromBlock:E+1n,toBlock:D,strict:v}):O=[],E=D}if(O.length===0)return;if(o)_.onLogs(O);else for(const D of O)_.onLogs([D])}catch(O){C&&O instanceof fp&&(T=!1),(S=_.onError)==null||S.call(_,O)}},{emitOnBegin:!0,interval:f});return async()=>{C&&await Qn(e,zk,"uninstallFilter")({filter:C}),A()}})})():(()=>{const v=p??!1,w=Os(["watchContractEvent",r,i,o,e.uid,s,f,v]);let _=!0,E=()=>_=!1;return Mf(w,{onLogs:l,onError:c},C=>((async()=>{try{const T=(()=>{if(e.transport.type==="fallback"){const O=e.transport.transports.find(D=>D.config.type==="webSocket");return O?O.value:e.transport}return e.transport})(),A=s?r1({abi:n,eventName:s,args:i}):[],{unsubscribe:S}=await T.subscribe({params:["logs",{address:r,topics:A}],onData(O){var K;if(!_)return;const D=O.result;try{const{eventName:H,args:X}=yA({abi:n,data:D.data,topics:D.topics,strict:p}),U=Tu(D,{args:X,eventName:H});C.onLogs([U])}catch(H){let X,U;if(H instanceof $v||H instanceof Ok){if(p)return;X=H.abiItem.name,U=(K=H.abiItem.inputs)==null?void 0:K.some(x=>!("name"in x&&x.name))}const I=Tu(D,{args:U?[]:{},eventName:X});C.onLogs([I])}},onError(O){var D;(D=C.onError)==null||D.call(C,O)}});E=S,_||E()}catch(T){c==null||c(T)}})(),()=>E()))})()}class qk extends tt{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}function nV({chain:e,currentChainId:t}){if(!e)throw new Nme;if(t!==e.id)throw new Ome({chain:e,currentChainId:t})}function Gme(e,{docsPath:t,...n}){const r=(()=>{const i=sA(e,n);return i instanceof Mk?e:i})();return new Rq(r,{docsPath:t,...n})}async function wA(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function _A(e,t){var w,_,E,C;const{account:n=e.account,chain:r=e.chain,accessList:i,blobs:o,data:s,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:p,to:m,value:g,...y}=t;if(!n)throw new qk({docsPath:"/docs/actions/wallet/sendTransaction"});const v=Xc(n);try{s1(t);let T;if(r!==null&&(T=await Qn(e,c1,"getChainId")({}),nV({currentChainId:T,chain:r})),v.type==="local"){const D=await Qn(e,Lk,"prepareTransactionRequest")({account:v,accessList:i,blobs:o,chain:r,chainId:T,data:s,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:p,parameters:[...Jq,"sidecars"],to:m,value:g,...y}),K=(w=r==null?void 0:r.serializers)==null?void 0:w.transaction,H=await v.signTransaction(D,{serializer:K});return await Qn(e,wA,"sendRawTransaction")({serializedTransaction:H})}const A=(C=(E=(_=e.chain)==null?void 0:_.formatters)==null?void 0:E.transactionRequest)==null?void 0:C.format,O=(A||o1)({...aA(y,{format:A}),accessList:i,blobs:o,chainId:T,data:s,from:v.address,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:p,to:m,value:g});return await e.request({method:"eth_sendTransaction",params:[O]},{retryCount:0})}catch(T){throw Gme(T,{...t,account:v,chain:t.chain||void 0})}}async function Zme(e,t){const{abi:n,address:r,args:i,dataSuffix:o,functionName:s,...a}=t,c=rh({abi:n,args:i,functionName:s});return Qn(e,_A,"sendTransaction")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}class Jme extends tt{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip712DomainNotFoundError"})}}async function Yme(e,t){const{address:n,factory:r,factoryData:i}=t;try{const[o,s,a,c,l,d,f]=await Qn(e,Ru,"readContract")({abi:Xme,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:s,version:a,chainId:Number(c),verifyingContract:l,salt:d},extensions:f,fields:o}}catch(o){const s=o;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new Jme({address:n}):s}}const Xme=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function Qme(e,{chain:t}){const{id:n,name:r,nativeCurrency:i,rpcUrls:o,blockExplorers:s}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:Er(n),chainName:r,nativeCurrency:i,rpcUrls:o.default.http,blockExplorerUrls:s?Object.values(s).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}const VC=256;let d_=VC,u_;function rV(e=11){if(!u_||d_+e>VC*2){u_="",d_=0;for(let t=0;t<VC;t++)u_+=(256+Math.random()*256|0).toString(16).substring(1)}return u_.substring(d_,d_+++e)}function iV(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:i="base",name:o="Base Client",pollingInterval:s=4e3,type:a="base"}=e,c=e.chain,l=e.account?Xc(e.account):void 0,{config:d,request:f,value:p}=e.transport({chain:c,pollingInterval:s}),m={...d,...p},g={account:l,batch:t,cacheTime:n,ccipRead:r,chain:c,key:i,name:o,pollingInterval:s,request:f,transport:m,type:a,uid:rV()};function y(v){return w=>{const _=w(v);for(const C in g)delete _[C];const E={...v,..._};return Object.assign(E,{extend:y(E)})}}return Object.assign(g,{extend:y(g)})}const f_=new Q7(8192);function ege(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(f_.get(n))return f_.get(n);const r=e().finally(()=>f_.delete(n));return f_.set(n,r),r}function HC(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,o)=>{const s=async({count:a=0}={})=>{const c=async({error:l})=>{const d=typeof t=="function"?t({count:a,error:l}):t;d&&await qC(d),s({count:a+1})};try{const l=await e();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});o(l)}};s()})}function tge(e,t={}){return async(n,r={})=>{const{dedupe:i=!1,retryDelay:o=150,retryCount:s=3,uid:a}={...t,...r},c=i?Xs(Fg(`${a}.${Os(n)}`)):void 0;return ege(()=>HC(async()=>{try{return await e(n)}catch(l){const d=l;switch(d.code){case Lv.code:throw new Lv(d);case Uv.code:throw new Uv(d);case Fv.code:throw new Fv(d);case Wv.code:throw new Wv(d);case up.code:throw new up(d);case fp.code:throw new fp(d);case zv.code:throw new zv(d);case qv.code:throw new qv(d);case Vv.code:throw new Vv(d);case Hv.code:throw new Hv(d);case zg.code:throw new zg(d);case Kv.code:throw new Kv(d);case Cg.code:throw new Cg(d);case Gv.code:throw new Gv(d);case Zv.code:throw new Zv(d);case Jv.code:throw new Jv(d);case Yv.code:throw new Yv(d);case Xv.code:throw new Xv(d);case 5e3:throw new Cg(d);default:throw l instanceof tt?l:new rme(d)}}},{delay:({count:l,error:d})=>{var f;if(d&&d instanceof xv){const p=(f=d==null?void 0:d.headers)==null?void 0:f.get("Retry-After");if(p!=null&&p.match(/\d/))return Number.parseInt(p)*1e3}return~~(1<<l)*o},retryCount:s,shouldRetry:({error:l})=>nge(l)}),{enabled:i,id:c})}}function nge(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===zg.code||e.code===up.code:e instanceof xv&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function oV({key:e,name:t,request:n,retryCount:r=3,retryDelay:i=150,timeout:o,type:s},a){const c=rV();return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:i,timeout:o,type:s},request:tge(n,{retryCount:r,retryDelay:i,uid:c}),value:a}}function eb(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:i}=t;return({retryCount:o})=>oV({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:i,type:"custom"})}class rge extends tt{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function ige(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,o)=>{(async()=>{let s;try{const a=new AbortController;n>0&&(s=setTimeout(()=>{r?a.abort():o(t)},n)),i(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(t),o(a)}finally{clearTimeout(s)}})()})}function oge(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const rj=oge();function sge(e,t={}){return{async request(n){var f;const{body:r,onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:s=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:d}=a;try{const p=await ige(async({signal:g})=>{const y={...a,body:Array.isArray(r)?Os(r.map(_=>({jsonrpc:"2.0",id:_.id??rj.take(),..._}))):Os({jsonrpc:"2.0",id:r.id??rj.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:l||"POST",signal:d||(s>0?g:null)},v=new Request(e,y);return i&&await i(v),await fetch(e,y)},{errorInstance:new Z9({body:r,url:e}),timeout:s,signal:!0});o&&await o(p);let m;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json")?m=await p.json():(m=await p.text(),m=JSON.parse(m||"{}")),!p.ok)throw new xv({body:r,details:Os(m.error)||p.statusText,headers:p.headers,status:p.status,url:e});return m}catch(p){throw p instanceof xv||p instanceof Z9?p:new xv({body:r,cause:p,url:e})}}}}function KC(e,t={}){const{batch:n,fetchOptions:r,key:i="http",name:o="HTTP JSON-RPC",onFetchRequest:s,onFetchResponse:a,retryDelay:c}=t;return({chain:l,retryCount:d,timeout:f})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},g=t.retryCount??d,y=f??t.timeout??1e4,v=e||(l==null?void 0:l.rpcUrls.default.http[0]);if(!v)throw new rge;const w=sge(v,{fetchOptions:r,onRequest:s,onResponse:a,timeout:y});return oV({key:i,name:o,async request({method:_,params:E}){const C={method:_,params:E},{schedule:T}=tV({id:v,wait:m,shouldSplitBatch(D){return D.length>p},fn:D=>w.request({body:D}),sort:(D,K)=>D.id-K.id}),A=async D=>n?T(D):[await w.request({body:D})],[{error:S,result:O}]=await A(C);if(S)throw new jq({body:C,error:S,url:v});return O},retryCount:g,retryDelay:c,timeout:y,type:"http"},{fetchOptions:r,url:v})}}function xA(e,t){var r,i,o,s,a,c;if(!(e instanceof tt))return!1;const n=e.walk(l=>l instanceof OC);return n instanceof OC?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((i=n.data)==null?void 0:i.errorName)==="ResolverWildcardNotSupported"||((o=n.data)==null?void 0:o.errorName)==="ResolverNotContract"||((s=n.data)==null?void 0:s.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Eq[50]):!1}function sV(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Gc(t)?t:null}function Ix(e){let t=new Uint8Array(32).fill(0);if(!e)return Yo(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const i=sV(n[r]),o=i?bl(i):Xs(np(n[r]),"bytes");t=Xs(Au([t,o]),"bytes")}return Yo(t)}function age(e){return`[${e.slice(2)}]`}function cge(e){const t=new Uint8Array(32).fill(0);return e?sV(e)||Xs(np(e)):Yo(t)}function Vk(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(np(t).byteLength+2);let r=0;const i=t.split(".");for(let o=0;o<i.length;o++){let s=np(i[o]);s.byteLength>255&&(s=np(age(cge(i[o])))),n[r]=s.length,n.set(s,r+1),r+=s.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function lge(e,{blockNumber:t,blockTag:n,coinType:r,name:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=$0({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const l=rh({abi:tj,functionName:"addr",...r!=null?{args:[Ix(i),BigInt(r)]}:{args:[Ix(i)]}}),d={address:c,abi:Qq,functionName:"resolve",args:[hn(Vk(i)),l],blockNumber:t,blockTag:n},f=Qn(e,Ru,"readContract"),p=o?await f({...d,args:[...d.args,o]}):await f(d);if(p[0]==="0x")return null;const m=B0({abi:tj,args:r!=null?[Ix(i),BigInt(r)]:void 0,functionName:"addr",data:p[0]});return m==="0x"||jf(m)==="0x00"?null:m}catch(l){if(s)throw l;if(xA(l,"resolve"))return null;throw l}}class dge extends tt{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class Ly extends tt{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class kA extends tt{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class uge extends tt{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const fge=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,hge=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,pge=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,mge=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function gge(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function ij(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function aV({uri:e,gatewayUrls:t}){const n=pge.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=ij(t==null?void 0:t.ipfs,"https://ipfs.io"),i=ij(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(fge),{protocol:s,subpath:a,target:c,subtarget:l=""}=(o==null?void 0:o.groups)||{},d=s==="ipns:/"||a==="ipns/",f=s==="ipfs:/"||a==="ipfs/"||hge.test(e);if(e.startsWith("http")&&!d&&!f){let m=e;return t!=null&&t.arweave&&(m=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((d||f)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(mge,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new kA({uri:e})}function cV(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new dge({data:e});return e.image||e.image_url||e.image_data}async function yge({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(i=>i.json());return await SA({gatewayUrls:e,uri:cV(n)})}catch{throw new kA({uri:t})}}async function SA({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=aV({uri:t,gatewayUrls:e});if(r||await gge(n))return n;throw new kA({uri:t})}function vge(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=t.split("/"),[o,s]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Ly({reason:"Only EIP-155 supported"});if(!s)throw new Ly({reason:"Chain ID not found"});if(!c)throw new Ly({reason:"Contract address not found"});if(!i)throw new Ly({reason:"Token ID not found"});if(!a)throw new Ly({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function bge(e,{nft:t}){if(t.namespace==="erc721")return Ru(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Ru(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new uge({namespace:t.namespace})}async function wge(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?_ge(e,{gatewayUrls:t,record:n}):SA({uri:n,gatewayUrls:t})}async function _ge(e,{gatewayUrls:t,record:n}){const r=vge(n),i=await bge(e,{nft:r}),{uri:o,isOnChain:s,isEncoded:a}=aV({uri:i,gatewayUrls:t});if(s&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const l=a?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(l);return SA({uri:cV(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),yge({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function lV(e,{blockNumber:t,blockTag:n,name:r,key:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=$0({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const l={address:c,abi:Qq,functionName:"resolve",args:[hn(Vk(r)),rh({abi:ej,functionName:"text",args:[Ix(r),i]})],blockNumber:t,blockTag:n},d=Qn(e,Ru,"readContract"),f=o?await d({...l,args:[...l.args,o]}):await d(l);if(f[0]==="0x")return null;const p=B0({abi:ej,functionName:"text",data:f[0]});return p===""?null:p}catch(l){if(s)throw l;if(xA(l,"resolve"))return null;throw l}}async function xge(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){const c=await Qn(e,lV,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:o,strict:s});if(!c)return null;try{return await wge(e,{record:c,gatewayUrls:r})}catch{return null}}async function kge(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:i,strict:o,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=$0({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:Cme,functionName:"reverse",args:[hn(Vk(c))],blockNumber:n,blockTag:r},d=Qn(e,Ru,"readContract"),[f,p]=i?await d({...l,args:[...l.args,i]}):await d(l);return t.toLowerCase()!==p.toLowerCase()?null:f}catch(l){if(o)throw l;if(xA(l,"reverse"))return null;throw l}}async function Sge(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:i}){let o=i;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=$0({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[s]=await Qn(e,Ru,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[hn(Vk(r))],blockNumber:t,blockTag:n});return s}async function Ege(e){const t=Bk(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function dV(e,{address:t,args:n,event:r,events:i,fromBlock:o,strict:s,toBlock:a}={}){const c=i??(r?[r]:void 0),l=Bk(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(m=>r1({abi:[m],eventName:m.name,args:n}))],r&&(d=d[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?Er(o):o,toBlock:typeof a=="bigint"?Er(a):a,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:f,request:l(f),strict:!!s,toBlock:a,type:"event"}}async function uV(e){const t=Bk(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Cge(e,{address:t,blockNumber:n,blockTag:r="latest"}){const i=n?Er(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,i||r]});return BigInt(o)}async function Ige(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Age(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?Er(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),Sl(o)}async function GC(e,{address:t,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?Er(n):void 0,o=await e.request({method:"eth_getCode",params:[t,i||r]},{dedupe:!!i});if(o!=="0x")return o}function Tge(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Rge(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const o=n?Er(n):void 0,s=await e.request({method:"eth_feeHistory",params:[Er(t),o||r,i]},{dedupe:!!o});return Tge(s)}async function Pge(e,{filter:t}){const n=t.strict??!1,i=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Tu(o));return t.abi?vA({abi:t.abi,logs:i,strict:n}):i}function fV(e,t){if(!Hi(e,{strict:!1}))throw new Jo({address:e});if(!Hi(t,{strict:!1}))throw new Jo({address:t});return e.toLowerCase()===t.toLowerCase()}function se(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Oge=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Nge=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function hV(e){const{domain:t={},message:n,primaryType:r}=e,i={EIP712Domain:bV({domain:t}),...e.types};vV({domain:t,message:n,primaryType:r,types:i});const o=["0x1901"];return t&&o.push(jge({domain:t,types:i})),r!=="EIP712Domain"&&o.push(pV({data:n,primaryType:r,types:i})),Xs(Au(o))}function jge({domain:e,types:t}){return pV({data:e,primaryType:"EIP712Domain",types:t})}function pV({data:e,primaryType:t,types:n}){const r=mV({data:e,primaryType:t,types:n});return Xs(r)}function mV({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],i=[Bge({primaryType:t,types:n})];for(const o of n[t]){const[s,a]=yV({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(s),i.push(a)}return O0(r,i)}function Bge({primaryType:e,types:t}){const n=hn($ge({primaryType:e,types:t}));return Xs(n)}function $ge({primaryType:e,types:t}){let n="";const r=gV({primaryType:e,types:t});r.delete(e);const i=[e,...Array.from(r).sort()];for(const o of i)n+=`${o}(${t[o].map(({name:s,type:a})=>`${a} ${s}`).join(",")})`;return n}function gV({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||t[i]===void 0)return n;n.add(i);for(const o of t[i])gV({primaryType:o.type,types:t},n);return n}function yV({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Xs(mV({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Xs(r)];if(n==="string")return[{type:"bytes32"},Xs(hn(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),o=r.map(s=>yV({name:t,type:i,types:e,value:s}));return[{type:"bytes32"},Xs(O0(o.map(([s])=>s),o.map(([,s])=>s)))]}return[{type:n},r]}function Mge(e){const{domain:t,message:n,primaryType:r,types:i}=e,o=(c,l)=>{const d={...l};for(const f of c){const{name:p,type:m}=f;m==="address"&&(d[p]=d[p].toLowerCase())}return d},s=i.EIP712Domain?t?o(i.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(i[r],n)})();return Os({domain:s,message:a,primaryType:r,types:i})}function vV(e){const{domain:t,message:n,primaryType:r,types:i}=e,o=(s,a)=>{for(const c of s){const{name:l,type:d}=c,f=a[l],p=d.match(Nge);if(p&&(typeof f=="number"||typeof f=="bigint")){const[y,v,w]=p;Er(f,{signed:v==="int",size:Number.parseInt(w)/8})}if(d==="address"&&typeof f=="string"&&!Hi(f))throw new Jo({address:f});const m=d.match(Oge);if(m){const[y,v]=m;if(v&&Io(f)!==Number.parseInt(v))throw new Rhe({expectedSize:Number.parseInt(v),givenSize:Io(f)})}const g=i[d];g&&o(g,f)}};i.EIP712Domain&&t&&o(i.EIP712Domain,t),r!=="EIP712Domain"&&o(i[r],n)}function bV({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Dge(e){const t=Xs(`0x${e.substring(4)}`).substring(26);return t1(`0x${t}`)}function Df(e,t="hex"){const n=wV(e),r=iA(new Uint8Array(n.length));return n.encode(r),t==="hex"?Yo(r.bytes):r.bytes}function wV(e){return Array.isArray(e)?Lge(e.map(t=>wV(t))):Uge(e)}function Lge(e){const t=e.reduce((i,o)=>i+o.length,0),n=_V(t);return{length:t<=55?1+t:1+n+t,encode(i){t<=55?i.pushByte(192+t):(i.pushByte(247+n),n===1?i.pushUint8(t):n===2?i.pushUint16(t):n===3?i.pushUint24(t):i.pushUint32(t));for(const{encode:o}of e)o(i)}}}function Uge(e){const t=typeof e=="string"?wl(e):e,n=_V(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(i){t.length===1&&t[0]<128?i.pushBytes(t):t.length<=55?(i.pushByte(128+t.length),i.pushBytes(t)):(i.pushByte(183+n),n===1?i.pushUint8(t.length):n===2?i.pushUint16(t.length):n===3?i.pushUint24(t.length):i.pushUint32(t.length),i.pushBytes(t))}}}function _V(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new tt("Length is too large.")}const Fge={"0x0":"reverted","0x1":"success"};function xV(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>Tu(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Sl(e.transactionIndex):null,status:e.status?Fge[e.status]:null,type:e.type?Dq[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const kV=Dk("transactionReceipt",xV);async function Wge({hash:e,signature:t}){const n=Gc(e)?e:hn(e),{secp256k1:r}=await W7(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>F0e);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:l,s:d,v:f,yParity:p}=t,m=Number(p??f),g=oj(m);return new r.Signature(ni(l),ni(d)).addRecoveryBit(g)}const s=Gc(t)?t:hn(t),a=Sl(`0x${s.slice(130)}`),c=oj(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function oj(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function zge({hash:e,signature:t}){return Dge(await Wge({hash:e,signature:t}))}const qge=`Ethereum Signed Message:
`;function Vge(e){const t=typeof e=="string"?Fg(e):typeof e.raw=="string"?e.raw:Yo(e.raw),n=Fg(`${qge}${Io(t)}`);return Au([n,t])}function EA(e,t){return Xs(Vge(e),t)}const SV="0x6492649264926492649264926492649264926492649264926492649264926492";function Hge(e){return xq(e,-32)===SV}function Kge(e){const{address:t,data:n,signature:r}=e;return xd([O0([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),SV])}function Gge(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Kq;for(const n of t){const r=Io(n),i=Sl(Mv(n,0,1));if(r!==32)throw new _me({hash:n,size:r});if(i!==Hq)throw new xme({hash:n,version:i})}}EV(e)}function EV(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=e;if(t<=0)throw new l1({chainId:t});if(i&&!Hi(i))throw new Jo({address:i});if(r&&r>2n**256n-1n)throw new Bf({maxFeePerGas:r});if(n&&r&&n>r)throw new qg({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Zge(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o}=e;if(t<=0)throw new l1({chainId:t});if(o&&!Hi(o))throw new Jo({address:o});if(n||i)throw new tt("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>2n**256n-1n)throw new Bf({maxFeePerGas:r})}function Jge(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o,accessList:s}=e;if(o&&!Hi(o))throw new Jo({address:o});if(typeof t<"u"&&t<=0)throw new l1({chainId:t});if(n||i)throw new tt("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>2n**256n-1n)throw new Bf({maxFeePerGas:r});if(s)throw new tt("`accessList` is not a valid Legacy Transaction attribute.")}function Hk(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:i}=e[n];for(let o=0;o<i.length;o++)if(i[o].length-2!==64)throw new Xpe({storageKey:i[o]});if(!Hi(r,{strict:!1}))throw new Jo({address:r});t.push([r,i])}return t}function Kk(e,t){const n=Zq(e);return n==="eip1559"?Xge(e,t):n==="eip2930"?Qge(e,t):n==="eip4844"?Yge(e,t):e0e(e,t)}function Yge(e,t){const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:f}=e;Gge(e);let p=e.blobVersionedHashes,m=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof m>"u")){const E=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(A=>Yo(A)),C=e.kzg,T=hA({blobs:E,kzg:C});if(typeof p>"u"&&(p=zq({commitments:T})),typeof m>"u"){const A=pA({blobs:E,commitments:T,kzg:C});m=Gq({blobs:E,commitments:T,proofs:A})}}const g=Hk(d),y=[hn(n),i?hn(i):"0x",l?hn(l):"0x",c?hn(c):"0x",r?hn(r):"0x",o??"0x",s?hn(s):"0x",f??"0x",g,a?hn(a):"0x",p??[],...Gk(e,t)],v=[],w=[],_=[];if(m)for(let E=0;E<m.length;E++){const{blob:C,commitment:T,proof:A}=m[E];v.push(C),w.push(T),_.push(A)}return xd(["0x03",Df(m?[y,v,w,_]:y)])}function Xge(e,t){const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:d}=e;EV(e);const f=Hk(l),p=[hn(n),i?hn(i):"0x",c?hn(c):"0x",a?hn(a):"0x",r?hn(r):"0x",o??"0x",s?hn(s):"0x",d??"0x",f,...Gk(e,t)];return xd(["0x02",Df(p)])}function Qge(e,t){const{chainId:n,gas:r,data:i,nonce:o,to:s,value:a,accessList:c,gasPrice:l}=e;Zge(e);const d=Hk(c),f=[hn(n),o?hn(o):"0x",l?hn(l):"0x",r?hn(r):"0x",s??"0x",a?hn(a):"0x",i??"0x",d,...Gk(e,t)];return xd(["0x01",Df(f)])}function e0e(e,t){const{chainId:n=0,gas:r,data:i,nonce:o,to:s,value:a,gasPrice:c}=e;Jge(e);let l=[o?hn(o):"0x",c?hn(c):"0x",r?hn(r):"0x",s??"0x",a?hn(a):"0x",i??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const f=27n+(t.v===27n?0n:1n);if(t.v!==f)throw new Jpe({v:t.v});return f})();l=[...l,hn(d),t.r,t.s]}else n>0&&(l=[...l,hn(n),"0x","0x"]);return Df(l)}function Gk(e,t){const n=t??e,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const o=jf(n.r),s=jf(n.s);return[typeof i=="number"?i?hn(1):"0x":r===0n?"0x":r===1n?hn(1):r===27n?"0x":hn(1),o==="0x00"?"0x":o,s==="0x00"?"0x":s]}function t0e(e,t){let[n,r="0"]=e.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[o,s,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${s}.${a}`);c>9?r=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):r=`${o}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${i?"-":""}${n}${r}`)}function n0e(e,t="wei"){return t0e(e,Aq[t])}function r0e(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function i0e(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Sl(e.nonce):void 0,storageProof:e.storageProof?r0e(e.storageProof):void 0}}async function o0e(e,{address:t,blockNumber:n,blockTag:r,storageKeys:i}){const o=r??"latest",s=n!==void 0?Er(n):void 0,a=await e.request({method:"eth_getProof",params:[t,i,s||o]});return i0e(a)}async function s0e(e,{address:t,blockNumber:n,blockTag:r="latest",slot:i}){const o=n!==void 0?Er(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,o||r]})}async function CA(e,{blockHash:t,blockNumber:n,blockTag:r,hash:i,index:o}){var d,f,p;const s=r||"latest",a=n!==void 0?Er(n):void 0;let c=null;if(i?c=await e.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,Er(o)]},{dedupe:!0}):(a||s)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||s,Er(o)]},{dedupe:!!a})),!c)throw new Pq({blockHash:t,blockNumber:n,blockTag:s,hash:i,index:o});return(((p=(f=(d=e.chain)==null?void 0:d.formatters)==null?void 0:f.transaction)==null?void 0:p.format)||a1)(c)}async function a0e(e,{hash:t,transactionReceipt:n}){const[r,i]=await Promise.all([Qn(e,u1,"getBlockNumber")({}),t?Qn(e,CA,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return o?r-o+1n:0n}async function ZC(e,{hash:t}){var i,o,s;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Oq({hash:t});return(((s=(o=(i=e.chain)==null?void 0:i.formatters)==null?void 0:o.transactionReceipt)==null?void 0:s.format)||xV)(n)}async function c0e(e,t){var v;const{allowFailure:n=!0,batchSize:r,blockNumber:i,blockTag:o,multicallAddress:s,stateOverride:a}=t,c=t.contracts,l=r??(typeof((v=e.batch)==null?void 0:v.multicall)=="object"&&e.batch.multicall.batchSize||1024);let d=s;if(!d){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");d=$0({blockNumber:i,chain:e.chain,contract:"multicall3"})}const f=[[]];let p=0,m=0;for(let w=0;w<c.length;w++){const{abi:_,address:E,args:C,functionName:T}=c[w];try{const A=rh({abi:_,args:C,functionName:T});m+=(A.length-2)/2,l>0&&m>l&&f[p].length>0&&(p++,m=(A.length-2)/2,f[p]=[]),f[p]=[...f[p],{allowFailure:!0,callData:A,target:E}]}catch(A){const S=Qv(A,{abi:_,address:E,args:C,docsPath:"/docs/contract/multicall",functionName:T});if(!n)throw S;f[p]=[...f[p],{allowFailure:!0,callData:"0x",target:E}]}}const g=await Promise.allSettled(f.map(w=>Qn(e,Ru,"readContract")({abi:WC,address:d,args:[w],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:a}))),y=[];for(let w=0;w<g.length;w++){const _=g[w];if(_.status==="rejected"){if(!n)throw _.reason;for(let C=0;C<f[w].length;C++)y.push({status:"failure",error:_.reason,result:void 0});continue}const E=_.value;for(let C=0;C<E.length;C++){const{returnData:T,success:A}=E[C],{callData:S}=f[w][C],{abi:O,address:D,functionName:K,args:H}=c[y.length];try{if(S==="0x")throw new Pk;if(!A)throw new oA({data:T});const X=B0({abi:O,args:H,data:T,functionName:K});y.push(n?{result:X,status:"success"}:X)}catch(X){const U=Qv(X,{abi:O,address:D,args:H,docsPath:"/docs/contract/multicall",functionName:K});if(!n)throw U;y.push({error:U,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new tt("multicall results mismatch");return y}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const CV=BigInt(0),Zk=BigInt(1),l0e=BigInt(2);function hp(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function f1(e){if(!hp(e))throw new Error("Uint8Array expected")}const d0e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Vg(e){f1(e);let t="";for(let n=0;n<e.length;n++)t+=d0e[e[n]];return t}function IV(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function IA(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const Jd={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function sj(e){if(e>=Jd._0&&e<=Jd._9)return e-Jd._0;if(e>=Jd._A&&e<=Jd._F)return e-(Jd._A-10);if(e>=Jd._a&&e<=Jd._f)return e-(Jd._a-10)}function Hg(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=sj(e.charCodeAt(o)),a=sj(e.charCodeAt(o+1));if(s===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=s*16+a}return r}function rp(e){return IA(Vg(e))}function AA(e){return f1(e),IA(Vg(Uint8Array.from(e).reverse()))}function Kg(e,t){return Hg(e.toString(16).padStart(t*2,"0"))}function TA(e,t){return Kg(e,t).reverse()}function u0e(e){return Hg(IV(e))}function hl(e,t,n){let r;if(typeof t=="string")try{r=Hg(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(hp(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function tb(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];f1(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}function AV(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function f0e(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function h0e(e){let t;for(t=0;e>CV;e>>=Zk,t+=1);return t}function p0e(e,t){return e>>BigInt(t)&Zk}function m0e(e,t,n){return e|(n?Zk:CV)<<BigInt(t)}const RA=e=>(l0e<<BigInt(e-1))-Zk,b6=e=>new Uint8Array(e),aj=e=>Uint8Array.from(e);function TV(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=b6(e),i=b6(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...f)=>n(i,r,...f),c=(f=b6())=>{i=a(aj([0]),f),r=a(),f.length!==0&&(i=a(aj([1]),f),r=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<t;){r=a();const m=r.slice();p.push(m),f+=r.length}return tb(...p)};return(f,p)=>{s(),c(f);let m;for(;!(m=p(l()));)c();return s(),m}}const g0e={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||hp(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function h1(e,t,n={}){const r=(i,o,s)=>{const a=g0e[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=e[i];if(!(s&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const y0e=Object.freeze(Object.defineProperty({__proto__:null,abytes:f1,bitGet:p0e,bitLen:h0e,bitMask:RA,bitSet:m0e,bytesToHex:Vg,bytesToNumberBE:rp,bytesToNumberLE:AA,concatBytes:tb,createHmacDrbg:TV,ensureBytes:hl,equalBytes:AV,hexToBytes:Hg,hexToNumber:IA,isBytes:hp,numberToBytesBE:Kg,numberToBytesLE:TA,numberToHexUnpadded:IV,numberToVarBytesBE:u0e,utf8ToBytes:f0e,validateObject:h1},Symbol.toStringTag,{value:"Module"}));function v0e(e,t){const n=Gc(e)?bl(e):e,r=Gc(t)?bl(t):t;return AV(n,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ys=BigInt(0),Fo=BigInt(1),Wh=BigInt(2),b0e=BigInt(3),JC=BigInt(4),cj=BigInt(5),lj=BigInt(8);BigInt(9);BigInt(16);function Ca(e,t){const n=e%t;return n>=ys?n:t+n}function w0e(e,t,n){if(n<=ys||t<ys)throw new Error("Expected power/modulo > 0");if(n===Fo)return ys;let r=Fo;for(;t>ys;)t&Fo&&(r=r*e%n),e=e*e%n,t>>=Fo;return r}function wc(e,t,n){let r=e;for(;t-- >ys;)r*=r,r%=n;return r}function YC(e,t){if(e===ys||t<=ys)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Ca(e,t),r=t,i=ys,o=Fo;for(;n!==ys;){const a=r/n,c=r%n,l=i-o*a;r=n,n=c,i=o,o=l}if(r!==Fo)throw new Error("invert: does not exist");return Ca(i,t)}function _0e(e){const t=(e-Fo)/Wh;let n,r,i;for(n=e-Fo,r=0;n%Wh===ys;n/=Wh,r++);for(i=Wh;i<e&&w0e(i,t,e)!==e-Fo;i++);if(r===1){const s=(e+Fo)/JC;return function(c,l){const d=c.pow(l,s);if(!c.eql(c.sqr(d),l))throw new Error("Cannot find square root");return d}}const o=(n+Fo)/Wh;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,d=a.pow(a.mul(a.ONE,i),n),f=a.pow(c,o),p=a.pow(c,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let m=1;for(let y=a.sqr(p);m<l&&!a.eql(y,a.ONE);m++)y=a.sqr(y);const g=a.pow(d,Fo<<BigInt(l-m-1));d=a.sqr(g),f=a.mul(f,g),p=a.mul(p,d),l=m}return f}}function x0e(e){if(e%JC===b0e){const t=(e+Fo)/JC;return function(r,i){const o=r.pow(i,t);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%lj===cj){const t=(e-cj)/lj;return function(r,i){const o=r.mul(i,Wh),s=r.pow(o,t),a=r.mul(i,s),c=r.mul(r.mul(a,Wh),s),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return _0e(e)}const k0e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function S0e(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=k0e.reduce((r,i)=>(r[i]="function",r),t);return h1(e,n)}function E0e(e,t,n){if(n<ys)throw new Error("Expected power > 0");if(n===ys)return e.ONE;if(n===Fo)return t;let r=e.ONE,i=t;for(;n>ys;)n&Fo&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Fo;return r}function C0e(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function RV(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function I0e(e,t,n=!1,r={}){if(e<=ys)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=RV(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=x0e(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:RA(i),ZERO:ys,ONE:Fo,create:c=>Ca(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ys<=c&&c<e},is0:c=>c===ys,isOdd:c=>(c&Fo)===Fo,neg:c=>Ca(-c,e),eql:(c,l)=>c===l,sqr:c=>Ca(c*c,e),add:(c,l)=>Ca(c+l,e),sub:(c,l)=>Ca(c-l,e),mul:(c,l)=>Ca(c*l,e),pow:(c,l)=>E0e(a,c,l),div:(c,l)=>Ca(c*YC(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>YC(c,e),sqrt:r.sqrt||(c=>s(a,c)),invertBatch:c=>C0e(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>n?TA(c,o):Kg(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return n?AA(c):rp(c)}});return Object.freeze(a)}function PV(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function OV(e){const t=PV(e);return t+Math.ceil(t/2)}function A0e(e,t,n=!1){const r=e.length,i=PV(t),o=OV(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?rp(e):AA(e),a=Ca(s,t-Fo)+Fo;return n?TA(a,i):Kg(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const T0e=BigInt(0),w6=BigInt(1);function R0e(e,t){const n=(i,o)=>{const s=o.negate();return i?s:o},r=i=>{const o=Math.ceil(t/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,o){let s=e.ZERO,a=i;for(;o>T0e;)o&w6&&(s=s.add(a)),a=a.double(),o>>=w6;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=r(o),c=[];let l=i,d=l;for(let f=0;f<s;f++){d=l,c.push(d);for(let p=1;p<a;p++)d=d.add(l),c.push(d);l=d.double()}return c},wNAF(i,o,s){const{windows:a,windowSize:c}=r(i);let l=e.ZERO,d=e.BASE;const f=BigInt(2**i-1),p=2**i,m=BigInt(i);for(let g=0;g<a;g++){const y=g*c;let v=Number(s&f);s>>=m,v>c&&(v-=p,s+=w6);const w=y,_=y+Math.abs(v)-1,E=g%2!==0,C=v<0;v===0?d=d.add(n(E,o[w])):l=l.add(n(C,o[_]))}return{p:l,f:d}},wNAFCached(i,o,s,a){const c=i._WINDOW_SIZE||1;let l=o.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&o.set(i,a(l))),this.wNAF(c,l,s)}}}function NV(e){return S0e(e.Fp),h1(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...RV(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function P0e(e){const t=NV(e);h1(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:O0e,hexToBytes:N0e}=y0e,Xh={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Xh;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:O0e(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Xh,n=typeof e=="string"?N0e(e):e;f1(n);let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Xh._parseInt(n.subarray(2)),{d:s,l:a}=Xh._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){const t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const d=l.toString(16);return d.length&1?`0${d}`:d},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,s=i.length/2,a=n(o),c=n(s);return`30${n(s+o+4)}02${c}${i}02${a}${r}`}},uu=BigInt(0),Oc=BigInt(1);BigInt(2);const dj=BigInt(3);BigInt(4);function j0e(e){const t=P0e(e),{Fp:n}=t,r=t.toBytes||((g,y,v)=>{const w=y.toAffine();return tb(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=t.fromBytes||(g=>{const y=g.subarray(1),v=n.fromBytes(y.subarray(0,n.BYTES)),w=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:v,y:w}});function o(g){const{a:y,b:v}=t,w=n.sqr(g),_=n.mul(w,g);return n.add(n.add(_,n.mul(g,y)),v)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(g){return typeof g=="bigint"&&uu<g&&g<t.n}function a(g){if(!s(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(g){const{allowedPrivateKeyLengths:y,nByteLength:v,wrapPrivateKey:w,n:_}=t;if(y&&typeof g!="bigint"){if(hp(g)&&(g=Vg(g)),typeof g!="string"||!y.includes(g.length))throw new Error("Invalid key");g=g.padStart(v*2,"0")}let E;try{E=typeof g=="bigint"?g:rp(hl("private key",g,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof g}`)}return w&&(E=Ca(E,_)),a(E),E}const l=new Map;function d(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,v,w){if(this.px=y,this.py=v,this.pz=w,y==null||!n.isValid(y))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(y){const{x:v,y:w}=y||{};if(!y||!n.isValid(v)||!n.isValid(w))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const _=E=>n.eql(E,n.ZERO);return _(v)&&_(w)?f.ZERO:new f(v,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const v=n.invertBatch(y.map(w=>w.pz));return y.map((w,_)=>w.toAffine(v[_])).map(f.fromAffine)}static fromHex(y){const v=f.fromAffine(i(hl("pointHex",y)));return v.assertValidity(),v}static fromPrivateKey(y){return f.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:v}=this.toAffine();if(!n.isValid(y)||!n.isValid(v))throw new Error("bad point: x or y not FE");const w=n.sqr(v),_=o(y);if(!n.eql(w,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){d(y);const{px:v,py:w,pz:_}=this,{px:E,py:C,pz:T}=y,A=n.eql(n.mul(v,T),n.mul(E,_)),S=n.eql(n.mul(w,T),n.mul(C,_));return A&&S}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:v}=t,w=n.mul(v,dj),{px:_,py:E,pz:C}=this;let T=n.ZERO,A=n.ZERO,S=n.ZERO,O=n.mul(_,_),D=n.mul(E,E),K=n.mul(C,C),H=n.mul(_,E);return H=n.add(H,H),S=n.mul(_,C),S=n.add(S,S),T=n.mul(y,S),A=n.mul(w,K),A=n.add(T,A),T=n.sub(D,A),A=n.add(D,A),A=n.mul(T,A),T=n.mul(H,T),S=n.mul(w,S),K=n.mul(y,K),H=n.sub(O,K),H=n.mul(y,H),H=n.add(H,S),S=n.add(O,O),O=n.add(S,O),O=n.add(O,K),O=n.mul(O,H),A=n.add(A,O),K=n.mul(E,C),K=n.add(K,K),O=n.mul(K,H),T=n.sub(T,O),S=n.mul(K,D),S=n.add(S,S),S=n.add(S,S),new f(T,A,S)}add(y){d(y);const{px:v,py:w,pz:_}=this,{px:E,py:C,pz:T}=y;let A=n.ZERO,S=n.ZERO,O=n.ZERO;const D=t.a,K=n.mul(t.b,dj);let H=n.mul(v,E),X=n.mul(w,C),U=n.mul(_,T),I=n.add(v,w),x=n.add(E,C);I=n.mul(I,x),x=n.add(H,X),I=n.sub(I,x),x=n.add(v,_);let P=n.add(E,T);return x=n.mul(x,P),P=n.add(H,U),x=n.sub(x,P),P=n.add(w,_),A=n.add(C,T),P=n.mul(P,A),A=n.add(X,U),P=n.sub(P,A),O=n.mul(D,x),A=n.mul(K,U),O=n.add(A,O),A=n.sub(X,O),O=n.add(X,O),S=n.mul(A,O),X=n.add(H,H),X=n.add(X,H),U=n.mul(D,U),x=n.mul(K,x),X=n.add(X,U),U=n.sub(H,U),U=n.mul(D,U),x=n.add(x,U),H=n.mul(X,x),S=n.add(S,H),H=n.mul(P,x),A=n.mul(I,A),A=n.sub(A,H),H=n.mul(I,X),O=n.mul(P,O),O=n.add(O,H),new f(A,S,O)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return m.wNAFCached(this,l,y,v=>{const w=n.invertBatch(v.map(_=>_.pz));return v.map((_,E)=>_.toAffine(w[E])).map(f.fromAffine)})}multiplyUnsafe(y){const v=f.ZERO;if(y===uu)return v;if(a(y),y===Oc)return this;const{endo:w}=t;if(!w)return m.unsafeLadder(this,y);let{k1neg:_,k1:E,k2neg:C,k2:T}=w.splitScalar(y),A=v,S=v,O=this;for(;E>uu||T>uu;)E&Oc&&(A=A.add(O)),T&Oc&&(S=S.add(O)),O=O.double(),E>>=Oc,T>>=Oc;return _&&(A=A.negate()),C&&(S=S.negate()),S=new f(n.mul(S.px,w.beta),S.py,S.pz),A.add(S)}multiply(y){a(y);let v=y,w,_;const{endo:E}=t;if(E){const{k1neg:C,k1:T,k2neg:A,k2:S}=E.splitScalar(v);let{p:O,f:D}=this.wNAF(T),{p:K,f:H}=this.wNAF(S);O=m.constTimeNegate(C,O),K=m.constTimeNegate(A,K),K=new f(n.mul(K.px,E.beta),K.py,K.pz),w=O.add(K),_=D.add(H)}else{const{p:C,f:T}=this.wNAF(v);w=C,_=T}return f.normalizeZ([w,_])[0]}multiplyAndAddUnsafe(y,v,w){const _=f.BASE,E=(T,A)=>A===uu||A===Oc||!T.equals(_)?T.multiplyUnsafe(A):T.multiply(A),C=E(this,v).add(E(y,w));return C.is0()?void 0:C}toAffine(y){const{px:v,py:w,pz:_}=this,E=this.is0();y==null&&(y=E?n.ONE:n.inv(_));const C=n.mul(v,y),T=n.mul(w,y),A=n.mul(_,y);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:C,y:T}}isTorsionFree(){const{h:y,isTorsionFree:v}=t;if(y===Oc)return!0;if(v)return v(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:v}=t;return y===Oc?this:v?v(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),r(f,this,y)}toHex(y=!0){return Vg(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=t.nBitLength,m=R0e(f,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function B0e(e){const t=NV(e);return h1(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function $0e(e){const t=B0e(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(x){return uu<x&&x<n.ORDER}function a(x){return Ca(x,r)}function c(x){return YC(x,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:p}=j0e({...t,toBytes(x,P,N){const $=P.toAffine(),L=n.toBytes($.x),z=tb;return N?z(Uint8Array.from([P.hasEvenY()?2:3]),L):z(Uint8Array.from([4]),L,n.toBytes($.y))},fromBytes(x){const P=x.length,N=x[0],$=x.subarray(1);if(P===i&&(N===2||N===3)){const L=rp($);if(!s(L))throw new Error("Point is not on curve");const z=f(L);let q;try{q=n.sqrt(z)}catch(re){const de=re instanceof Error?": "+re.message:"";throw new Error("Point is not on curve"+de)}const j=(q&Oc)===Oc;return(N&1)===1!==j&&(q=n.neg(q)),{x:L,y:q}}else if(P===o&&N===4){const L=n.fromBytes($.subarray(0,n.BYTES)),z=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:L,y:z}}else throw new Error(`Point of length ${P} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),m=x=>Vg(Kg(x,t.nByteLength));function g(x){const P=r>>Oc;return x>P}function y(x){return g(x)?a(-x):x}const v=(x,P,N)=>rp(x.slice(P,N));class w{constructor(P,N,$){this.r=P,this.s=N,this.recovery=$,this.assertValidity()}static fromCompact(P){const N=t.nByteLength;return P=hl("compactSignature",P,N*2),new w(v(P,0,N),v(P,N,2*N))}static fromDER(P){const{r:N,s:$}=Xh.toSig(hl("DER",P));return new w(N,$)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(P){return new w(this.r,this.s,P)}recoverPublicKey(P){const{r:N,s:$,recovery:L}=this,z=S(hl("msgHash",P));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");const q=L===2||L===3?N+t.n:N;if(q>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const j=L&1?"03":"02",W=l.fromHex(j+m(q)),re=c(q),de=a(-z*re),te=a($*re),ce=l.BASE.multiplyAndAddUnsafe(W,de,te);if(!ce)throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Hg(this.toDERHex())}toDERHex(){return Xh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Hg(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const _={isValidPrivateKey(x){try{return d(x),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const x=OV(t.n);return A0e(t.randomBytes(x),t.n)},precompute(x=8,P=l.BASE){return P._setWindowSize(x),P.multiply(BigInt(3)),P}};function E(x,P=!0){return l.fromPrivateKey(x).toRawBytes(P)}function C(x){const P=hp(x),N=typeof x=="string",$=(P||N)&&x.length;return P?$===i||$===o:N?$===2*i||$===2*o:x instanceof l}function T(x,P,N=!0){if(C(x))throw new Error("first arg must be private key");if(!C(P))throw new Error("second arg must be public key");return l.fromHex(P).multiply(d(x)).toRawBytes(N)}const A=t.bits2int||function(x){const P=rp(x),N=x.length*8-t.nBitLength;return N>0?P>>BigInt(N):P},S=t.bits2int_modN||function(x){return a(A(x))},O=RA(t.nBitLength);function D(x){if(typeof x!="bigint")throw new Error("bigint expected");if(!(uu<=x&&x<O))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Kg(x,t.nByteLength)}function K(x,P,N=H){if(["recovered","canonical"].some(Ce=>Ce in N))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:L}=t;let{lowS:z,prehash:q,extraEntropy:j}=N;z==null&&(z=!0),x=hl("msgHash",x),q&&(x=hl("prehashed msgHash",$(x)));const W=S(x),re=d(P),de=[D(re),D(W)];if(j!=null&&j!==!1){const Ce=j===!0?L(n.BYTES):j;de.push(hl("extraEntropy",Ce))}const te=tb(...de),ce=W;function ge(Ce){const qe=A(Ce);if(!p(qe))return;const J=c(qe),G=l.BASE.multiply(qe).toAffine(),we=a(G.x);if(we===uu)return;const $e=a(J*a(ce+we*re));if($e===uu)return;let yt=(G.x===we?0:2)|Number(G.y&Oc),Gt=$e;return z&&g($e)&&(Gt=y($e),yt^=1),new w(we,Gt,yt)}return{seed:te,k2sig:ge}}const H={lowS:t.lowS,prehash:!1},X={lowS:t.lowS,prehash:!1};function U(x,P,N=H){const{seed:$,k2sig:L}=K(x,P,N),z=t;return TV(z.hash.outputLen,z.nByteLength,z.hmac)($,L)}l.BASE._setWindowSize(8);function I(x,P,N,$=X){var G;const L=x;if(P=hl("msgHash",P),N=hl("publicKey",N),"strict"in $)throw new Error("options.strict was renamed to lowS");const{lowS:z,prehash:q}=$;let j,W;try{if(typeof L=="string"||hp(L))try{j=w.fromDER(L)}catch(we){if(!(we instanceof Xh.Err))throw we;j=w.fromCompact(L)}else if(typeof L=="object"&&typeof L.r=="bigint"&&typeof L.s=="bigint"){const{r:we,s:$e}=L;j=new w(we,$e)}else throw new Error("PARSE");W=l.fromHex(N)}catch(we){if(we.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(z&&j.hasHighS())return!1;q&&(P=t.hash(P));const{r:re,s:de}=j,te=S(P),ce=c(de),ge=a(te*ce),Ce=a(re*ce),qe=(G=l.BASE.multiplyAndAddUnsafe(W,ge,Ce))==null?void 0:G.toAffine();return qe?a(qe.x)===re:!1}return{CURVE:t,getPublicKey:E,getSharedSecret:T,sign:U,verify:I,ProjectivePoint:l,Signature:w,utils:_}}let jV=class extends Y7{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Hhe(t);const r=Nk(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Wg(this),this.iHash.update(t),this}digestInto(t){Wg(this),e1(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const BV=(e,t,n)=>new jV(e,t).update(n).digest();BV.create=(e,t)=>new jV(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function M0e(e){return{hash:e,hmac:(t,...n)=>BV(e,t,npe(...n)),randomBytes:rpe}}function D0e(e,t){const n=r=>$0e({...e,...M0e(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $V=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),uj=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),L0e=BigInt(1),XC=BigInt(2),fj=(e,t)=>(e+t/XC)/t;function U0e(e){const t=$V,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,d=l*l*e%t,f=wc(d,n,t)*d%t,p=wc(f,n,t)*d%t,m=wc(p,XC,t)*l%t,g=wc(m,i,t)*m%t,y=wc(g,o,t)*g%t,v=wc(y,a,t)*y%t,w=wc(v,c,t)*v%t,_=wc(w,a,t)*y%t,E=wc(_,n,t)*d%t,C=wc(E,s,t)*g%t,T=wc(C,r,t)*l%t,A=wc(T,XC,t);if(!QC.eql(QC.sqr(A),e))throw new Error("Cannot find square root");return A}const QC=I0e($V,void 0,void 0,{sqrt:U0e}),PA=D0e({a:BigInt(0),b:BigInt(7),Fp:QC,n:uj,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=uj,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-L0e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=fj(o*e,t),c=fj(-r*e,t);let l=Ca(e-a*n-c*i,t),d=Ca(-a*r-c*o,t);const f=l>s,p=d>s;if(f&&(l=t-l),p&&(d=t-d),l>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:p,k2:d}}}},Fq);BigInt(0);PA.ProjectivePoint;const F0e=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:PA},Symbol.toStringTag,{value:"Module"}));function MV({r:e,s:t,v:n,yParity:r}){const i=(()=>{if(r===0||r===1)return r;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new PA.Signature(ni(e),ni(t)).toCompactHex()}${i===0?"1b":"1c"}`}async function OA(e,t){const{address:n,factory:r,factoryData:i,hash:o,signature:s,...a}=t,c=Gc(s)?s:typeof s=="object"&&"r"in s&&"s"in s?MV(s):Yo(s),l=await(async()=>!r&&!i||Hge(c)||await Qn(e,GC,"getCode")({address:n})?c:Kge({address:r,data:i,signature:c}))();try{const{data:d}=await Qn(e,Fk,"call")({data:Uk({abi:Ime,args:[n,o,l],bytecode:Pme}),...a});return v0e(d??"0x0","0x1")}catch(d){try{if(fV(jk(n),await zge({hash:o,signature:s})))return!0}catch{}if(d instanceof Nq)return!1;throw d}}async function W0e(e,{address:t,message:n,factory:r,factoryData:i,signature:o,...s}){const a=EA(n);return OA(e,{address:t,factory:r,factoryData:i,hash:a,signature:o,...s})}async function z0e(e,t){const{address:n,factory:r,factoryData:i,signature:o,message:s,primaryType:a,types:c,domain:l,...d}=t,f=hV({message:s,primaryType:a,types:c,domain:l});return OA(e,{address:n,factory:r,factoryData:i,hash:f,signature:o,...d})}function DV(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:o,pollingInterval:s=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return a?(()=>{const f=Os(["watchBlockNumber",e.uid,t,n,s]);return Mf(f,{onBlockNumber:r,onError:i},p=>d1(async()=>{var m;try{const g=await Qn(e,u1,"getBlockNumber")({cacheTime:0});if(c){if(g===c)return;if(g-c>1&&n)for(let y=c+1n;y<g;y++)p.onBlockNumber(y,c),c=y}(!c||g>c)&&(p.onBlockNumber(g,c),c=g)}catch(g){(m=p.onError)==null||m.call(p,g)}},{emitOnBegin:t,interval:s}))})():(()=>{const f=Os(["watchBlockNumber",e.uid,t,n]);return Mf(f,{onBlockNumber:r,onError:i},p=>{let m=!0,g=()=>m=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(_=>_.config.type==="webSocket");return w?w.value:e.transport}return e.transport})(),{unsubscribe:v}=await y.subscribe({params:["newHeads"],onData(w){var E;if(!m)return;const _=ni((E=w.result)==null?void 0:E.number);p.onBlockNumber(_,c),c=_},onError(w){var _;(_=p.onError)==null||_.call(p,w)}});g=v,m||g()}catch(y){i==null||i(y)}})(),()=>g()})})()}async function q0e(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:i=e.pollingInterval,retryCount:o=6,retryDelay:s=({count:c})=>~~(1<<c)*200,timeout:a}){const c=Os(["waitForTransactionReceipt",e.uid,n]);let l=0,d,f,p,m=!1;return new Promise((g,y)=>{a&&setTimeout(()=>y(new G9({hash:n})),a);const v=Mf(c,{onReplaced:r,resolve:g,reject:y},w=>{const _=Qn(e,DV,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(E){const C=A=>{_(),A(),v()};let T=E;if(!m){l>o&&C(()=>w.reject(new G9({hash:n})));try{if(p){if(t>1&&(!p.blockNumber||T-p.blockNumber+1n<t))return;C(()=>w.resolve(p));return}if(d||(m=!0,await HC(async()=>{d=await Qn(e,CA,"getTransaction")({hash:n}),d.blockNumber&&(T=d.blockNumber)},{delay:s,retryCount:o}),m=!1),p=await Qn(e,ZC,"getTransactionReceipt")({hash:n}),t>1&&(!p.blockNumber||T-p.blockNumber+1n<t))return;C(()=>w.resolve(p))}catch(A){if(A instanceof Pq||A instanceof Oq){if(!d){m=!1;return}try{f=d,m=!0;const S=await HC(()=>Qn(e,$f,"getBlock")({blockNumber:T,includeTransactions:!0}),{delay:s,retryCount:o,shouldRetry:({error:K})=>K instanceof Mq});m=!1;const O=S.transactions.find(({from:K,nonce:H})=>K===f.from&&H===f.nonce);if(!O||(p=await Qn(e,ZC,"getTransactionReceipt")({hash:O.hash}),t>1&&(!p.blockNumber||T-p.blockNumber+1n<t)))return;let D="replaced";O.to===f.to&&O.value===f.value?D="repriced":O.from===O.to&&O.value===0n&&(D="cancelled"),C(()=>{var K;(K=w.onReplaced)==null||K.call(w,{reason:D,replacedTransaction:f,transaction:O,transactionReceipt:p}),w.resolve(p)})}catch(S){C(()=>w.reject(S))}}else C(()=>w.reject(A))}finally{l++}}}})})})}function V0e(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:o,includeTransactions:s,poll:a,pollingInterval:c=e.pollingInterval}){const l=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),d=s??!1;let f;return l?(()=>{const g=Os(["watchBlocks",e.uid,t,n,r,d,c]);return Mf(g,{onBlock:i,onError:o},y=>d1(async()=>{var v;try{const w=await Qn(e,$f,"getBlock")({blockTag:t,includeTransactions:d});if(w.number&&(f!=null&&f.number)){if(w.number===f.number)return;if(w.number-f.number>1&&n)for(let _=(f==null?void 0:f.number)+1n;_<w.number;_++){const E=await Qn(e,$f,"getBlock")({blockNumber:_,includeTransactions:d});y.onBlock(E,f),f=E}}(!(f!=null&&f.number)||t==="pending"&&!(w!=null&&w.number)||w.number&&w.number>f.number)&&(y.onBlock(w,f),f=w)}catch(w){(v=y.onError)==null||v.call(y,w)}},{emitOnBegin:r,interval:c}))})():(()=>{let g=!0,y=()=>g=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const _=e.transport.transports.find(E=>E.config.type==="webSocket");return _?_.value:e.transport}return e.transport})(),{unsubscribe:w}=await v.subscribe({params:["newHeads"],onData(_){var T,A,S;if(!g)return;const C=(((S=(A=(T=e.chain)==null?void 0:T.formatters)==null?void 0:A.block)==null?void 0:S.format)||dA)(_.result);i(C,f),f=C},onError(_){o==null||o(_)}});y=w,g||y()}catch(v){o==null||o(v)}})(),()=>y()})()}function H0e(e,{address:t,args:n,batch:r=!0,event:i,events:o,fromBlock:s,onError:a,onLogs:c,poll:l,pollingInterval:d=e.pollingInterval,strict:f}){const p=typeof l<"u"?l:typeof s=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),m=f??!1;return p?(()=>{const v=Os(["watchEvent",t,n,r,e.uid,i,d,s]);return Mf(v,{onLogs:c,onError:a},w=>{let _;s!==void 0&&(_=s-1n);let E,C=!1;const T=d1(async()=>{var A;if(!C){try{E=await Qn(e,dV,"createEventFilter")({address:t,args:n,event:i,events:o,strict:m,fromBlock:s})}catch{}C=!0;return}try{let S;if(E)S=await Qn(e,Wk,"getFilterChanges")({filter:E});else{const O=await Qn(e,u1,"getBlockNumber")({});_&&_!==O?S=await Qn(e,bA,"getLogs")({address:t,args:n,event:i,events:o,fromBlock:_+1n,toBlock:O}):S=[],_=O}if(S.length===0)return;if(r)w.onLogs(S);else for(const O of S)w.onLogs([O])}catch(S){E&&S instanceof fp&&(C=!1),(A=w.onError)==null||A.call(w,S)}},{emitOnBegin:!0,interval:d});return async()=>{E&&await Qn(e,zk,"uninstallFilter")({filter:E}),T()}})})():(()=>{let v=!0,w=()=>v=!1;return(async()=>{try{const _=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(S=>S.config.type==="webSocket");return A?A.value:e.transport}return e.transport})(),E=o??(i?[i]:void 0);let C=[];E&&(C=[E.flatMap(S=>r1({abi:[S],eventName:S.name,args:n}))],i&&(C=C[0]));const{unsubscribe:T}=await _.subscribe({params:["logs",{address:t,topics:C}],onData(A){var O;if(!v)return;const S=A.result;try{const{eventName:D,args:K}=yA({abi:E??[],data:S.data,topics:S.topics,strict:m}),H=Tu(S,{args:K,eventName:D});c([H])}catch(D){let K,H;if(D instanceof $v||D instanceof Ok){if(f)return;K=D.abiItem.name,H=(O=D.abiItem.inputs)==null?void 0:O.some(U=>!("name"in U&&U.name))}const X=Tu(S,{args:H?[]:{},eventName:K});c([X])}},onError(A){a==null||a(A)}});w=T,v||w()}catch(_){a==null||a(_)}})(),()=>w()})()}function K0e(e,{batch:t=!0,onError:n,onTransactions:r,poll:i,pollingInterval:o=e.pollingInterval}){return(typeof i<"u"?i:e.transport.type!=="webSocket")?(()=>{const l=Os(["watchPendingTransactions",e.uid,t,o]);return Mf(l,{onTransactions:r,onError:n},d=>{let f;const p=d1(async()=>{var m;try{if(!f)try{f=await Qn(e,uV,"createPendingTransactionFilter")({});return}catch(y){throw p(),y}const g=await Qn(e,Wk,"getFilterChanges")({filter:f});if(g.length===0)return;if(t)d.onTransactions(g);else for(const y of g)d.onTransactions([y])}catch(g){(m=d.onError)==null||m.call(d,g)}},{emitOnBegin:!0,interval:o});return async()=>{f&&await Qn(e,zk,"uninstallFilter")({filter:f}),p()}})})():(()=>{let l=!0,d=()=>l=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!l)return;const m=p.result;r([m])},onError(p){n==null||n(p)}});d=f,l||d()}catch(f){n==null||n(f)}})(),()=>d()})()}function G0e(e){var f,p,m;const{scheme:t,statement:n,...r}=((f=e.match(Z0e))==null?void 0:f.groups)??{},{chainId:i,expirationTime:o,issuedAt:s,notBefore:a,requestId:c,...l}=((p=e.match(J0e))==null?void 0:p.groups)??{},d=(m=e.split("Resources:")[1])==null?void 0:m.split(`
- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...o?{expirationTime:new Date(o)}:{},...s?{issuedAt:new Date(s)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Z0e=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,J0e=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Y0e(e){const{address:t,domain:n,message:r,nonce:i,scheme:o,time:s=new Date}=e;if(n&&r.domain!==n||i&&r.nonce!==i||o&&r.scheme!==o||r.expirationTime&&s>=r.expirationTime||r.notBefore&&s<r.notBefore)return!1;try{if(!r.address||t&&!fV(r.address,t))return!1}catch{return!1}return!0}async function X0e(e,t){const{address:n,domain:r,message:i,nonce:o,scheme:s,signature:a,time:c=new Date,...l}=t,d=G0e(i);if(!d.address||!Y0e({address:n,domain:r,message:d,nonce:o,scheme:s,time:c}))return!1;const p=EA(i);return OA(e,{address:d.address,hash:p,signature:a,...l})}function Q0e(e){return{call:t=>Fk(e,t),createBlockFilter:()=>Ege(e),createContractEventFilter:t=>Sq(e,t),createEventFilter:t=>dV(e,t),createPendingTransactionFilter:()=>uV(e),estimateContractGas:t=>Sme(e,t),estimateGas:t=>gA(e,t),getBalance:t=>Cge(e,t),getBlobBaseFee:()=>Ige(e),getBlock:t=>$f(e,t),getBlockNumber:t=>u1(e,t),getBlockTransactionCount:t=>Age(e,t),getBytecode:t=>GC(e,t),getChainId:()=>c1(e),getCode:t=>GC(e,t),getContractEvents:t=>Yq(e,t),getEip712Domain:t=>Yme(e,t),getEnsAddress:t=>lge(e,t),getEnsAvatar:t=>xge(e,t),getEnsName:t=>kge(e,t),getEnsResolver:t=>Sge(e,t),getEnsText:t=>lV(e,t),getFeeHistory:t=>Rge(e,t),estimateFeesPerGas:t=>fme(e,t),getFilterChanges:t=>Wk(e,t),getFilterLogs:t=>Pge(e,t),getGasPrice:()=>fA(e),getLogs:t=>bA(e,t),getProof:t=>o0e(e,t),estimateMaxPriorityFeePerGas:t=>ume(e,t),getStorageAt:t=>s0e(e,t),getTransaction:t=>CA(e,t),getTransactionConfirmations:t=>a0e(e,t),getTransactionCount:t=>Uq(e,t),getTransactionReceipt:t=>ZC(e,t),multicall:t=>c0e(e,t),prepareTransactionRequest:t=>Lk(e,t),readContract:t=>Ru(e,t),sendRawTransaction:t=>wA(e,t),simulateContract:t=>Ume(e,t),verifyMessage:t=>W0e(e,t),verifySiweMessage:t=>X0e(e,t),verifyTypedData:t=>z0e(e,t),uninstallFilter:t=>zk(e,t),waitForTransactionReceipt:t=>q0e(e,t),watchBlocks:t=>V0e(e,t),watchBlockNumber:t=>DV(e,t),watchContractEvent:t=>Kme(e,t),watchEvent:t=>H0e(e,t),watchPendingTransactions:t=>K0e(e,t)}}function NA(e){const{key:t="public",name:n="Public Client"}=e;return iV({...e,key:t,name:n,type:"publicClient"}).extend(Q0e)}function eye(e,t){const{abi:n,args:r,bytecode:i,...o}=t,s=Uk({abi:n,args:r,bytecode:i});return _A(e,{...o,data:s})}async function tye(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>t1(r))}async function nye(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function rye(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>jk(n))}async function iye(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function oye(e,{account:t=e.account,message:n}){if(!t)throw new qk({docsPath:"/docs/actions/wallet/signMessage"});const r=Xc(t);if(r.type==="local")return r.signMessage({message:n});const i=typeof n=="string"?Fg(n):n.raw instanceof Uint8Array?hn(n.raw):n.raw;return e.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function sye(e,t){var l,d,f,p;const{account:n=e.account,chain:r=e.chain,...i}=t;if(!n)throw new qk({docsPath:"/docs/actions/wallet/signTransaction"});const o=Xc(n);s1({account:o,...t});const s=await Qn(e,c1,"getChainId")({});r!==null&&nV({currentChainId:s,chain:r});const a=(r==null?void 0:r.formatters)||((l=e.chain)==null?void 0:l.formatters),c=((d=a==null?void 0:a.transactionRequest)==null?void 0:d.format)||o1;return o.type==="local"?o.signTransaction({...i,chainId:s},{serializer:(p=(f=e.chain)==null?void 0:f.serializers)==null?void 0:p.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(i),chainId:Er(s),from:o.address}]},{retryCount:0})}async function aye(e,t){const{account:n=e.account,domain:r,message:i,primaryType:o}=t;if(!n)throw new qk({docsPath:"/docs/actions/wallet/signTypedData"});const s=Xc(n),a={EIP712Domain:bV({domain:r}),...t.types};if(vV({domain:r,message:i,primaryType:o,types:a}),s.type==="local")return s.signTypedData({domain:r,message:i,primaryType:o,types:a});const c=Mge({domain:r,message:i,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[s.address,c]},{retryCount:0})}async function cye(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:Er(t)}]},{retryCount:0})}async function lye(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function dye(e){return{addChain:t=>Qme(e,t),deployContract:t=>eye(e,t),getAddresses:()=>tye(e),getChainId:()=>c1(e),getPermissions:()=>nye(e),prepareTransactionRequest:t=>Lk(e,t),requestAddresses:()=>rye(e),requestPermissions:t=>iye(e,t),sendRawTransaction:t=>wA(e,t),sendTransaction:t=>_A(e,t),signMessage:t=>oye(e,t),signTransaction:t=>sye(e,t),signTypedData:t=>aye(e,t),switchChain:t=>cye(e,t),watchAsset:t=>lye(e,t),writeContract:t=>Zme(e,t)}}function nb(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return iV({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(dye)}const uye=2n**16n-1n,fye=se({id:787,name:"Acala",network:"acala",nativeCurrency:{name:"Acala",symbol:"ACA",decimals:18},rpcUrls:{public:{http:["https://eth-rpc-acala.aca-api.network"],webSocket:["wss://eth-rpc-acala.aca-api.network"]},default:{http:["https://eth-rpc-acala.aca-api.network"],webSocket:["wss://eth-rpc-acala.aca-api.network"]}},blockExplorers:{default:{name:"Acala Blockscout",url:"https://blockscout.acala.network",apiUrl:"https://blockscout.acala.network/api"}},testnet:!1}),hye={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},jA={block:uA({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const i=a1(r);return i.typeHex==="0x7e"&&(i.isSystemTx=r.isSystemTx,i.mint=r.mint?ni(r.mint):void 0,i.sourceHash=r.sourceHash,i.type="deposit"),i}),stateRoot:e.stateRoot}}}),transaction:lA({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?ni(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:kV({format(e){return{l1GasPrice:e.l1GasPrice?ni(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?ni(e.l1GasUsed):null,l1Fee:e.l1Fee?ni(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function LV(e,t){return gye(e)?mye(e):Kk(e,t)}const pye={transaction:LV};function mye(e){yye(e);const{sourceHash:t,data:n,from:r,gas:i,isSystemTx:o,mint:s,to:a,value:c}=e,l=[t,r,a??"0x",s?hn(s):"0x",c?hn(c):"0x",i?hn(i):"0x",o?"0x1":"0x",n??"0x"];return xd(["0x7e",Df(l)])}function gye(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function yye(e){const{from:t,to:n}=e;if(t&&!Hi(t))throw new Jo({address:t});if(n&&!Hi(n))throw new Jo({address:n})}const xr={contracts:hye,formatters:jA,serializers:pye},h_=1,vye=se({...xr,id:888888888,name:"Ancient8",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.ancient8.gg"]}},blockExplorers:{default:{name:"Ancient8 explorer",url:"https://scan.ancient8.gg",apiUrl:"https://scan.ancient8.gg/api"}},contracts:{...xr.contracts,l2OutputOracle:{[h_]:{address:"0xB09DC08428C8b4EFB4ff9C0827386CDF34277996"}},portal:{[h_]:{address:"0x639F2AECE398Aa76b07e59eF6abe2cFe32bacb68",blockCreated:19070571}},l1StandardBridge:{[h_]:{address:"0xd5e3eDf5b68135D559D572E26bF863FBC1950033",blockCreated:19070571}}},sourceId:h_}),p_=11155111,bye=se({...xr,id:28122024,name:"Ancient8 Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpcv2-testnet.ancient8.gg"]}},blockExplorers:{default:{name:"Ancient8 Celestia Testnet explorer",url:"https://scanv2-testnet.ancient8.gg",apiUrl:"https://scanv2-testnet.ancient8.gg/api"}},contracts:{...xr.contracts,l2OutputOracle:{[p_]:{address:"0x942fD5017c0F60575930D8574Eaca13BEcD6e1bB"}},portal:{[p_]:{address:"0xfa1d9E26A6aCD7b22115D27572c1221B9803c960",blockCreated:4972908}},l1StandardBridge:{[p_]:{address:"0xF6Bc0146d3c74D48306e79Ae134A260E418C9335",blockCreated:4972908}}},sourceId:p_}),wye=se({id:31337,name:"Anvil",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}}),_ye=se({id:3993,name:"APEX Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.apexlayer.xyz"]}},blockExplorers:{default:{name:"Blockscout",url:"https://exp-testnet.apexlayer.xyz",apiUrl:"https://exp-testnet.apexlayer.xyz/api"}},contracts:{multicall3:{address:"0xf7642be33a6b18D16a995657adb5a68CD0438aE2",blockCreated:283775}},testnet:!0}),xye=se({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),kye=se({id:421613,name:"Arbitrum Goerli",nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://goerli-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://goerli.arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:88114}},testnet:!0}),Sye=se({id:42170,name:"Arbitrum Nova",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://nova.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://nova.arbiscan.io",apiUrl:"https://api-nova.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1746963}}}),Eye=se({id:592,name:"Astar",network:"astar-mainnet",nativeCurrency:{name:"Astar",symbol:"ASTR",decimals:18},rpcUrls:{default:{http:["https://astar.api.onfinality.io/public"]}},blockExplorers:{default:{name:"Astar Subscan",url:"https://astar.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:761794}},testnet:!1}),Cye=se({id:3776,name:"Astar zkEVM",network:"AstarZkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.startale.com/astar-zkevm"]}},blockExplorers:{default:{name:"Astar zkEVM Explorer",url:"https://astar-zkevm.explorer.startale.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:93528}},testnet:!1}),Iye=se({id:6038361,name:"Astar zkEVM Testnet zKyoto",network:"zKyoto",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.startale.com/zkyoto"]}},blockExplorers:{default:{name:"zKyoto Explorer",url:"https://zkyoto.explorer.startale.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:196153}},testnet:!0}),Aye=se({id:421614,name:"Arbitrum Sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://sepolia.arbiscan.io",apiUrl:"https://api-sepolia.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:81930}},testnet:!0}),Tye=se({id:463,name:"Areon Network",nativeCurrency:{decimals:18,name:"AREA",symbol:"AREA"},rpcUrls:{default:{http:["https://mainnet-rpc.areon.network"],webSocket:["wss://mainnet-ws.areon.network"]}},blockExplorers:{default:{name:"Areonscan",url:"https://areonscan.com"}},testnet:!1}),Rye=se({id:462,name:"Areon Network Testnet",nativeCurrency:{decimals:18,name:"TAREA",symbol:"TAREA"},rpcUrls:{default:{http:["https://testnet-rpc.areon.network"],webSocket:["wss://testnet-ws.areon.network"]}},blockExplorers:{default:{name:"Areonscan",url:"https://areonscan.com"}},testnet:!0}),Pye=se({id:11822,name:"Artela Testnet",nativeCurrency:{name:"ART",symbol:"ART",decimals:18},rpcUrls:{default:{http:["https://betanet-rpc1.artela.network"]}},blockExplorers:{default:{name:"Artela",url:"https://betanet-scan.artela.network",apiUrl:"https://betanet-scan.artela.network/api"}},contracts:{multicall3:{address:"0xd07c8635f76e8745Ee7092fbb6e8fbc5FeF09DD7",blockCreated:7001871}},testnet:!0}),Oye=se({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),Nye=se({id:1313161555,name:"Aurora Testnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://testnet.aurorascan.dev",apiUrl:"https://testnet.aurorascan.dev/api"}},testnet:!0}),jye=se({id:205205,name:"Auroria Testnet",network:"auroria",nativeCurrency:{name:"Auroria Stratis",symbol:"tSTRAX",decimals:18},rpcUrls:{default:{http:["https://auroria.rpc.stratisevm.com"]}},blockExplorers:{default:{name:"Auroria Testnet Explorer",url:"https://auroria.explorer.stratisevm.com"}},testnet:!0}),Bye=se({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),$ye=se({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),Mye=se({id:5165,network:"bahamut",name:"Bahamut",nativeCurrency:{name:"Fasttoken",symbol:"FTN",decimals:18},rpcUrls:{default:{http:["https://rpc1.bahamut.io","https://bahamut-rpc.publicnode.com","https://rpc2.bahamut.io"],webSocket:["wss://ws1.sahara.bahamutchain.com","wss://bahamut-rpc.publicnode.com","wss://ws2.sahara.bahamutchain.com"]},public:{http:["https://rpc1.bahamut.io","https://bahamut-rpc.publicnode.com","https://rpc2.bahamut.io"],webSocket:["wss://ws1.sahara.bahamutchain.com","wss://bahamut-rpc.publicnode.com","wss://ws2.sahara.bahamutchain.com"]}},blockExplorers:{default:{name:"Ftnscan",url:"https://www.ftnscan.com",apiUrl:"https://www.ftnscan.com/api"}}}),m_=1,UV=se({...xr,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...xr.contracts,l2OutputOracle:{[m_]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[m_]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[m_]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:m_}),g_=5,FV=se({...xr,id:84531,name:"Base Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://goerli.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://goerli.basescan.org",apiUrl:"https://goerli.basescan.org/api"}},contracts:{...xr.contracts,l2OutputOracle:{[g_]:{address:"0x2A35891ff30313CcFa6CE88dcf3858bb075A2298"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1376988},portal:{[g_]:{address:"0xe93c8cD0D409341205A592f8c4Ac1A5fe5585cfA"}},l1StandardBridge:{[g_]:{address:"0xfA6D8Ee5BE770F84FC001D098C4bD604Fe01284a"}}},testnet:!0,sourceId:g_}),y_=11155111,WV=se({...xr,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...xr.contracts,l2OutputOracle:{[y_]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[y_]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[y_]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:y_}),Dye=se({id:4337,name:"Beam",network:"beam",nativeCurrency:{decimals:18,name:"Beam",symbol:"BEAM"},rpcUrls:{public:{http:["https://build.onbeam.com/rpc"],webSocket:["wss://build.onbeam.com/ws"]},default:{http:["https://build.onbeam.com/rpc"],webSocket:["wss://build.onbeam.com/ws"]}},blockExplorers:{default:{name:"Beam Explorer",url:"https://subnets.avax.network/beam"}},contracts:{multicall3:{address:"0x4956f15efdc3dc16645e90cc356eafa65ffc65ec",blockCreated:1}}}),Lye=se({id:13337,name:"Beam Testnet",network:"beam",nativeCurrency:{decimals:18,name:"Beam",symbol:"BEAM"},rpcUrls:{public:{http:["https://build.onbeam.com/rpc/testnet"],webSocket:["wss://build.onbeam.com/ws/testnet"]},default:{http:["https://build.onbeam.com/rpc/testnet"],webSocket:["wss://build.onbeam.com/ws/testnet"]}},blockExplorers:{default:{name:"Beam Explorer",url:"https://subnets-test.avax.network/beam"}},contracts:{multicall3:{address:"0x9bf49b704ee2a095b95c1f2d4eb9010510c41c9e",blockCreated:3}},testnet:!0}),Uye=se({id:641230,name:"Bear Network Chain Mainnet",nativeCurrency:{decimals:18,name:"BearNetworkChain",symbol:"BRNKC"},rpcUrls:{default:{http:["https://brnkc-mainnet.bearnetwork.net"]}},blockExplorers:{default:{name:"BrnkScan",url:"https://brnkscan.bearnetwork.net",apiUrl:"https://brnkscan.bearnetwork.net/api"}}}),Fye=se({id:751230,name:"Bear Network Chain Testnet",nativeCurrency:{decimals:18,name:"tBRNKC",symbol:"tBRNKC"},rpcUrls:{default:{http:["https://brnkc-test.bearnetwork.net"]}},blockExplorers:{default:{name:"BrnkTestScan",url:"https://brnktest-scan.bearnetwork.net",apiUrl:"https://brnktest-scan.bearnetwork.net/api"}},testnet:!0}),Wye=se({id:80085,name:"Berachain Artio",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},rpcUrls:{default:{http:["https://artio.rpc.berachain.com"]}},blockExplorers:{default:{name:"Berachain",url:"https://artio.beratrail.io"}},testnet:!0}),zye=se({id:80084,name:"Berachain bArtio",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:109269}},rpcUrls:{default:{http:["https://bartio.rpc.berachain.com"]}},blockExplorers:{default:{name:"Berachain bArtio Beratrail",url:"https://bartio.beratrail.io"}},testnet:!0}),qye=se({id:11501,name:"BEVM Mainnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet-1.bevm.io"]}},blockExplorers:{default:{name:"Bevmscan",url:"https://scan-mainnet.bevm.io",apiUrl:"https://scan-mainnet-api.bevm.io/api"}}}),Vye=se({id:96,name:"Bitkub",nativeCurrency:{name:"Bitkub",symbol:"KUB",decimals:18},rpcUrls:{default:{http:["https://rpc.bitkubchain.io"]}},blockExplorers:{default:{name:"Bitkub Chain Mainnet Explorer",url:"https://www.bkcscan.com",apiUrl:"https://www.bkcscan.com/api"}}}),Hye=se({id:25925,name:"Bitkub Testnet",network:"Bitkub Testnet",nativeCurrency:{name:"Bitkub Test",symbol:"tKUB",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.bitkubchain.io"]}},blockExplorers:{default:{name:"Bitkub Chain Testnet Explorer",url:"https://testnet.bkcscan.com",apiUrl:"https://testnet.bkcscan.com/api"}},testnet:!0}),Kye=se({id:199,name:"BitTorrent",network:"bittorrent-chain-mainnet",nativeCurrency:{name:"BitTorrent",symbol:"BTT",decimals:18},rpcUrls:{default:{http:["https://rpc.bittorrentchain.io"]},public:{http:["https://rpc.bittorrentchain.io"]}},blockExplorers:{default:{name:"Bttcscan",url:"https://bttcscan.com",apiUrl:"https://api.bttcscan.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:31078552}}}),Gye=se({id:1028,name:"BitTorrent Chain Testnet",network:"bittorrent-chain-testnet",nativeCurrency:{name:"BitTorrent",symbol:"BTT",decimals:18},rpcUrls:{default:{http:["https://testrpc.bittorrentchain.io"]},public:{http:["https://testrpc.bittorrentchain.io"]}},blockExplorers:{default:{name:"Bttcscan",url:"https://testnet.bttcscan.com",apiUrl:"https://testnet.bttcscan.com/api"}},testnet:!0}),Zye=1,Jye=se({id:81457,name:"Blast",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.blast.io"]}},blockExplorers:{default:{name:"Blastscan",url:"https://blastscan.io",apiUrl:"https://api.blastscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:212929}},sourceId:Zye}),Yye=11155111,Xye=se({id:168587773,name:"Blast Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.blast.io"]}},blockExplorers:{default:{name:"Blastscan",url:"https://sepolia.blastscan.io",apiUrl:"https://api-sepolia.blastscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:756690}},testnet:!0,sourceId:Yye}),Qye=se({id:60808,name:"BOB",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.gobob.xyz"],webSocket:["wss://rpc.gobob.xyz"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.gobob.xyz"}},contracts:{multicall3:{address:"0x63f8279bccDb75c0F38e0CD6B6A0c72a0a760FF9",blockCreated:457045}},testnet:!1}),eve=se({id:288,name:"Boba Network",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.boba.network"]}},blockExplorers:{default:{name:"BOBAScan",url:"https://bobascan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:446859}}}),tve=se({id:1039,name:"Bronos",nativeCurrency:{decimals:18,name:"BRO",symbol:"BRO"},rpcUrls:{default:{http:["https://evm.bronos.org"]}},blockExplorers:{default:{name:"BronoScan",url:"https://broscan.bronos.org"}}}),nve=se({id:1038,name:"Bronos Testnet",nativeCurrency:{decimals:18,name:"Bronos Coin",symbol:"tBRO"},rpcUrls:{default:{http:["https://evm-testnet.bronos.org"]}},blockExplorers:{default:{name:"BronoScan",url:"https://tbroscan.bronos.org"}},testnet:!0}),rve=se({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),ive=se({id:97,name:"Binance Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0}),ove=se({id:1017,name:"BNB Greenfield Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://greenfield-chain.bnbchain.org"]}},blockExplorers:{default:{name:"BNB Greenfield Mainnet Scan",url:"https://greenfieldscan.com"}},testnet:!1}),sve=se({id:200901,name:"Bitlayer",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.bitlayer.org","https://rpc.bitlayer-rpc.com","https://rpc.ankr.com/bitlayer"],webSocket:["wss://ws.bitlayer.org","wss://ws.bitlayer-rpc.com"]}},blockExplorers:{default:{name:"Bitlayer(BTR) Scan",url:"https://www.btrscan.com"}}}),ave=se({id:200810,name:"Bitlayer Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.bitlayer.org"],webSocket:["wss://testnet-ws.bitlayer.org","wss://testnet-ws.bitlayer-rpc.com"]}},blockExplorers:{default:{name:"Bitlayer(BTR) Scan",url:"https://testnet.btrscan.com"}},testnet:!0}),cve=se({id:4999,name:"BlackFort Exchange Network",nativeCurrency:{name:"BlackFort Token",symbol:"BXN",decimals:18},rpcUrls:{default:{http:["https://mainnet.blackfort.network/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.blackfort.network",apiUrl:"https://explorer.blackfort.network/api"}}}),lve=se({id:4777,name:"BlackFort Exchange Network Testnet",nativeCurrency:{name:"BlackFort Testnet Token",symbol:"TBXN",decimals:18},rpcUrls:{default:{http:["https://testnet.blackfort.network/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet-explorer.blackfort.network",apiUrl:"https://testnet-explorer.blackfort.network/api"}},testnet:!0}),dve=se({id:7700,name:"Canto",nativeCurrency:{decimals:18,name:"Canto",symbol:"CANTO"},rpcUrls:{default:{http:["https://canto.gravitychain.io"]}},blockExplorers:{default:{name:"Tuber.Build (Blockscout)",url:"https://tuber.build"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2905789}}}),uve={estimateFeesPerGas:async e=>{var r;if(!((r=e.request)!=null&&r.feeCurrency))return null;const[t,n]=await Promise.all([fve(e.client,e.request.feeCurrency),hve(e.client,e.request.feeCurrency)]);return{maxFeePerGas:t,maxPriorityFeePerGas:n}}};async function fve(e,t){const n=await e.request({method:"eth_gasPrice",params:[t]});return BigInt(n)}async function hve(e,t){const n=await e.request({method:"eth_maxPriorityFeePerGas",params:[t]});return BigInt(n)}function zV(e){return e===0||e===0n||e===void 0||e===null||e==="0"||e===""||typeof e=="string"&&(jf(e).toLowerCase()==="0x"||jf(e).toLowerCase()==="0x00")}function sv(e){return!zV(e)}function pve(e){return typeof e.maxFeePerGas<"u"&&typeof e.maxPriorityFeePerGas<"u"}function qV(e){return e.type==="cip64"?!0:pve(e)&&sv(e.feeCurrency)}const mve={block:uA({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:{...a1(r),...r.gatewayFee?{gatewayFee:ni(r.gatewayFee),gatewayFeeRecipient:r.gatewayFeeRecipient}:{},feeCurrency:r.feeCurrency}),...e.randomness?{randomness:e.randomness}:{}}}}),transaction:lA({format(e){if(e.type==="0x7e")return{isSystemTx:e.isSystemTx,mint:e.mint?ni(e.mint):void 0,sourceHash:e.sourceHash,type:"deposit"};const t={feeCurrency:e.feeCurrency};return e.type==="0x7b"?t.type="cip64":(e.type==="0x7c"&&(t.type="cip42"),t.gatewayFee=e.gatewayFee?ni(e.gatewayFee):null,t.gatewayFeeRecipient=e.gatewayFeeRecipient),t}}),transactionRequest:Bq({format(e){const t={};return e.feeCurrency&&(t.feeCurrency=e.feeCurrency),qV(e)&&(t.type="0x7b"),t}})};function gve(e,t){return qV(e)?vve(e,t):LV(e,t)}const yve={transaction:gve};function vve(e,t){wve(e);const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,feeCurrency:d,data:f}=e,p=[hn(n),i?hn(i):"0x",c?hn(c):"0x",a?hn(a):"0x",r?hn(r):"0x",o??"0x",s?hn(s):"0x",f??"0x",Hk(l),d,...Gk(e,t)];return xd(["0x7b",Df(p)])}const bve=2n**256n-1n;function wve(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o,feeCurrency:s}=e;if(t<=0)throw new l1({chainId:t});if(o&&!Hi(o))throw new Jo({address:o});if(r)throw new tt("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(sv(i)&&i>bve)throw new Bf({maxFeePerGas:i});if(sv(n)&&sv(i)&&n>i)throw new qg({maxFeePerGas:i,maxPriorityFeePerGas:n});if(sv(s)&&!Hi(s))throw new tt("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(zV(s))throw new tt("`feeCurrency` must be provided for CIP-64 transactions.")}const VV={formatters:mve,serializers:yve,fees:uve},_ve=se({...VV,id:42220,name:"Celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://celoscan.io",apiUrl:"https://api.celoscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:13112599}},testnet:!1}),xve=se({...VV,id:44787,name:"Alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"A-CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores",apiUrl:"https://explorer.celo.org/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:14569001}},testnet:!0}),kve=se({id:88888,name:"Chiliz Chain",network:"chiliz-chain",nativeCurrency:{decimals:18,name:"CHZ",symbol:"CHZ"},rpcUrls:{default:{http:["https://rpc.ankr.com/chiliz","https://chiliz-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Chiliz Explorer",url:"https://scan.chiliz.com",apiUrl:"https://scan.chiliz.com/api"}}}),Sve=se({id:61,name:"Ethereum Classic",nativeCurrency:{decimals:18,name:"ETC",symbol:"ETC"},rpcUrls:{default:{http:["https://etc.rivet.link"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.com/etc/mainnet"}}}),Eve=se({id:1030,name:"Conflux eSpace",nativeCurrency:{name:"Conflux",symbol:"CFX",decimals:18},rpcUrls:{default:{http:["https://evm.confluxrpc.com"],webSocket:["wss://evm.confluxrpc.com/ws"]}},blockExplorers:{default:{name:"ConfluxScan",url:"https://evm.confluxscan.io"}},contracts:{multicall3:{address:"0xEFf0078910f638cd81996cc117bccD3eDf2B072F",blockCreated:68602935}}}),Cve=se({id:71,name:"Conflux eSpace Testnet",network:"cfx-espace-testnet",testnet:!0,nativeCurrency:{name:"Conflux",symbol:"CFX",decimals:18},rpcUrls:{default:{http:["https://evmtestnet.confluxrpc.com"],webSocket:["wss://evmtestnet.confluxrpc.com/ws"]}},blockExplorers:{default:{name:"ConfluxScan",url:"https://evmtestnet.confluxscan.io"}},contracts:{multicall3:{address:"0xEFf0078910f638cd81996cc117bccD3eDf2B072F",blockCreated:117499050}}}),Ive=se({id:1116,name:"Core Dao",nativeCurrency:{decimals:18,name:"Core",symbol:"CORE"},rpcUrls:{default:{http:["https://rpc.coredao.org"]}},blockExplorers:{default:{name:"CoreDao",url:"https://scan.coredao.org"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:11907934}},testnet:!1}),Ave=se({id:44,name:"Crab Network",nativeCurrency:{decimals:18,name:"Crab Network Native Token",symbol:"CRAB"},rpcUrls:{default:{http:["https://crab-rpc.darwinia.network"],webSocket:["wss://crab-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://crab-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3032593}}}),Tve=se({id:25,name:"Cronos Mainnet",nativeCurrency:{decimals:18,name:"Cronos",symbol:"CRO"},rpcUrls:{default:{http:["https://evm.cronos.org"]}},blockExplorers:{default:{name:"Cronos Explorer",url:"https://explorer.cronos.org",apiUrl:"https://explorer-api.cronos.org/mainnet/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1963112}}}),Rve=se({id:338,name:"Cronos Testnet",nativeCurrency:{decimals:18,name:"CRO",symbol:"tCRO"},rpcUrls:{default:{http:["https://evm-t3.cronos.org"]}},blockExplorers:{default:{name:"Cronos Explorer",url:"https://cronos.org/explorer/testnet3"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:10191251}},testnet:!0}),Pve=se({id:3737,name:"Crossbell",nativeCurrency:{decimals:18,name:"CSB",symbol:"CSB"},rpcUrls:{default:{http:["https://rpc.crossbell.io"]}},blockExplorers:{default:{name:"CrossScan",url:"https://scan.crossbell.io",apiUrl:"https://scan.crossbell.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:38246031}}}),Ove=se({id:7560,name:"Cyber",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cyber.alt.technology"]}},blockExplorers:{default:{name:"Blockscout",url:"https://cyberscan.co",apiUrl:"https://cyberscan.co/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}}}),Nve=se({id:111557560,name:"Cyber Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cyber-testnet.alt.technology"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet.cyberscan.co",apiUrl:"https://testnet.cyberscan.co/api"}},contracts:{multicall3:{address:"0xffc391F0018269d4758AEA1a144772E8FB99545E",blockCreated:304545}},testnet:!0}),jve=se({id:46,name:"Darwinia Network",nativeCurrency:{decimals:18,name:"RING",symbol:"RING"},rpcUrls:{default:{http:["https://rpc.darwinia.network"],webSocket:["wss://rpc.darwinia.network"]}},blockExplorers:{default:{name:"Explorer",url:"https://darwinia.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:69420}}}),Bve=se({...xr,id:2716446429837e3,name:"Dchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://dchain-2716446429837000-1.jsonrpc.sagarpc.io"]}},blockExplorers:{default:{name:"Dchain Explorer",url:"https://dchain-2716446429837000-1.sagaexplorer.io",apiUrl:"https://api-dchain-2716446429837000-1.sagaexplorer.io/api"}},contracts:{...xr.contracts}}),$ve=se({...xr,id:2713017997578e3,name:"Dchain Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://dchaintestnet-2713017997578000-1.jsonrpc.testnet.sagarpc.io"]}},blockExplorers:{default:{name:"Dchain Explorer",url:"https://dchaintestnet-2713017997578000-1.testnet.sagaexplorer.io",apiUrl:"https://api-dchaintestnet-2713017997578000-1.testnet.sagaexplorer.io/api"}},contracts:{...xr.contracts}}),Mve=se({id:1130,network:"defichain-evm",name:"DeFiChain EVM Mainnet",nativeCurrency:{name:"DeFiChain",symbol:"DFI",decimals:18},rpcUrls:{default:{http:["https://eth.mainnet.ocean.jellyfishsdk.com"]},public:{http:["https://eth.mainnet.ocean.jellyfishsdk.com"]}},blockExplorers:{default:{name:"DeFiScan",url:"https://meta.defiscan.live"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:137852}}}),Dve=se({id:1131,network:"defichain-evm-testnet",name:"DeFiChain EVM Testnet",nativeCurrency:{name:"DeFiChain",symbol:"DFI",decimals:18},rpcUrls:{default:{http:["https://eth.testnet.ocean.jellyfishsdk.com"]},public:{http:["https://eth.testnet.ocean.jellyfishsdk.com"]}},blockExplorers:{default:{name:"DeFiScan",url:"https://meta.defiscan.live/?network=TestNet"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:156462}},testnet:!0}),Lve=se({id:666666666,name:"Degen",nativeCurrency:{decimals:18,name:"Degen",symbol:"DEGEN"},rpcUrls:{default:{http:["https://rpc.degen.tips"],webSocket:["wss://rpc.degen.tips"]}},blockExplorers:{default:{name:"Degen Chain Explorer",url:"https://explorer.degen.tips",apiUrl:"https://explorer.degen.tips/api/v2"}}}),Uve=se({id:53935,name:"DFK Chain",nativeCurrency:{decimals:18,name:"Jewel",symbol:"JEWEL"},rpcUrls:{default:{http:["https://subnets.avax.network/defi-kingdoms/dfk-chain/rpc"]}},blockExplorers:{default:{name:"DFKSubnetScan",url:"https://subnets.avax.network/defi-kingdoms"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14790551}}}),Fve=se({id:53457,name:"DODOchain Testnet",nativeCurrency:{decimals:18,name:"DODO",symbol:"DODO"},rpcUrls:{default:{http:["https://dodochain-testnet.alt.technology"],webSocket:["wss://dodochain-testnet.alt.technology/ws"]}},blockExplorers:{default:{name:"DODOchain Testnet (Sepolia) Explorer",url:"https://testnet-scan.dodochain.com"}},testnet:!0}),Wve=se({id:2e3,name:"Dogechain",nativeCurrency:{decimals:18,name:"Wrapped Dogecoin",symbol:"WDOGE"},rpcUrls:{default:{http:["https://rpc.dogechain.dog"]}},blockExplorers:{default:{name:"DogeChainExplorer",url:"https://explorer.dogechain.dog",apiUrl:"https://explorer.dogechain.dog/api"}},contracts:{multicall3:{address:"0x68a8609a60a008EFA633dfdec592c03B030cC508",blockCreated:25384031}}}),zve=se({id:23451,name:"DreyerX Mainnet",nativeCurrency:{name:"DreyerX",symbol:"DRX",decimals:18},rpcUrls:{default:{http:["https://rpc.dreyerx.com"]}},blockExplorers:{default:{name:"DreyerX Scan",url:"https://scan.dreyerx.com"}}}),qve=se({id:23452,name:"DreyerX Testnet",nativeCurrency:{name:"DreyerX",symbol:"DRX",decimals:18},rpcUrls:{default:{http:["http://testnet-rpc.dreyerx.com"]}},blockExplorers:{default:{name:"DreyerX Testnet Scan",url:"https://testnet-scan.dreyerx.com"}},testnet:!0}),Vve=se({id:2026,name:"Edgeless Network",nativeCurrency:{name:"Edgeless Wrapped ETH",symbol:"EwETH",decimals:18},rpcUrls:{default:{http:["https://rpc.edgeless.network/http"],webSocket:["wss://rpc.edgeless.network/ws"]}},blockExplorers:{default:{name:"Edgeless Explorer",url:"https://explorer.edgeless.network"}}}),Hve=se({id:202,name:"Edgeless Testnet",nativeCurrency:{name:"Edgeless Wrapped ETH",symbol:"EwETH",decimals:18},rpcUrls:{default:{http:["https://edgeless-testnet.rpc.caldera.xyz/http"],webSocket:["wss://edgeless-testnet.rpc.caldera.xyz/ws"]}},blockExplorers:{default:{name:"Edgeless Testnet Explorer",url:"https://testnet.explorer.edgeless.network"}}}),Kve=se({id:2021,name:"Edgeware EdgeEVM Mainnet",nativeCurrency:{decimals:18,name:"Edgeware",symbol:"EDG"},rpcUrls:{default:{http:["https://edgeware-evm.jelliedowl.net"]}},blockExplorers:{default:{name:"Edgscan by Bharathcoorg",url:"https://edgscan.live",apiUrl:"https://edgscan.live/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:18117872}}}),Gve=se({id:2022,name:"Beresheet BereEVM Testnet",nativeCurrency:{decimals:18,name:"Testnet EDG",symbol:"tEDG"},rpcUrls:{default:{http:["https://beresheet-evm.jelliedowl.net"]}},blockExplorers:{default:{name:"Edgscan by Bharathcoorg",url:"https://testnet.edgscan.live",apiUrl:"https://testnet.edgscan.live/api"}}}),Zve=se({id:7332,name:"Horizen EON",nativeCurrency:{decimals:18,name:"ZEN",symbol:"ZEN"},rpcUrls:{default:{http:["https://eon-rpc.horizenlabs.io/ethv1"]}},blockExplorers:{default:{name:"EON Explorer",url:"https://eon-explorer.horizenlabs.io"}},contracts:{}}),Jve=se({id:17777,name:"EOS EVM",nativeCurrency:{decimals:18,name:"EOS",symbol:"EOS"},rpcUrls:{default:{http:["https://api.evm.eosnetwork.com"]}},blockExplorers:{default:{name:"EOS EVM Explorer",url:"https://explorer.evm.eosnetwork.com",apiUrl:"https://explorer.evm.eosnetwork.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7943933}}}),Yve=se({id:15557,name:"EOS EVM Testnet",nativeCurrency:{decimals:18,name:"EOS",symbol:"EOS"},rpcUrls:{default:{http:["https://api.testnet.evm.eosnetwork.com"]}},blockExplorers:{default:{name:"EOS EVM Testnet Explorer",url:"https://explorer.testnet.evm.eosnetwork.com",apiUrl:"https://explorer.testnet.evm.eosnetwork.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:9067940}},testnet:!0}),Xve=se({id:42793,name:"Etherlink",nativeCurrency:{decimals:18,name:"Tez",symbol:"XTZ"},rpcUrls:{default:{http:["https://node.mainnet.etherlink.com"]}},blockExplorers:{default:{name:"Etherlink",url:"https://explorer.etherlink.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:33899}}}),Qve=se({id:128123,name:"Etherlink Testnet",nativeCurrency:{decimals:18,name:"Tez",symbol:"XTZ"},rpcUrls:{default:{http:["https://node.ghostnet.etherlink.com"]}},blockExplorers:{default:{name:"Etherlink Testnet",url:"https://testnet-explorer.etherlink.com"}},testnet:!0}),ebe=se({id:9001,name:"Evmos",nativeCurrency:{decimals:18,name:"Evmos",symbol:"EVMOS"},rpcUrls:{default:{http:["https://eth.bd.evmos.org:8545"]}},blockExplorers:{default:{name:"Evmos Block Explorer",url:"https://escan.live"}}}),tbe=se({id:9e3,name:"Evmos Testnet",nativeCurrency:{decimals:18,name:"Evmos",symbol:"EVMOS"},rpcUrls:{default:{http:["https://eth.bd.evmos.dev:8545"]}},blockExplorers:{default:{name:"Evmos Testnet Block Explorer",url:"https://evm.evmos.dev/"}}}),nbe=se({id:1994,name:"Ekta",nativeCurrency:{decimals:18,name:"EKTA",symbol:"EKTA"},rpcUrls:{default:{http:["https://main.ekta.io"]}},blockExplorers:{default:{name:"Ektascan",url:"https://ektascan.io",apiUrl:"https://ektascan.io/api"}}}),rbe=se({id:1004,name:"Ekta Testnet",nativeCurrency:{decimals:18,name:"EKTA",symbol:"EKTA"},rpcUrls:{default:{http:["https://test.ekta.io:8545"]}},blockExplorers:{default:{name:"Test Ektascan",url:"https://test.ektascan.io",apiUrl:"https://test.ektascan.io/api"}},testnet:!0}),ibe=se({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),obe=se({id:64240,name:"Fantom Sonic Open Testnet",network:"fantom-sonic-testnet",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpcapi.sonic.fantom.network"]}},blockExplorers:{default:{name:"Fantom Sonic Open Testnet Explorer",url:"https://public-sonic.fantom.network"}},testnet:!0}),sbe=se({id:4002,name:"Fantom Testnet",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.testnet.fantom.network"]}},blockExplorers:{default:{name:"FTMScan",url:"https://testnet.ftmscan.com",apiUrl:"https://testnet.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:8328688}},testnet:!0}),abe=se({id:12306,name:"Fibo Chain",nativeCurrency:{decimals:18,name:"fibo",symbol:"FIBO"},rpcUrls:{default:{http:["https://network.hzroc.art"]}},blockExplorers:{default:{name:"FiboScan",url:"https://scan.fibochain.org"}}}),cbe=se({id:314,name:"Filecoin Mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3328594}}}),lbe=se({id:314159,name:"Filecoin Calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}},testnet:!0}),dbe=se({id:3141,name:"Filecoin Hyperspace",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.hyperspace.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://hyperspace.filfox.info/en"}},testnet:!0}),ube=se({id:14,name:"Flare Mainnet",nativeCurrency:{decimals:18,name:"flare",symbol:"FLR"},rpcUrls:{default:{http:["https://flare-api.flare.network/ext/C/rpc"]}},blockExplorers:{default:{name:"Flare Explorer",url:"https://flare-explorer.flare.network",apiUrl:"https://flare-explorer.flare.network/api"}}}),fbe=se({id:114,name:"Coston2",nativeCurrency:{decimals:18,name:"coston2flare",symbol:"C2FLR"},rpcUrls:{default:{http:["https://coston2-api.flare.network/ext/C/rpc"]}},blockExplorers:{default:{name:"Coston2 Explorer",url:"https://coston2-explorer.flare.network",apiUrl:"https://coston2-explorer.flare.network/api"}},testnet:!0}),hbe=se({id:646,name:"FlowEVM Previewnet",nativeCurrency:{decimals:18,name:"Flow",symbol:"FLOW"},rpcUrls:{default:{http:["https://previewnet.evm.nodes.onflow.org"]}},blockExplorers:{default:{name:"Previewnet Explorer",url:"https://previewnet.flowdiver.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6205}}}),pbe=se({id:747,name:"FlowEVM Mainnet",nativeCurrency:{decimals:18,name:"Flow",symbol:"FLOW"},rpcUrls:{default:{http:["https://mainnet.evm.nodes.onflow.org"]}},blockExplorers:{default:{name:"Mainnet Explorer",url:"https://flowdiver.io"}}}),mbe=se({id:545,name:"FlowEVM Testnet",nativeCurrency:{decimals:18,name:"Flow",symbol:"FLOW"},rpcUrls:{default:{http:["https://testnet.evm.nodes.onflow.org"]}},blockExplorers:{default:{name:"Flow Diver",url:"https://testnet.flowdiver.io"}}}),gbe=se({id:31337,name:"Foundry",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}}),v_=1,ybe=se({...xr,id:252,name:"Fraxtal",nativeCurrency:{name:"Frax Ether",symbol:"frxETH",decimals:18},rpcUrls:{default:{http:["https://rpc.frax.com"]}},blockExplorers:{default:{name:"fraxscan",url:"https://fraxscan.com",apiUrl:"https://api.fraxscan.com/api"}},contracts:{...xr.contracts,l2OutputOracle:{[v_]:{address:"0x66CC916Ed5C6C2FA97014f7D1cD141528Ae171e4"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[v_]:{address:"0x36cb65c1967A0Fb0EEE11569C51C2f2aA1Ca6f6D",blockCreated:19135323}},l1StandardBridge:{[v_]:{address:"0x34C0bD5877A5Ee7099D0f5688D65F4bB9158BDE2",blockCreated:19135323}}},sourceId:v_}),b_=17e3,vbe=se({...xr,id:2522,name:"Fraxtal Testnet",nativeCurrency:{name:"Frax Ether",symbol:"frxETH",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.frax.com"]}},blockExplorers:{default:{name:"fraxscan testnet",url:"https://holesky.fraxscan.com",apiUrl:"https://api-holesky.fraxscan.com/api"}},contracts:{...xr.contracts,l2OutputOracle:{[b_]:{address:"0x715EA64DA13F4d0831ece4Ad3E8c1aa013167F32"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[b_]:{address:"0xB9c64BfA498d5b9a8398Ed6f46eb76d90dE5505d",blockCreated:318416}},l1StandardBridge:{[b_]:{address:"0x0BaafC217162f64930909aD9f2B27125121d6332",blockCreated:318416}}},sourceId:b_}),bbe=11155111,wbe=se({...xr,id:3397901,network:"funkiSepolia",name:"Funki Sepolia Sandbox",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://funki-testnet.alt.technology"]}},blockExplorers:{default:{name:"Funki Sepolia Sandbox Explorer",url:"https://sepolia-sandbox.funkichain.com/"}},testnet:!0,contracts:{...xr.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204}},sourceId:bbe}),_be=se({id:122,name:"Fuse",nativeCurrency:{name:"Fuse",symbol:"FUSE",decimals:18},rpcUrls:{default:{http:["https://rpc.fuse.io"]}},blockExplorers:{default:{name:"Fuse Explorer",url:"https://explorer.fuse.io",apiUrl:"https://explorer.fuse.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:16146628}}}),xbe=se({id:123,name:"Fuse Sparknet",nativeCurrency:{name:"Spark",symbol:"SPARK",decimals:18},rpcUrls:{default:{http:["https://rpc.fusespark.io"]}},blockExplorers:{default:{name:"Sparkent Explorer",url:"https://explorer.fusespark.io",apiUrl:"https://explorer.fusespark.io/api"}}}),kbe=se({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),Sbe=se({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},testnet:!0}),Ebe=se({id:8899,name:"JIBCHAIN L1",network:"jbc",nativeCurrency:{name:"JBC",symbol:"JBC",decimals:18},rpcUrls:{default:{http:["https://rpc-l1.jibchain.net"]},public:{http:["https://rpc-l1.jibchain.net"]}},blockExplorers:{default:{name:"Blockscout",url:"https://exp-l1.jibchain.net",apiUrl:"https://exp-l1.jibchain.net/api"}},contracts:{multicall3:{address:"0xc0C8C486D1466C57Efe13C2bf000d4c56F47CBdC",blockCreated:2299048}},testnet:!1}),Cbe=se({id:88991,name:"Jibchain Testnet",nativeCurrency:{name:"tJBC",symbol:"tJBC",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.jibchain.net"]}},blockExplorers:{default:{name:"Blockscout",url:"https://exp.testnet.jibchain.net",apiUrl:"https://exp.testnet.jibchain.net/api"}},contracts:{multicall3:{address:"0xa1a858ad9041B4741e620355a3F96B3c78e70ecE",blockCreated:32848}},testnet:!0}),Ibe=se({id:686,name:"Karura",network:"karura",nativeCurrency:{name:"Karura",symbol:"KAR",decimals:18},rpcUrls:{public:{http:["https://eth-rpc-karura.aca-api.network"],webSocket:["wss://eth-rpc-karura.aca-api.network"]},default:{http:["https://eth-rpc-karura.aca-api.network"],webSocket:["wss://eth-rpc-karura.aca-api.network"]}},blockExplorers:{default:{name:"Karura Blockscout",url:"https://blockscout.karura.network",apiUrl:"https://blockscout.karura.network/api"}},testnet:!1}),Abe=se({id:1663,name:"Horizen Gobi Testnet",nativeCurrency:{decimals:18,name:"Test ZEN",symbol:"tZEN"},rpcUrls:{default:{http:["https://gobi-testnet.horizenlabs.io/ethv1"]}},blockExplorers:{default:{name:"Gobi Explorer",url:"https://gobi-explorer.horizen.io"}},contracts:{},testnet:!0}),Tbe=se({id:5,name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.etherscan.io",apiUrl:"https://api-goerli.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xfc4AC75C46C914aF5892d6d3eFFcebD7917293F1",blockCreated:10339206},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0}),Rbe=se({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),Pbe=se({id:10200,name:"Gnosis Chiado",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.chiadochain.net"],webSocket:["wss://rpc.chiadochain.net/wss"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.chiadochain.net",apiUrl:"https://blockscout.chiadochain.net/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4967313}},testnet:!0}),Obe=se({id:5112,name:"Ham",nativeCurrency:{decimals:18,name:"Ham",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.ham.fun"],webSocket:["wss://rpc.ham.fun"]}},blockExplorers:{default:{name:"Ham Chain Explorer",url:"https://explorer.ham.fun",apiUrl:"https://explorer.ham.fun/api/v2"}}}),Nbe=se({id:31337,name:"Hardhat",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"]}}}),jbe=se({id:16666e5,name:"Harmony One",nativeCurrency:{name:"Harmony",symbol:"ONE",decimals:18},rpcUrls:{default:{http:["https://rpc.ankr.com/harmony"]}},blockExplorers:{default:{name:"Harmony Explorer",url:"https://explorer.harmony.one"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:24185753}}}),Bbe=se({id:11235,name:"HAQQ Mainnet",nativeCurrency:{decimals:18,name:"Islamic Coin",symbol:"ISLM"},rpcUrls:{default:{http:["https://rpc.eth.haqq.network"]}},blockExplorers:{default:{name:"HAQQ Explorer",url:"https://explorer.haqq.network",apiUrl:"https://explorer.haqq.network/api"}}}),$be=se({id:54211,name:"HAQQ Testedge 2",nativeCurrency:{decimals:18,name:"Islamic Coin",symbol:"ISLMT"},rpcUrls:{default:{http:["https://rpc.eth.testedge2.haqq.network"]}},blockExplorers:{default:{name:"HAQQ Explorer",url:"https://explorer.testedge2.haqq.network",apiUrl:"https://explorer.testedge2.haqq.network/api"}}}),Mbe=se({id:295,name:"Hedera Mainnet",network:"hedera-mainnet",nativeCurrency:{symbol:"HBAR",name:"HBAR",decimals:18},rpcUrls:{default:{http:["https://mainnet.hashio.io/api"]}},blockExplorers:{default:{name:"Hashscan",url:"https://hashscan.io/mainnet"}},testnet:!1}),Dbe=se({id:296,name:"Hedera Testnet",network:"hedera-testnet",nativeCurrency:{symbol:"HBAR",name:"HBAR",decimals:18},rpcUrls:{default:{http:["https://testnet.hashio.io/api"]}},blockExplorers:{default:{name:"Hashscan",url:"https://hashscan.io/testnet"}},testnet:!0}),Lbe=se({id:297,name:"Hedera Previewnet",network:"hedera-previewnet",nativeCurrency:{symbol:"HBAR",name:"HBAR",decimals:18},rpcUrls:{default:{http:["https://previewnet.hashio.io/api"]}},blockExplorers:{default:{name:"Hashscan",url:"https://hashscan.io/previewnet"}},testnet:!0}),Ube=se({id:17e3,name:"Holesky",nativeCurrency:{name:"Holesky Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://holesky.etherscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:77},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",blockCreated:801613},ensUniversalResolver:{address:"0xa6AC935D4971E3CD133b950aE053bECD16fE7f3b",blockCreated:973484}},testnet:!0}),Fbe=se({id:13371,name:"Immutable zkEVM",nativeCurrency:{decimals:18,name:"Immutable Coin",symbol:"IMX"},rpcUrls:{default:{http:["https://rpc.immutable.com"]}},blockExplorers:{default:{name:"Immutable Explorer",url:"https://explorer.immutable.com"}},contracts:{multicall3:{address:"0x236bdA4589e44e6850f5aC6a74BfCa398a86c6c0",blockCreated:4335972}}}),Wbe=se({id:13473,name:"Immutable zkEVM Testnet",nativeCurrency:{decimals:18,name:"Immutable Coin",symbol:"IMX"},rpcUrls:{default:{http:["https://rpc.testnet.immutable.com"]}},blockExplorers:{default:{name:"Immutable Testnet Explorer",url:"https://explorer.testnet.immutable.com/"}},contracts:{multicall3:{address:"0x2CC787Ed364600B0222361C4188308Fa8E68bA60",blockCreated:5977391}},testnet:!0}),zbe=se({id:2525,name:"inEVM Mainnet",nativeCurrency:{decimals:18,name:"Injective",symbol:"INJ"},rpcUrls:{default:{http:["https://mainnet.rpc.inevm.com/http"]}},blockExplorers:{default:{name:"inEVM Explorer",url:"https://inevm.calderaexplorer.xyz",apiUrl:"https://inevm.calderaexplorer.xyz/api/v2"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:118606}}}),qbe=se({id:1802203764,name:"Kakarot Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rpc.kakarot.org"]}},blockExplorers:{default:{name:"Kakarot Scan",url:"https://sepolia.kakarotscan.org"}},testnet:!0}),Vbe=se({id:2222,name:"Kava EVM",network:"kava-mainnet",nativeCurrency:{name:"Kava",symbol:"KAVA",decimals:18},rpcUrls:{default:{http:["https://evm.kava.io"]}},blockExplorers:{default:{name:"Kava EVM Explorer",url:"https://kavascan.com",apiUrl:"https://kavascan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3661165}},testnet:!1}),Hbe=se({id:2221,name:"Kava EVM Testnet",network:"kava-testnet",nativeCurrency:{name:"Kava",symbol:"KAVA",decimals:18},rpcUrls:{default:{http:["https://evm.testnet.kava.io"]}},blockExplorers:{default:{name:"Kava EVM Testnet Explorer",url:"https://testnet.kavascan.com/",apiUrl:"https://testnet.kavascan.com/api"}},contracts:{multicall3:{address:"0xDf1D724A7166261eEB015418fe8c7679BBEa7fd6",blockCreated:7242179}},testnet:!0}),Kbe=se({id:321,name:"KCC Mainnet",network:"KCC Mainnet",nativeCurrency:{decimals:18,name:"KCS",symbol:"KCS"},rpcUrls:{default:{http:["https://kcc-rpc.com"]},public:{http:["https://kcc-rpc.com"]}},blockExplorers:{default:{name:"KCC Explorer",url:"https://explorer.kcc.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11760430}},testnet:!1}),Gbe=se({id:8217,name:"Klaytn",nativeCurrency:{decimals:18,name:"Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-cypress.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://scope.klaytn.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),Zbe=se({id:1001,name:"Klaytn Baobab Testnet",network:"klaytn-baobab",nativeCurrency:{decimals:18,name:"Baobab Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-baobab.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://baobab.klaytnscope.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:123390593}},testnet:!0}),Jbe=se({id:701,name:"Koi Network",nativeCurrency:{decimals:18,name:"Koi Network Native Token",symbol:"KRING"},rpcUrls:{default:{http:["https://koi-rpc.darwinia.network"],webSocket:["wss://koi-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://koi-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:180001}},testnet:!0}),Ybe=se({id:255,name:"Kroma",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://api.kroma.network"]}},blockExplorers:{default:{name:"Kroma Explorer",url:"https://blockscout.kroma.network",apiUrl:"https://blockscout.kroma.network/api"}},testnet:!1}),Xbe=se({id:2358,name:"Kroma Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://api.sepolia.kroma.network"]}},blockExplorers:{default:{name:"Kroma Sepolia Explorer",url:"https://blockscout.sepolia.kroma.network",apiUrl:"https://blockscout.sepolia.kroma.network/api"}},testnet:!0}),Qbe=se({id:12324,name:"L3X Protocol",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet.l3x.com"],webSocket:["wss://rpc-mainnet.l3x.com"]}},blockExplorers:{default:{name:"L3X Mainnet Explorer",url:"https://explorer.l3x.com",apiUrl:"https://explorer.l3x.com/api/v2"}},testnet:!1}),e1e=se({id:12325,name:"L3X Protocol Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.l3x.com"],webSocket:["wss://rpc-testnet.l3x.com"]}},blockExplorers:{default:{name:"L3X Testnet Explorer",url:"https://explorer-testnet.l3x.com",apiUrl:"https://explorer-testnet.l3x.com/api/v2"}},testnet:!0}),t1e=se({id:1891,name:"LightLink Pegasus Testnet",network:"lightlink-pegasus",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://replicator.pegasus.lightlink.io/rpc/v1"]}},blockExplorers:{default:{name:"LightLink Pegasus Explorer",url:"https://pegasus.lightlink.io"}},testnet:!0}),n1e=se({id:1890,name:"LightLink Phoenix Mainnet",network:"lightlink-phoenix",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://replicator.phoenix.lightlink.io/rpc/v1"]}},blockExplorers:{default:{name:"LightLink Phoenix Explorer",url:"https://phoenix.lightlink.io"}},testnet:!1}),r1e=se({id:59144,name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build",apiUrl:"https://api.lineascan.build/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:42}},testnet:!1}),i1e=se({id:59140,name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build",apiUrl:"https://api-goerli.lineascan.build/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:498623}},testnet:!0}),o1e=se({id:59141,name:"Linea Sepolia Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.sepolia.linea.build"],webSocket:["wss://rpc.sepolia.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.lineascan.build",apiUrl:"https://api-sepolia.lineascan.build/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:227427}},testnet:!0}),s1e=se({id:59140,name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build",apiUrl:"https://goerli.lineascan.build/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:498623}},testnet:!0}),BA=50000n,hj=uye*32n,HV={block:uA({format(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>{var o;if(typeof r=="string")return r;const i=(o=HV.transaction)==null?void 0:o.format(r);return i.typeHex==="0x71"?i.type="eip712":i.typeHex==="0xff"&&(i.type="priority"),i});return{l1BatchNumber:e.l1BatchNumber?ni(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?ni(e.l1BatchTimestamp):null,transactions:t}}}),transaction:lA({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?ni(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?ni(e.l1BatchTxIndex):null}}}),transactionReceipt:kV({format(e){return{l1BatchNumber:e.l1BatchNumber?ni(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?ni(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...Tu(t),l1BatchNumber:t.l1BatchNumber?ni(t.l1BatchNumber):null,transactionLogIndex:Sl(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:ni(t.blockHash),blockHash:t.blockHash,l1BatchNumber:ni(t.l1BatchNumber),transactionIndex:ni(t.transactionIndex),shardId:ni(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:ni(t.logIndex)}))}}}),transactionRequest:Bq({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:hn(e.gasPerPubdata)}:{gasPerPubdata:hn(BA)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(wl(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(wl(t)))}:{},...e.customSignature?{customSignature:Array.from(wl(e.customSignature))}:{}},type:"0x71"}:{}}})};class a1e extends tt{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidEip712TransactionError"})}}function KV(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function GV(e){const{chainId:t,to:n,from:r,paymaster:i,paymasterInput:o}=e;if(!KV(e))throw new a1e;if(!t||t<=0)throw new l1({chainId:t});if(n&&!Hi(n))throw new Jo({address:n});if(r&&!Hi(r))throw new Jo({address:r});if(i&&!Hi(i))throw new Jo({address:i});if(i&&!o)throw new tt("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&o)throw new tt("`paymaster` must be provided when `paymasterInput` is defined")}function c1e(e,t){return KV(e)?d1e(e):Kk(e,t)}const l1e={transaction:c1e};function d1e(e){const{chainId:t,gas:n,nonce:r,to:i,from:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,customSignature:l,factoryDeps:d,paymaster:f,paymasterInput:p,gasPerPubdata:m,data:g}=e;GV(e);const y=[r?hn(r):"0x",c?hn(c):"0x",a?hn(a):"0x",n?hn(n):"0x",i??"0x",s?hn(s):"0x",g??"0x0",hn(t),hn(""),hn(""),hn(t),o??"0x",hn(m||BA),d??[],l??"0x",f&&p?[f,p]:[]];return xd(["0x71",Df(y)])}class u1e extends tt{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthExceedsMaxSizeError"})}}class f1e extends tt{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthInWordsMustBeOddError"})}}class h1e extends tt{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthMustBeDivisibleBy32Error"})}}function p1e(e){const t=bl(e);if(t.length%32!==0)throw new h1e({givenLength:t.length});if(t.length>hj)throw new u1e({givenLength:t.length,maxBytecodeSize:hj});const n=Wq(t),r=bl(n),i=t.length/32;if(i%2===0)throw new f1e({givenLengthInWords:i});const o=bl(i),s=Rp(o,{size:2}),a=new Uint8Array([1,0]);return r.set(a,0),r.set(s,2),r}const m1e=e=>{GV(e);const t=g1e(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function g1e(e){const{gas:t,nonce:n,to:r,from:i,value:o,maxFeePerGas:s,maxPriorityFeePerGas:a,factoryDeps:c,paymaster:l,paymasterInput:d,gasPerPubdata:f,data:p}=e;return{txType:113n,from:BigInt(i),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:f??BA,maxFeePerGas:s??0n,maxPriorityFeePerGas:a??0n,paymaster:l?BigInt(l):0n,nonce:n?BigInt(n):0n,value:o??0n,data:p||"0x0",factoryDeps:(c==null?void 0:c.map(m=>hn(p1e(m))))??[],paymasterInput:d||"0x"}}const Pp={formatters:HV,serializers:l1e,custom:{getEip712Domain:m1e}},y1e=se({...Pp,id:1135,name:"Lisk",network:"lisk",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.api.lisk.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.lisk.com",apiUrl:"https://blockscout.lisk.com/api"}},contracts:{multicall3:{address:"0xA9d71E1dd7ca26F26e656E66d6AA81ed7f745bf0"}}}),w_=11155111,v1e=se({...xr,id:4202,network:"lisk-sepolia",name:"Lisk Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.sepolia-api.lisk.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-blockscout.lisk.com",apiUrl:"https://sepolia-blockscout.lisk.com/api"}},contracts:{...xr.contracts,l2OutputOracle:{[w_]:{address:"0xA0E35F56C318DE1bD5D9ca6A94Fe7e37C5663348"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[w_]:{address:"0xe3d90F21490686Ec7eF37BE788E02dfC12787264"}},l1StandardBridge:{[w_]:{address:"0x1Fb30e446eA791cd1f011675E5F3f5311b70faF5"}}},testnet:!0,sourceId:w_}),b1e=se({id:1337,name:"Localhost",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"]}}}),w1e=se({id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network",apiUrl:"https://api.explorer.execution.mainnet.lukso.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:468183}}}),_1e=se({id:4201,name:"LUKSO Testnet",nativeCurrency:{decimals:18,name:"LUKSO Testnet",symbol:"LYXt"},rpcUrls:{default:{http:["https://rpc.testnet.lukso.network"],webSocket:["wss://ws-rpc.testnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Testnet Explorer",url:"https://explorer.execution.testnet.lukso.network",apiUrl:"https://api.explorer.execution.testnet.lukso.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:605348}},testnet:!0}),x1e=se({id:721,name:"Lycan",nativeCurrency:{decimals:18,name:"Lycan",symbol:"LYC"},rpcUrls:{default:{http:["https://rpc.lycanchain.com","https://us-east.lycanchain.com","https://us-west.lycanchain.com","https://eu-north.lycanchain.com","https://eu-west.lycanchain.com","https://asia-southeast.lycanchain.com"],webSocket:["wss://rpc.lycanchain.com","wss://us-east.lycanchain.com","wss://us-west.lycanchain.com","wss://eu-north.lycanchain.com","wss://eu-west.lycanchain.com","wss://asia-southeast.lycanchain.com"]}},blockExplorers:{default:{name:"Lycan Explorer",url:"https://explorer.lycanchain.com"}}}),k1e=se({id:957,name:"Lyra Chain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.lyra.finance"]}},blockExplorers:{default:{name:"Lyra Explorer",url:"https://explorer.lyra.finance",apiUrl:"https://explorer.lyra.finance/api/v2"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1935198}}}),S1e=se({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),E1e=se({id:595,name:"Mandala TC9",network:"mandala",nativeCurrency:{name:"Mandala",symbol:"mACA",decimals:18},rpcUrls:{public:{http:["https://eth-rpc-tc9.aca-staging.network"],webSocket:["wss://eth-rpc-tc9.aca-staging.network"]},default:{http:["https://eth-rpc-tc9.aca-staging.network"],webSocket:["wss://eth-rpc-tc9.aca-staging.network"]}},blockExplorers:{default:{name:"Mandala Blockscout",url:"https://blockscout.mandala.aca-staging.network",apiUrl:"https://blockscout.mandala.aca-staging.network/api"}},testnet:!0}),C1e=se({id:169,name:"Manta Pacific Mainnet",network:"manta",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://pacific-rpc.manta.network/http"]}},blockExplorers:{default:{name:"Manta Explorer",url:"https://pacific-explorer.manta.network",apiUrl:"https://pacific-explorer.manta.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:332890}}}),I1e=se({id:3441006,name:"Manta Pacific Sepolia Testnet",network:"manta-sepolia",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://pacific-rpc.sepolia-testnet.manta.network/http"]}},blockExplorers:{default:{name:"Manta Sepolia Testnet Explorer",url:"https://pacific-explorer.sepolia-testnet.manta.network",apiUrl:"https://pacific-explorer.sepolia-testnet.manta.network/api"}},contracts:{multicall3:{address:"0xca54918f7B525C8df894668846506767412b53E3",blockCreated:479584}},testnet:!0}),A1e=se({id:3441005,name:"Manta Pacific Testnet",network:"manta-testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://manta-testnet.calderachain.xyz/http"]}},blockExplorers:{default:{name:"Manta Testnet Explorer",url:"https://pacific-explorer.testnet.manta.network",apiUrl:"https://pacific-explorer.testnet.manta.network/api"}},contracts:{multicall3:{address:"0x211B1643b95Fe76f11eD8880EE810ABD9A4cf56C",blockCreated:419915}},testnet:!0}),T1e=se({id:5e3,name:"Mantle",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Explorer",url:"https://mantlescan.xyz/",apiUrl:"https://api.mantlescan.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:304717}}}),R1e=se({id:5003,name:"Mantle Sepolia Testnet",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.sepolia.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Testnet Explorer",url:"https://explorer.sepolia.mantle.xyz/",apiUrl:"https://explorer.sepolia.mantle.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4584012}},testnet:!0}),P1e=se({id:5001,name:"Mantle Testnet",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.testnet.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Testnet Explorer",url:"https://explorer.testnet.mantle.xyz",apiUrl:"https://explorer.testnet.mantle.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:561333}},testnet:!0}),O1e=se({id:4200,name:"Merlin",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.merlinchain.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://scan.merlinchain.io",apiUrl:"https://scan.merlinchain.io/api"}}}),N1e=se({id:571,name:"MetaChain Mainnet",nativeCurrency:{name:"Metatime Coin",symbol:"MTC",decimals:18},rpcUrls:{default:{http:["https://rpc.metatime.com"]}},blockExplorers:{default:{name:"MetaExplorer",url:"https://explorer.metatime.com"}},contracts:{multicall3:{address:"0x0000000000000000000000000000000000003001",blockCreated:0}}}),j1e=se({id:1453,name:"MetaChain Istanbul",nativeCurrency:{name:"Metatime Coin",symbol:"MTC",decimals:18},rpcUrls:{default:{http:["https://istanbul-rpc.metachain.dev"]}},blockExplorers:{default:{name:"MetaExplorer",url:"https://istanbul-explorer.metachain.dev"}},contracts:{multicall3:{address:"0x0000000000000000000000000000000000003001",blockCreated:0}},testnet:!0}),__=1,B1e=se({...xr,id:1750,name:"Metal L2",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.metall2.com"],webSocket:["wss://rpc.metall2.com"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.metall2.com",apiUrl:"https://explorer.metall2.com/api"}},contracts:{...xr.contracts,l2OutputOracle:{[__]:{address:"0x3B1F7aDa0Fcc26B13515af752Dd07fB1CAc11426"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},portal:{[__]:{address:"0x3F37aBdE2C6b5B2ed6F8045787Df1ED1E3753956"}},l1StandardBridge:{[__]:{address:"0x6d0f65D59b55B0FEC5d2d15365154DcADC140BF3"}}},sourceId:__}),$1e=se({id:82,name:"Meter",nativeCurrency:{decimals:18,name:"MTR",symbol:"MTR"},rpcUrls:{default:{http:["https://rpc.meter.io"]}},blockExplorers:{default:{name:"MeterScan",url:"https://scan.meter.io"}}}),M1e=se({id:83,name:"Meter Testnet",nativeCurrency:{decimals:18,name:"MTR",symbol:"MTR"},rpcUrls:{default:{http:["https://rpctest.meter.io"]}},blockExplorers:{default:{name:"MeterTestnetScan",url:"https://scan-warringstakes.meter.io"}}}),D1e=se({id:1088,name:"Metis",nativeCurrency:{decimals:18,name:"Metis",symbol:"METIS"},rpcUrls:{default:{http:["https://andromeda.metis.io/?owner=1088"]}},blockExplorers:{default:{name:"Metis Explorer",url:"https://explorer.metis.io",apiUrl:"https://api.routescan.io/v2/network/mainnet/evm/43114/etherscan/api"},blockscout:{name:"Andromeda Explorer",url:"https://andromeda-explorer.metis.io",apiUrl:"https://andromeda-explorer.metis.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2338552}}}),L1e=se({id:599,name:"Metis Goerli",nativeCurrency:{decimals:18,name:"Metis Goerli",symbol:"METIS"},rpcUrls:{default:{http:["https://goerli.gateway.metisdevops.link"]}},blockExplorers:{default:{name:"Metis Goerli Explorer",url:"https://goerli.explorer.metisdevops.link",apiUrl:"https://goerli.explorer.metisdevops.link/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1006207}}}),U1e=se({id:7518,name:"MEVerse Chain Mainnet",nativeCurrency:{decimals:18,name:"MEVerse",symbol:"MEV"},rpcUrls:{default:{http:["https://rpc.meversemainnet.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://www.meversescan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:86881340}}}),F1e=se({id:4759,name:"MEVerse Chain Testnet",nativeCurrency:{decimals:18,name:"MEVerse",symbol:"MEV"},rpcUrls:{default:{http:["https://rpc.meversetestnet.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.meversescan.io/"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:64371115}},testnet:!0}),W1e=se({id:1686,name:"Mint Sepolia Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.mintchain.io"]}},blockExplorers:{default:{name:"Mintchain Testnet explorer",url:"https://testnet-explorer.mintchain.io"}},testnet:!0}),x_=1,z1e=se({id:34443,name:"Mode Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.mode.network"]}},blockExplorers:{default:{name:"Modescan",url:"https://modescan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2465882},l2OutputOracle:{[x_]:{address:"0x4317ba146D4933D889518a3e5E11Fe7a53199b04"}},portal:{[x_]:{address:"0x8B34b14c7c7123459Cf3076b8Cb929BE097d0C07"}},l1StandardBridge:{[x_]:{address:"0x735aDBbE72226BD52e818E7181953f42E3b0FF21"}}},sourceId:x_}),k_=11155111,q1e=se({...xr,id:919,name:"Mode Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.mode.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia.explorer.mode.network",apiUrl:"https://sepolia.explorer.mode.network/api"}},contracts:{...xr.contracts,l2OutputOracle:{[k_]:{address:"0x2634BD65ba27AB63811c74A63118ACb312701Bfa",blockCreated:3778393}},portal:{[k_]:{address:"0x320e1580effF37E008F1C92700d1eBa47c1B23fD",blockCreated:3778395}},l1StandardBridge:{[k_]:{address:"0xbC5C679879B2965296756CD959C3C739769995E2",blockCreated:3778392}},multicall3:{address:"0xBAba8373113Fb7a68f195deF18732e01aF8eDfCF",blockCreated:3019007}},testnet:!0,sourceId:k_}),V1e=se({id:1287,name:"Moonbase Alpha",nativeCurrency:{decimals:18,name:"DEV",symbol:"DEV"},rpcUrls:{default:{http:["https://rpc.api.moonbase.moonbeam.network"],webSocket:["wss://wss.api.moonbase.moonbeam.network"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonbase.moonscan.io",apiUrl:"https://moonbase.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1850686}},testnet:!0}),H1e=se({id:1284,name:"Moonbeam",nativeCurrency:{decimals:18,name:"GLMR",symbol:"GLMR"},rpcUrls:{default:{http:["https://moonbeam.public.blastapi.io"],webSocket:["wss://moonbeam.public.blastapi.io"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonscan.io",apiUrl:"https://api-moonbeam.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:609002}},testnet:!1}),K1e=se({id:1281,name:"Moonbeam Development Node",nativeCurrency:{decimals:18,name:"DEV",symbol:"DEV"},rpcUrls:{default:{http:["http://127.0.0.1:9944"],webSocket:["wss://127.0.0.1:9944"]}}}),G1e=se({id:1285,name:"Moonriver",nativeCurrency:{decimals:18,name:"MOVR",symbol:"MOVR"},rpcUrls:{default:{http:["https://moonriver.public.blastapi.io"],webSocket:["wss://moonriver.public.blastapi.io"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonriver.moonscan.io",apiUrl:"https://api-moonriver.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1597904}},testnet:!1}),Z1e=se({id:2810,name:"Morph Holesky",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-quicknode-holesky.morphl2.io"],webSocket:["wss://rpc-quicknode-holesky.morphl2.io"]}},blockExplorers:{default:{name:"Morph Holesky Explorer",url:"https://explorer-holesky.morphl2.io",apiUrl:"https://explorer-api-holesky.morphl2.io/api?"}},testnet:!0}),J1e=se({id:2710,name:"Morph Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.morphl2.io"]}},blockExplorers:{default:{name:"Morph Testnet Explorer",url:"https://explorer-testnet.morphl2.io",apiUrl:"https://explorer-api-testnet.morphl2.io/api"}},testnet:!0}),Y1e=se({id:22222,name:"Nautilus Mainnet",nativeCurrency:{name:"ZBC",symbol:"ZBC",decimals:9},rpcUrls:{default:{http:["https://api.nautilus.nautchain.xyz"]}},blockExplorers:{default:{name:"NautScan",url:"https://nautscan.com"}}}),X1e=se({id:245022926,name:"Neon EVM DevNet",nativeCurrency:{name:"NEON",symbol:"NEON",decimals:18},rpcUrls:{default:{http:["https://devnet.neonevm.org"]}},blockExplorers:{default:{name:"Neonscan",url:"https://devnet.neonscan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:205206112}},testnet:!0}),Q1e=se({id:245022934,network:"neonMainnet",name:"Neon EVM MainNet",nativeCurrency:{name:"NEON",symbol:"NEON",decimals:18},rpcUrls:{default:{http:["https://neon-proxy-mainnet.solana.p2p.org"]}},blockExplorers:{default:{name:"Neonscan",url:"https://neonscan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:206545524}},testnet:!1}),ewe=se({id:4242,name:"Nexi",nativeCurrency:{name:"Nexi",symbol:"NEXI",decimals:18},rpcUrls:{default:{http:["https://rpc.chain.nexi.technology"]}},blockExplorers:{default:{name:"NexiScan",url:"https://www.nexiscan.com",apiUrl:"https://www.nexiscan.com/api"}},contracts:{multicall3:{address:"0x0277A46Cc69A57eE3A6C8c158bA874832F718B8E",blockCreated:25770160}}}),twe=se({id:240,name:"Nexilix Smart Chain",nativeCurrency:{decimals:18,name:"Nexilix",symbol:"NEXILIX"},rpcUrls:{default:{http:["https://rpcurl.pos.nexilix.com"]}},blockExplorers:{default:{name:"NexilixScan",url:"https://scan.nexilix.com"}},contracts:{multicall3:{address:"0x58381c8e2BF9d0C2C4259cA14BdA9Afe02831244",blockCreated:74448}}}),nwe=se({id:248,name:"Oasys",nativeCurrency:{name:"Oasys",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.oasys.games"]}},blockExplorers:{default:{name:"OasysScan",url:"https://scan.oasys.games",apiUrl:"https://scan.oasys.games/api"}}}),rwe=se({id:4090,network:"oasis-testnet",name:"Oasis Testnet",nativeCurrency:{name:"Fasttoken",symbol:"FTN",decimals:18},rpcUrls:{default:{http:["https://rpc1.oasis.bahamutchain.com"]},public:{http:["https://rpc1.oasis.bahamutchain.com"]}},blockExplorers:{default:{name:"Ftnscan",url:"https://oasis.ftnscan.com",apiUrl:"https://oasis.ftnscan.com/api"}},testnet:!0}),iwe=se({id:66,name:"OKC",nativeCurrency:{decimals:18,name:"OKT",symbol:"OKT"},rpcUrls:{default:{http:["https://exchainrpc.okex.org"]}},blockExplorers:{default:{name:"oklink",url:"https://www.oklink.com/okc"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10364792}}}),Uy=1,ZV=se({...xr,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...xr.contracts,disputeGameFactory:{[Uy]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Uy]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Uy]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Uy]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Uy}),S_=5,JV=se({...xr,id:420,name:"Optimism Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://goerli.optimism.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io",apiUrl:"https://goerli-optimism.etherscan.io/api"}},contracts:{...xr.contracts,l2OutputOracle:{[S_]:{address:"0xE6Dfba0953616Bacab0c9A8ecb3a9BBa77FC15c0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:49461},portal:{[S_]:{address:"0x5b47E1A08Ea6d985D6649300584e6722Ec4B1383"}},l1StandardBridge:{[S_]:{address:"0x636Af16bf2f682dD3109e60102b8E1A089FedAa8"}}},testnet:!0,sourceId:S_}),Fy=11155111,YV=se({...xr,id:11155420,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.optimism.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}},contracts:{...xr.contracts,disputeGameFactory:{[Fy]:{address:"0x05F9613aDB30026FFd634f38e5C4dFd30a197Fa1"}},l2OutputOracle:{[Fy]:{address:"0x90E9c4f8a994a250F6aEfd61CAFb4F2e895D458F"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204},portal:{[Fy]:{address:"0x16Fc5058F25648194471939df75CF27A2fdC48BC"}},l1StandardBridge:{[Fy]:{address:"0xFBb0621E0B23b5478B630BD55a5f21f67730B0F1"}}},testnet:!0,sourceId:Fy}),owe=se({id:204,name:"opBNB",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://opbnb-mainnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opbnbscan",url:"https://mainnet.opbnbscan.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:512881}}}),swe=se({id:5611,name:"opBNB Testnet",nativeCurrency:{decimals:18,name:"tBNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://opbnb-testnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opbnbscan",url:"https://testnet.opbnbscan.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3705108}},testnet:!0}),awe=se({id:9700,name:"OORT MainnetDev",nativeCurrency:{decimals:18,name:"OORT",symbol:"OORT"},rpcUrls:{default:{http:["https://dev-rpc.oortech.com"]}},blockExplorers:{oort:{name:"OORT MainnetDev Explorer",url:"https://dev-scan.oortech.com"},default:{name:"OORT MainnetDev Explorer",url:"https://dev-scan.oortech.com"}}}),cwe=se({id:41144114,name:"Otim Devnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["http://devnet.otim.xyz"]}},contracts:{batchInvoker:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3"}}}),lwe=se({id:11297108109,name:"Palm",nativeCurrency:{decimals:18,name:"PALM",symbol:"PALM"},rpcUrls:{default:{http:["https://palm-mainnet.public.blastapi.io"],webSocket:["wss://palm-mainnet.public.blastapi.io"]}},blockExplorers:{default:{name:"Chainlens",url:"https://palm.chainlens.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15429248}}}),dwe=se({id:11297108099,name:"Palm Testnet",nativeCurrency:{decimals:18,name:"PALM",symbol:"PALM"},rpcUrls:{default:{http:["https://palm-mainnet.public.blastapi.io"],webSocket:["wss://palm-mainnet.public.blastapi.io"]}},blockExplorers:{default:{name:"Chainlens",url:"https://palm.chainlens.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15429248}},testnet:!0}),uwe=se({...Pp,id:1612127,name:"PlayFi Albireo Testnet",network:"albireo",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://albireo-rpc.playfi.ai"],webSocket:["wss://albireo-rpc-ws.playfi.ai/ws"]}},blockExplorers:{default:{name:"PlayFi Albireo Explorer",url:"https://albireo-explorer.playfi.ai"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}},testnet:!0}),E_=1,fwe=se({id:424,network:"pgn",name:"PGN",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.publicgoods.network"]}},blockExplorers:{default:{name:"PGN Explorer",url:"https://explorer.publicgoods.network",apiUrl:"https://explorer.publicgoods.network/api"},blockscout:{name:"PGN Explorer",url:"https://explorer.publicgoods.network",apiUrl:"https://explorer.publicgoods.network/api"}},contracts:{l2OutputOracle:{[E_]:{address:"0x9E6204F750cD866b299594e2aC9eA824E2e5f95c"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3380209},portal:{[E_]:{address:"0xb26Fd985c5959bBB382BAFdD0b879E149e48116c"}},l1StandardBridge:{[E_]:{address:"0xD0204B9527C1bA7bD765Fa5CCD9355d38338272b"}}},formatters:jA,sourceId:E_}),C_=11155111,hwe=se({id:58008,network:"pgn-testnet",name:"PGN ",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.publicgoods.network"]}},blockExplorers:{default:{name:"PGN Testnet Explorer",url:"https://explorer.sepolia.publicgoods.network",apiUrl:"https://explorer.sepolia.publicgoods.network/api"},blockscout:{name:"PGN Testnet Explorer",url:"https://explorer.sepolia.publicgoods.network",apiUrl:"https://explorer.sepolia.publicgoods.network/api"}},contracts:{l2OutputOracle:{[C_]:{address:"0xD5bAc3152ffC25318F848B3DD5dA6C85171BaEEe"}},portal:{[C_]:{address:"0xF04BdD5353Bb0EFF6CA60CfcC78594278eBfE179"}},l1StandardBridge:{[C_]:{address:"0xFaE6abCAF30D23e233AC7faF747F2fC3a5a6Bfa3"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3754925}},formatters:jA,sourceId:C_,testnet:!0}),pwe=se({id:13381,name:"Phoenix Blockchain",nativeCurrency:{name:"Phoenix",symbol:"PHX",decimals:18},rpcUrls:{default:{http:["https://rpc.phoenixplorer.com"]}},blockExplorers:{default:{name:"Phoenixplorer",url:"https://phoenixplorer.com",apiUrl:"https://phoenixplorer.com/api"}},contracts:{multicall3:{address:"0x498cF757a575cFF2c2Ed9f532f56Efa797f86442",blockCreated:5620192}}}),mwe=se({id:242,name:"Plinga",nativeCurrency:{name:"Plinga",symbol:"PLINGA",decimals:18},rpcUrls:{default:{http:["https://rpcurl.mainnet.plgchain.com"]}},blockExplorers:{default:{name:"Plgscan",url:"https://www.plgscan.com"}},contracts:{multicall3:{address:"0x0989576160f2e7092908BB9479631b901060b6e4",blockCreated:204489}}}),gwe=11155111,ywe=se({id:161221135,name:"Plume Testnet",nativeCurrency:{name:"Plume Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.plumenetwork.xyz/http"],webSocket:["wss://testnet-rpc.plumenetwork.xyz/ws"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet-explorer.plumenetwork.xyz",apiUrl:"https://testnet-explorer.plumenetwork.xyz/api"}},testnet:!0,sourceId:gwe}),vwe=se({id:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),bwe=se({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api-amoy.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),wwe=se({id:80001,name:"Polygon Mumbai",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://rpc.ankr.com/polygon_mumbai"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://mumbai.polygonscan.com",apiUrl:"https://api-testnet.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}},testnet:!0}),_we=se({id:1101,name:"Polygon zkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://zkevm-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://zkevm.polygonscan.com",apiUrl:"https://api-zkevm.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:57746}}}),xwe=se({id:2442,name:"Polygon zkEVM Cardona",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.cardona.zkevm-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://cardona-zkevm.polygonscan.com",apiUrl:"https://cardona-zkevm.polygonscan.com/api"}},testnet:!0,contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:114091}}}),kwe=se({id:1442,name:"Polygon zkEVM Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.public.zkevm-test.net"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://testnet-zkevm.polygonscan.com",apiUrl:"https://testnet-zkevm.polygonscan.com/api"}},testnet:!0,contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:525686}}}),Swe=se({id:369,name:"PulseChain",nativeCurrency:{name:"Pulse",symbol:"PLS",decimals:18},testnet:!1,rpcUrls:{default:{http:["https://rpc.pulsechain.com"],webSocket:["wss://ws.pulsechain.com"]}},blockExplorers:{default:{name:"PulseScan",url:"https://scan.pulsechain.com",apiUrl:"https://api.scan.pulsechain.com/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Ewe=se({id:943,name:"PulseChain V4",testnet:!0,nativeCurrency:{name:"V4 Pulse",symbol:"v4PLS",decimals:18},rpcUrls:{default:{http:["https://rpc.v4.testnet.pulsechain.com"],webSocket:["wss://ws.v4.testnet.pulsechain.com"]}},blockExplorers:{default:{name:"PulseScan",url:"https://scan.v4.testnet.pulsechain.com",apiUrl:"https://scan.v4.testnet.pulsechain.com/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Cwe=se({id:35441,name:"Q Mainnet",nativeCurrency:{decimals:18,name:"Q",symbol:"Q"},rpcUrls:{default:{http:["https://rpc.q.org"]}},blockExplorers:{default:{name:"Q Mainnet Explorer",url:"https://explorer.q.org",apiUrl:"https://explorer.q.org/api"}}}),Iwe=se({id:35443,name:"Q Testnet",nativeCurrency:{decimals:18,name:"Q",symbol:"Q"},rpcUrls:{default:{http:["https://rpc.qtestnet.org"]}},blockExplorers:{default:{name:"Q Testnet Explorer",url:"https://explorer.qtestnet.org",apiUrl:"https://explorer.qtestnet.org/api"}},testnet:!0}),Awe=se({id:111188,name:"re.al",nativeCurrency:{name:"reETH",decimals:18,symbol:"reETH"},rpcUrls:{default:{http:["https://real.drpc.org"]}},blockExplorers:{default:{name:"re.al Explorer",url:"https://explorer.re.al",apiUrl:"https://explorer.re.al/api/v2"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:695}}}),Twe=se({id:153,name:"Redbelly Network Testnet",nativeCurrency:{name:"Redbelly Native Coin",symbol:"RBNT",decimals:18},rpcUrls:{default:{http:["https://governors.testnet.redbelly.network"]}},blockExplorers:{default:{name:"Ethernal",url:"https://explorer.testnet.redbelly.network",apiUrl:"https://ethernal.fly.dev/api"}},testnet:!0}),Rwe=se({id:690,name:"Redstone",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.redstonechain.com"],webSocket:["wss://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Explorer",url:"	https://explorer.redstone.xyz"}}}),Pwe=se({id:1729,name:"Reya Network",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.reya.network"],webSocket:["wss://ws.reya.network"]}},blockExplorers:{default:{name:"Reya Network Explorer",url:"https://explorer.reya.network"}},testnet:!1}),Owe=se({id:570,name:"Rollux Mainnet",nativeCurrency:{decimals:18,name:"Syscoin",symbol:"SYS"},rpcUrls:{default:{http:["https://rpc.rollux.com"],webSocket:["wss://rpc.rollux.com/wss"]}},blockExplorers:{default:{name:"RolluxExplorer",url:"https://explorer.rollux.com",apiUrl:"https://explorer.rollux.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:119222}}}),Nwe=se({id:57e3,name:"Rollux Testnet",nativeCurrency:{decimals:18,name:"Syscoin",symbol:"SYS"},rpcUrls:{default:{http:["https://rpc-tanenbaum.rollux.com/"],webSocket:["wss://rpc-tanenbaum.rollux.com/wss"]}},blockExplorers:{default:{name:"RolluxTestnetExplorer",url:"https://rollux.tanenbaum.io",apiUrl:"https://rollux.tanenbaum.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1813675}}}),jwe=se({id:2020,name:"Ronin",nativeCurrency:{name:"RON",symbol:"RON",decimals:18},rpcUrls:{default:{http:["https://api.roninchain.com/rpc"]}},blockExplorers:{default:{name:"Ronin Explorer",url:"https://app.roninchain.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:26023535}}}),Bwe=se({id:30,name:"Rootstock Mainnet",network:"rootstock",nativeCurrency:{decimals:18,name:"Rootstock Bitcoin",symbol:"RBTC"},rpcUrls:{default:{http:["https://public-node.rsk.co"]}},blockExplorers:{default:{name:"RSK Explorer",url:"https://explorer.rsk.co"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4249540}}}),$we=se({id:31,name:"Rootstock Testnet",network:"rootstock",nativeCurrency:{decimals:18,name:"Rootstock Bitcoin",symbol:"tRBTC"},rpcUrls:{default:{http:["https://public-node.testnet.rsk.co"]}},blockExplorers:{default:{name:"RSK Explorer",url:"https://explorer.testnet.rootstock.io"}},testnet:!0}),I_=1,Mwe=se({...xr,id:12553,name:"RSS3 VSL Mainnet",nativeCurrency:{name:"RSS3",symbol:"RSS3",decimals:18},rpcUrls:{default:{http:["https://rpc.rss3.io"]}},blockExplorers:{default:{name:"RSS3 VSL Mainnet Scan",url:"https://scan.rss3.io",apiUrl:"https://scan.rss3.io/api"}},contracts:{...xr.contracts,l2OutputOracle:{[I_]:{address:"0xE6f24d2C32B3109B18ed33cF08eFb490b1e09C10"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14193},portal:{[I_]:{address:"0x6A12432491bbbE8d3babf75F759766774C778Db4",blockCreated:19387057}},l1StandardBridge:{[I_]:{address:"0x4cbab69108Aa72151EDa5A3c164eA86845f18438"}}},sourceId:I_}),A_=11155111,Dwe=se({...xr,id:2331,name:"RSS3 VSL Sepolia Testnet",nativeCurrency:{name:"RSS3",symbol:"RSS3",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.rss3.io"]}},blockExplorers:{default:{name:"RSS3 VSL Sepolia Testnet Scan",url:"https://scan.testnet.rss3.io",apiUrl:"https://scan.testnet.rss3.io/api"}},contracts:{...xr.contracts,l2OutputOracle:{[A_]:{address:"0xDb5c46C3Eaa6Ed6aE8b2379785DF7dd029C0dC81"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:55697},portal:{[A_]:{address:"0xcBD77E8E1E7F06B25baDe67142cdE82652Da7b57",blockCreated:5345035}},l1StandardBridge:{[A_]:{address:"0xdDD29bb63B0839FB1cE0eE439Ff027738595D07B"}}},testnet:!0,sourceId:A_}),Lwe=se({id:2021,name:"Saigon Testnet",nativeCurrency:{name:"RON",symbol:"RON",decimals:18},rpcUrls:{default:{http:["https://saigon-testnet.roninchain.com/rpc"]}},blockExplorers:{default:{name:"Saigon Explorer",url:"https://saigon-app.roninchain.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:18736871}},testnet:!0}),Uwe=se({id:23294,name:"Oasis Sapphire",network:"sapphire",nativeCurrency:{name:"Sapphire Rose",symbol:"ROSE",decimals:18},rpcUrls:{default:{http:["https://sapphire.oasis.io"],webSocket:["wss://sapphire.oasis.io/ws"]}},blockExplorers:{default:{name:"Oasis Explorer",url:"https://explorer.oasis.io/mainnet/sapphire"},blockscout:{name:"Oasis Sapphire Explorer",url:"https://old-explorer.sapphire.oasis.io",apiUrl:"https://old-explorer.sapphire.oasis.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:734531}}}),Fwe=se({id:23295,name:"Oasis Sapphire Testnet",network:"sapphire-testnet",nativeCurrency:{name:"Sapphire Test Rose",symbol:"TEST",decimals:18},rpcUrls:{default:{http:["https://testnet.sapphire.oasis.dev"],webSocket:["wss://testnet.sapphire.oasis.dev/ws"]}},blockExplorers:{default:{name:"Oasis Explorer",url:"https://explorer.oasis.io/testnet/sapphire"},blockscout:{name:"Oasis Sapphire Testnet Explorer",url:"https://testnet.old-explorer.sapphire.oasis.dev",apiUrl:"https://testnet.old-explorer.sapphire.oasis.dev/api"}},testnet:!0}),Wwe=se({id:3109,name:"SatoshiVM Alpha Mainnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://alpha-rpc-node-http.svmscan.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://svmscan.io",apiUrl:"https://svmscan.io/api"}}}),zwe=se({id:3110,name:"SatoshiVM Testnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://test-rpc-node-http.svmscan.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://testnet.svmscan.io",apiUrl:"https://testnet.svmscan.io/api"}},testnet:!0}),qwe=se({id:534352,name:"Scroll",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.scroll.io"],webSocket:["wss://wss-rpc.scroll.io/ws"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://scrollscan.com",apiUrl:"https://api.scrollscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14}},testnet:!1}),Vwe=se({id:534351,name:"Scroll Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rpc.scroll.io"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://sepolia.scrollscan.com",apiUrl:"https://api-sepolia.scrollscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:9473}},testnet:!0}),Hwe=se({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),Kwe=se({id:713715,name:"Sei Devnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-arctic-1.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},testnet:!0}),Gwe=se({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},testnet:!0}),Zwe=se({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.sepolia.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0}),Jwe=se({id:148,name:"Shimmer",network:"shimmer",nativeCurrency:{decimals:18,name:"Shimmer",symbol:"SMR"},rpcUrls:{default:{http:["https://json-rpc.evm.shimmer.network"]}},blockExplorers:{default:{name:"Shimmer Network Explorer",url:"https://explorer.evm.shimmer.network",apiUrl:"https://explorer.evm.shimmer.network/api"}}}),Ywe=se({id:1073,name:"Shimmer Testnet",network:"shimmer-testnet",nativeCurrency:{decimals:18,name:"Shimmer",symbol:"SMR"},rpcUrls:{default:{http:["https://json-rpc.evm.testnet.shimmer.network"]}},blockExplorers:{default:{name:"Shimmer Network Explorer",url:"https://explorer.evm.testnet.shimmer.network",apiUrl:"https://explorer.evm.testnet.shimmer.network/api"}},testnet:!0}),Xwe=se({id:391845894,name:"SKALE | Block Brawlers",nativeCurrency:{name:"BRAWL",symbol:"BRAWL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/frayed-decent-antares"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/frayed-decent-antares"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://frayed-decent-antares.explorer.mainnet.skalenodes.com"}},contracts:{}}),Qwe=se({id:1564830818,name:"SKALE | Calypso NFT Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/honorable-steel-rasalhague"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/honorable-steel-rasalhague"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://honorable-steel-rasalhague.explorer.mainnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3107626}}}),e_e=se({id:974399131,name:"SKALE Calypso Testnet",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://testnet.skalenodes.com/v1/giant-half-dual-testnet"],webSocket:["wss://testnet.skalenodes.com/v1/ws/giant-half-dual-testnet"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://giant-half-dual-testnet.explorer.testnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:103220}},testnet:!0}),t_e=se({id:1026062157,name:"SKALE | CryptoBlades",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/affectionate-immediate-pollux"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/affectionate-immediate-pollux"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://affectionate-immediate-pollux.explorer.mainnet.skalenodes.com"}},contracts:{}}),n_e=se({id:1032942172,name:"SKALE | Crypto Colosseum",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/haunting-devoted-deneb"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/haunting-devoted-deneb"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://haunting-devoted-deneb.explorer.mainnet.skalenodes.com"}},contracts:{}}),r_e=se({id:2046399126,name:"SKALE | Europa Liquidity Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/elated-tan-skat"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/elated-tan-skat"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://elated-tan-skat.explorer.mainnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3113495}}}),i_e=se({id:1444673419,name:"SKALE Europa Testnet",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://testnet.skalenodes.com/v1/juicy-low-small-testnet"],webSocket:["wss://testnet.skalenodes.com/v1/ws/juicy-low-small-testnet"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://juicy-low-small-testnet.explorer.testnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:110858}},testnet:!0}),o_e=se({id:2139927552,name:"SKALE | Exorde",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/light-vast-diphda"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/light-vast-diphda"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://light-vast-diphda.explorer.mainnet.skalenodes.com"}},contracts:{}}),s_e=se({id:1273227453,name:"SKALE | Human Protocol",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/wan-red-ain"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/wan-red-ain"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://wan-red-ain.explorer.mainnet.skalenodes.com"}},contracts:{}}),a_e=se({id:1482601649,name:"SKALE | Nebula Gaming Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/green-giddy-denebola"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/green-giddy-denebola"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://green-giddy-denebola.explorer.mainnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2372986}}}),c_e=se({id:37084624,name:"SKALE Nebula Testnet",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://testnet.skalenodes.com/v1/lanky-ill-funny-testnet"],webSocket:["wss://testnet.skalenodes.com/v1/ws/lanky-ill-funny-testnet"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://lanky-ill-funny-testnet.explorer.testnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:105141}},testnet:!0}),l_e=se({id:278611351,name:"SKALE | Razor Network",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/turbulent-unique-scheat"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/turbulent-unique-scheat"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://turbulent-unique-scheat.explorer.mainnet.skalenodes.com"}},contracts:{}}),d_e=se({id:1350216234,name:"SKALE | Titan Community Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/parallel-stormy-spica"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/parallel-stormy-spica"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://parallel-stormy-spica.explorer.mainnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2076458}}}),u_e=se({id:1020352220,name:"SKALE Titan Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://testnet.skalenodes.com/v1/aware-fake-trim-testnet"],webSocket:["wss://testnet.skalenodes.com/v1/ws/aware-fake-trim-testnet"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://aware-fake-trim-testnet.explorer.testnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:104072}},testnet:!0}),f_e=se({id:19,name:"Songbird Mainnet",nativeCurrency:{decimals:18,name:"songbird",symbol:"SGB"},rpcUrls:{default:{http:["https://songbird-api.flare.network/ext/C/rpc"]}},blockExplorers:{default:{name:"Songbird Explorer",url:"https://songbird-explorer.flare.network",apiUrl:"https://songbird-explorer.flare.network/api"}}}),h_e=se({id:16,name:"Coston",nativeCurrency:{decimals:18,name:"costonflare",symbol:"CFLR"},rpcUrls:{default:{http:["https://coston-api.flare.network/ext/C/rpc"]}},blockExplorers:{default:{name:"Coston Explorer",url:"https://coston-explorer.flare.network",apiUrl:"https://coston-explorer.flare.network/api"}},testnet:!0}),p_e=se({id:88882,name:"Chiliz Spicy Testnet",network:"chiliz-spicy-Testnet",nativeCurrency:{decimals:18,name:"CHZ",symbol:"CHZ"},rpcUrls:{default:{http:["https://spicy-rpc.chiliz.com","https://chiliz-spicy-rpc.publicnode.com"],webSocket:["wss://spicy-rpc-ws.chiliz.com","wss://chiliz-spicy-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Chiliz Explorer",url:"http://spicy-explorer.chiliz.com",apiUrl:"http://spicy-explorer.chiliz.com/api"}},testnet:!0}),m_e=se({id:8082,name:"Shardeum Sphinx",nativeCurrency:{name:"SHARDEUM",symbol:"SHM",decimals:18},rpcUrls:{default:{http:["https://sphinx.shardeum.org"]}},blockExplorers:{default:{name:"Shardeum Explorer",url:"https://explorer-sphinx.shardeum.org"}},testnet:!0}),g_e=se({id:109,name:"Shibarium",network:"shibarium",nativeCurrency:{name:"Bone",symbol:"BONE",decimals:18},rpcUrls:{default:{http:["https://rpc.shibrpc.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://shibariumscan.io"}},contracts:{multicall3:{address:"0x864Bf681ADD6052395188A89101A1B37d3B4C961",blockCreated:265900}}}),y_e=se({id:157,name:"Puppynet Shibarium",nativeCurrency:{decimals:18,name:"Bone",symbol:"BONE"},rpcUrls:{default:{http:["https://puppynet.shibrpc.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://puppyscan.shib.io",apiUrl:"https://puppyscan.shib.io/api"}},contracts:{multicall3:{address:"0xA4029b74FBA366c926eDFA7Dd10B21C621170a4c",blockCreated:3035769}},testnet:!0}),v_e=se({id:105105,name:"Stratis Mainnet",network:"stratis",nativeCurrency:{name:"Stratis",symbol:"STRAX",decimals:18},rpcUrls:{default:{http:["https://rpc.stratisevm.com"]}},blockExplorers:{default:{name:"Stratis Explorer",url:"https://explorer.stratisevm.com"}}}),b_e=se({id:57,name:"Syscoin Mainnet",nativeCurrency:{decimals:18,name:"Syscoin",symbol:"SYS"},rpcUrls:{default:{http:["https://rpc.syscoin.org"],webSocket:["wss://rpc.syscoin.org/wss"]}},blockExplorers:{default:{name:"SyscoinExplorer",url:"https://explorer.syscoin.org",apiUrl:"https://explorer.syscoin.org/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:287139}}}),w_e=se({id:5700,name:"Syscoin Tanenbaum Testnet",nativeCurrency:{decimals:18,name:"Syscoin",symbol:"SYS"},rpcUrls:{default:{http:["https://rpc.tanenbaum.io"],webSocket:["wss://rpc.tanenbaum.io/wss"]}},blockExplorers:{default:{name:"SyscoinTestnetExplorer",url:"https://tanenbaum.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:271288}}}),__e=se({id:841,name:"Taraxa Mainnet",nativeCurrency:{name:"Tara",symbol:"TARA",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.taraxa.io"]}},blockExplorers:{default:{name:"Taraxa Explorer",url:"https://explorer.mainnet.taraxa.io"}}}),x_e=se({id:167e3,name:"Taiko Mainnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.mainnet.taiko.xyz"],webSocket:["wss://ws.mainnet.taiko.xyz"]}},blockExplorers:{default:{name:"Taikoscan",url:"https://taikoscan.network",apiUrl:"https://taikoscan.network/api"}},contracts:{multicall3:{address:"0xcb2436774C3e191c85056d248EF4260ce5f27A9D"}}}),k_e=se({id:167009,name:"Taiko Hekla L2",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.hekla.taiko.xyz"]}},blockExplorers:{default:{name:"Taikoscan",url:"https://hekla.taikoscan.network"}},testnet:!0}),S_e=se({id:167007,name:"Taiko Jolnir (Alpha-5 Testnet)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.jolnir.taiko.xyz"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.jolnir.taiko.xyz"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:732706}},testnet:!0}),E_e=se({id:167008,name:"Taiko Katla (Alpha-6 Testnet)",network:"tko-katla",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.katla.taiko.xyz"]},public:{http:["https://rpc.katla.taiko.xyz"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.katla.taiko.xyz"}}}),C_e=se({id:167005,name:"Taiko (Alpha-3 Testnet)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.test.taiko.xyz"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.test.taiko.xyz"}}}),I_e=se({id:842,name:"Taraxa Testnet",nativeCurrency:{name:"Tara",symbol:"TARA",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.taraxa.io"]}},blockExplorers:{default:{name:"Taraxa Explorer",url:"https://explorer.testnet.taraxa.io"}},testnet:!0}),A_e=se({id:2017,name:"Telcoin Adiri Testnet",nativeCurrency:{name:"Telcoin",symbol:"TEL",decimals:18},rpcUrls:{default:{http:["https://rpc.telcoin.network"]}},blockExplorers:{default:{name:"telscan",url:"https://telscan.io"}},testnet:!0}),T_e=se({id:40,name:"Telos",nativeCurrency:{decimals:18,name:"Telos",symbol:"TLOS"},rpcUrls:{default:{http:["https://mainnet.telos.net/evm"]}},blockExplorers:{default:{name:"Teloscan",url:"https://www.teloscan.io/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:246530709}}}),R_e=se({id:41,name:"Telos",nativeCurrency:{decimals:18,name:"Telos",symbol:"TLOS"},rpcUrls:{default:{http:["https://testnet.telos.net/evm"]}},blockExplorers:{default:{name:"Teloscan (testnet)",url:"https://testnet.teloscan.io/"}},testnet:!0}),P_e=se({id:1559,name:"Tenet",network:"tenet-mainnet",nativeCurrency:{name:"TENET",symbol:"TENET",decimals:18},rpcUrls:{default:{http:["https://rpc.tenet.org"]}},blockExplorers:{default:{name:"TenetScan Mainnet",url:"https://tenetscan.io",apiUrl:"https://tenetscan.io/api"}},testnet:!1}),O_e=se({id:7,name:"ThaiChain",nativeCurrency:{name:"TCH",symbol:"TCH",decimals:18},rpcUrls:{default:{http:["https://rpc.thaichain.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://exp.thaichain.org",apiUrl:"https://exp.thaichain.org/api"}},contracts:{multicall3:{address:"0x0DaD6130e832c21719C5CE3bae93454E16A84826",blockCreated:4806386}},testnet:!1}),N_e=se({id:997,name:"5ireChain Thunder Testnet",nativeCurrency:{name:"5ire Token",symbol:"5IRE",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.5ire.network"]}},blockExplorers:{default:{name:"5ireChain Explorer",url:"https://explorer.5ire.network"}},testnet:!0}),j_e=se({id:18233,name:"Unreal",nativeCurrency:{name:"reETH",decimals:18,symbol:"reETH"},rpcUrls:{default:{http:["https://rpc.unreal-orbit.gelato.digital"]}},blockExplorers:{default:{name:"Unreal Explorer",url:"https://unreal.blockscout.com",apiUrl:"https://unreal.blockscout.com/api/v2"}},testnet:!0,contracts:{multicall3:{address:"0x8b6B0e60D8CD84898Ea8b981065A12F876eA5677",blockCreated:1745}}}),B_e=se({id:100009,name:"Vechain",nativeCurrency:{name:"VeChain",symbol:"VET",decimals:18},rpcUrls:{default:{http:["https://mainnet.vechain.org"]}},blockExplorers:{default:{name:"Vechain Explorer",url:"https://explore.vechain.org"},vechainStats:{name:"Vechain Stats",url:"https://vechainstats.com"}}}),$_e=se({id:888,name:"Wanchain",nativeCurrency:{name:"WANCHAIN",symbol:"WAN",decimals:18},rpcUrls:{default:{http:["https://gwan-ssl.wandevs.org:56891","https://gwan2-ssl.wandevs.org"]}},blockExplorers:{default:{name:"WanScan",url:"https://wanscan.org"}},contracts:{multicall3:{address:"0xcDF6A1566e78EB4594c86Fe73Fcdc82429e97fbB",blockCreated:25312390}}}),M_e=se({id:999,name:"Wanchain Testnet",nativeCurrency:{name:"WANCHAIN",symbol:"WANt",decimals:18},rpcUrls:{default:{http:["https://gwan-ssl.wandevs.org:46891"]}},blockExplorers:{default:{name:"WanScanTest",url:"https://wanscan.org"}},contracts:{multicall3:{address:"0x11c89bF4496c39FB80535Ffb4c92715839CC5324",blockCreated:24743448}},testnet:!0}),D_e=se({id:1111,name:"WEMIX",network:"wemix-mainnet",nativeCurrency:{name:"WEMIX",symbol:"WEMIX",decimals:18},rpcUrls:{default:{http:["https://api.wemix.com"]},public:{http:["https://api.wemix.com"]}},blockExplorers:{default:{name:"wemixExplorer",url:"https://explorer.wemix.com"}}}),L_e=se({id:1112,name:"WEMIX Testnet",network:"wemix-testnet",nativeCurrency:{name:"WEMIX",symbol:"tWEMIX",decimals:18},rpcUrls:{default:{http:["https://api.test.wemix.com"]},public:{http:["https://api.test.wemix.com"]}},blockExplorers:{default:{name:"wemixExplorer",url:"https://testnet.wemixscan.com",apiUrl:"https://testnet.wemixscan.com/api"}},testnet:!0}),pj=se({id:195,name:"X1 Testnet",nativeCurrency:{decimals:18,name:"OKB",symbol:"OKB"},rpcUrls:{default:{http:["https://xlayertestrpc.okx.com"]}},blockExplorers:{default:{name:"OKLink",url:"https://www.oklink.com/xlayer-test"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:624344}},testnet:!0}),U_e=se({id:196,name:"X Layer Mainnet",nativeCurrency:{decimals:18,name:"OKB",symbol:"OKB"},rpcUrls:{default:{http:["https://rpc.xlayer.tech"]}},blockExplorers:{default:{name:"OKLink",url:"https://www.oklink.com/xlayer"}}}),F_e=se({id:660279,name:"Xai Mainnet",nativeCurrency:{name:"Xai",symbol:"XAI",decimals:18},rpcUrls:{default:{http:["https://xai-chain.net/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.xai-chain.net"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:222549}},testnet:!1}),W_e=se({id:37714555429,name:"Xai Testnet",nativeCurrency:{name:"sXai",symbol:"sXAI",decimals:18},rpcUrls:{default:{http:["https://testnet-v2.xai-chain.net/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet-explorer-v2.xai-chain.net"}},testnet:!0}),z_e=se({id:50,name:"XinFin Network",nativeCurrency:{decimals:18,name:"XDC",symbol:"XDC"},rpcUrls:{default:{http:["https://rpc.xinfin.network"]}},blockExplorers:{xinfin:{name:"XinFin",url:"https://explorer.xinfin.network"},default:{name:"Blocksscan",url:"https://xdc.blocksscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:71542788}}}),q_e=se({id:51,name:"Apothem Network",nativeCurrency:{decimals:18,name:"TXDC",symbol:"TXDC"},rpcUrls:{default:{http:["https://erpc.apothem.network"]}},blockExplorers:{default:{name:"Blocksscan",url:"https://apothem.blocksscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:59765389}}}),V_e=se({id:2730,name:"XR Sepolia",nativeCurrency:{decimals:18,name:"tXR",symbol:"tXR"},rpcUrls:{default:{http:["https://xr-sepolia-testnet.rpc.caldera.xyz/http"]}},blockExplorers:{default:{name:"Blockscout",url:"https://xr-sepolia-testnet.explorer.caldera.xyz"}},testnet:!0}),H_e=se({id:50005,name:"Yooldo Verse",nativeCurrency:{name:"OAS",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.yooldo-verse.xyz"]}},blockExplorers:{default:{name:"Yooldo Verse Explorer",url:"https://explorer.yooldo-verse.xyz"}}}),K_e=se({id:50006,name:"Yooldo Verse Testnet",nativeCurrency:{name:"OAS",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.yooldo-verse.xyz"]}},blockExplorers:{default:{name:"Yooldo Verse Testnet Explorer",url:"https://explorer.testnet.yooldo-verse.xyz"}},testnet:!0}),G_e=se({id:7e3,name:"ZetaChain",nativeCurrency:{decimals:18,name:"Zeta",symbol:"ZETA"},rpcUrls:{default:{http:["https://zetachain-evm.blockpi.network/v1/rpc/public"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1632781}},blockExplorers:{default:{name:"ZetaScan",url:"https://explorer.zetachain.com"}},testnet:!1}),Z_e=se({id:7001,name:"ZetaChain Athens Testnet",nativeCurrency:{decimals:18,name:"Zeta",symbol:"aZETA"},rpcUrls:{default:{http:["https://zetachain-athens-evm.blockpi.network/v1/rpc/public"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2715217}},blockExplorers:{default:{name:"ZetaScan",url:"https://athens.explorer.zetachain.com"}},testnet:!0}),J_e=se({id:1337803,name:"Zhejiang",nativeCurrency:{name:"Zhejiang Ether",symbol:"ZhejETH",decimals:18},rpcUrls:{default:{http:["https://rpc.zhejiang.ethpandaops.io"]}},blockExplorers:{default:{name:"Beaconchain",url:"https://zhejiang.beaconcha.in"}},testnet:!0}),Y_e=se({id:32769,name:"Zilliqa",network:"zilliqa",nativeCurrency:{name:"Zilliqa",symbol:"ZIL",decimals:18},rpcUrls:{default:{http:["https://api.zilliqa.com"]}},blockExplorers:{default:{name:"Ethernal",url:"https://evmx.zilliqa.com"}},testnet:!1}),X_e=se({id:33101,name:"Zilliqa Testnet",network:"zilliqa-testnet",nativeCurrency:{name:"Zilliqa",symbol:"ZIL",decimals:18},rpcUrls:{default:{http:["https://dev-api.zilliqa.com"]}},blockExplorers:{default:{name:"Ethernal",url:"https://evmx.testnet.zilliqa.com"}},testnet:!0}),Q_e=se({id:42766,name:"ZKFair Mainnet",network:"zkfair-mainnet",nativeCurrency:{decimals:18,name:"USD Coin",symbol:"USDC"},rpcUrls:{default:{http:["https://rpc.zkfair.io"]},public:{http:["https://rpc.zkfair.io"]}},blockExplorers:{default:{name:"zkFair Explorer",url:"https://scan.zkfair.io",apiUrl:"https://scan.zkfair.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6090959}},testnet:!1}),exe=se({id:43851,name:"ZKFair Testnet",network:"zkfair-testnet",nativeCurrency:{decimals:18,name:"USD Coin",symbol:"USDC"},rpcUrls:{default:{http:["https://testnet-rpc.zkfair.io"]},public:{http:["https://testnet-rpc.zkfair.io"]}},blockExplorers:{default:{name:"zkFair Explorer",url:"https://testnet-scan.zkfair.io"}},testnet:!0}),txe=se({id:810180,name:"zkLink Nova",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zklink.io"]}},blockExplorers:{default:{name:"zkLink Nova Block Explorer",url:"https://explorer.zklink.io"}}}),nxe=se({id:810181,name:"zkLink Nova Sepolia Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zklink.io"]}},blockExplorers:{default:{name:"zkLink Nova Block Explorer",url:"https://sepolia.explorer.zklink.io"}}}),rxe=se({...Pp,id:324,name:"zkSync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"},native:{name:"zkSync Explorer",url:"https://explorer.zksync.io/"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}}}),ixe=se({...Pp,id:260,name:"zkSync InMemory Node",network:"zksync-in-memory-node",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:8011"]}},testnet:!0}),oxe=se({...Pp,id:270,name:"zkSync CLI Local Node",network:"zksync-cli-local-node",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:3050"]}},testnet:!0}),sxe=se({...Pp,id:300,name:"zkSync Sepolia Testnet",network:"zksync-sepolia-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.era.zksync.dev"],webSocket:["wss://sepolia.era.zksync.dev/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia-era.zksync.network/"},native:{name:"zkSync Explorer",url:"https://sepolia.explorer.zksync.io/"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}},testnet:!0}),axe=se({...Pp,id:280,name:"zkSync Era Testnet",network:"zksync-era-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet.era.zksync.dev"],webSocket:["wss://testnet.era.zksync.dev/ws"]}},blockExplorers:{default:{name:"zkExplorer",url:"https://goerli.explorer.zksync.io"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}},testnet:!0}),T_=1,cxe=se({...xr,id:7777777,name:"Zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy",apiUrl:"https://explorer.zora.energy/api"}},contracts:{...xr.contracts,l2OutputOracle:{[T_]:{address:"0x9E6204F750cD866b299594e2aC9eA824E2e5f95c"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:5882},portal:{[T_]:{address:"0x1a0ad011913A150f69f6A19DF447A0CfD9551054"}},l1StandardBridge:{[T_]:{address:"0x3e2Ea9B92B7E48A52296fD261dc26fd995284631"}}},sourceId:T_}),R_=11155111,lxe=se({...xr,id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/",apiUrl:"https://sepolia.explorer.zora.energy/api"}},contracts:{...xr.contracts,l2OutputOracle:{[R_]:{address:"0x2615B481Bd3E5A1C0C7Ca3Da1bdc663E8615Ade9"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:83160},portal:{[R_]:{address:"0xeffE2C6cA9Ab797D418f0D91eA60807713f3536f"}},l1StandardBridge:{[R_]:{address:"0x5376f1D543dcbB5BD416c56C189e4cB7399fCcCB"}}},sourceId:R_,testnet:!0}),mj=5,dxe=se({...xr,id:999,name:"Zora Goerli Testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy",apiUrl:"https://testnet.explorer.zora.energy/api"}},contracts:{...xr.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:189123},portal:{[mj]:{address:"0xDb9F51790365e7dc196e7D072728df39Be958ACe"}}},sourceId:mj,testnet:!0}),uxe=se({id:48899,name:"Zircuit Testnet",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://zircuit1.p2pify.com"]}},blockExplorers:{default:{name:"Zircuit Explorer",url:"https://explorer.zircuit.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:6040287}}}),XV=Object.freeze(Object.defineProperty({__proto__:null,acala:fye,ancient8:vye,ancient8Sepolia:bye,anvil:wye,apexTestnet:_ye,arbitrum:xye,arbitrumGoerli:kye,arbitrumNova:Sye,arbitrumSepolia:Aye,areonNetwork:Tye,areonNetworkTestnet:Rye,artelaTestnet:Pye,astar:Eye,astarZkEVM:Cye,astarZkyoto:Iye,aurora:Oye,auroraTestnet:Nye,auroria:jye,avalanche:Bye,avalancheFuji:$ye,bahamut:Mye,base:UV,baseGoerli:FV,baseSepolia:WV,beam:Dye,beamTestnet:Lye,bearNetworkChainMainnet:Uye,bearNetworkChainTestnet:Fye,berachainTestnet:Wye,berachainTestnetbArtio:zye,bevmMainnet:qye,bitTorrent:Kye,bitTorrentTestnet:Gye,bitkub:Vye,bitkubTestnet:Hye,blast:Jye,blastSepolia:Xye,bob:Qye,boba:eve,bronos:tve,bronosTestnet:nve,bsc:rve,bscGreenfield:ove,bscTestnet:ive,btr:sve,btrTestnet:ave,bxn:cve,bxnTestnet:lve,canto:dve,celo:_ve,celoAlfajores:xve,chiliz:kve,classic:Sve,confluxESpace:Eve,confluxESpaceTestnet:Cve,coreDao:Ive,crab:Ave,cronos:Tve,cronosTestnet:Rve,crossbell:Pve,cyber:Ove,cyberTestnet:Nve,darwinia:jve,dchain:Bve,dchainTestnet:$ve,defichainEvm:Mve,defichainEvmTestnet:Dve,degen:Lve,dfk:Uve,dodochainTestnet:Fve,dogechain:Wve,dreyerxMainnet:zve,dreyerxTestnet:qve,edgeless:Vve,edgelessTestnet:Hve,edgeware:Kve,edgewareTestnet:Gve,ekta:nbe,ektaTestnet:rbe,eon:Zve,eos:Jve,eosTestnet:Yve,etherlink:Xve,etherlinkTestnet:Qve,evmos:ebe,evmosTestnet:tbe,fantom:ibe,fantomSonicTestnet:obe,fantomTestnet:sbe,fibo:abe,filecoin:cbe,filecoinCalibration:lbe,filecoinHyperspace:dbe,flare:ube,flareTestnet:fbe,flowMainnet:pbe,flowPreviewnet:hbe,flowTestnet:mbe,foundry:gbe,fraxtal:ybe,fraxtalTestnet:vbe,funkiSepolia:wbe,fuse:_be,fuseSparknet:xbe,gnosis:Rbe,gnosisChiado:Pbe,gobi:Abe,goerli:Tbe,ham:Obe,haqqMainnet:Bbe,haqqTestedge2:$be,hardhat:Nbe,harmonyOne:jbe,hedera:Mbe,hederaPreviewnet:Lbe,hederaTestnet:Dbe,holesky:Ube,immutableZkEvm:Fbe,immutableZkEvmTestnet:Wbe,inEVM:zbe,iotex:kbe,iotexTestnet:Sbe,jbc:Ebe,jbcTestnet:Cbe,kakarotSepolia:qbe,karura:Ibe,kava:Vbe,kavaTestnet:Hbe,kcc:Kbe,klaytn:Gbe,klaytnBaobab:Zbe,koi:Jbe,kroma:Ybe,kromaSepolia:Xbe,l3x:Qbe,l3xTestnet:e1e,lightlinkPegasus:t1e,lightlinkPhoenix:n1e,linea:r1e,lineaGoerli:i1e,lineaSepolia:o1e,lineaTestnet:s1e,lisk:y1e,liskSepolia:v1e,localhost:b1e,lukso:w1e,luksoTestnet:_1e,lycan:x1e,lyra:k1e,mainnet:S1e,mandala:E1e,manta:C1e,mantaSepoliaTestnet:I1e,mantaTestnet:A1e,mantle:T1e,mantleSepoliaTestnet:R1e,mantleTestnet:P1e,merlin:O1e,metachain:N1e,metachainIstanbul:j1e,metalL2:B1e,meter:$1e,meterTestnet:M1e,metis:D1e,metisGoerli:L1e,mev:U1e,mevTestnet:F1e,mintSepoliaTestnet:W1e,mode:z1e,modeTestnet:q1e,moonbaseAlpha:V1e,moonbeam:H1e,moonbeamDev:K1e,moonriver:G1e,morphHolesky:Z1e,morphSepolia:J1e,nautilus:Y1e,neonDevnet:X1e,neonMainnet:Q1e,nexi:ewe,nexilix:twe,oasisTestnet:rwe,oasys:nwe,okc:iwe,oortMainnetDev:awe,opBNB:owe,opBNBTestnet:swe,optimism:ZV,optimismGoerli:JV,optimismSepolia:YV,otimDevnet:cwe,palm:lwe,palmTestnet:dwe,pgn:fwe,pgnTestnet:hwe,phoenix:pwe,playfiAlbireo:uwe,plinga:mwe,plumeTestnet:ywe,polygon:vwe,polygonAmoy:bwe,polygonMumbai:wwe,polygonZkEvm:_we,polygonZkEvmCardona:xwe,polygonZkEvmTestnet:kwe,pulsechain:Swe,pulsechainV4:Ewe,qMainnet:Cwe,qTestnet:Iwe,real:Awe,redbellyTestnet:Twe,redstone:Rwe,reyaNetwork:Pwe,rollux:Owe,rolluxTestnet:Nwe,ronin:jwe,rootstock:Bwe,rootstockTestnet:$we,rss3:Mwe,rss3Sepolia:Dwe,saigon:Lwe,sapphire:Uwe,sapphireTestnet:Fwe,satoshiVM:Wwe,satoshiVMTestnet:zwe,scroll:qwe,scrollSepolia:Vwe,sei:Hwe,seiDevnet:Kwe,seiTestnet:Gwe,sepolia:Zwe,shardeumSphinx:m_e,shibarium:g_e,shibariumTestnet:y_e,shimmer:Jwe,shimmerTestnet:Ywe,skaleBlockBrawlers:Xwe,skaleCalypso:Qwe,skaleCalypsoTestnet:e_e,skaleCryptoBlades:t_e,skaleCryptoColosseum:n_e,skaleEuropa:r_e,skaleEuropaTestnet:i_e,skaleExorde:o_e,skaleHumanProtocol:s_e,skaleNebula:a_e,skaleNebulaTestnet:c_e,skaleRazor:l_e,skaleTitan:d_e,skaleTitanTestnet:u_e,songbird:f_e,songbirdTestnet:h_e,spicy:p_e,stratis:v_e,syscoin:b_e,syscoinTestnet:w_e,taiko:x_e,taikoHekla:k_e,taikoJolnir:S_e,taikoKatla:E_e,taikoTestnetSepolia:C_e,taraxa:__e,taraxaTestnet:I_e,telcoinTestnet:A_e,telos:T_e,telosTestnet:R_e,tenet:P_e,thaiChain:O_e,thunderTestnet:N_e,unreal:j_e,vechain:B_e,wanchain:$_e,wanchainTestnet:M_e,wemix:D_e,wemixTestnet:L_e,x1Testnet:pj,xLayer:U_e,xLayerTestnet:pj,xai:F_e,xaiTestnet:W_e,xdc:z_e,xdcTestnet:q_e,xrSepolia:V_e,yooldoVerse:H_e,yooldoVerseTestnet:K_e,zetachain:G_e,zetachainAthensTestnet:Z_e,zhejiang:J_e,zilliqa:Y_e,zilliqaTestnet:X_e,zircuitTestnet:uxe,zkFair:Q_e,zkFairTestnet:exe,zkLinkNova:txe,zkLinkNovaSepoliaTestnet:nxe,zkSync:rxe,zkSyncInMemoryNode:ixe,zkSyncLocalNode:oxe,zkSyncSepoliaTestnet:sxe,zkSyncTestnet:axe,zora:cxe,zoraSepolia:lxe,zoraTestnet:dxe},Symbol.toStringTag,{value:"Module"}));function fxe(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}function hxe(e,t,n){return e&t^~e&n}function pxe(e,t,n){return e&t^e&n^t&n}class QV extends Nz{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=c6(this.buffer)}update(t){n2(this);const{view:n,buffer:r,blockLen:i}=this;t=jz(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=c6(t);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){n2(this),Oue(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let f=s;f<i;f++)n[f]=0;fxe(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=c6(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,d[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}}const mxe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rf=new Uint32Array(64);class gxe extends QV{constructor(){super(64,32,8,!1),this.A=nf[0]|0,this.B=nf[1]|0,this.C=nf[2]|0,this.D=nf[3]|0,this.E=nf[4]|0,this.F=nf[5]|0,this.G=nf[6]|0,this.H=nf[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[t,n,r,i,o,s,a,c]}set(t,n,r,i,o,s,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)rf[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const p=rf[f-15],m=rf[f-2],g=Gl(p,7)^Gl(p,18)^p>>>3,y=Gl(m,17)^Gl(m,19)^m>>>10;rf[f]=y+rf[f-7]+g+rf[f-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:l,H:d}=this;for(let f=0;f<64;f++){const p=Gl(a,6)^Gl(a,11)^Gl(a,25),m=d+p+hxe(a,c,l)+mxe[f]+rf[f]|0,y=(Gl(r,2)^Gl(r,13)^Gl(r,22))+pxe(r,i,o)|0;d=l,l=c,c=a,a=s+m|0,s=o,o=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,c,l,d)}roundClean(){rf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const El=Bz(()=>new gxe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jk=BigInt(0),Yk=BigInt(1),yxe=BigInt(2);function pp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function p1(e){if(!pp(e))throw new Error("Uint8Array expected")}function bu(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const vxe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function mp(e){p1(e);let t="";for(let n=0;n<e.length;n++)t+=vxe[e[n]];return t}function dg(e){const t=e.toString(16);return t.length&1?"0"+t:t}function $A(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Jk:BigInt("0x"+e)}const Yd={_0:48,_9:57,A:65,F:70,a:97,f:102};function gj(e){if(e>=Yd._0&&e<=Yd._9)return e-Yd._0;if(e>=Yd.A&&e<=Yd.F)return e-(Yd.A-10);if(e>=Yd.a&&e<=Yd.f)return e-(Yd.a-10)}function Gg(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=gj(e.charCodeAt(o)),a=gj(e.charCodeAt(o+1));if(s===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=s*16+a}return r}function ip(e){return $A(mp(e))}function Ig(e){return p1(e),$A(mp(Uint8Array.from(e).reverse()))}function Zg(e,t){return Gg(e.toString(16).padStart(t*2,"0"))}function rb(e,t){return Zg(e,t).reverse()}function bxe(e){return Gg(dg(e))}function Go(e,t,n){let r;if(typeof t=="string")try{r=Gg(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(pp(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function gp(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];p1(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}function wxe(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function _xe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const _6=e=>typeof e=="bigint"&&Jk<=e;function Xk(e,t,n){return _6(e)&&_6(t)&&_6(n)&&t<=e&&e<n}function Fc(e,t,n,r){if(!Xk(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function eH(e){let t;for(t=0;e>Jk;e>>=Yk,t+=1);return t}function xxe(e,t){return e>>BigInt(t)&Yk}function kxe(e,t,n){return e|(n?Yk:Jk)<<BigInt(t)}const MA=e=>(yxe<<BigInt(e-1))-Yk,x6=e=>new Uint8Array(e),yj=e=>Uint8Array.from(e);function tH(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=x6(e),i=x6(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...f)=>n(i,r,...f),c=(f=x6())=>{i=a(yj([0]),f),r=a(),f.length!==0&&(i=a(yj([1]),f),r=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<t;){r=a();const m=r.slice();p.push(m),f+=r.length}return gp(...p)};return(f,p)=>{s(),c(f);let m;for(;!(m=p(l()));)c();return s(),m}}const Sxe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||pp(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function M0(e,t,n={}){const r=(i,o,s)=>{const a=Sxe[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(s&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+c)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const Exe=()=>{throw new Error("not implemented")};function ib(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}const Cxe=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Fc,abool:bu,abytes:p1,bitGet:xxe,bitLen:eH,bitMask:MA,bitSet:kxe,bytesToHex:mp,bytesToNumberBE:ip,bytesToNumberLE:Ig,concatBytes:gp,createHmacDrbg:tH,ensureBytes:Go,equalBytes:wxe,hexToBytes:Gg,hexToNumber:$A,inRange:Xk,isBytes:pp,memoized:ib,notImplemented:Exe,numberToBytesBE:Zg,numberToBytesLE:rb,numberToHexUnpadded:dg,numberToVarBytesBE:bxe,utf8ToBytes:_xe,validateObject:M0},Symbol.toStringTag,{value:"Module"}));let nH=class extends Nz{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Nue(t);const r=jz(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return n2(this),this.iHash.update(t),this}digestInto(t){n2(this),jue(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const rH=(e,t,n)=>new nH(e,t).update(n).digest();rH.create=(e,t)=>new nH(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vs=BigInt(0),yo=BigInt(1),zh=BigInt(2),Ixe=BigInt(3),eI=BigInt(4),vj=BigInt(5),bj=BigInt(8);function so(e,t){const n=e%t;return n>=vs?n:t+n}function Axe(e,t,n){if(t<vs)throw new Error("invalid exponent, negatives unsupported");if(n<=vs)throw new Error("invalid modulus");if(n===yo)return vs;let r=yo;for(;t>vs;)t&yo&&(r=r*e%n),e=e*e%n,t>>=yo;return r}function xo(e,t,n){let r=e;for(;t-- >vs;)r*=r,r%=n;return r}function tI(e,t){if(e===vs)throw new Error("invert: expected non-zero number");if(t<=vs)throw new Error("invert: expected positive modulus, got "+t);let n=so(e,t),r=t,i=vs,o=yo;for(;n!==vs;){const a=r/n,c=r%n,l=i-o*a;r=n,n=c,i=o,o=l}if(r!==yo)throw new Error("invert: does not exist");return so(i,t)}function Txe(e){const t=(e-yo)/zh;let n,r,i;for(n=e-yo,r=0;n%zh===vs;n/=zh,r++);for(i=zh;i<e&&Axe(i,t,e)!==e-yo;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(e+yo)/eI;return function(c,l){const d=c.pow(l,s);if(!c.eql(c.sqr(d),l))throw new Error("Cannot find square root");return d}}const o=(n+yo)/zh;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,d=a.pow(a.mul(a.ONE,i),n),f=a.pow(c,o),p=a.pow(c,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let m=1;for(let y=a.sqr(p);m<l&&!a.eql(y,a.ONE);m++)y=a.sqr(y);const g=a.pow(d,yo<<BigInt(l-m-1));d=a.sqr(g),f=a.mul(f,g),p=a.mul(p,d),l=m}return f}}function Rxe(e){if(e%eI===Ixe){const t=(e+yo)/eI;return function(r,i){const o=r.pow(i,t);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%bj===vj){const t=(e-vj)/bj;return function(r,i){const o=r.mul(i,zh),s=r.pow(o,t),a=r.mul(i,s),c=r.mul(r.mul(a,zh),s),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return Txe(e)}const Pxe=(e,t)=>(so(e,t)&yo)===yo,Oxe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Nxe(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Oxe.reduce((r,i)=>(r[i]="function",r),t);return M0(e,n)}function jxe(e,t,n){if(n<vs)throw new Error("invalid exponent, negatives unsupported");if(n===vs)return e.ONE;if(n===yo)return t;let r=e.ONE,i=t;for(;n>vs;)n&yo&&(r=e.mul(r,i)),i=e.sqr(i),n>>=yo;return r}function Bxe(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function iH(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Qk(e,t,n=!1,r={}){if(e<=vs)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=iH(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:o,MASK:MA(i),ZERO:vs,ONE:yo,create:c=>so(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return vs<=c&&c<e},is0:c=>c===vs,isOdd:c=>(c&yo)===yo,neg:c=>so(-c,e),eql:(c,l)=>c===l,sqr:c=>so(c*c,e),add:(c,l)=>so(c+l,e),sub:(c,l)=>so(c-l,e),mul:(c,l)=>so(c*l,e),pow:(c,l)=>jxe(a,c,l),div:(c,l)=>so(c*tI(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>tI(c,e),sqrt:r.sqrt||(c=>(s||(s=Rxe(e)),s(a,c))),invertBatch:c=>Bxe(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>n?rb(c,o):Zg(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?Ig(c):ip(c)}});return Object.freeze(a)}function oH(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function sH(e){const t=oH(e);return t+Math.ceil(t/2)}function $xe(e,t,n=!1){const r=e.length,i=oH(t),o=sH(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?Ig(e):ip(e),a=so(s,t-yo)+yo;return n?rb(a,i):Zg(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wj=BigInt(0),P_=BigInt(1);function k6(e,t){const n=t.negate();return e?n:t}function aH(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function S6(e,t){aH(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function Mxe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Dxe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const E6=new WeakMap,cH=new WeakMap;function C6(e){return cH.get(e)||1}function lH(e,t){return{constTimeNegate:k6,hasPrecomputes(n){return C6(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>wj;)r&P_&&(i=i.add(o)),o=o.double(),r>>=P_;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=S6(r,t),s=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,s.push(c);for(let d=1;d<o;d++)c=c.add(a),s.push(c);a=c.double()}return s},wNAF(n,r,i){const{windows:o,windowSize:s}=S6(n,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),d=2**n,f=BigInt(n);for(let p=0;p<o;p++){const m=p*s;let g=Number(i&l);i>>=f,g>s&&(g-=d,i+=P_);const y=m,v=m+Math.abs(g)-1,w=p%2!==0,_=g<0;g===0?c=c.add(k6(w,r[y])):a=a.add(k6(_,r[v]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,o=e.ZERO){const{windows:s,windowSize:a}=S6(n,t),c=BigInt(2**n-1),l=2**n,d=BigInt(n);for(let f=0;f<s;f++){const p=f*a;if(i===wj)break;let m=Number(i&c);if(i>>=d,m>a&&(m-=l,i+=P_),m===0)continue;let g=r[p+Math.abs(m)-1];m<0&&(g=g.negate()),o=o.add(g)}return o},getPrecomputes(n,r,i){let o=E6.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&E6.set(r,i(o))),o},wNAFCached(n,r,i){const o=C6(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=C6(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){aH(r,t),cH.set(n,r),E6.delete(n)}}}function dH(e,t,n,r){if(Mxe(n,e),Dxe(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=eH(BigInt(n.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,c=new Array(a+1).fill(i),l=Math.floor((t.BITS-1)/s)*s;let d=i;for(let f=l;f>=0;f-=s){c.fill(i);for(let m=0;m<r.length;m++){const g=r[m],y=Number(g>>BigInt(f)&BigInt(a));c[y]=c[y].add(n[m])}let p=i;for(let m=c.length-1,g=i;m>0;m--)g=g.add(c[m]),p=p.add(g);if(d=d.add(p),f!==0)for(let m=0;m<s;m++)d=d.double()}return d}function DA(e){return Nxe(e.Fp),M0(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...iH(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _j(e){e.lowS!==void 0&&bu("lowS",e.lowS),e.prehash!==void 0&&bu("prehash",e.prehash)}function Lxe(e){const t=DA(e);M0(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Uxe,hexToBytes:Fxe}=Cxe;class Wxe extends Error{constructor(t=""){super(t)}}const cu={Err:Wxe,_tlv:{encode:(e,t)=>{const{Err:n}=cu;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=dg(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?dg(i.length/2|128):"";return dg(e)+o+i+t},decode(e,t){const{Err:n}=cu;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of l)s=s<<8|d;if(r+=c,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=cu;if(e<fu)throw new t("integer: negative integers are not allowed");let n=dg(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=cu;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Uxe(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=cu,i=typeof e=="string"?Fxe(e):e;p1(i);const{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:l,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=cu,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),o=r+i;return t.encode(48,o)}},fu=BigInt(0),ps=BigInt(1);BigInt(2);const xj=BigInt(3);BigInt(4);function zxe(e){const t=Lxe(e),{Fp:n}=t,r=Qk(t.n,t.nBitLength),i=t.toBytes||((y,v,w)=>{const _=v.toAffine();return gp(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),o=t.fromBytes||(y=>{const v=y.subarray(1),w=n.fromBytes(v.subarray(0,n.BYTES)),_=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:w,y:_}});function s(y){const{a:v,b:w}=t,_=n.sqr(y),E=n.mul(_,y);return n.add(n.add(E,n.mul(y,v)),w)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(y){return Xk(y,ps,t.n)}function c(y){const{allowedPrivateKeyLengths:v,nByteLength:w,wrapPrivateKey:_,n:E}=t;if(v&&typeof y!="bigint"){if(pp(y)&&(y=mp(y)),typeof y!="string"||!v.includes(y.length))throw new Error("invalid private key");y=y.padStart(w*2,"0")}let C;try{C=typeof y=="bigint"?y:ip(Go("private key",y,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof y)}return _&&(C=so(C,E)),Fc("private key",C,ps,E),C}function l(y){if(!(y instanceof p))throw new Error("ProjectivePoint expected")}const d=ib((y,v)=>{const{px:w,py:_,pz:E}=y;if(n.eql(E,n.ONE))return{x:w,y:_};const C=y.is0();v==null&&(v=C?n.ONE:n.inv(E));const T=n.mul(w,v),A=n.mul(_,v),S=n.mul(E,v);if(C)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:T,y:A}}),f=ib(y=>{if(y.is0()){if(t.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:v,y:w}=y.toAffine();if(!n.isValid(v)||!n.isValid(w))throw new Error("bad point: x or y not FE");const _=n.sqr(w),E=s(v);if(!n.eql(_,E))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(v,w,_){if(this.px=v,this.py=w,this.pz=_,v==null||!n.isValid(v))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required");Object.freeze(this)}static fromAffine(v){const{x:w,y:_}=v||{};if(!v||!n.isValid(w)||!n.isValid(_))throw new Error("invalid affine point");if(v instanceof p)throw new Error("projective point not allowed");const E=C=>n.eql(C,n.ZERO);return E(w)&&E(_)?p.ZERO:new p(w,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const w=n.invertBatch(v.map(_=>_.pz));return v.map((_,E)=>_.toAffine(w[E])).map(p.fromAffine)}static fromHex(v){const w=p.fromAffine(o(Go("pointHex",v)));return w.assertValidity(),w}static fromPrivateKey(v){return p.BASE.multiply(c(v))}static msm(v,w){return dH(p,r,v,w)}_setWindowSize(v){g.setWindowSize(this,v)}assertValidity(){f(this)}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){l(v);const{px:w,py:_,pz:E}=this,{px:C,py:T,pz:A}=v,S=n.eql(n.mul(w,A),n.mul(C,E)),O=n.eql(n.mul(_,A),n.mul(T,E));return S&&O}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:w}=t,_=n.mul(w,xj),{px:E,py:C,pz:T}=this;let A=n.ZERO,S=n.ZERO,O=n.ZERO,D=n.mul(E,E),K=n.mul(C,C),H=n.mul(T,T),X=n.mul(E,C);return X=n.add(X,X),O=n.mul(E,T),O=n.add(O,O),A=n.mul(v,O),S=n.mul(_,H),S=n.add(A,S),A=n.sub(K,S),S=n.add(K,S),S=n.mul(A,S),A=n.mul(X,A),O=n.mul(_,O),H=n.mul(v,H),X=n.sub(D,H),X=n.mul(v,X),X=n.add(X,O),O=n.add(D,D),D=n.add(O,D),D=n.add(D,H),D=n.mul(D,X),S=n.add(S,D),H=n.mul(C,T),H=n.add(H,H),D=n.mul(H,X),A=n.sub(A,D),O=n.mul(H,K),O=n.add(O,O),O=n.add(O,O),new p(A,S,O)}add(v){l(v);const{px:w,py:_,pz:E}=this,{px:C,py:T,pz:A}=v;let S=n.ZERO,O=n.ZERO,D=n.ZERO;const K=t.a,H=n.mul(t.b,xj);let X=n.mul(w,C),U=n.mul(_,T),I=n.mul(E,A),x=n.add(w,_),P=n.add(C,T);x=n.mul(x,P),P=n.add(X,U),x=n.sub(x,P),P=n.add(w,E);let N=n.add(C,A);return P=n.mul(P,N),N=n.add(X,I),P=n.sub(P,N),N=n.add(_,E),S=n.add(T,A),N=n.mul(N,S),S=n.add(U,I),N=n.sub(N,S),D=n.mul(K,P),S=n.mul(H,I),D=n.add(S,D),S=n.sub(U,D),D=n.add(U,D),O=n.mul(S,D),U=n.add(X,X),U=n.add(U,X),I=n.mul(K,I),P=n.mul(H,P),U=n.add(U,I),I=n.sub(X,I),I=n.mul(K,I),P=n.add(P,I),X=n.mul(U,P),O=n.add(O,X),X=n.mul(N,P),S=n.mul(x,S),S=n.sub(S,X),X=n.mul(x,U),D=n.mul(N,D),D=n.add(D,X),new p(S,O,D)}subtract(v){return this.add(v.negate())}is0(){return this.equals(p.ZERO)}wNAF(v){return g.wNAFCached(this,v,p.normalizeZ)}multiplyUnsafe(v){const{endo:w,n:_}=t;Fc("scalar",v,fu,_);const E=p.ZERO;if(v===fu)return E;if(this.is0()||v===ps)return this;if(!w||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,v,p.normalizeZ);let{k1neg:C,k1:T,k2neg:A,k2:S}=w.splitScalar(v),O=E,D=E,K=this;for(;T>fu||S>fu;)T&ps&&(O=O.add(K)),S&ps&&(D=D.add(K)),K=K.double(),T>>=ps,S>>=ps;return C&&(O=O.negate()),A&&(D=D.negate()),D=new p(n.mul(D.px,w.beta),D.py,D.pz),O.add(D)}multiply(v){const{endo:w,n:_}=t;Fc("scalar",v,ps,_);let E,C;if(w){const{k1neg:T,k1:A,k2neg:S,k2:O}=w.splitScalar(v);let{p:D,f:K}=this.wNAF(A),{p:H,f:X}=this.wNAF(O);D=g.constTimeNegate(T,D),H=g.constTimeNegate(S,H),H=new p(n.mul(H.px,w.beta),H.py,H.pz),E=D.add(H),C=K.add(X)}else{const{p:T,f:A}=this.wNAF(v);E=T,C=A}return p.normalizeZ([E,C])[0]}multiplyAndAddUnsafe(v,w,_){const E=p.BASE,C=(A,S)=>S===fu||S===ps||!A.equals(E)?A.multiplyUnsafe(S):A.multiply(S),T=C(this,w).add(C(v,_));return T.is0()?void 0:T}toAffine(v){return d(this,v)}isTorsionFree(){const{h:v,isTorsionFree:w}=t;if(v===ps)return!0;if(w)return w(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:w}=t;return v===ps?this:w?w(p,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return bu("isCompressed",v),this.assertValidity(),i(p,this,v)}toHex(v=!0){return bu("isCompressed",v),mp(this.toRawBytes(v))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const m=t.nBitLength,g=lH(p,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:a}}function qxe(e){const t=DA(e);return M0(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Vxe(e){const t=qxe(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(I){return so(I,r)}function a(I){return tI(I,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:f}=zxe({...t,toBytes(I,x,P){const N=x.toAffine(),$=n.toBytes(N.x),L=gp;return bu("isCompressed",P),P?L(Uint8Array.from([x.hasEvenY()?2:3]),$):L(Uint8Array.from([4]),$,n.toBytes(N.y))},fromBytes(I){const x=I.length,P=I[0],N=I.subarray(1);if(x===i&&(P===2||P===3)){const $=ip(N);if(!Xk($,ps,n.ORDER))throw new Error("Point is not on curve");const L=d($);let z;try{z=n.sqrt(L)}catch(W){const re=W instanceof Error?": "+W.message:"";throw new Error("Point is not on curve"+re)}const q=(z&ps)===ps;return(P&1)===1!==q&&(z=n.neg(z)),{x:$,y:z}}else if(x===o&&P===4){const $=n.fromBytes(N.subarray(0,n.BYTES)),L=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:$,y:L}}else{const $=i,L=o;throw new Error("invalid Point, expected length of "+$+", or uncompressed "+L+", got "+x)}}}),p=I=>mp(Zg(I,t.nByteLength));function m(I){const x=r>>ps;return I>x}function g(I){return m(I)?s(-I):I}const y=(I,x,P)=>ip(I.slice(x,P));class v{constructor(x,P,N){this.r=x,this.s=P,this.recovery=N,this.assertValidity()}static fromCompact(x){const P=t.nByteLength;return x=Go("compactSignature",x,P*2),new v(y(x,0,P),y(x,P,2*P))}static fromDER(x){const{r:P,s:N}=cu.toSig(Go("DER",x));return new v(P,N)}assertValidity(){Fc("r",this.r,ps,r),Fc("s",this.s,ps,r)}addRecoveryBit(x){return new v(this.r,this.s,x)}recoverPublicKey(x){const{r:P,s:N,recovery:$}=this,L=A(Go("msgHash",x));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const z=$===2||$===3?P+t.n:P;if(z>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=$&1?"03":"02",j=c.fromHex(q+p(z)),W=a(z),re=s(-L*W),de=s(N*W),te=c.BASE.multiplyAndAddUnsafe(j,re,de);if(!te)throw new Error("point at infinify");return te.assertValidity(),te}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Gg(this.toDERHex())}toDERHex(){return cu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Gg(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const w={isValidPrivateKey(I){try{return l(I),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const I=sH(t.n);return $xe(t.randomBytes(I),t.n)},precompute(I=8,x=c.BASE){return x._setWindowSize(I),x.multiply(BigInt(3)),x}};function _(I,x=!0){return c.fromPrivateKey(I).toRawBytes(x)}function E(I){const x=pp(I),P=typeof I=="string",N=(x||P)&&I.length;return x?N===i||N===o:P?N===2*i||N===2*o:I instanceof c}function C(I,x,P=!0){if(E(I))throw new Error("first arg must be private key");if(!E(x))throw new Error("second arg must be public key");return c.fromHex(x).multiply(l(I)).toRawBytes(P)}const T=t.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const x=ip(I),P=I.length*8-t.nBitLength;return P>0?x>>BigInt(P):x},A=t.bits2int_modN||function(I){return s(T(I))},S=MA(t.nBitLength);function O(I){return Fc("num < 2^"+t.nBitLength,I,fu,S),Zg(I,t.nByteLength)}function D(I,x,P=K){if(["recovered","canonical"].some(ge=>ge in P))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:$}=t;let{lowS:L,prehash:z,extraEntropy:q}=P;L==null&&(L=!0),I=Go("msgHash",I),_j(P),z&&(I=Go("prehashed msgHash",N(I)));const j=A(I),W=l(x),re=[O(W),O(j)];if(q!=null&&q!==!1){const ge=q===!0?$(n.BYTES):q;re.push(Go("extraEntropy",ge))}const de=gp(...re),te=j;function ce(ge){const Ce=T(ge);if(!f(Ce))return;const qe=a(Ce),J=c.BASE.multiply(Ce).toAffine(),G=s(J.x);if(G===fu)return;const we=s(qe*s(te+G*W));if(we===fu)return;let $e=(J.x===G?0:2)|Number(J.y&ps),yt=we;return L&&m(we)&&(yt=g(we),$e^=1),new v(G,yt,$e)}return{seed:de,k2sig:ce}}const K={lowS:t.lowS,prehash:!1},H={lowS:t.lowS,prehash:!1};function X(I,x,P=K){const{seed:N,k2sig:$}=D(I,x,P),L=t;return tH(L.hash.outputLen,L.nByteLength,L.hmac)(N,$)}c.BASE._setWindowSize(8);function U(I,x,P,N=H){var $e;const $=I;x=Go("msgHash",x),P=Go("publicKey",P);const{lowS:L,prehash:z,format:q}=N;if(_j(N),"strict"in N)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");const j=typeof $=="string"||pp($),W=!j&&!q&&typeof $=="object"&&$!==null&&typeof $.r=="bigint"&&typeof $.s=="bigint";if(!j&&!W)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let re,de;try{if(W&&(re=new v($.r,$.s)),j){try{q!=="compact"&&(re=v.fromDER($))}catch(yt){if(!(yt instanceof cu.Err))throw yt}!re&&q!=="der"&&(re=v.fromCompact($))}de=c.fromHex(P)}catch{return!1}if(!re||L&&re.hasHighS())return!1;z&&(x=t.hash(x));const{r:te,s:ce}=re,ge=A(x),Ce=a(ce),qe=s(ge*Ce),J=s(te*Ce),G=($e=c.BASE.multiplyAndAddUnsafe(de,qe,J))==null?void 0:$e.toAffine();return G?s(G.x)===te:!1}return{CURVE:t,getPublicKey:_,getSharedSecret:C,sign:X,verify:U,ProjectivePoint:c,Signature:v,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Hxe(e){return{hash:e,hmac:(t,...n)=>rH(e,t,Bue(...n)),randomBytes:$z}}function Kxe(e,t){const n=r=>Vxe({...e,...Hxe(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uH=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),kj=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Gxe=BigInt(1),nI=BigInt(2),Sj=(e,t)=>(e+t/nI)/t;function Zxe(e){const t=uH,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,d=l*l*e%t,f=xo(d,n,t)*d%t,p=xo(f,n,t)*d%t,m=xo(p,nI,t)*l%t,g=xo(m,i,t)*m%t,y=xo(g,o,t)*g%t,v=xo(y,a,t)*y%t,w=xo(v,c,t)*v%t,_=xo(w,a,t)*y%t,E=xo(_,n,t)*d%t,C=xo(E,s,t)*g%t,T=xo(C,r,t)*l%t,A=xo(T,nI,t);if(!rI.eql(rI.sqr(A),e))throw new Error("Cannot find square root");return A}const rI=Qk(uH,void 0,void 0,{sqrt:Zxe}),m1=Kxe({a:BigInt(0),b:BigInt(7),Fp:rI,n:kj,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=kj,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Gxe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=Sj(o*e,t),c=Sj(-r*e,t);let l=so(e-a*n-c*i,t),d=so(-a*r-c*o,t);const f=l>s,p=d>s;if(f&&(l=t-l),p&&(d=t-d),l>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:p,k2:d}}}},El);BigInt(0);const[Jxe,Yxe]=Pr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),of=new Uint32Array(80),sf=new Uint32Array(80);let Xxe=class extends QV{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:d,Fh:f,Fl:p,Gh:m,Gl:g,Hh:y,Hl:v}=this;return[t,n,r,i,o,s,a,c,l,d,f,p,m,g,y,v]}set(t,n,r,i,o,s,a,c,l,d,f,p,m,g,y,v){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=d|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=g|0,this.Hh=y|0,this.Hl=v|0}process(t,n){for(let E=0;E<16;E++,n+=4)of[E]=t.getUint32(n),sf[E]=t.getUint32(n+=4);for(let E=16;E<80;E++){const C=of[E-15]|0,T=sf[E-15]|0,A=Pr.rotrSH(C,T,1)^Pr.rotrSH(C,T,8)^Pr.shrSH(C,T,7),S=Pr.rotrSL(C,T,1)^Pr.rotrSL(C,T,8)^Pr.shrSL(C,T,7),O=of[E-2]|0,D=sf[E-2]|0,K=Pr.rotrSH(O,D,19)^Pr.rotrBH(O,D,61)^Pr.shrSH(O,D,6),H=Pr.rotrSL(O,D,19)^Pr.rotrBL(O,D,61)^Pr.shrSL(O,D,6),X=Pr.add4L(S,H,sf[E-7],sf[E-16]),U=Pr.add4H(X,A,K,of[E-7],of[E-16]);of[E]=U|0,sf[E]=X|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:d,Eh:f,El:p,Fh:m,Fl:g,Gh:y,Gl:v,Hh:w,Hl:_}=this;for(let E=0;E<80;E++){const C=Pr.rotrSH(f,p,14)^Pr.rotrSH(f,p,18)^Pr.rotrBH(f,p,41),T=Pr.rotrSL(f,p,14)^Pr.rotrSL(f,p,18)^Pr.rotrBL(f,p,41),A=f&m^~f&y,S=p&g^~p&v,O=Pr.add5L(_,T,S,Yxe[E],sf[E]),D=Pr.add5H(O,w,C,A,Jxe[E],of[E]),K=O|0,H=Pr.rotrSH(r,i,28)^Pr.rotrBH(r,i,34)^Pr.rotrBH(r,i,39),X=Pr.rotrSL(r,i,28)^Pr.rotrBL(r,i,34)^Pr.rotrBL(r,i,39),U=r&o^r&a^o&a,I=i&s^i&c^s&c;w=y|0,_=v|0,y=m|0,v=g|0,m=f|0,g=p|0,{h:f,l:p}=Pr.add(l|0,d|0,D|0,K|0),l=a|0,d=c|0,a=o|0,c=s|0,o=r|0,s=i|0;const x=Pr.add3L(K,X,I);r=Pr.add3H(x,D,H,U),i=x|0}({h:r,l:i}=Pr.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Pr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=Pr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:d}=Pr.add(this.Dh|0,this.Dl|0,l|0,d|0),{h:f,l:p}=Pr.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:g}=Pr.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:y,l:v}=Pr.add(this.Gh|0,this.Gl|0,y|0,v|0),{h:w,l:_}=Pr.add(this.Hh|0,this.Hl|0,w|0,_|0),this.set(r,i,o,s,a,c,l,d,f,p,m,g,y,v,w,_)}roundClean(){of.fill(0),sf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Qxe=Bz(()=>new Xxe);var fH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,d){this.fn=c,this.context=l,this.once=d||!1}function o(c,l,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,p),g=n?n+l:l;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],d,f;if(this._eventsCount===0)return l;for(f in d=this._events)t.call(d,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},a.prototype.listeners=function(l){var d=n?n+l:l,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},a.prototype.listenerCount=function(l){var d=n?n+l:l,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,d,f,p,m,g){var y=n?n+l:l;if(!this._events[y])return!1;var v=this._events[y],w=arguments.length,_,E;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,m),!0;case 6:return v.fn.call(v.context,d,f,p,m,g),!0}for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];v.fn.apply(v.context,_)}else{var C=v.length,T;for(E=0;E<C;E++)switch(v[E].once&&this.removeListener(l,v[E].fn,void 0,!0),w){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,d);break;case 3:v[E].fn.call(v[E].context,d,f);break;case 4:v[E].fn.call(v[E].context,d,f,p);break;default:if(!_)for(T=1,_=new Array(w-1);T<w;T++)_[T-1]=arguments[T];v[E].fn.apply(v[E].context,_)}}return!0},a.prototype.on=function(l,d,f){return o(this,l,d,f,!1)},a.prototype.once=function(l,d,f){return o(this,l,d,f,!0)},a.prototype.removeListener=function(l,d,f,p){var m=n?n+l:l;if(!this._events[m])return this;if(!d)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&s(this,m);else{for(var y=0,v=[],w=g.length;y<w;y++)(g[y].fn!==d||p&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(l){var d;return l?(d=n?n+l:l,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(fH);var e2e=fH.exports;const Jg=qo(e2e),t2e=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:Jg,default:Jg},Symbol.toStringTag,{value:"Module"}));var n2e=class extends Error{constructor(t){super(`ChainId ${t} is not supported`),this.chainId=t}};function r2e(e){return Mz(this,null,function*(){var t;if(e.chain==="SOL")return"solana";let n=yield(t=e.connector)==null?void 0:t.getNetwork();if(typeof n!="number")throw new Error("chainId is not a number");let r=nfe(n);if(!r)throw new n2e(n);return r})}function hH(){throw new Error("setTimeout has not been defined")}function pH(){throw new Error("clearTimeout has not been defined")}var mf=hH,gf=pH;typeof globalThis.setTimeout=="function"&&(mf=setTimeout);typeof globalThis.clearTimeout=="function"&&(gf=clearTimeout);function mH(e){if(mf===setTimeout)return setTimeout(e,0);if((mf===hH||!mf)&&setTimeout)return mf=setTimeout,setTimeout(e,0);try{return mf(e,0)}catch{try{return mf.call(null,e,0)}catch{return mf.call(this,e,0)}}}function i2e(e){if(gf===clearTimeout)return clearTimeout(e);if((gf===pH||!gf)&&clearTimeout)return gf=clearTimeout,clearTimeout(e);try{return gf(e)}catch{try{return gf.call(null,e)}catch{return gf.call(this,e)}}}var yu=[],Ag=!1,Qh,Ax=-1;function o2e(){!Ag||!Qh||(Ag=!1,Qh.length?yu=Qh.concat(yu):Ax=-1,yu.length&&gH())}function gH(){if(!Ag){var e=mH(o2e);Ag=!0;for(var t=yu.length;t;){for(Qh=yu,yu=[];++Ax<t;)Qh&&Qh[Ax].run();Ax=-1,t=yu.length}Qh=null,Ag=!1,i2e(e)}}function s2e(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];yu.push(new(yH(e,t))),yu.length===1&&!Ag&&mH(gH)}function yH(e,t){this.fun=e,this.array=t}yH.prototype.run=function(){this.fun.apply(null,this.array)};var a2e="browser",c2e="browser",l2e=!0,d2e={},u2e=[],f2e="",h2e={},p2e={},m2e={};function Op(){}var g2e=Op,y2e=Op,v2e=Op,b2e=Op,w2e=Op,_2e=Op,x2e=Op;function k2e(e){throw new Error("process.binding is not supported")}function S2e(){return"/"}function E2e(e){throw new Error("process.chdir is not supported")}function C2e(){return 0}var Zm=globalThis.performance||{},I2e=Zm.now||Zm.mozNow||Zm.msNow||Zm.oNow||Zm.webkitNow||function(){return new Date().getTime()};function A2e(e){var t=I2e.call(Zm)*.001,n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n=n-e[0],r=r-e[1],r<0&&(n--,r+=1e9)),[n,r]}var T2e=new Date;function R2e(){var e=new Date,t=e.getTime()-T2e.getTime();return t/1e3}var vH={nextTick:s2e,title:a2e,browser:l2e,env:d2e,argv:u2e,version:f2e,versions:h2e,on:g2e,addListener:y2e,once:v2e,off:b2e,removeListener:w2e,removeAllListeners:_2e,emit:x2e,binding:k2e,cwd:S2e,chdir:E2e,umask:C2e,hrtime:A2e,platform:c2e,release:p2e,config:m2e,uptime:R2e};const Ej={};Object.keys(Ej).forEach(e=>{const t=e.split(".");let n=vH;for(let r=0;r<t.length;r++){const i=t[r];r===t.length-1?n[i]=Ej[e]:n=n[i]||(n[i]={})}});typeof window<"u"&&(window.global=globalThis,!window.process&&typeof process>"u"&&Object.assign(window,{process:vH}));var P2e="2.6.3",O2e={"@dynamic-labs/sdk-api-core":"0.0.510","@hcaptcha/react-hcaptcha":"1.4.4","country-list":"2.3.0",formik:"2.2.9",i18next:"23.4.6",qrcode:"1.5.1","react-focus-lock":"2.9.2","react-i18next":"13.5.0",yup:"0.32.11","react-international-phone":"4.2.5"};const LA=P2e,N2e=O2e["@dynamic-labs/sdk-api-core"];function kv(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,[])).next())})}function Cj(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}const rc=(e,t,n)=>{var r,i,o;if(!t)throw new Error("Wallet key is required. Please pass in a wallet key to getWalletBookWallet");const s=(i=(r=e==null?void 0:e.wallets)===null||r===void 0?void 0:r[t])!==null&&i!==void 0?i:n;if(!s)throw new Error(`Wallet ${t} not found in wallet book (${Object.keys((o=e==null?void 0:e.wallets)!==null&&o!==void 0?o:{}).length} wallets found)`);return s};var O_={};const Ij="https://iconic.dynamic-static-assets.com/icons/sprite.svg",UA=()=>{var e,t,n;return typeof process<"u"&&O_&&(n=(t=(e=O_.ICONIC_SPRITE_CDN_URL)!==null&&e!==void 0?e:O_.NEXT_PUBLIC_ICONIC_SPRITE_CDN_URL)!==null&&t!==void 0?t:O_.REACT_APP_ICONIC_SPRITE_CDN_URLL)!==null&&n!==void 0?n:Ij},j2e=UA(),Ye=e=>{const t=Object.assign(Object.assign({},e),{function:r=>{const i=`${j2e}#${t.iconName}`;return k.createElement("img",Object.assign(Object.assign({"data-testid":`iconic-${t.iconName}`},r),{alt:t.alt,src:i}))}}),n=t.function.bind(t);return Object.assign(n,{iconName:t.iconName,sourcePath:t.sourcePath}),n},bH=Ye({alt:"Brave Browser",iconName:"brave",sourcePath:"icons/browsers/brave.svg"}),wH=Ye({alt:"Chrome Browser",iconName:"chrome",sourcePath:"icons/browsers/chrome.svg"}),_H=Ye({alt:"Edge Browser",iconName:"edge",sourcePath:"icons/browsers/edge.svg"}),xH=Ye({alt:"Firefox Browser",iconName:"firefox",sourcePath:"icons/browsers/firefox.svg"}),B2e=Ye({alt:"Opera Browser",iconName:"opera",sourcePath:"icons/browsers/opera.svg"}),kH=Ye({alt:"Opera Browser",iconName:"safari",sourcePath:"icons/browsers/safari.svg"}),$2e=Ye({alt:"Algorand Chain",iconName:"algorand",sourcePath:"icons/chains/algorand.svg"});Ye({alt:"Arbitrum Chain",iconName:"arbitrum",sourcePath:"icons/chains/arbitrum.svg"});Ye({alt:"Aurora Chain",iconName:"aurora",sourcePath:"icons/chains/aurora.svg"});Ye({alt:"Base Chain",iconName:"base",sourcePath:"icons/chains/base.svg"});Ye({alt:"Berachain Chain",iconName:"berachain",sourcePath:"icons/chains/berachain.svg"});const M2e=Ye({alt:"Bitcoin Chain",iconName:"bitcoin",sourcePath:"icons/chains/bitcoin.svg"});Ye({alt:"BNB Chain",iconName:"bnb",sourcePath:"icons/chains/bnb.svg"});const D2e=Ye({alt:"Cosmos Chain",iconName:"cosmos",sourcePath:"icons/chains/cosmos.svg"});Ye({alt:"Osmosis Chain",iconName:"osmosis",sourcePath:"icons/chains/osmosis.svg"});Ye({alt:"Axelar Chain",iconName:"axelar",sourcePath:"icons/chains/axelar.svg"});const L2e=Ye({alt:"Ethereum Chain",iconName:"ethereum",sourcePath:"icons/chains/ethereum.svg"});Ye({alt:"Goerli Chain",iconName:"goerli",sourcePath:"icons/chains/goerli.svg"});Ye({alt:"zkSync Era Chain",iconName:"zkSync",sourcePath:"icons/chains/zkSync.svg"});const U2e=Ye({alt:"Flow Chain",iconName:"flow",sourcePath:"icons/chains/flow.svg"});Ye({alt:"Gnosis Chain",iconName:"gnosis",sourcePath:"icons/chains/gnosis.svg"});Ye({alt:"Optimism Chain",iconName:"optimism",sourcePath:"icons/chains/optimism.svg"});Ye({alt:"Palm Chain",iconName:"palm",sourcePath:"icons/chains/palm.svg"});Ye({alt:"Polygon Chain",iconName:"polygon",sourcePath:"icons/chains/polygon.svg"});const F2e=Ye({alt:"Solana Chain",iconName:"solana",sourcePath:"icons/chains/solana.svg"}),W2e=Ye({alt:"Starknet Chain",iconName:"starknet",sourcePath:"icons/chains/starknet.svg"});Ye({alt:"1inch Wallet",iconName:"1inch.svg",sourcePath:"icons/wallets/1inch.svg"});Ye({alt:"Argent X Wallet",iconName:"argentx",sourcePath:"icons/wallets/argentx.svg"});Ye({alt:"Argent Mobile",iconName:"argentmobile",sourcePath:"icons/wallets/argent-mobile.svg"});Ye({alt:"Argent Web Wallet",iconName:"argentwebwallet",sourcePath:"icons/wallets/argent-web-wallet.svg"});Ye({alt:"Backpack Wallet",iconName:"backpack",sourcePath:"icons/wallets/backpack.svg"});Ye({alt:"Binance Wallet",iconName:"binance.svg",sourcePath:"icons/wallets/binance.svg"});Ye({alt:"BitPay Wallet",iconName:"bitpay.svg",sourcePath:"icons/wallets/bitpay.svg"});Ye({alt:"Blocto Wallet",iconName:"blocto",sourcePath:"icons/wallets/blocto.svg"});Ye({alt:"Braavos Wallet",iconName:"braavos",sourcePath:"icons/wallets/braavos.svg"});Ye({alt:"Coin98 Wallet",iconName:"coin98.svg",sourcePath:"icons/wallets/coin98.svg"});Ye({alt:"Coinbase Wallet",iconName:"coinbase",sourcePath:"icons/wallets/coinbase.svg"});Ye({alt:"Crypto Wallet",iconName:"crypto.svg",sourcePath:"icons/wallets/crypto.svg"});Ye({alt:"Dapper Wallet",iconName:"dapper",sourcePath:"icons/wallets/dapper.svg"});Ye({alt:"Dawn Wallet",iconName:"dawn",sourcePath:"icons/wallets/dawn.svg"});Ye({alt:"Default Wallet",iconName:"defaultwallet",sourcePath:"icons/wallets/default.svg"});Ye({alt:"Dapper Wallet",iconName:"emailsign.svg",sourcePath:"icons/wallets/emailsign.svg"});const yp=Ye({alt:"Sign in with Email",iconName:"signinwithemail",sourcePath:"icons/wallets/signinwithemail.svg"});Ye({alt:"Exodus Wallet",iconName:"exodus",sourcePath:"icons/wallets/exodus.svg"});Ye({alt:"Fireblocks Wallet",iconName:"fireblocks.svg",sourcePath:"icons/wallets/fireblocks.svg"});Ye({alt:"Fortmatic Wallet",iconName:"fortmatic",sourcePath:"icons/wallets/fortmatic.svg"});Ye({alt:"Frame Wallet",iconName:"frame",sourcePath:"icons/wallets/frame.svg"});Ye({alt:"Gamestop Wallet",iconName:"gamestop",sourcePath:"icons/wallets/gamestop.svg"});Ye({alt:"Glow Wallet",iconName:"glow",sourcePath:"icons/wallets/glow.svg"});Ye({alt:"ImToken Wallet",iconName:"imtoken.svg",sourcePath:"icons/wallets/imtoken.svg"});Ye({alt:"Injected Wallet",iconName:"injectedwallet",sourcePath:"icons/wallets/injectedwallet.svg"});Ye({alt:"Keplr Wallet",iconName:"keplr",sourcePath:"icons/wallets/keplr.svg"});Ye({alt:"Ledger Wallet",iconName:"ledger",sourcePath:"icons/wallets/ledger.svg"});Ye({alt:"Lilico Wallet",iconName:"lilico",sourcePath:"icons/wallets/lilico.svg"});Ye({alt:"Linen Wallet",iconName:"linen.svg",sourcePath:"icons/wallets/linen.svg"});Ye({alt:"Matic Wallet",iconName:"matic",sourcePath:"icons/wallets/matic.svg"});Ye({alt:"MetaMask Wallet",iconName:"metamask",sourcePath:"icons/wallets/metamask.svg"});Ye({alt:"Missing Wallet",iconName:"missing",sourcePath:"icons/wallets/missing.svg"});Ye({alt:"MyAlgo Wallet",iconName:"myalgo",sourcePath:"icons/wallets/myalgo.svg"});Ye({alt:"Omni Wallet",iconName:"omni",sourcePath:"icons/wallets/omni.svg"});Ye({alt:"OpeanSea Wallet",iconName:"opeansea",sourcePath:"icons/wallets/opensea.svg"});Ye({alt:"Pera Wallet",iconName:"pera",sourcePath:"icons/wallets/pera.svg"});Ye({alt:"Phantom Wallet",iconName:"phantom",sourcePath:"icons/wallets/phantom.svg"});Ye({alt:"Rainbow Wallet",iconName:"rainbow",sourcePath:"icons/wallets/rainbow.svg"});Ye({alt:"Safe Wallet",iconName:"safe",sourcePath:"icons/wallets/safe.svg"});Ye({alt:"Sequence Wallet",iconName:"sequence",sourcePath:"icons/wallets/sequence.svg"});Ye({alt:"Solflare Wallet",iconName:"solflare",sourcePath:"icons/wallets/solflare.svg"});Ye({alt:"Spot Wallet",iconName:"spot",sourcePath:"icons/wallets/spot.svg"});Ye({alt:"Stroke Wallet",iconName:"stroke",sourcePath:"icons/wallets/stroke.svg"});Ye({alt:"Taho Wallet",iconName:"tallycash",sourcePath:"icons/wallets/tallycash.svg"});Ye({alt:"Terra Wallet",iconName:"terra",sourcePath:"icons/wallets/terra.svg"});Ye({alt:"Torus Wallet",iconName:"torus",sourcePath:"icons/wallets/torus.svg"});Ye({alt:"Trust Wallet",iconName:"trust",sourcePath:"icons/wallets/trust.svg"});Ye({alt:"Unstoppable Wallet",iconName:"unstoppable",sourcePath:"icons/wallets/unstoppable.svg"});Ye({alt:"Venly Wallet",iconName:"venly",sourcePath:"icons/wallets/venly.svg"});const z2e=Ye({alt:"Wallet Connect Wallet",iconName:"walletconnect",sourcePath:"icons/wallets/walletconnect.svg"});Ye({alt:"Magic Link Wallet",iconName:"magiclink",sourcePath:"icons/wallets/magic-link.svg"});Ye({alt:"Turnkey",iconName:"turnkey",sourcePath:"icons/wallets/embedded-wallet.svg"});Ye({alt:"Zengo Wallet",iconName:"zengo",sourcePath:"icons/wallets/zengo.svg"});Ye({alt:"Superb Wallet",iconName:"superb",sourcePath:"icons/wallets/superb.svg"});Ye({alt:"ZeroDev",iconName:"zerodev",sourcePath:"icons/wallets/embedded-wallet.svg"});Ye({alt:"Smart Wallet",iconName:"smartwallet",sourcePath:"icons/wallets/smart-wallet.svg"});Ye({alt:"Magic Eden",iconName:"magiceden",sourcePath:"icons/wallets/magiceden.svg"});Ye({alt:"Xverse",iconName:"xverse",sourcePath:"icons/wallets/xverse.svg"});Ye({alt:"Unisat",iconName:"unisat",sourcePath:"icons/wallets/unisat.svg"});Ye({alt:"Leather",iconName:"leather",sourcePath:"icons/wallets/leather.svg"});Ye({alt:"OKX",iconName:"okx",sourcePath:"icons/wallets/okx.svg"});Ye({alt:"Coinbase WaaS",iconName:"coinbasewaas",sourcePath:"icons/wallets/embedded-wallet.svg"});Ye({alt:"MetaMask Starknet Snap",iconName:"metamaskstarknetsnap",sourcePath:"icons/wallets/metamask-starknet.svg"});const SH=Ye({alt:"Apple",iconName:"apple",sourcePath:"icons/mobile/apple.svg"}),EH=Ye({alt:"Android",iconName:"android",sourcePath:"icons/mobile/android.svg"}),q2e=Ye({alt:"Bitbucket",iconName:"bitbucket",sourcePath:"icons/social/bitbucket.svg"}),CH=Ye({alt:"Discord",iconName:"discord",sourcePath:"icons/social/discord.svg"}),V2e=Ye({alt:"Facebook",iconName:"facebook",sourcePath:"icons/social/facebook.svg"}),H2e=Ye({alt:"Farcaster",iconName:"farcaster",sourcePath:"icons/social/farcaster.svg"}),K2e=Ye({alt:"Github",iconName:"github",sourcePath:"icons/social/github.svg"}),G2e=Ye({alt:"Github",iconName:"github-dark",sourcePath:"icons/social/github-dark.svg"}),Z2e=Ye({alt:"Gitlab",iconName:"gitlab",sourcePath:"icons/social/gitlab.svg"}),J2e=Ye({alt:"Google",iconName:"google",sourcePath:"icons/social/google.svg"}),IH=Ye({alt:"Helpdesk",iconName:"helpdesk",sourcePath:"icons/social/helpdesk.svg"}),Y2e=Ye({alt:"Linkedin",iconName:"linkedin",sourcePath:"icons/social/linkedin.svg"}),X2e=Ye({alt:"Microsoft",iconName:"microsoft",sourcePath:"icons/social/microsoft.svg"}),AH=Ye({alt:"Slack",iconName:"slack",sourcePath:"icons/social/slack.svg"}),Q2e=Ye({alt:"Telegram",iconName:"telegram",sourcePath:"icons/social/telegram.svg"}),eke=Ye({alt:"Twitch",iconName:"twitch",sourcePath:"icons/social/twitch.svg"}),tke=Ye({alt:"Twitch",iconName:"twitch-dark",sourcePath:"icons/social/twitch-dark.svg"}),TH=Ye({alt:"Twitter",iconName:"twitter",sourcePath:"icons/social/twitter.svg"}),nke=Ye({alt:"Twitter",iconName:"twitter-dark",sourcePath:"icons/social/twitter-dark.svg"}),rke=Ye({alt:"Apple",iconName:"apple",sourcePath:"icons/social/apple.svg"}),ike=Ye({alt:"Apple",iconName:"apple-dark",sourcePath:"icons/social/apple-dark.svg"}),oke=Ye({alt:"Coinbase",iconName:"coinbasesocial",sourcePath:"icons/social/coinbasesocial.svg"}),ske=Ye({alt:"Coinbase",iconName:"coinbasesocial-dark",sourcePath:"icons/social/coinbasesocial-dark.svg"}),ake=Ye({alt:"Instagram",iconName:"instagram",sourcePath:"icons/social/instagram.svg"}),cke=Ye({alt:"YouTube",iconName:"youtube",sourcePath:"icons/social/youtube.svg"}),lke=Ye({alt:"onePassword",iconName:"one-password",sourcePath:"icons/social/onePassword.svg"}),dke=Ye({alt:"onePassword-dark",iconName:"one-password-dark",sourcePath:"icons/social/onePassword-dark.svg"}),uke=Object.freeze(Object.defineProperty({__proto__:null,AppleDarkSocialIcon:ike,AppleSocialIcon:rke,BitbucketIcon:q2e,CoinbaseSocialDarkIcon:ske,CoinbaseSocialIcon:oke,DiscordIcon:CH,FacebookIcon:V2e,FarcasterIcon:H2e,GithubDarkIcon:G2e,GithubIcon:K2e,GitlabIcon:Z2e,GoogleIcon:J2e,HelpdeskIcon:IH,InstagramIcon:ake,LinkedinIcon:Y2e,MicrosoftIcon:X2e,OnePasswordDarkIcon:dke,OnePasswordIcon:lke,SlackIcon:AH,TelegramIcon:Q2e,TwitchDarkIcon:tke,TwitchIcon:eke,TwitterDarkIcon:nke,TwitterIcon:TH,YouTubeIcon:cke},Symbol.toStringTag,{value:"Module"})),fke=Ye({alt:"Captcha Wave",iconName:"captcha-wave",sourcePath:"icons/misc/captcha-wave.svg"}),e3=Ye({alt:"User Profile",iconName:"user-profile",sourcePath:"icons/misc/user-profile.svg"});Ye({alt:"Arrow Send",iconName:"arrow-send",sourcePath:"icons/misc/arrow-send.svg"});function hke(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Aj(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,[])).next())})}var hs;(function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.MUTE=99]="MUTE"})(hs||(hs={}));const RH=(e,t)=>{if(typeof e!="object"||typeof t!="object")return t;const n=Object.assign({},e);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(typeof t[r]=="object"&&Object.prototype.hasOwnProperty.call(e,r)&&typeof e[r]=="object"?n[r]=RH(e[r],t[r]):n[r]=t[r]);return n},pke=e=>{const t=e.args.filter(r=>typeof r=="object"),n=e.args.filter(r=>typeof r!="object"||r instanceof Error).map(r=>r.toString());return{objectArgs:t,remainingArgs:n}},mke=["Failed to send logs to server"],N_=[];let Cl=class yf{constructor(t,n){this.name=t,this.meta=void 0,n===void 0?this.level=hs.WARN:this.level=n}static setEmitErrors(t){t!==void 0&&(yf.globalKeys.emitErrors=t)}static setEnvironmentId(t){t!==void 0&&(yf.globalKeys.environmentId=t)}setMetaData(t,n){this.meta||(this.meta={});const r={};t.split(".").reduce((i,o,s,a)=>{if(s===a.length-1)i[o]=n;else return i[o]||(i[o]={}),i[o]},r),this.meta=RH(this.meta,r)}getNameArray(t){return Array.isArray(t)?t:[t]}createLogger(t,n){return new yf([...this.getNameArray(this.name),...this.getNameArray(t)],n??this.level)}get logLevel(){return hs[this.level]}setLogLevel(t){if(t in hs&&typeof t=="string")this.level=hs[t];else if(t in hs&&typeof t=="number")this.level=t;else throw new Error(`Invalid log level: ${t}`)}formatMessage(t,n){var r;return n instanceof Error||n instanceof Object&&Object.prototype.hasOwnProperty.call(n,"stack")?n=n.stack:n instanceof Object&&(n=JSON.stringify(n)),`${(Array.isArray(this.name)?this.name:[this.name]).map(o=>`[${o}]`).join("")} [${(r=hs[t])!==null&&r!==void 0?r:"TROUBLESHOOTING"}]: ${n}`}captureAndSend(t,n,...r){return Aj(this,void 0,void 0,function*(){yf.globalKeys.emitErrors&&!mke.includes(n==null?void 0:n.toString())&&typeof window<"u"&&this.emitHttpLogs(t,n,{args:r})})}emitHttpLogs(t,n,{args:r=[],transformMeta:i=o=>o}){N_.push({args:r,level:t,message:n}),N_.length===1&&queueMicrotask(()=>Aj(this,void 0,void 0,function*(){var o,s;const a=[];N_.forEach(c=>{var l,d,f,p,m;const g={},{objectArgs:y,remainingArgs:v}=pke(c);Object.assign(g,...y),Object.assign(g,{level:hs[c.level],message:[c.message,...v].join(" "),meta:i(this.meta),url:{hostname:(l=window.location)===null||l===void 0?void 0:l.hostname,origin:(d=window.location)===null||d===void 0?void 0:d.origin,pathname:(f=window.location)===null||f===void 0?void 0:f.pathname,port:(p=window.location)===null||p===void 0?void 0:p.port,protocol:(m=window.location)===null||m===void 0?void 0:m.protocol}}),a.push(g)});try{if(!(!((o=yf.globalKeys)===null||o===void 0)&&o.environmentId))throw new Error("Environment ID not set");yield fetch(`https://logs.dynamicauth.com/api/v1/${(s=yf.globalKeys)===null||s===void 0?void 0:s.environmentId}`,{body:JSON.stringify(a),headers:{"Content-Type":"application/json"},method:"POST",mode:"cors",referrerPolicy:"origin-when-cross-origin"})}catch(c){this.debug("Failed to send logs to server",c)}N_.length=0}))}log(t,n,...r){if(!(typeof window<"u"&&(window==null?void 0:window.dynamic_enableTroubleshootMode)===!0)&&(t<this.level||t===hs.MUTE))return;const o=this.formatMessage(t,n);switch(t){case hs.WARN:console.warn(o,...r);break;case hs.ERROR:console.error(o,...r);break;default:console.log(o,...r)}t===hs.ERROR&&this.captureAndSend(t,n,...r)}debug(t,...n){this.log(hs.DEBUG,t,...n)}info(t,...n){this.log(hs.INFO,t,...n)}warn(t,...n){this.log(hs.WARN,t,...n)}error(t,...n){yf.events.emit("error",t),this.log(hs.ERROR,t,...n)}};Cl.globalKeys={emitErrors:!0};Cl.events=new Jg;const gke=new Cl("iconic"),yke=(e,t="light")=>{const n=Object.fromEntries(Object.values(uke).map(i=>[i.iconName,i]));if(t==="dark"){const i=n[`${e.toLowerCase()}-dark`];if(i)return i}const r=n[e.toLowerCase()];if(r)return r;throw new Error(`Icon ${e}, not found`)},PH=(e,t="light")=>{try{return yke(e,t)}catch(n){return gke.error(n),null}},t3=e=>{var{name:t,variant:n}=e,r=hke(e,["name","variant"]);const i=PH(t,n);return i?k.createElement(i,r,null):null},vke={androidUrl:"https://play.google.com/store/apps/details?id={{id}}",chromeUrl:"https://chrome.google.com/webstore/detail/{{id}}",edgeUrl:"https://microsoftedge.microsoft.com/addons/detail/{{id}}",firefoxUrl:"https://addons.mozilla.org/en-US/firefox/addon/{{id}}",iconicUrl:`${UA()}#{{id}}`,iosUrl:"https://apps.apple.com/app/apple-store/{{id}}",walletConnectUrl:"https://registry.walletconnect.org/v2/logo/sm/{{id}}"},vf=(e,t)=>{if(t)return vke[e].replace("{{id}}",t)},OH=e=>e.spriteId?vf("iconicUrl",e.spriteId):"",ob=new Cl("WalletBook"),bke=(e,t)=>{try{const n=rc(e,t);if(n!=null&&n.brand)return OH(n.brand)}catch(n){ob.error(n)}return""},NH=()=>{try{return vf("iconicUrl","defaultwallet")}catch(e){ob.error(e)}return""},zo=(e,t)=>{try{return rc(e,t)}catch{return}},sb=(e,t)=>{var n,r,i,o,s,a,c,l,d,f,p,m,g,y,v,w;const _=zo(e,t),E={android:"",brave:"",chrome:"",edge:"",firefox:"",ios:""};return E.brave=(r=vf("chromeUrl",(n=_==null?void 0:_.desktop)===null||n===void 0?void 0:n.chromeId))!==null&&r!==void 0?r:"",E.chrome=(o=vf("chromeUrl",(i=_==null?void 0:_.desktop)===null||i===void 0?void 0:i.chromeId))!==null&&o!==void 0?o:"",E.edge=(a=vf("edgeUrl",(s=_==null?void 0:_.desktop)===null||s===void 0?void 0:s.edgeId))!==null&&a!==void 0?a:"",E.firefox=(l=vf("firefoxUrl",(c=_==null?void 0:_.desktop)===null||c===void 0?void 0:c.firefoxId))!==null&&l!==void 0?l:"",E.ios=(m=(f=vf("iosUrl",(d=_==null?void 0:_.mobile)===null||d===void 0?void 0:d.iosId))!==null&&f!==void 0?f:(p=_==null?void 0:_.mobile)===null||p===void 0?void 0:p.ios)!==null&&m!==void 0?m:"",E.android=(w=(y=vf("androidUrl",(g=_==null?void 0:_.mobile)===null||g===void 0?void 0:g.androidId))!==null&&y!==void 0?y:(v=_==null?void 0:_.mobile)===null||v===void 0?void 0:v.android)!==null&&w!==void 0?w:"",E},jH=(e,t)=>{var n;const r=rc(e,t);return(n=r==null?void 0:r.brand)===null||n===void 0?void 0:n.primaryColor},g1=(e,t)=>{const n=e.groups[t];if(!n)throw new Error(`Group ${t} not found in wallet book`);return n},wke=(e,t)=>{try{return g1(e,t)}catch(n){ob.error(n);return}};var I6={};const BH=()=>{var e,t,n;return(n=(t=(e=I6.WALLET_BOOK_CDN_URL)!==null&&e!==void 0?e:I6.NEXT_PUBLIC_WALLET_BOOK_CDN_URL)!==null&&t!==void 0?t:I6.REACT_APP_WALLET_BOOK_CDN_URL)!==null&&n!==void 0?n:"https://dynamic-static-assets.com/wallet-book/v1/stable/wallet-book.json"},$H=(e,t,n)=>{var r;const i=wke(e,t);return(r=i==null?void 0:i.walletOverrides)===null||r===void 0?void 0:r[n]},_ke=(e,t,n)=>{var r,i,o;return!(!((o=(i=(r=e==null?void 0:e.walletLimitations)===null||r===void 0?void 0:r[n])===null||i===void 0?void 0:i.unsupportedMethods)===null||o===void 0)&&o.includes(t))},xke=(e,t,n)=>{var r,i,o;return!(!((o=(i=(r=e==null?void 0:e.walletLimitations)===null||r===void 0?void 0:r[n])===null||i===void 0?void 0:i.unsupportedEvents)===null||o===void 0)&&o.includes(t))};function MH(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Tj(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,[])).next())})}const a2=e=>parseInt(e.toString()),FA=e=>e.slice().map(n=>(n.chainId=a2(n.chainId),n.networkId=a2(n.networkId),n));class kke extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n,Object.setPrototypeOf(this,this.constructor.prototype)}toJSON(){return{code:this.code,error:this.message}}}class Ae extends kke{}class y1 extends Ae{constructor(t,n){super(t),this.errorMessage=t,this.errorPayload=n}}class DH extends Ae{constructor(t){super("This address is not approved for access"),this.walletPublicKey=t}}class WA extends Ae{constructor(){super("Email already exists")}}class Ske extends Ae{constructor(t){super("EmailProviderError",t)}}class n3 extends Ae{constructor(t){super("EmailVerificationError",t)}}class r3 extends Ae{constructor(t){super("This address is blocked by the gate"),this.walletPublicKey=t}}class ab extends Ae{constructor(){super(ab.message)}static isInstance(t){var n;return(((n=t==null?void 0:t.walk)===null||n===void 0?void 0:n.call(t))||t)instanceof ab}static isErrorMessage(t){var n;const r=t;return((n=r==null?void 0:r.message)===null||n===void 0?void 0:n.includes("AA21 didn't pay prefund"))||!1}}ab.message="Insufficient funds.";class Eke extends Ae{constructor(){super("You are missing the environmentId field in yours DynamicContextProvider settings prop")}}class LH extends Ae{constructor(){super("Missing public address","missing-public-address")}}class Np extends Ae{constructor({walletPublicKey:t,email:n,phoneNumber:r}){super("User does not have access"),this.email=n,this.walletPublicKey=t,this.phoneNumber=r}}class UH extends Ae{}class Yg extends Ae{}class zA extends Ae{constructor(){super("Social account already exists")}}class vp extends Ae{constructor(){super(vp.message)}static isInstance(t){var n;return(((n=t==null?void 0:t.walk)===null||n===void 0?void 0:n.call(t))||t)instanceof vp}static isErrorMessage(t){var n;const r=t;return((n=r==null?void 0:r.message)===null||n===void 0?void 0:n.includes("userOp did not match any gas sponsoring policies"))||!1}}vp.message="Transaction gas cannot be sponsored.";class FH extends Ae{constructor(t){super(t),this.error=t}}class qA extends Ae{constructor(){super("Username already exists")}}class Cke extends Ae{constructor(){super("Wallet has not been deployed","wallet_not_deployed")}}class WH extends Ae{constructor(t){super("WalletUsedError",t)}}class zH extends Ae{constructor(){super("user rejected transaction")}}class VA extends Ae{constructor(){super("Too many email verification attempts.")}}class Rj extends Ae{constructor(t){super("Failed to get verification data: "+t)}}class HA extends Ae{constructor(t){super(t??"Invalid phone number.")}}class qH extends Ae{constructor({code:t,mergeConflicts:n,walletAddress:r}){super("MergeAccountsConfirmationError",t),this.mergeConflicts=n,this.walletAddress=r}}class KA extends Ae{constructor(){super("Custom Field for user must be unique within the environment","custom_field_data_not_unique")}}class VH extends Ae{constructor(){super("The cookie is invalid or expired")}}class c2 extends Ae{}class GA extends Ae{constructor(t){super(t)}}class HH extends Ae{constructor(){super("Invalid MFA OTP")}}const Ike=new Cl("utils"),Ake=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,Tke=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,di=e=>typeof window>"u"||typeof navigator>"u"?!1:Ake.test(navigator.userAgent)||Tke.test(navigator.userAgent.substring(0,4))||i3()||v1(),v1=()=>typeof window>"u"||typeof navigator>"u"?!1:/iPhone/.test(navigator.userAgent),Rke=()=>typeof window>"u"||typeof navigator>"u"?!1:Nke.some(({regex:e})=>e.test(navigator.userAgent)),i3=e=>{if(typeof window>"u"||typeof navigator>"u")return!1;const t=navigator.maxTouchPoints;return/iPad/.test(navigator.userAgent)||/Mac/.test(navigator.userAgent)&&t===5},ZA=e=>typeof window>"u"||typeof navigator>"u"?!1:v1()||i3(),JA=()=>di()&&!ZA(),iI=()=>typeof window>"u"||!window.CSS||typeof window.CSS.supports!="function"?!1:!CSS.supports("aspect-ratio: 1 / 1"),Pke=()=>{if(typeof window>"u"||typeof navigator>"u")return!1;const{userAgent:e}=navigator;return e.includes("Safari")&&!e.includes("Chrome")&&!e.includes("Chromium")},Oke=()=>typeof window>"u"||typeof navigator>"u"?!1:navigator.userAgent.includes("SamsungBrowser"),Nke=[{model:"iPhone 5",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?5[C,_]12|5)$/},{model:"iPhone 5C",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?5[C,_]34)$/},{model:"iPhone 5S",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?6[C,_]12|5S)$/},{model:"iPhone 6 Plus",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?7[C,_]1|1C2%257enohPi|6PLUS)$/},{model:"iPhone 6",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?7[C,_]2|6)$/},{model:"iPhone 6s Plus",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?8[C,_]2|6SPLUS)$/},{model:"iPhone 6s",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?8[C,_]1|iPhone[ /]6s|6S)$/},{model:"iPhone SE",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?8[C,_]4|SE)$/},{model:"iPhone 7",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?9[C,_]13|iphone7|7)$/},{model:"iPhone 7 Plus",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?9[C,_]24|7PLUS)$/},{model:"iPhone 8",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?10[C,_]14|8)$/},{model:"iPhone 8 Plus",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?10[C,_]25|8PLUS)$/}],jke=()=>{if(typeof navigator>"u")return;const e=navigator.userAgent.match(/Android (\d+(\.\d+)?)/);return e?parseFloat(e[1]):void 0};function l2(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}typeof window<"u"&&(window.global=globalThis,!window.Buffer&&typeof window.Buffer>"u"&&Object.assign(window,{Buffer:Se.Buffer}));const Xg=e=>{const t=Array.prototype.map.call(e,n=>String.fromCharCode(n)).join("");return Buffer.from(t,"binary").toString("base64")},KH=e=>{const t=e.split(".");let n=window;const r=[];for(const[i,o]of Object.entries(t)){if(n=n[o],typeof n!="object"||n===null)return[];Number(i)===t.length-1&&(Array.isArray(n)?n.forEach(s=>r.push(s)):n.providers?n.providers.forEach(s=>r.push(s)):r.push(n))}return r};function o3(e,t){return new Promise(n=>{setTimeout(()=>n(t),e)})}const Bke=e=>{for(const t of Object.values(XV))if("id"in t&&t.id===e)return t;throw new Error(`Chain with id ${e} not found`)},$ke=e=>{var t;return{blockExplorers:!((t=e.blockExplorerUrls)===null||t===void 0)&&t[0]?{default:{name:e.blockExplorerUrls[0],url:e.blockExplorerUrls[0]}}:void 0,id:e.chainId,name:e.vanityName||e.name||e.chainName,nativeCurrency:e.nativeCurrency,rpcUrls:{default:{http:e.rpcUrls},public:{http:e.rpcUrls}}}},d2=e=>{let t;try{t=Bke(e.chainId)}catch{Ike.debug(`Chain with id ${e.chainId} not found in viem's chains`)}const n=$ke(e);return t?Object.assign(Object.assign({},t),n):n};function Mke(e,t){return e.endsWith(t)?e.length===t.length||e[e.length-t.length-1]===".":!1}function Dke(e,t){const n=e.length-t.length-2,r=e.lastIndexOf(".",n);return r===-1?e:e.slice(r+1)}function Lke(e,t,n){if(n.validHosts!==null){const i=n.validHosts;for(const o of i)if(Mke(t,o))return o}let r=0;if(t.startsWith("."))for(;r<t.length&&t[r]===".";)r+=1;return e.length===t.length-r?null:Dke(t,e)}function Uke(e,t){return e.slice(0,-t.length-1)}function Pj(e,t){let n=0,r=e.length,i=!1;if(!t){if(e.startsWith("data:"))return null;for(;n<e.length&&e.charCodeAt(n)<=32;)n+=1;for(;r>n+1&&e.charCodeAt(r-1)<=32;)r-=1;if(e.charCodeAt(n)===47&&e.charCodeAt(n+1)===47)n+=2;else{const l=e.indexOf(":/",n);if(l!==-1){const d=l-n,f=e.charCodeAt(n),p=e.charCodeAt(n+1),m=e.charCodeAt(n+2),g=e.charCodeAt(n+3),y=e.charCodeAt(n+4);if(!(d===5&&f===104&&p===116&&m===116&&g===112&&y===115)){if(!(d===4&&f===104&&p===116&&m===116&&g===112)){if(!(d===3&&f===119&&p===115&&m===115)){if(!(d===2&&f===119&&p===115))for(let v=n;v<l;v+=1){const w=e.charCodeAt(v)|32;if(!(w>=97&&w<=122||w>=48&&w<=57||w===46||w===45||w===43))return null}}}}for(n=l+2;e.charCodeAt(n)===47;)n+=1}}let s=-1,a=-1,c=-1;for(let l=n;l<r;l+=1){const d=e.charCodeAt(l);if(d===35||d===47||d===63){r=l;break}else d===64?s=l:d===93?a=l:d===58?c=l:d>=65&&d<=90&&(i=!0)}if(s!==-1&&s>n&&s<r&&(n=s+1),e.charCodeAt(n)===91)return a!==-1?e.slice(n+1,a).toLowerCase():null;c!==-1&&c>n&&c<r&&(r=c)}for(;r>n+1&&e.charCodeAt(r-1)===46;)r-=1;const o=n!==0||r!==e.length?e.slice(n,r):e;return i?o.toLowerCase():o}function Fke(e){if(e.length<7||e.length>15)return!1;let t=0;for(let n=0;n<e.length;n+=1){const r=e.charCodeAt(n);if(r===46)t+=1;else if(r<48||r>57)return!1}return t===3&&e.charCodeAt(0)!==46&&e.charCodeAt(e.length-1)!==46}function Wke(e){if(e.length<3)return!1;let t=e.startsWith("[")?1:0,n=e.length;if(e[n-1]==="]"&&(n-=1),n-t>39)return!1;let r=!1;for(;t<n;t+=1){const i=e.charCodeAt(t);if(i===58)r=!0;else if(!(i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=90))return!1}return r}function zke(e){return Wke(e)||Fke(e)}function Oj(e){return e>=97&&e<=122||e>=48&&e<=57||e>127}function Nj(e){if(e.length>255||e.length===0||!Oj(e.charCodeAt(0))&&e.charCodeAt(0)!==46&&e.charCodeAt(0)!==95)return!1;let t=-1,n=-1;const r=e.length;for(let i=0;i<r;i+=1){const o=e.charCodeAt(i);if(o===46){if(i-t>64||n===46||n===45||n===95)return!1;t=i}else if(!(Oj(o)||o===45||o===95))return!1;n=o}return r-t-1<=63&&n!==45}function GH({allowIcannDomains:e=!0,allowPrivateDomains:t=!1,detectIp:n=!0,extractHostname:r=!0,mixedInputs:i=!0,validHosts:o=null,validateHostname:s=!0}){return{allowIcannDomains:e,allowPrivateDomains:t,detectIp:n,extractHostname:r,mixedInputs:i,validHosts:o,validateHostname:s}}const qke=GH({});function Vke(e){return e===void 0?qke:GH(e)}function Hke(e,t){return t.length===e.length?"":e.slice(0,-t.length-1)}function Kke(){return{domain:null,domainWithoutSuffix:null,hostname:null,isIcann:null,isIp:null,isPrivate:null,publicSuffix:null,subdomain:null}}function Gke(e,t,n,r,i){const o=Vke(r);return typeof e!="string"||(o.extractHostname?o.mixedInputs?i.hostname=Pj(e,Nj(e)):i.hostname=Pj(e,!1):i.hostname=e,i.hostname===null)||o.detectIp&&(i.isIp=zke(i.hostname),i.isIp)?i:o.validateHostname&&o.extractHostname&&!Nj(i.hostname)?(i.hostname=null,i):(n(i.hostname,o,i),i.publicSuffix===null||(i.domain=Lke(i.publicSuffix,i.hostname,o),i.domain===null)||(i.subdomain=Hke(i.hostname,i.domain),i.domainWithoutSuffix=Uke(i.domain,i.publicSuffix)),i)}function Zke(e,t,n){if(!t.allowPrivateDomains&&e.length>3){const r=e.length-1,i=e.charCodeAt(r),o=e.charCodeAt(r-1),s=e.charCodeAt(r-2),a=e.charCodeAt(r-3);if(i===109&&o===111&&s===99&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="com",!0;if(i===103&&o===114&&s===111&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="org",!0;if(i===117&&o===100&&s===101&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="edu",!0;if(i===118&&o===111&&s===103&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="gov",!0;if(i===116&&o===101&&s===110&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="net",!0;if(i===101&&o===100&&s===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="de",!0}return!1}const Jke=function(){const e=[1,{}],t=[0,{city:e}];return[0,{ck:[0,{www:e}],jp:[0,{kawasaki:t,kitakyushu:t,kobe:t,nagoya:t,sapporo:t,sendai:t,yokohama:t}]}]}(),Yke=function(){const e=[1,{}],t=[2,{}],n=[1,{gov:e,com:e,org:e,net:e,edu:e}],r=[0,{"*":t}],i=[1,{blogspot:t}],o=[1,{gov:e}],s=[0,{"*":e}],a=[0,{cloud:t}],c=[1,{co:t}],l=[2,{nodes:t}],d=[0,{s3:t}],f=[0,{direct:t}],p=[2,{id:t}],m=[0,{"webview-assets":t}],g=[0,{vfs:t,"webview-assets":t}],y=[0,{"aws-cloud9":m,cloud9:g}],v=[0,{dualstack:d,"analytics-gateway":t,"aws-cloud9":m,cloud9:g}],w=[0,{dualstack:d,s3:t,"s3-website":t,"aws-cloud9":m,cloud9:g}],_=[0,{dualstack:d,"aws-cloud9":m,cloud9:g}],E=[0,{apps:t}],C=[0,{paas:t}],T=[0,{app:t}],A=[2,{eu:t}],S=[0,{site:t}],O=[0,{pages:t}],D=[1,{com:e,edu:e,net:e,org:e}],K=[0,{j:t}],H=[0,{jelastic:t}],X=[0,{user:t}],U=[1,{ybo:t}],I=[0,{cust:t,reservd:t}],x=[0,{cust:t}],P=[1,{gov:e,edu:e,mil:e,com:e,org:e,net:e}],N=[1,{edu:e,biz:e,net:e,org:e,gov:e,info:e,com:e}],$=[1,{gov:e,blogspot:t}],L=[1,{framer:t}],z=[1,{barsy:t}],q=[0,{forgot:t}],j=[1,{gs:e}],W=[0,{nes:e}],re=[1,{k12:e,cc:e,lib:e}],de=[1,{cc:e,lib:e}];return[0,{ac:[1,{com:e,edu:e,gov:e,net:e,mil:e,org:e,drr:t}],ad:[1,{nom:e}],ae:[1,{co:e,net:e,org:e,sch:e,ac:e,gov:e,mil:e,blogspot:t}],aero:[1,{"accident-investigation":e,"accident-prevention":e,aerobatic:e,aeroclub:e,aerodrome:e,agents:e,aircraft:e,airline:e,airport:e,"air-surveillance":e,airtraffic:e,"air-traffic-control":e,ambulance:e,amusement:e,association:e,author:e,ballooning:e,broker:e,caa:e,cargo:e,catering:e,certification:e,championship:e,charter:e,civilaviation:e,club:e,conference:e,consultant:e,consulting:e,control:e,council:e,crew:e,design:e,dgca:e,educator:e,emergency:e,engine:e,engineer:e,entertainment:e,equipment:e,exchange:e,express:e,federation:e,flight:e,fuel:e,gliding:e,government:e,groundhandling:e,group:e,hanggliding:e,homebuilt:e,insurance:e,journal:e,journalist:e,leasing:e,logistics:e,magazine:e,maintenance:e,media:e,microlight:e,modelling:e,navigation:e,parachuting:e,paragliding:e,"passenger-association":e,pilot:e,press:e,production:e,recreation:e,repbody:e,res:e,research:e,rotorcraft:e,safety:e,scientist:e,services:e,show:e,skydiving:e,software:e,student:e,trader:e,trading:e,trainer:e,union:e,workinggroup:e,works:e}],af:n,ag:[1,{com:e,org:e,net:e,co:e,nom:e}],ai:[1,{off:e,com:e,net:e,org:e,uwu:t}],al:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,blogspot:t}],am:[1,{co:e,com:e,commune:e,net:e,org:e,radio:t,blogspot:t,neko:t,nyaa:t}],ao:[1,{ed:e,gv:e,og:e,co:e,pb:e,it:e}],aq:e,ar:[1,{bet:e,com:i,coop:e,edu:e,gob:e,gov:e,int:e,mil:e,musica:e,mutual:e,net:e,org:e,senasa:e,tur:e}],arpa:[1,{e164:e,"in-addr":e,ip6:e,iris:e,uri:e,urn:e}],as:o,asia:[1,{cloudns:t}],at:[1,{ac:[1,{sth:e}],co:i,gv:e,or:e,funkfeuer:[0,{wien:t}],futurecms:[0,{"*":t,ex:r,in:r}],futurehosting:t,futuremailing:t,ortsinfo:[0,{ex:r,kunden:r}],biz:t,info:t,"123webseite":t,priv:t,myspreadshop:t,"12hp":t,"2ix":t,"4lima":t,"lima-city":t}],au:[1,{com:[1,{blogspot:t,cloudlets:[0,{mel:t}],myspreadshop:t}],net:e,org:e,edu:[1,{act:e,catholic:e,nsw:[1,{schools:e}],nt:e,qld:e,sa:e,tas:e,vic:e,wa:e}],gov:[1,{qld:e,sa:e,tas:e,vic:e,wa:e}],asn:e,id:e,info:e,conf:e,oz:e,act:e,nsw:e,nt:e,qld:e,sa:e,tas:e,vic:e,wa:e}],aw:[1,{com:e}],ax:[1,{be:t,cat:t,es:t,eu:t,gg:t,mc:t,us:t,xy:t}],az:[1,{com:e,net:e,int:e,gov:e,org:e,edu:e,info:e,pp:e,mil:e,name:e,pro:e,biz:e}],ba:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,rs:t,blogspot:t}],bb:[1,{biz:e,co:e,com:e,edu:e,gov:e,info:e,net:e,org:e,store:e,tv:e}],bd:s,be:[1,{ac:e,webhosting:t,blogspot:t,interhostsolutions:a,kuleuven:[0,{ezproxy:t}],"123website":t,myspreadshop:t,transurl:r}],bf:o,bg:[1,{0:e,1:e,2:e,3:e,4:e,5:e,6:e,7:e,8:e,9:e,a:e,b:e,c:e,d:e,e,f:e,g:e,h:e,i:e,j:e,k:e,l:e,m:e,n:e,o:e,p:e,q:e,r:e,s:e,t:e,u:e,v:e,w:e,x:e,y:e,z:e,blogspot:t,barsy:t}],bh:n,bi:[1,{co:e,com:e,edu:e,or:e,org:e}],biz:[1,{activetrail:t,cloudns:t,jozi:t,dyndns:t,"for-better":t,"for-more":t,"for-some":t,"for-the":t,selfip:t,webhop:t,orx:t,mmafan:t,myftp:t,"no-ip":t,dscloud:t}],bj:[1,{africa:e,agro:e,architectes:e,assur:e,avocats:e,co:e,com:e,eco:e,econo:e,edu:e,info:e,loisirs:e,money:e,net:e,org:e,ote:e,resto:e,restaurant:e,tourism:e,univ:e,blogspot:t}],bm:n,bn:[1,{com:e,edu:e,gov:e,net:e,org:e,co:t}],bo:[1,{com:e,edu:e,gob:e,int:e,org:e,net:e,mil:e,tv:e,web:e,academia:e,agro:e,arte:e,blog:e,bolivia:e,ciencia:e,cooperativa:e,democracia:e,deporte:e,ecologia:e,economia:e,empresa:e,indigena:e,industria:e,info:e,medicina:e,movimiento:e,musica:e,natural:e,nombre:e,noticias:e,patria:e,politica:e,profesional:e,plurinacional:e,pueblo:e,revista:e,salud:e,tecnologia:e,tksat:e,transporte:e,wiki:e}],br:[1,{"9guacu":e,abc:e,adm:e,adv:e,agr:e,aju:e,am:e,anani:e,aparecida:e,app:e,arq:e,art:e,ato:e,b:e,barueri:e,belem:e,bhz:e,bib:e,bio:e,blog:e,bmd:e,boavista:e,bsb:e,campinagrande:e,campinas:e,caxias:e,cim:e,cng:e,cnt:e,com:[1,{blogspot:t,simplesite:t}],contagem:e,coop:e,coz:e,cri:e,cuiaba:e,curitiba:e,def:e,des:e,det:e,dev:e,ecn:e,eco:e,edu:e,emp:e,enf:e,eng:e,esp:e,etc:e,eti:e,far:e,feira:e,flog:e,floripa:e,fm:e,fnd:e,fortal:e,fot:e,foz:e,fst:e,g12:e,geo:e,ggf:e,goiania:e,gov:[1,{ac:e,al:e,am:e,ap:e,ba:e,ce:e,df:e,es:e,go:e,ma:e,mg:e,ms:e,mt:e,pa:e,pb:e,pe:e,pi:e,pr:e,rj:e,rn:e,ro:e,rr:e,rs:e,sc:e,se:e,sp:e,to:e}],gru:e,imb:e,ind:e,inf:e,jab:e,jampa:e,jdf:e,joinville:e,jor:e,jus:e,leg:[1,{ac:t,al:t,am:t,ap:t,ba:t,ce:t,df:t,es:t,go:t,ma:t,mg:t,ms:t,mt:t,pa:t,pb:t,pe:t,pi:t,pr:t,rj:t,rn:t,ro:t,rr:t,rs:t,sc:t,se:t,sp:t,to:t}],lel:e,log:e,londrina:e,macapa:e,maceio:e,manaus:e,maringa:e,mat:e,med:e,mil:e,morena:e,mp:e,mus:e,natal:e,net:e,niteroi:e,nom:s,not:e,ntr:e,odo:e,ong:e,org:e,osasco:e,palmas:e,poa:e,ppg:e,pro:e,psc:e,psi:e,pvh:e,qsl:e,radio:e,rec:e,recife:e,rep:e,ribeirao:e,rio:e,riobranco:e,riopreto:e,salvador:e,sampa:e,santamaria:e,santoandre:e,saobernardo:e,saogonca:e,seg:e,sjc:e,slg:e,slz:e,sorocaba:e,srv:e,taxi:e,tc:e,tec:e,teo:e,the:e,tmp:e,trd:e,tur:e,tv:e,udi:e,vet:e,vix:e,vlog:e,wiki:e,zlg:e}],bs:[1,{com:e,net:e,org:e,edu:e,gov:e,we:t}],bt:n,bv:e,bw:[1,{co:e,org:e}],by:[1,{gov:e,mil:e,com:i,of:e,mycloud:t,mediatech:t}],bz:[1,{com:e,net:e,org:e,edu:e,gov:e,za:t,gsj:t}],ca:[1,{ab:e,bc:e,mb:e,nb:e,nf:e,nl:e,ns:e,nt:e,nu:e,on:e,pe:e,qc:e,sk:e,yk:e,gc:e,barsy:t,awdev:r,co:t,blogspot:t,"no-ip":t,myspreadshop:t}],cat:e,cc:[1,{cloudns:t,ftpaccess:t,"game-server":t,myphotos:t,scrapping:t,twmail:t,csx:t,fantasyleague:t,spawn:[0,{instances:t}]}],cd:o,cf:i,cg:e,ch:[1,{square7:t,blogspot:t,flow:[0,{ae:[0,{alp1:t}],appengine:t}],"linkyard-cloud":t,dnsking:t,gotdns:t,"123website":t,myspreadshop:t,firenet:[0,{"*":t,svc:r}],"12hp":t,"2ix":t,"4lima":t,"lima-city":t}],ci:[1,{org:e,or:e,com:e,co:e,edu:e,ed:e,ac:e,net:e,go:e,asso:e,"xn--aroport-bya":e,aéroport:e,int:e,presse:e,md:e,gouv:e,fin:t,nl:t}],ck:s,cl:[1,{co:e,gob:e,gov:e,mil:e,blogspot:t}],cm:[1,{co:e,com:e,gov:e,net:e}],cn:[1,{ac:e,com:[1,{amazonaws:[0,{compute:r,"cn-north-1":d,eb:[0,{"cn-north-1":t,"cn-northwest-1":t}],elb:r}]}],edu:e,gov:e,net:e,org:e,mil:e,"xn--55qx5d":e,公司:e,"xn--io0a7i":e,网络:e,"xn--od0alg":e,網絡:e,ah:e,bj:e,cq:e,fj:e,gd:e,gs:e,gz:e,gx:e,ha:e,hb:e,he:e,hi:e,hl:e,hn:e,jl:e,js:e,jx:e,ln:e,nm:e,nx:e,qh:e,sc:e,sd:e,sh:e,sn:e,sx:e,tj:e,xj:e,xz:e,yn:e,zj:e,hk:e,mo:e,tw:e,"canva-apps":t,instantcloud:t,quickconnect:f}],co:[1,{arts:e,com:i,edu:e,firm:e,gov:e,info:e,int:e,mil:e,net:e,nom:e,org:e,rec:e,web:e,carrd:t,crd:t,otap:r,leadpages:t,lpages:t,mypi:t,n4t:t,firewalledreplit:p,repl:p,supabase:t}],com:[1,{devcdnaccesso:r,adobeaemcloud:[2,{dev:r}],airkitapps:t,"airkitapps-au":t,aivencloud:t,kasserver:t,amazonaws:[0,{compute:r,"compute-1":r,"us-east-1":[2,{dualstack:d,"analytics-gateway":t,"aws-cloud9":m,cloud9:g}],"ap-northeast-1":v,"ap-northeast-2":w,"ap-south-1":w,"ap-southeast-1":_,"ap-southeast-2":_,"ca-central-1":w,"eu-central-1":w,"eu-west-1":v,"eu-west-2":w,"eu-west-3":w,s3:t,"s3-ap-northeast-1":t,"s3-ap-northeast-2":t,"s3-ap-south-1":t,"s3-ap-southeast-1":t,"s3-ap-southeast-2":t,"s3-ca-central-1":t,"s3-eu-central-1":t,"s3-eu-west-1":t,"s3-eu-west-2":t,"s3-eu-west-3":t,"s3-external-1":t,"s3-fips-us-gov-west-1":t,"s3-sa-east-1":t,"s3-us-east-2":t,"s3-us-gov-west-1":t,"s3-us-west-1":t,"s3-us-west-2":t,"s3-website-ap-northeast-1":t,"s3-website-ap-southeast-1":t,"s3-website-ap-southeast-2":t,"s3-website-eu-west-1":t,"s3-website-sa-east-1":t,"s3-website-us-east-1":t,"s3-website-us-west-1":t,"s3-website-us-west-2":t,"sa-east-1":_,"us-east-2":[0,{dualstack:d,s3:t,"s3-website":t,"analytics-gateway":t,"aws-cloud9":m,cloud9:g}],"us-west-2":[0,{"analytics-gateway":t,"aws-cloud9":m,cloud9:g}],"af-south-1":y,"ap-east-1":y,"ap-northeast-3":y,"eu-north-1":y,"eu-south-1":y,"me-south-1":y,"us-west-1":y,elb:r}],elasticbeanstalk:[2,{"ap-northeast-1":t,"ap-northeast-2":t,"ap-northeast-3":t,"ap-south-1":t,"ap-southeast-1":t,"ap-southeast-2":t,"ca-central-1":t,"eu-central-1":t,"eu-west-1":t,"eu-west-2":t,"eu-west-3":t,"sa-east-1":t,"us-east-1":t,"us-east-2":t,"us-gov-west-1":t,"us-west-1":t,"us-west-2":t}],awsglobalaccelerator:t,siiites:t,appspacehosted:t,appspaceusercontent:t,"on-aptible":t,myasustor:t,"balena-devices":t,betainabox:t,boutir:t,bplaced:t,cafjs:t,"canva-apps":t,br:t,cn:t,de:t,eu:t,jpn:t,mex:t,ru:t,sa:t,uk:t,us:t,za:t,ar:t,hu:t,kr:t,no:t,qc:t,uy:t,africa:t,gr:t,co:t,jdevcloud:t,wpdevcloud:t,cloudcontrolled:t,cloudcontrolapp:t,"cf-ipfs":t,"cloudflare-ipfs":t,trycloudflare:t,"customer-oci":[0,{"*":t,oci:r,ocp:r,ocs:r}],dattolocal:t,dattorelay:t,dattoweb:t,mydatto:t,builtwithdark:t,datadetect:[0,{demo:t,instance:t}],ddns5:t,discordsays:t,discordsez:t,drayddns:t,dreamhosters:t,mydrobo:t,"dyndns-at-home":t,"dyndns-at-work":t,"dyndns-blog":t,"dyndns-free":t,"dyndns-home":t,"dyndns-ip":t,"dyndns-mail":t,"dyndns-office":t,"dyndns-pics":t,"dyndns-remote":t,"dyndns-server":t,"dyndns-web":t,"dyndns-wiki":t,"dyndns-work":t,blogdns:t,cechire:t,dnsalias:t,dnsdojo:t,doesntexist:t,dontexist:t,doomdns:t,"dyn-o-saur":t,dynalias:t,"est-a-la-maison":t,"est-a-la-masion":t,"est-le-patron":t,"est-mon-blogueur":t,"from-ak":t,"from-al":t,"from-ar":t,"from-ca":t,"from-ct":t,"from-dc":t,"from-de":t,"from-fl":t,"from-ga":t,"from-hi":t,"from-ia":t,"from-id":t,"from-il":t,"from-in":t,"from-ks":t,"from-ky":t,"from-ma":t,"from-md":t,"from-mi":t,"from-mn":t,"from-mo":t,"from-ms":t,"from-mt":t,"from-nc":t,"from-nd":t,"from-ne":t,"from-nh":t,"from-nj":t,"from-nm":t,"from-nv":t,"from-oh":t,"from-ok":t,"from-or":t,"from-pa":t,"from-pr":t,"from-ri":t,"from-sc":t,"from-sd":t,"from-tn":t,"from-tx":t,"from-ut":t,"from-va":t,"from-vt":t,"from-wa":t,"from-wi":t,"from-wv":t,"from-wy":t,getmyip:t,gotdns:t,"hobby-site":t,homelinux:t,homeunix:t,iamallama:t,"is-a-anarchist":t,"is-a-blogger":t,"is-a-bookkeeper":t,"is-a-bulls-fan":t,"is-a-caterer":t,"is-a-chef":t,"is-a-conservative":t,"is-a-cpa":t,"is-a-cubicle-slave":t,"is-a-democrat":t,"is-a-designer":t,"is-a-doctor":t,"is-a-financialadvisor":t,"is-a-geek":t,"is-a-green":t,"is-a-guru":t,"is-a-hard-worker":t,"is-a-hunter":t,"is-a-landscaper":t,"is-a-lawyer":t,"is-a-liberal":t,"is-a-libertarian":t,"is-a-llama":t,"is-a-musician":t,"is-a-nascarfan":t,"is-a-nurse":t,"is-a-painter":t,"is-a-personaltrainer":t,"is-a-photographer":t,"is-a-player":t,"is-a-republican":t,"is-a-rockstar":t,"is-a-socialist":t,"is-a-student":t,"is-a-teacher":t,"is-a-techie":t,"is-a-therapist":t,"is-an-accountant":t,"is-an-actor":t,"is-an-actress":t,"is-an-anarchist":t,"is-an-artist":t,"is-an-engineer":t,"is-an-entertainer":t,"is-certified":t,"is-gone":t,"is-into-anime":t,"is-into-cars":t,"is-into-cartoons":t,"is-into-games":t,"is-leet":t,"is-not-certified":t,"is-slick":t,"is-uberleet":t,"is-with-theband":t,"isa-geek":t,"isa-hockeynut":t,issmarterthanyou:t,"likes-pie":t,likescandy:t,"neat-url":t,"saves-the-whales":t,selfip:t,"sells-for-less":t,"sells-for-u":t,servebbs:t,"simple-url":t,"space-to-rent":t,"teaches-yoga":t,writesthisblog:t,digitaloceanspaces:r,ddnsfree:t,ddnsgeek:t,giize:t,gleeze:t,kozow:t,loseyourip:t,ooguy:t,theworkpc:t,mytuleap:t,"tuleap-partners":t,encoreapi:t,evennode:[0,{"eu-1":t,"eu-2":t,"eu-3":t,"eu-4":t,"us-1":t,"us-2":t,"us-3":t,"us-4":t}],onfabrica:t,fbsbx:E,"fastly-edge":t,"fastly-terrarium":t,"fastvps-server":t,mydobiss:t,firebaseapp:t,fldrv:t,forgeblocks:t,framercanvas:t,"freebox-os":t,freeboxos:t,freemyip:t,gentapps:t,gentlentapis:t,githubusercontent:t,"0emm":r,appspot:[2,{r}],codespot:t,googleapis:t,googlecode:t,pagespeedmobilizer:t,publishproxy:t,withgoogle:t,withyoutube:t,blogspot:t,awsmppl:t,herokuapp:t,herokussl:t,impertrixcdn:t,impertrix:t,smushcdn:t,wphostedmail:t,wpmucdn:t,pixolino:t,amscompute:t,dopaas:t,"hosted-by-previder":C,hosteur:[0,{"rag-cloud":t,"rag-cloud-ch":t}],"ik-server":[0,{jcloud:t,"jcloud-ver-jpc":t}],jelastic:[0,{demo:t}],kilatiron:t,massivegrid:C,wafaicloud:[0,{jed:t,lon:t,ryd:t}],joyent:[0,{cns:r}],ktistory:t,lpusercontent:t,lmpm:T,linode:[0,{members:t,nodebalancer:r}],linodeobjects:r,linodeusercontent:[0,{ip:t}],barsycenter:t,barsyonline:t,mazeplay:t,miniserver:t,meteorapp:A,hostedpi:t,"mythic-beasts":[0,{customer:t,caracal:t,fentiger:t,lynx:t,ocelot:t,oncilla:t,onza:t,sphinx:t,vs:t,x:t,yali:t}],nospamproxy:a,"4u":t,nfshost:t,"001www":t,ddnslive:t,myiphost:t,blogsyte:t,ciscofreak:t,damnserver:t,ditchyourip:t,dnsiskinky:t,dynns:t,geekgalaxy:t,"health-carereform":t,homesecuritymac:t,homesecuritypc:t,myactivedirectory:t,mysecuritycamera:t,"net-freaks":t,onthewifi:t,point2this:t,quicksytes:t,securitytactics:t,serveexchange:t,servehumour:t,servep2p:t,servesarcasm:t,stufftoread:t,unusualperson:t,workisboring:t,"3utilities":t,ddnsking:t,myvnc:t,servebeer:t,servecounterstrike:t,serveftp:t,servegame:t,servehalflife:t,servehttp:t,serveirc:t,servemp3:t,servepics:t,servequake:t,observableusercontent:[0,{static:t}],simplesite:t,orsites:t,operaunite:t,"authgear-staging":t,authgearapps:t,skygearapp:t,outsystemscloud:t,ownprovider:t,pgfog:t,pagefrontapp:t,pagexl:t,paywhirl:r,gotpantheon:t,"platter-app":t,pleskns:t,"postman-echo":t,prgmr:[0,{xen:t}],pythonanywhere:A,qualifioapp:t,ladesk:t,qbuser:t,qa2:t,"dev-myqnapcloud":t,"alpha-myqnapcloud":t,myqnapcloud:t,quipelements:r,rackmaze:t,rhcloud:t,render:T,onrender:t,"180r":t,dojin:t,sakuratan:t,sakuraweb:t,x0:t,code:[0,{builder:r,"dev-builder":r,"stg-builder":r}],logoip:t,scrysec:t,"firewall-gateway":t,myshopblocks:t,myshopify:t,shopitsite:t,"1kapp":t,appchizi:t,applinzi:t,sinaapp:t,vipsinaapp:t,"bounty-full":[2,{alpha:t,beta:t}],streamlitapp:t,"try-snowplow":t,"stackhero-network":t,"playstation-cloud":t,myspreadshop:t,stdlib:[0,{api:t}],"temp-dns":t,dsmynas:t,familyds:t,mytabit:t,"tb-hosting":S,reservd:t,thingdustdata:t,bloxcms:t,"townnews-staging":t,typeform:[0,{pro:t}],hk:t,it:t,vultrobjects:r,wafflecell:t,"reserve-online":t,hotelwithflight:t,remotewd:t,wiardweb:O,messwithdns:t,"woltlab-demo":t,wpenginepowered:[2,{js:t}],wixsite:t,xnbay:[2,{u2:t,"u2-local":t}],yolasite:t}],coop:e,cr:[1,{ac:e,co:e,ed:e,fi:e,go:e,or:e,sa:e}],cu:[1,{com:e,edu:e,org:e,net:e,gov:e,inf:e}],cv:[1,{com:e,edu:e,int:e,nome:e,org:e,blogspot:t}],cw:D,cx:[1,{gov:e,ath:t,info:t}],cy:[1,{ac:e,biz:e,com:[1,{blogspot:t,scaleforce:K}],ekloges:e,gov:e,ltd:e,mil:e,net:e,org:e,press:e,pro:e,tm:e}],cz:[1,{co:t,realm:t,e4:t,blogspot:t,metacentrum:[0,{cloud:r,custom:t}],muni:[0,{cloud:[0,{flt:t,usr:t}]}]}],de:[1,{bplaced:t,square7:t,com:t,cosidns:[0,{dyn:t}],"dynamisches-dns":t,dnsupdater:t,"internet-dns":t,"l-o-g-i-n":t,dnshome:t,fuettertdasnetz:t,isteingeek:t,istmein:t,lebtimnetz:t,leitungsen:t,traeumtgerade:t,ddnss:[2,{dyn:t,dyndns:t}],dyndns1:t,"dyn-ip24":t,"home-webserver":[2,{dyn:t}],"myhome-server":t,frusky:r,goip:t,blogspot:t,"xn--gnstigbestellen-zvb":t,günstigbestellen:t,"xn--gnstigliefern-wob":t,günstigliefern:t,"hs-heilbronn":[0,{it:O}],"dyn-berlin":t,"in-berlin":t,"in-brb":t,"in-butter":t,"in-dsl":t,"in-vpn":t,iservschule:t,"mein-iserv":t,schulplattform:t,schulserver:t,"test-iserv":t,keymachine:t,"git-repos":t,"lcube-server":t,"svn-repos":t,barsy:t,"123webseite":t,logoip:t,"firewall-gateway":t,"my-gateway":t,"my-router":t,spdns:t,speedpartner:[0,{customer:t}],myspreadshop:t,"taifun-dns":t,"12hp":t,"2ix":t,"4lima":t,"lima-city":t,"dd-dns":t,"dray-dns":t,draydns:t,"dyn-vpn":t,dynvpn:t,"mein-vigor":t,"my-vigor":t,"my-wan":t,"syno-ds":t,"synology-diskstation":t,"synology-ds":t,uberspace:r,virtualuser:t,"virtual-user":t,"community-pro":t,diskussionsbereich:t}],dj:e,dk:[1,{biz:t,co:t,firm:t,reg:t,store:t,blogspot:t,"123hjemmeside":t,myspreadshop:t}],dm:n,do:[1,{art:e,com:e,edu:e,gob:e,gov:e,mil:e,net:e,org:e,sld:e,web:e}],dz:[1,{art:e,asso:e,com:e,edu:e,gov:e,org:e,net:e,pol:e,soc:e,tm:e}],ec:[1,{com:e,info:e,net:e,fin:e,k12:e,med:e,pro:e,org:e,edu:e,gov:e,gob:e,mil:e,base:t,official:t}],edu:[1,{rit:[0,{"git-pages":t}]}],ee:[1,{edu:e,gov:e,riik:e,lib:e,med:e,com:i,pri:e,aip:e,org:e,fie:e}],eg:[1,{com:i,edu:e,eun:e,gov:e,mil:e,name:e,net:e,org:e,sci:e}],er:s,es:[1,{com:i,nom:e,org:e,gob:e,edu:e,"123miweb":t,myspreadshop:t}],et:[1,{com:e,gov:e,org:e,edu:e,biz:e,name:e,info:e,net:e}],eu:[1,{airkitapps:t,mycd:t,cloudns:t,dogado:H,barsy:t,wellbeingzone:t,spdns:t,transurl:r,diskstation:t}],fi:[1,{aland:e,dy:t,blogspot:t,"xn--hkkinen-5wa":t,häkkinen:t,iki:t,cloudplatform:[0,{fi:t}],datacenter:[0,{demo:t,paas:t}],kapsi:t,"123kotisivu":t,myspreadshop:t}],fj:[1,{ac:e,biz:e,com:e,gov:e,info:e,mil:e,name:e,net:e,org:e,pro:e}],fk:s,fm:[1,{com:e,edu:e,net:e,org:e,radio:t,user:r}],fo:e,fr:[1,{asso:e,com:e,gouv:e,nom:e,prd:e,tm:e,avoues:e,cci:e,greta:e,"huissier-justice":e,"en-root":t,"fbx-os":t,fbxos:t,"freebox-os":t,freeboxos:t,blogspot:t,goupile:t,"123siteweb":t,"on-web":t,"chirurgiens-dentistes-en-france":t,dedibox:t,aeroport:t,avocat:t,chambagri:t,"chirurgiens-dentistes":t,"experts-comptables":t,medecin:t,notaires:t,pharmacien:t,port:t,veterinaire:t,myspreadshop:t,ynh:t}],ga:e,gb:e,gd:[1,{edu:e,gov:e}],ge:[1,{com:e,edu:e,gov:e,org:e,mil:e,net:e,pvt:e}],gf:e,gg:[1,{co:e,net:e,org:e,kaas:t,cya:t,panel:[2,{daemon:t}]}],gh:[1,{com:e,edu:e,gov:e,org:e,mil:e}],gi:[1,{com:e,ltd:e,gov:e,mod:e,edu:e,org:e}],gl:[1,{co:e,com:e,edu:e,net:e,org:e,biz:t,xx:t}],gm:e,gn:[1,{ac:e,com:e,edu:e,gov:e,org:e,net:e}],gov:e,gp:[1,{com:e,net:e,mobi:e,edu:e,org:e,asso:e,app:t}],gq:e,gr:[1,{com:e,edu:e,net:e,org:e,gov:e,blogspot:t,simplesite:t}],gs:e,gt:[1,{com:e,edu:e,gob:e,ind:e,mil:e,net:e,org:e,blog:t,de:t,to:t}],gu:[1,{com:e,edu:e,gov:e,guam:e,info:e,net:e,org:e,web:e}],gw:e,gy:[1,{co:e,com:e,edu:e,gov:e,net:e,org:e,be:t}],hk:[1,{com:e,edu:e,gov:e,idv:e,net:e,org:e,"xn--55qx5d":e,公司:e,"xn--wcvs22d":e,教育:e,"xn--lcvr32d":e,敎育:e,"xn--mxtq1m":e,政府:e,"xn--gmqw5a":e,個人:e,"xn--ciqpn":e,个人:e,"xn--gmq050i":e,箇人:e,"xn--zf0avx":e,網络:e,"xn--io0a7i":e,网络:e,"xn--mk0axi":e,组織:e,"xn--od0alg":e,網絡:e,"xn--od0aq3b":e,网絡:e,"xn--tn0ag":e,组织:e,"xn--uc0atv":e,組織:e,"xn--uc0ay4a":e,組织:e,blogspot:t,secaas:t,ltd:t,inc:t}],hm:e,hn:[1,{com:e,edu:e,org:e,net:e,mil:e,gob:e,cc:t}],hr:[1,{iz:e,from:e,name:e,com:e,blogspot:t,free:t}],ht:[1,{com:e,shop:e,firm:e,info:e,adult:e,net:e,pro:e,org:e,med:e,art:e,coop:e,pol:e,asso:e,edu:e,rel:e,gouv:e,perso:e}],hu:[1,{2e3:e,co:e,info:e,org:e,priv:e,sport:e,tm:e,agrar:e,bolt:e,casino:e,city:e,erotica:e,erotika:e,film:e,forum:e,games:e,hotel:e,ingatlan:e,jogasz:e,konyvelo:e,lakas:e,media:e,news:e,reklam:e,sex:e,shop:e,suli:e,szex:e,tozsde:e,utazas:e,video:e,blogspot:t}],id:[1,{ac:e,biz:e,co:i,desa:e,go:e,mil:e,my:[1,{rss:r}],net:e,or:e,ponpes:e,sch:e,web:e,flap:t,forte:t}],ie:[1,{gov:e,blogspot:t,myspreadshop:t}],il:[1,{ac:e,co:[1,{ravpage:t,blogspot:t,tabitorder:t,mytabit:t}],gov:e,idf:e,k12:e,muni:e,net:e,org:e}],"xn--4dbrk0ce":[1,{"xn--4dbgdty6c":e,"xn--5dbhl8d":e,"xn--8dbq2a":e,"xn--hebda8b":e}],ישראל:[1,{אקדמיה:e,ישוב:e,צהל:e,ממשל:e}],im:[1,{ac:e,co:[1,{ltd:e,plc:e}],com:e,net:e,org:e,tt:e,tv:e,ro:t}],in:[1,{"5g":e,"6g":e,ac:e,ai:e,am:e,bihar:e,biz:e,business:e,ca:e,cn:e,co:e,com:e,coop:e,cs:e,delhi:e,dr:e,edu:e,er:e,firm:e,gen:e,gov:e,gujarat:e,ind:e,info:e,int:e,internet:e,io:e,me:e,mil:e,net:e,nic:e,org:e,pg:e,post:e,pro:e,res:e,travel:e,tv:e,uk:e,up:e,us:e,web:t,cloudns:t,blogspot:t,barsy:t,supabase:t}],info:[1,{cloudns:t,"dynamic-dns":t,dyndns:t,"barrel-of-knowledge":t,"barrell-of-knowledge":t,"for-our":t,"groks-the":t,"groks-this":t,"here-for-more":t,knowsitall:t,selfip:t,webhop:t,barsy:t,mayfirst:t,forumz:t,nsupdate:t,dvrcam:t,ilovecollege:t,"no-ip":t,dnsupdate:t,"v-info":t}],int:[1,{eu:e}],io:[1,{2038:t,com:e,"on-acorn":r,apigee:t,"b-data":t,backplaneapp:t,banzaicloud:[0,{app:t,backyards:r}],beagleboard:t,bitbucket:t,bluebite:t,boxfuse:t,browsersafetymark:t,bigv:[0,{uk0:t}],cleverapps:t,dappnode:[0,{dyndns:t}],dedyn:t,drud:t,definima:t,"fh-muenster":t,shw:t,forgerock:[0,{id:t}],ghost:t,github:t,gitlab:t,lolipop:t,"hasura-app":t,hostyhosting:t,moonscale:r,beebyte:C,beebyteapp:[0,{sekd1:t}],jele:t,unispace:[0,{"cloud-fr1":t}],webthings:t,loginline:t,barsy:t,azurecontainer:r,ngrok:[2,{ap:t,au:t,eu:t,in:t,jp:t,sa:t,us:t}],nodeart:[0,{stage:t}],nid:t,pantheonsite:t,dyn53:t,pstmn:[2,{mock:t}],protonet:t,qoto:t,qcx:[2,{sys:r}],vaporcloud:t,vbrplsbx:[0,{g:t}],"on-k3s":r,"on-rio":r,readthedocs:t,resindevice:t,resinstaging:[0,{devices:t}],hzc:t,sandcats:t,shiftcrypto:t,shiftedit:t,"mo-siemens":t,musician:t,lair:E,stolos:r,spacekit:t,utwente:t,s5y:r,edugit:t,telebit:t,thingdust:[0,{dev:I,disrec:I,prod:x,testing:I}],tickets:t,upli:t,wedeploy:t,editorx:t,wixstudio:t,basicserver:t,virtualserver:t}],iq:P,ir:[1,{ac:e,co:e,gov:e,id:e,net:e,org:e,sch:e,"xn--mgba3a4f16a":e,ایران:e,"xn--mgba3a4fra":e,ايران:e}],is:[1,{net:e,com:e,edu:e,gov:e,org:e,int:e,cupcake:t,blogspot:t}],it:[1,{gov:e,edu:e,abr:e,abruzzo:e,"aosta-valley":e,aostavalley:e,bas:e,basilicata:e,cal:e,calabria:e,cam:e,campania:e,"emilia-romagna":e,emiliaromagna:e,emr:e,"friuli-v-giulia":e,"friuli-ve-giulia":e,"friuli-vegiulia":e,"friuli-venezia-giulia":e,"friuli-veneziagiulia":e,"friuli-vgiulia":e,"friuliv-giulia":e,"friulive-giulia":e,friulivegiulia:e,"friulivenezia-giulia":e,friuliveneziagiulia:e,friulivgiulia:e,fvg:e,laz:e,lazio:e,lig:e,liguria:e,lom:e,lombardia:e,lombardy:e,lucania:e,mar:e,marche:e,mol:e,molise:e,piedmont:e,piemonte:e,pmn:e,pug:e,puglia:e,sar:e,sardegna:e,sardinia:e,sic:e,sicilia:e,sicily:e,taa:e,tos:e,toscana:e,"trentin-sud-tirol":e,"xn--trentin-sd-tirol-rzb":e,"trentin-süd-tirol":e,"trentin-sudtirol":e,"xn--trentin-sdtirol-7vb":e,"trentin-südtirol":e,"trentin-sued-tirol":e,"trentin-suedtirol":e,"trentino-a-adige":e,"trentino-aadige":e,"trentino-alto-adige":e,"trentino-altoadige":e,"trentino-s-tirol":e,"trentino-stirol":e,"trentino-sud-tirol":e,"xn--trentino-sd-tirol-c3b":e,"trentino-süd-tirol":e,"trentino-sudtirol":e,"xn--trentino-sdtirol-szb":e,"trentino-südtirol":e,"trentino-sued-tirol":e,"trentino-suedtirol":e,trentino:e,"trentinoa-adige":e,trentinoaadige:e,"trentinoalto-adige":e,trentinoaltoadige:e,"trentinos-tirol":e,trentinostirol:e,"trentinosud-tirol":e,"xn--trentinosd-tirol-rzb":e,"trentinosüd-tirol":e,trentinosudtirol:e,"xn--trentinosdtirol-7vb":e,trentinosüdtirol:e,"trentinosued-tirol":e,trentinosuedtirol:e,"trentinsud-tirol":e,"xn--trentinsd-tirol-6vb":e,"trentinsüd-tirol":e,trentinsudtirol:e,"xn--trentinsdtirol-nsb":e,trentinsüdtirol:e,"trentinsued-tirol":e,trentinsuedtirol:e,tuscany:e,umb:e,umbria:e,"val-d-aosta":e,"val-daosta":e,"vald-aosta":e,valdaosta:e,"valle-aosta":e,"valle-d-aosta":e,"valle-daosta":e,valleaosta:e,"valled-aosta":e,valledaosta:e,"vallee-aoste":e,"xn--valle-aoste-ebb":e,"vallée-aoste":e,"vallee-d-aoste":e,"xn--valle-d-aoste-ehb":e,"vallée-d-aoste":e,valleeaoste:e,"xn--valleaoste-e7a":e,valléeaoste:e,valleedaoste:e,"xn--valledaoste-ebb":e,valléedaoste:e,vao:e,vda:e,ven:e,veneto:e,ag:e,agrigento:e,al:e,alessandria:e,"alto-adige":e,altoadige:e,an:e,ancona:e,"andria-barletta-trani":e,"andria-trani-barletta":e,andriabarlettatrani:e,andriatranibarletta:e,ao:e,aosta:e,aoste:e,ap:e,aq:e,aquila:e,ar:e,arezzo:e,"ascoli-piceno":e,ascolipiceno:e,asti:e,at:e,av:e,avellino:e,ba:e,"balsan-sudtirol":e,"xn--balsan-sdtirol-nsb":e,"balsan-südtirol":e,"balsan-suedtirol":e,balsan:e,bari:e,"barletta-trani-andria":e,barlettatraniandria:e,belluno:e,benevento:e,bergamo:e,bg:e,bi:e,biella:e,bl:e,bn:e,bo:e,bologna:e,"bolzano-altoadige":e,bolzano:e,"bozen-sudtirol":e,"xn--bozen-sdtirol-2ob":e,"bozen-südtirol":e,"bozen-suedtirol":e,bozen:e,br:e,brescia:e,brindisi:e,bs:e,bt:e,"bulsan-sudtirol":e,"xn--bulsan-sdtirol-nsb":e,"bulsan-südtirol":e,"bulsan-suedtirol":e,bulsan:e,bz:e,ca:e,cagliari:e,caltanissetta:e,"campidano-medio":e,campidanomedio:e,campobasso:e,"carbonia-iglesias":e,carboniaiglesias:e,"carrara-massa":e,carraramassa:e,caserta:e,catania:e,catanzaro:e,cb:e,ce:e,"cesena-forli":e,"xn--cesena-forl-mcb":e,"cesena-forlì":e,cesenaforli:e,"xn--cesenaforl-i8a":e,cesenaforlì:e,ch:e,chieti:e,ci:e,cl:e,cn:e,co:e,como:e,cosenza:e,cr:e,cremona:e,crotone:e,cs:e,ct:e,cuneo:e,cz:e,"dell-ogliastra":e,dellogliastra:e,en:e,enna:e,fc:e,fe:e,fermo:e,ferrara:e,fg:e,fi:e,firenze:e,florence:e,fm:e,foggia:e,"forli-cesena":e,"xn--forl-cesena-fcb":e,"forlì-cesena":e,forlicesena:e,"xn--forlcesena-c8a":e,forlìcesena:e,fr:e,frosinone:e,ge:e,genoa:e,genova:e,go:e,gorizia:e,gr:e,grosseto:e,"iglesias-carbonia":e,iglesiascarbonia:e,im:e,imperia:e,is:e,isernia:e,kr:e,"la-spezia":e,laquila:e,laspezia:e,latina:e,lc:e,le:e,lecce:e,lecco:e,li:e,livorno:e,lo:e,lodi:e,lt:e,lu:e,lucca:e,macerata:e,mantova:e,"massa-carrara":e,massacarrara:e,matera:e,mb:e,mc:e,me:e,"medio-campidano":e,mediocampidano:e,messina:e,mi:e,milan:e,milano:e,mn:e,mo:e,modena:e,"monza-brianza":e,"monza-e-della-brianza":e,monza:e,monzabrianza:e,monzaebrianza:e,monzaedellabrianza:e,ms:e,mt:e,na:e,naples:e,napoli:e,no:e,novara:e,nu:e,nuoro:e,og:e,ogliastra:e,"olbia-tempio":e,olbiatempio:e,or:e,oristano:e,ot:e,pa:e,padova:e,padua:e,palermo:e,parma:e,pavia:e,pc:e,pd:e,pe:e,perugia:e,"pesaro-urbino":e,pesarourbino:e,pescara:e,pg:e,pi:e,piacenza:e,pisa:e,pistoia:e,pn:e,po:e,pordenone:e,potenza:e,pr:e,prato:e,pt:e,pu:e,pv:e,pz:e,ra:e,ragusa:e,ravenna:e,rc:e,re:e,"reggio-calabria":e,"reggio-emilia":e,reggiocalabria:e,reggioemilia:e,rg:e,ri:e,rieti:e,rimini:e,rm:e,rn:e,ro:e,roma:e,rome:e,rovigo:e,sa:e,salerno:e,sassari:e,savona:e,si:e,siena:e,siracusa:e,so:e,sondrio:e,sp:e,sr:e,ss:e,suedtirol:e,"xn--sdtirol-n2a":e,südtirol:e,sv:e,ta:e,taranto:e,te:e,"tempio-olbia":e,tempioolbia:e,teramo:e,terni:e,tn:e,to:e,torino:e,tp:e,tr:e,"trani-andria-barletta":e,"trani-barletta-andria":e,traniandriabarletta:e,tranibarlettaandria:e,trapani:e,trento:e,treviso:e,trieste:e,ts:e,turin:e,tv:e,ud:e,udine:e,"urbino-pesaro":e,urbinopesaro:e,va:e,varese:e,vb:e,vc:e,ve:e,venezia:e,venice:e,verbania:e,vercelli:e,verona:e,vi:e,"vibo-valentia":e,vibovalentia:e,vicenza:e,viterbo:e,vr:e,vs:e,vt:e,vv:e,blogspot:t,ibxos:t,iliadboxos:t,neen:[0,{jc:t}],tim:[0,{open:[0,{jelastic:a}]}],"16-b":t,"32-b":t,"64-b":t,"123homepage":t,myspreadshop:t,syncloud:t}],je:[1,{co:e,net:e,org:e,of:t}],jm:s,jo:[1,{com:e,org:e,net:e,edu:e,sch:e,gov:e,mil:e,name:e}],jobs:e,jp:[1,{ac:e,ad:e,co:e,ed:e,go:e,gr:e,lg:e,ne:[1,{aseinet:X,gehirn:t,ivory:t,"mail-box":t,mints:t,mokuren:t,opal:t,sakura:t,sumomo:t,topaz:t}],or:e,aichi:[1,{aisai:e,ama:e,anjo:e,asuke:e,chiryu:e,chita:e,fuso:e,gamagori:e,handa:e,hazu:e,hekinan:e,higashiura:e,ichinomiya:e,inazawa:e,inuyama:e,isshiki:e,iwakura:e,kanie:e,kariya:e,kasugai:e,kira:e,kiyosu:e,komaki:e,konan:e,kota:e,mihama:e,miyoshi:e,nishio:e,nisshin:e,obu:e,oguchi:e,oharu:e,okazaki:e,owariasahi:e,seto:e,shikatsu:e,shinshiro:e,shitara:e,tahara:e,takahama:e,tobishima:e,toei:e,togo:e,tokai:e,tokoname:e,toyoake:e,toyohashi:e,toyokawa:e,toyone:e,toyota:e,tsushima:e,yatomi:e}],akita:[1,{akita:e,daisen:e,fujisato:e,gojome:e,hachirogata:e,happou:e,higashinaruse:e,honjo:e,honjyo:e,ikawa:e,kamikoani:e,kamioka:e,katagami:e,kazuno:e,kitaakita:e,kosaka:e,kyowa:e,misato:e,mitane:e,moriyoshi:e,nikaho:e,noshiro:e,odate:e,oga:e,ogata:e,semboku:e,yokote:e,yurihonjo:e}],aomori:[1,{aomori:e,gonohe:e,hachinohe:e,hashikami:e,hiranai:e,hirosaki:e,itayanagi:e,kuroishi:e,misawa:e,mutsu:e,nakadomari:e,noheji:e,oirase:e,owani:e,rokunohe:e,sannohe:e,shichinohe:e,shingo:e,takko:e,towada:e,tsugaru:e,tsuruta:e}],chiba:[1,{abiko:e,asahi:e,chonan:e,chosei:e,choshi:e,chuo:e,funabashi:e,futtsu:e,hanamigawa:e,ichihara:e,ichikawa:e,ichinomiya:e,inzai:e,isumi:e,kamagaya:e,kamogawa:e,kashiwa:e,katori:e,katsuura:e,kimitsu:e,kisarazu:e,kozaki:e,kujukuri:e,kyonan:e,matsudo:e,midori:e,mihama:e,minamiboso:e,mobara:e,mutsuzawa:e,nagara:e,nagareyama:e,narashino:e,narita:e,noda:e,oamishirasato:e,omigawa:e,onjuku:e,otaki:e,sakae:e,sakura:e,shimofusa:e,shirako:e,shiroi:e,shisui:e,sodegaura:e,sosa:e,tako:e,tateyama:e,togane:e,tohnosho:e,tomisato:e,urayasu:e,yachimata:e,yachiyo:e,yokaichiba:e,yokoshibahikari:e,yotsukaido:e}],ehime:[1,{ainan:e,honai:e,ikata:e,imabari:e,iyo:e,kamijima:e,kihoku:e,kumakogen:e,masaki:e,matsuno:e,matsuyama:e,namikata:e,niihama:e,ozu:e,saijo:e,seiyo:e,shikokuchuo:e,tobe:e,toon:e,uchiko:e,uwajima:e,yawatahama:e}],fukui:[1,{echizen:e,eiheiji:e,fukui:e,ikeda:e,katsuyama:e,mihama:e,minamiechizen:e,obama:e,ohi:e,ono:e,sabae:e,sakai:e,takahama:e,tsuruga:e,wakasa:e}],fukuoka:[1,{ashiya:e,buzen:e,chikugo:e,chikuho:e,chikujo:e,chikushino:e,chikuzen:e,chuo:e,dazaifu:e,fukuchi:e,hakata:e,higashi:e,hirokawa:e,hisayama:e,iizuka:e,inatsuki:e,kaho:e,kasuga:e,kasuya:e,kawara:e,keisen:e,koga:e,kurate:e,kurogi:e,kurume:e,minami:e,miyako:e,miyama:e,miyawaka:e,mizumaki:e,munakata:e,nakagawa:e,nakama:e,nishi:e,nogata:e,ogori:e,okagaki:e,okawa:e,oki:e,omuta:e,onga:e,onojo:e,oto:e,saigawa:e,sasaguri:e,shingu:e,shinyoshitomi:e,shonai:e,soeda:e,sue:e,tachiarai:e,tagawa:e,takata:e,toho:e,toyotsu:e,tsuiki:e,ukiha:e,umi:e,usui:e,yamada:e,yame:e,yanagawa:e,yukuhashi:e}],fukushima:[1,{aizubange:e,aizumisato:e,aizuwakamatsu:e,asakawa:e,bandai:e,date:e,fukushima:e,furudono:e,futaba:e,hanawa:e,higashi:e,hirata:e,hirono:e,iitate:e,inawashiro:e,ishikawa:e,iwaki:e,izumizaki:e,kagamiishi:e,kaneyama:e,kawamata:e,kitakata:e,kitashiobara:e,koori:e,koriyama:e,kunimi:e,miharu:e,mishima:e,namie:e,nango:e,nishiaizu:e,nishigo:e,okuma:e,omotego:e,ono:e,otama:e,samegawa:e,shimogo:e,shirakawa:e,showa:e,soma:e,sukagawa:e,taishin:e,tamakawa:e,tanagura:e,tenei:e,yabuki:e,yamato:e,yamatsuri:e,yanaizu:e,yugawa:e}],gifu:[1,{anpachi:e,ena:e,gifu:e,ginan:e,godo:e,gujo:e,hashima:e,hichiso:e,hida:e,higashishirakawa:e,ibigawa:e,ikeda:e,kakamigahara:e,kani:e,kasahara:e,kasamatsu:e,kawaue:e,kitagata:e,mino:e,minokamo:e,mitake:e,mizunami:e,motosu:e,nakatsugawa:e,ogaki:e,sakahogi:e,seki:e,sekigahara:e,shirakawa:e,tajimi:e,takayama:e,tarui:e,toki:e,tomika:e,wanouchi:e,yamagata:e,yaotsu:e,yoro:e}],gunma:[1,{annaka:e,chiyoda:e,fujioka:e,higashiagatsuma:e,isesaki:e,itakura:e,kanna:e,kanra:e,katashina:e,kawaba:e,kiryu:e,kusatsu:e,maebashi:e,meiwa:e,midori:e,minakami:e,naganohara:e,nakanojo:e,nanmoku:e,numata:e,oizumi:e,ora:e,ota:e,shibukawa:e,shimonita:e,shinto:e,showa:e,takasaki:e,takayama:e,tamamura:e,tatebayashi:e,tomioka:e,tsukiyono:e,tsumagoi:e,ueno:e,yoshioka:e}],hiroshima:[1,{asaminami:e,daiwa:e,etajima:e,fuchu:e,fukuyama:e,hatsukaichi:e,higashihiroshima:e,hongo:e,jinsekikogen:e,kaita:e,kui:e,kumano:e,kure:e,mihara:e,miyoshi:e,naka:e,onomichi:e,osakikamijima:e,otake:e,saka:e,sera:e,seranishi:e,shinichi:e,shobara:e,takehara:e}],hokkaido:[1,{abashiri:e,abira:e,aibetsu:e,akabira:e,akkeshi:e,asahikawa:e,ashibetsu:e,ashoro:e,assabu:e,atsuma:e,bibai:e,biei:e,bifuka:e,bihoro:e,biratori:e,chippubetsu:e,chitose:e,date:e,ebetsu:e,embetsu:e,eniwa:e,erimo:e,esan:e,esashi:e,fukagawa:e,fukushima:e,furano:e,furubira:e,haboro:e,hakodate:e,hamatonbetsu:e,hidaka:e,higashikagura:e,higashikawa:e,hiroo:e,hokuryu:e,hokuto:e,honbetsu:e,horokanai:e,horonobe:e,ikeda:e,imakane:e,ishikari:e,iwamizawa:e,iwanai:e,kamifurano:e,kamikawa:e,kamishihoro:e,kamisunagawa:e,kamoenai:e,kayabe:e,kembuchi:e,kikonai:e,kimobetsu:e,kitahiroshima:e,kitami:e,kiyosato:e,koshimizu:e,kunneppu:e,kuriyama:e,kuromatsunai:e,kushiro:e,kutchan:e,kyowa:e,mashike:e,matsumae:e,mikasa:e,minamifurano:e,mombetsu:e,moseushi:e,mukawa:e,muroran:e,naie:e,nakagawa:e,nakasatsunai:e,nakatombetsu:e,nanae:e,nanporo:e,nayoro:e,nemuro:e,niikappu:e,niki:e,nishiokoppe:e,noboribetsu:e,numata:e,obihiro:e,obira:e,oketo:e,okoppe:e,otaru:e,otobe:e,otofuke:e,otoineppu:e,oumu:e,ozora:e,pippu:e,rankoshi:e,rebun:e,rikubetsu:e,rishiri:e,rishirifuji:e,saroma:e,sarufutsu:e,shakotan:e,shari:e,shibecha:e,shibetsu:e,shikabe:e,shikaoi:e,shimamaki:e,shimizu:e,shimokawa:e,shinshinotsu:e,shintoku:e,shiranuka:e,shiraoi:e,shiriuchi:e,sobetsu:e,sunagawa:e,taiki:e,takasu:e,takikawa:e,takinoue:e,teshikaga:e,tobetsu:e,tohma:e,tomakomai:e,tomari:e,toya:e,toyako:e,toyotomi:e,toyoura:e,tsubetsu:e,tsukigata:e,urakawa:e,urausu:e,uryu:e,utashinai:e,wakkanai:e,wassamu:e,yakumo:e,yoichi:e}],hyogo:[1,{aioi:e,akashi:e,ako:e,amagasaki:e,aogaki:e,asago:e,ashiya:e,awaji:e,fukusaki:e,goshiki:e,harima:e,himeji:e,ichikawa:e,inagawa:e,itami:e,kakogawa:e,kamigori:e,kamikawa:e,kasai:e,kasuga:e,kawanishi:e,miki:e,minamiawaji:e,nishinomiya:e,nishiwaki:e,ono:e,sanda:e,sannan:e,sasayama:e,sayo:e,shingu:e,shinonsen:e,shiso:e,sumoto:e,taishi:e,taka:e,takarazuka:e,takasago:e,takino:e,tamba:e,tatsuno:e,toyooka:e,yabu:e,yashiro:e,yoka:e,yokawa:e}],ibaraki:[1,{ami:e,asahi:e,bando:e,chikusei:e,daigo:e,fujishiro:e,hitachi:e,hitachinaka:e,hitachiomiya:e,hitachiota:e,ibaraki:e,ina:e,inashiki:e,itako:e,iwama:e,joso:e,kamisu:e,kasama:e,kashima:e,kasumigaura:e,koga:e,miho:e,mito:e,moriya:e,naka:e,namegata:e,oarai:e,ogawa:e,omitama:e,ryugasaki:e,sakai:e,sakuragawa:e,shimodate:e,shimotsuma:e,shirosato:e,sowa:e,suifu:e,takahagi:e,tamatsukuri:e,tokai:e,tomobe:e,tone:e,toride:e,tsuchiura:e,tsukuba:e,uchihara:e,ushiku:e,yachiyo:e,yamagata:e,yawara:e,yuki:e}],ishikawa:[1,{anamizu:e,hakui:e,hakusan:e,kaga:e,kahoku:e,kanazawa:e,kawakita:e,komatsu:e,nakanoto:e,nanao:e,nomi:e,nonoichi:e,noto:e,shika:e,suzu:e,tsubata:e,tsurugi:e,uchinada:e,wajima:e}],iwate:[1,{fudai:e,fujisawa:e,hanamaki:e,hiraizumi:e,hirono:e,ichinohe:e,ichinoseki:e,iwaizumi:e,iwate:e,joboji:e,kamaishi:e,kanegasaki:e,karumai:e,kawai:e,kitakami:e,kuji:e,kunohe:e,kuzumaki:e,miyako:e,mizusawa:e,morioka:e,ninohe:e,noda:e,ofunato:e,oshu:e,otsuchi:e,rikuzentakata:e,shiwa:e,shizukuishi:e,sumita:e,tanohata:e,tono:e,yahaba:e,yamada:e}],kagawa:[1,{ayagawa:e,higashikagawa:e,kanonji:e,kotohira:e,manno:e,marugame:e,mitoyo:e,naoshima:e,sanuki:e,tadotsu:e,takamatsu:e,tonosho:e,uchinomi:e,utazu:e,zentsuji:e}],kagoshima:[1,{akune:e,amami:e,hioki:e,isa:e,isen:e,izumi:e,kagoshima:e,kanoya:e,kawanabe:e,kinko:e,kouyama:e,makurazaki:e,matsumoto:e,minamitane:e,nakatane:e,nishinoomote:e,satsumasendai:e,soo:e,tarumizu:e,yusui:e}],kanagawa:[1,{aikawa:e,atsugi:e,ayase:e,chigasaki:e,ebina:e,fujisawa:e,hadano:e,hakone:e,hiratsuka:e,isehara:e,kaisei:e,kamakura:e,kiyokawa:e,matsuda:e,minamiashigara:e,miura:e,nakai:e,ninomiya:e,odawara:e,oi:e,oiso:e,sagamihara:e,samukawa:e,tsukui:e,yamakita:e,yamato:e,yokosuka:e,yugawara:e,zama:e,zushi:e}],kochi:[1,{aki:e,geisei:e,hidaka:e,higashitsuno:e,ino:e,kagami:e,kami:e,kitagawa:e,kochi:e,mihara:e,motoyama:e,muroto:e,nahari:e,nakamura:e,nankoku:e,nishitosa:e,niyodogawa:e,ochi:e,okawa:e,otoyo:e,otsuki:e,sakawa:e,sukumo:e,susaki:e,tosa:e,tosashimizu:e,toyo:e,tsuno:e,umaji:e,yasuda:e,yusuhara:e}],kumamoto:[1,{amakusa:e,arao:e,aso:e,choyo:e,gyokuto:e,kamiamakusa:e,kikuchi:e,kumamoto:e,mashiki:e,mifune:e,minamata:e,minamioguni:e,nagasu:e,nishihara:e,oguni:e,ozu:e,sumoto:e,takamori:e,uki:e,uto:e,yamaga:e,yamato:e,yatsushiro:e}],kyoto:[1,{ayabe:e,fukuchiyama:e,higashiyama:e,ide:e,ine:e,joyo:e,kameoka:e,kamo:e,kita:e,kizu:e,kumiyama:e,kyotamba:e,kyotanabe:e,kyotango:e,maizuru:e,minami:e,minamiyamashiro:e,miyazu:e,muko:e,nagaokakyo:e,nakagyo:e,nantan:e,oyamazaki:e,sakyo:e,seika:e,tanabe:e,uji:e,ujitawara:e,wazuka:e,yamashina:e,yawata:e}],mie:[1,{asahi:e,inabe:e,ise:e,kameyama:e,kawagoe:e,kiho:e,kisosaki:e,kiwa:e,komono:e,kumano:e,kuwana:e,matsusaka:e,meiwa:e,mihama:e,minamiise:e,misugi:e,miyama:e,nabari:e,shima:e,suzuka:e,tado:e,taiki:e,taki:e,tamaki:e,toba:e,tsu:e,udono:e,ureshino:e,watarai:e,yokkaichi:e}],miyagi:[1,{furukawa:e,higashimatsushima:e,ishinomaki:e,iwanuma:e,kakuda:e,kami:e,kawasaki:e,marumori:e,matsushima:e,minamisanriku:e,misato:e,murata:e,natori:e,ogawara:e,ohira:e,onagawa:e,osaki:e,rifu:e,semine:e,shibata:e,shichikashuku:e,shikama:e,shiogama:e,shiroishi:e,tagajo:e,taiwa:e,tome:e,tomiya:e,wakuya:e,watari:e,yamamoto:e,zao:e}],miyazaki:[1,{aya:e,ebino:e,gokase:e,hyuga:e,kadogawa:e,kawaminami:e,kijo:e,kitagawa:e,kitakata:e,kitaura:e,kobayashi:e,kunitomi:e,kushima:e,mimata:e,miyakonojo:e,miyazaki:e,morotsuka:e,nichinan:e,nishimera:e,nobeoka:e,saito:e,shiiba:e,shintomi:e,takaharu:e,takanabe:e,takazaki:e,tsuno:e}],nagano:[1,{achi:e,agematsu:e,anan:e,aoki:e,asahi:e,azumino:e,chikuhoku:e,chikuma:e,chino:e,fujimi:e,hakuba:e,hara:e,hiraya:e,iida:e,iijima:e,iiyama:e,iizuna:e,ikeda:e,ikusaka:e,ina:e,karuizawa:e,kawakami:e,kiso:e,kisofukushima:e,kitaaiki:e,komagane:e,komoro:e,matsukawa:e,matsumoto:e,miasa:e,minamiaiki:e,minamimaki:e,minamiminowa:e,minowa:e,miyada:e,miyota:e,mochizuki:e,nagano:e,nagawa:e,nagiso:e,nakagawa:e,nakano:e,nozawaonsen:e,obuse:e,ogawa:e,okaya:e,omachi:e,omi:e,ookuwa:e,ooshika:e,otaki:e,otari:e,sakae:e,sakaki:e,saku:e,sakuho:e,shimosuwa:e,shinanomachi:e,shiojiri:e,suwa:e,suzaka:e,takagi:e,takamori:e,takayama:e,tateshina:e,tatsuno:e,togakushi:e,togura:e,tomi:e,ueda:e,wada:e,yamagata:e,yamanouchi:e,yasaka:e,yasuoka:e}],nagasaki:[1,{chijiwa:e,futsu:e,goto:e,hasami:e,hirado:e,iki:e,isahaya:e,kawatana:e,kuchinotsu:e,matsuura:e,nagasaki:e,obama:e,omura:e,oseto:e,saikai:e,sasebo:e,seihi:e,shimabara:e,shinkamigoto:e,togitsu:e,tsushima:e,unzen:e}],nara:[1,{ando:e,gose:e,heguri:e,higashiyoshino:e,ikaruga:e,ikoma:e,kamikitayama:e,kanmaki:e,kashiba:e,kashihara:e,katsuragi:e,kawai:e,kawakami:e,kawanishi:e,koryo:e,kurotaki:e,mitsue:e,miyake:e,nara:e,nosegawa:e,oji:e,ouda:e,oyodo:e,sakurai:e,sango:e,shimoichi:e,shimokitayama:e,shinjo:e,soni:e,takatori:e,tawaramoto:e,tenkawa:e,tenri:e,uda:e,yamatokoriyama:e,yamatotakada:e,yamazoe:e,yoshino:e}],niigata:[1,{aga:e,agano:e,gosen:e,itoigawa:e,izumozaki:e,joetsu:e,kamo:e,kariwa:e,kashiwazaki:e,minamiuonuma:e,mitsuke:e,muika:e,murakami:e,myoko:e,nagaoka:e,niigata:e,ojiya:e,omi:e,sado:e,sanjo:e,seiro:e,seirou:e,sekikawa:e,shibata:e,tagami:e,tainai:e,tochio:e,tokamachi:e,tsubame:e,tsunan:e,uonuma:e,yahiko:e,yoita:e,yuzawa:e}],oita:[1,{beppu:e,bungoono:e,bungotakada:e,hasama:e,hiji:e,himeshima:e,hita:e,kamitsue:e,kokonoe:e,kuju:e,kunisaki:e,kusu:e,oita:e,saiki:e,taketa:e,tsukumi:e,usa:e,usuki:e,yufu:e}],okayama:[1,{akaiwa:e,asakuchi:e,bizen:e,hayashima:e,ibara:e,kagamino:e,kasaoka:e,kibichuo:e,kumenan:e,kurashiki:e,maniwa:e,misaki:e,nagi:e,niimi:e,nishiawakura:e,okayama:e,satosho:e,setouchi:e,shinjo:e,shoo:e,soja:e,takahashi:e,tamano:e,tsuyama:e,wake:e,yakage:e}],okinawa:[1,{aguni:e,ginowan:e,ginoza:e,gushikami:e,haebaru:e,higashi:e,hirara:e,iheya:e,ishigaki:e,ishikawa:e,itoman:e,izena:e,kadena:e,kin:e,kitadaito:e,kitanakagusuku:e,kumejima:e,kunigami:e,minamidaito:e,motobu:e,nago:e,naha:e,nakagusuku:e,nakijin:e,nanjo:e,nishihara:e,ogimi:e,okinawa:e,onna:e,shimoji:e,taketomi:e,tarama:e,tokashiki:e,tomigusuku:e,tonaki:e,urasoe:e,uruma:e,yaese:e,yomitan:e,yonabaru:e,yonaguni:e,zamami:e}],osaka:[1,{abeno:e,chihayaakasaka:e,chuo:e,daito:e,fujiidera:e,habikino:e,hannan:e,higashiosaka:e,higashisumiyoshi:e,higashiyodogawa:e,hirakata:e,ibaraki:e,ikeda:e,izumi:e,izumiotsu:e,izumisano:e,kadoma:e,kaizuka:e,kanan:e,kashiwara:e,katano:e,kawachinagano:e,kishiwada:e,kita:e,kumatori:e,matsubara:e,minato:e,minoh:e,misaki:e,moriguchi:e,neyagawa:e,nishi:e,nose:e,osakasayama:e,sakai:e,sayama:e,sennan:e,settsu:e,shijonawate:e,shimamoto:e,suita:e,tadaoka:e,taishi:e,tajiri:e,takaishi:e,takatsuki:e,tondabayashi:e,toyonaka:e,toyono:e,yao:e}],saga:[1,{ariake:e,arita:e,fukudomi:e,genkai:e,hamatama:e,hizen:e,imari:e,kamimine:e,kanzaki:e,karatsu:e,kashima:e,kitagata:e,kitahata:e,kiyama:e,kouhoku:e,kyuragi:e,nishiarita:e,ogi:e,omachi:e,ouchi:e,saga:e,shiroishi:e,taku:e,tara:e,tosu:e,yoshinogari:e}],saitama:[1,{arakawa:e,asaka:e,chichibu:e,fujimi:e,fujimino:e,fukaya:e,hanno:e,hanyu:e,hasuda:e,hatogaya:e,hatoyama:e,hidaka:e,higashichichibu:e,higashimatsuyama:e,honjo:e,ina:e,iruma:e,iwatsuki:e,kamiizumi:e,kamikawa:e,kamisato:e,kasukabe:e,kawagoe:e,kawaguchi:e,kawajima:e,kazo:e,kitamoto:e,koshigaya:e,kounosu:e,kuki:e,kumagaya:e,matsubushi:e,minano:e,misato:e,miyashiro:e,miyoshi:e,moroyama:e,nagatoro:e,namegawa:e,niiza:e,ogano:e,ogawa:e,ogose:e,okegawa:e,omiya:e,otaki:e,ranzan:e,ryokami:e,saitama:e,sakado:e,satte:e,sayama:e,shiki:e,shiraoka:e,soka:e,sugito:e,toda:e,tokigawa:e,tokorozawa:e,tsurugashima:e,urawa:e,warabi:e,yashio:e,yokoze:e,yono:e,yorii:e,yoshida:e,yoshikawa:e,yoshimi:e}],shiga:[1,{aisho:e,gamo:e,higashiomi:e,hikone:e,koka:e,konan:e,kosei:e,koto:e,kusatsu:e,maibara:e,moriyama:e,nagahama:e,nishiazai:e,notogawa:e,omihachiman:e,otsu:e,ritto:e,ryuoh:e,takashima:e,takatsuki:e,torahime:e,toyosato:e,yasu:e}],shimane:[1,{akagi:e,ama:e,gotsu:e,hamada:e,higashiizumo:e,hikawa:e,hikimi:e,izumo:e,kakinoki:e,masuda:e,matsue:e,misato:e,nishinoshima:e,ohda:e,okinoshima:e,okuizumo:e,shimane:e,tamayu:e,tsuwano:e,unnan:e,yakumo:e,yasugi:e,yatsuka:e}],shizuoka:[1,{arai:e,atami:e,fuji:e,fujieda:e,fujikawa:e,fujinomiya:e,fukuroi:e,gotemba:e,haibara:e,hamamatsu:e,higashiizu:e,ito:e,iwata:e,izu:e,izunokuni:e,kakegawa:e,kannami:e,kawanehon:e,kawazu:e,kikugawa:e,kosai:e,makinohara:e,matsuzaki:e,minamiizu:e,mishima:e,morimachi:e,nishiizu:e,numazu:e,omaezaki:e,shimada:e,shimizu:e,shimoda:e,shizuoka:e,susono:e,yaizu:e,yoshida:e}],tochigi:[1,{ashikaga:e,bato:e,haga:e,ichikai:e,iwafune:e,kaminokawa:e,kanuma:e,karasuyama:e,kuroiso:e,mashiko:e,mibu:e,moka:e,motegi:e,nasu:e,nasushiobara:e,nikko:e,nishikata:e,nogi:e,ohira:e,ohtawara:e,oyama:e,sakura:e,sano:e,shimotsuke:e,shioya:e,takanezawa:e,tochigi:e,tsuga:e,ujiie:e,utsunomiya:e,yaita:e}],tokushima:[1,{aizumi:e,anan:e,ichiba:e,itano:e,kainan:e,komatsushima:e,matsushige:e,mima:e,minami:e,miyoshi:e,mugi:e,nakagawa:e,naruto:e,sanagochi:e,shishikui:e,tokushima:e,wajiki:e}],tokyo:[1,{adachi:e,akiruno:e,akishima:e,aogashima:e,arakawa:e,bunkyo:e,chiyoda:e,chofu:e,chuo:e,edogawa:e,fuchu:e,fussa:e,hachijo:e,hachioji:e,hamura:e,higashikurume:e,higashimurayama:e,higashiyamato:e,hino:e,hinode:e,hinohara:e,inagi:e,itabashi:e,katsushika:e,kita:e,kiyose:e,kodaira:e,koganei:e,kokubunji:e,komae:e,koto:e,kouzushima:e,kunitachi:e,machida:e,meguro:e,minato:e,mitaka:e,mizuho:e,musashimurayama:e,musashino:e,nakano:e,nerima:e,ogasawara:e,okutama:e,ome:e,oshima:e,ota:e,setagaya:e,shibuya:e,shinagawa:e,shinjuku:e,suginami:e,sumida:e,tachikawa:e,taito:e,tama:e,toshima:e}],tottori:[1,{chizu:e,hino:e,kawahara:e,koge:e,kotoura:e,misasa:e,nanbu:e,nichinan:e,sakaiminato:e,tottori:e,wakasa:e,yazu:e,yonago:e}],toyama:[1,{asahi:e,fuchu:e,fukumitsu:e,funahashi:e,himi:e,imizu:e,inami:e,johana:e,kamiichi:e,kurobe:e,nakaniikawa:e,namerikawa:e,nanto:e,nyuzen:e,oyabe:e,taira:e,takaoka:e,tateyama:e,toga:e,tonami:e,toyama:e,unazuki:e,uozu:e,yamada:e}],wakayama:[1,{arida:e,aridagawa:e,gobo:e,hashimoto:e,hidaka:e,hirogawa:e,inami:e,iwade:e,kainan:e,kamitonda:e,katsuragi:e,kimino:e,kinokawa:e,kitayama:e,koya:e,koza:e,kozagawa:e,kudoyama:e,kushimoto:e,mihama:e,misato:e,nachikatsuura:e,shingu:e,shirahama:e,taiji:e,tanabe:e,wakayama:e,yuasa:e,yura:e}],yamagata:[1,{asahi:e,funagata:e,higashine:e,iide:e,kahoku:e,kaminoyama:e,kaneyama:e,kawanishi:e,mamurogawa:e,mikawa:e,murayama:e,nagai:e,nakayama:e,nanyo:e,nishikawa:e,obanazawa:e,oe:e,oguni:e,ohkura:e,oishida:e,sagae:e,sakata:e,sakegawa:e,shinjo:e,shirataka:e,shonai:e,takahata:e,tendo:e,tozawa:e,tsuruoka:e,yamagata:e,yamanobe:e,yonezawa:e,yuza:e}],yamaguchi:[1,{abu:e,hagi:e,hikari:e,hofu:e,iwakuni:e,kudamatsu:e,mitou:e,nagato:e,oshima:e,shimonoseki:e,shunan:e,tabuse:e,tokuyama:e,toyota:e,ube:e,yuu:e}],yamanashi:[1,{chuo:e,doshi:e,fuefuki:e,fujikawa:e,fujikawaguchiko:e,fujiyoshida:e,hayakawa:e,hokuto:e,ichikawamisato:e,kai:e,kofu:e,koshu:e,kosuge:e,"minami-alps":e,minobu:e,nakamichi:e,nanbu:e,narusawa:e,nirasaki:e,nishikatsura:e,oshino:e,otsuki:e,showa:e,tabayama:e,tsuru:e,uenohara:e,yamanakako:e,yamanashi:e}],"xn--4pvxs":e,栃木:e,"xn--vgu402c":e,愛知:e,"xn--c3s14m":e,愛媛:e,"xn--f6qx53a":e,兵庫:e,"xn--8pvr4u":e,熊本:e,"xn--uist22h":e,茨城:e,"xn--djrs72d6uy":e,北海道:e,"xn--mkru45i":e,千葉:e,"xn--0trq7p7nn":e,和歌山:e,"xn--8ltr62k":e,長崎:e,"xn--2m4a15e":e,長野:e,"xn--efvn9s":e,新潟:e,"xn--32vp30h":e,青森:e,"xn--4it797k":e,静岡:e,"xn--1lqs71d":e,東京:e,"xn--5rtp49c":e,石川:e,"xn--5js045d":e,埼玉:e,"xn--ehqz56n":e,三重:e,"xn--1lqs03n":e,京都:e,"xn--qqqt11m":e,佐賀:e,"xn--kbrq7o":e,大分:e,"xn--pssu33l":e,大阪:e,"xn--ntsq17g":e,奈良:e,"xn--uisz3g":e,宮城:e,"xn--6btw5a":e,宮崎:e,"xn--1ctwo":e,富山:e,"xn--6orx2r":e,山口:e,"xn--rht61e":e,山形:e,"xn--rht27z":e,山梨:e,"xn--djty4k":e,岩手:e,"xn--nit225k":e,岐阜:e,"xn--rht3d":e,岡山:e,"xn--klty5x":e,島根:e,"xn--kltx9a":e,広島:e,"xn--kltp7d":e,徳島:e,"xn--uuwu58a":e,沖縄:e,"xn--zbx025d":e,滋賀:e,"xn--ntso0iqx3a":e,神奈川:e,"xn--elqq16h":e,福井:e,"xn--4it168d":e,福岡:e,"xn--klt787d":e,福島:e,"xn--rny31h":e,秋田:e,"xn--7t0a264c":e,群馬:e,"xn--5rtq34k":e,香川:e,"xn--k7yn95e":e,高知:e,"xn--tor131o":e,鳥取:e,"xn--d5qv7z876c":e,鹿児島:e,kawasaki:s,kitakyushu:s,kobe:s,nagoya:s,sapporo:s,sendai:s,yokohama:s,buyshop:t,fashionstore:t,handcrafted:t,kawaiishop:t,supersale:t,theshop:t,usercontent:t,angry:t,babyblue:t,babymilk:t,backdrop:t,bambina:t,bitter:t,blush:t,boo:t,boy:t,boyfriend:t,but:t,candypop:t,capoo:t,catfood:t,cheap:t,chicappa:t,chillout:t,chips:t,chowder:t,chu:t,ciao:t,cocotte:t,coolblog:t,cranky:t,cutegirl:t,daa:t,deca:t,deci:t,digick:t,egoism:t,fakefur:t,fem:t,flier:t,floppy:t,fool:t,frenchkiss:t,girlfriend:t,girly:t,gloomy:t,gonna:t,greater:t,hacca:t,heavy:t,her:t,hiho:t,hippy:t,holy:t,hungry:t,icurus:t,itigo:t,jellybean:t,kikirara:t,kill:t,kilo:t,kuron:t,littlestar:t,lolipopmc:t,lolitapunk:t,lomo:t,lovepop:t,lovesick:t,main:t,mods:t,mond:t,mongolian:t,moo:t,namaste:t,nikita:t,nobushi:t,noor:t,oops:t,parallel:t,parasite:t,pecori:t,peewee:t,penne:t,pepper:t,perma:t,pigboat:t,pinoko:t,punyu:t,pupu:t,pussycat:t,pya:t,raindrop:t,readymade:t,sadist:t,schoolbus:t,secret:t,staba:t,stripper:t,sub:t,sunnyday:t,thick:t,tonkotsu:t,under:t,upper:t,velvet:t,verse:t,versus:t,vivian:t,watson:t,weblike:t,whitesnow:t,zombie:t,blogspot:t,"2-d":t,bona:t,crap:t,daynight:t,eek:t,flop:t,halfmoon:t,jeez:t,matrix:t,mimoza:t,netgamers:t,nyanta:t,o0o0:t,rdy:t,rgr:t,rulez:t,sakurastorage:[0,{isk01:d,isk02:d}],saloon:t,sblo:t,skr:t,tank:t,"uh-oh":t,undo:t,webaccel:[0,{rs:t,user:t}],websozai:t,xii:t}],ke:[1,{ac:e,co:i,go:e,info:e,me:e,mobi:e,ne:e,or:e,sc:e}],kg:[1,{org:e,net:e,com:e,edu:e,gov:e,mil:e,blog:t,io:t,jp:t,tv:t,uk:t,us:t}],kh:s,ki:N,km:[1,{org:e,nom:e,gov:e,prd:e,tm:e,edu:e,mil:e,ass:e,com:e,coop:e,asso:e,presse:e,medecin:e,notaires:e,pharmaciens:e,veterinaire:e,gouv:e}],kn:[1,{net:e,org:e,edu:e,gov:e}],kp:[1,{com:e,edu:e,gov:e,org:e,rep:e,tra:e}],kr:[1,{ac:e,co:e,es:e,go:e,hs:e,kg:e,mil:e,ms:e,ne:e,or:e,pe:e,re:e,sc:e,busan:e,chungbuk:e,chungnam:e,daegu:e,daejeon:e,gangwon:e,gwangju:e,gyeongbuk:e,gyeonggi:e,gyeongnam:e,incheon:e,jeju:e,jeonbuk:e,jeonnam:e,seoul:e,ulsan:e,blogspot:t}],kw:[1,{com:e,edu:e,emb:e,gov:e,ind:e,net:e,org:e}],ky:D,kz:[1,{org:e,edu:e,net:e,gov:e,mil:e,com:e,jcloud:t,kazteleport:[0,{upaas:t}]}],la:[1,{int:e,net:e,info:e,edu:e,gov:e,per:e,com:e,org:e,bnr:t,c:t}],lb:n,lc:[1,{com:e,net:e,co:e,org:e,edu:e,gov:e,oy:t}],li:[1,{blogspot:t,caa:t}],lk:[1,{gov:e,sch:e,net:e,int:e,com:e,org:e,edu:e,ngo:e,soc:e,web:e,ltd:e,assn:e,grp:e,hotel:e,ac:e}],lr:n,ls:[1,{ac:e,biz:e,co:e,edu:e,gov:e,info:e,net:e,org:e,sc:e,de:t}],lt:$,lu:[1,{blogspot:t,"123website":t}],lv:[1,{com:e,edu:e,gov:e,org:e,mil:e,id:e,net:e,asn:e,conf:e}],ly:[1,{com:e,net:e,gov:e,plc:e,edu:e,sch:e,med:e,org:e,id:e}],ma:[1,{co:e,net:e,gov:e,org:e,ac:e,press:e}],mc:[1,{tm:e,asso:e}],md:[1,{blogspot:t,at:t,de:t,jp:t,to:t}],me:[1,{co:e,net:e,org:e,edu:e,ac:e,gov:e,its:e,priv:e,c66:t,daplie:[2,{localhost:t}],edgestack:t,filegear:t,"filegear-au":t,"filegear-de":t,"filegear-gb":t,"filegear-ie":t,"filegear-jp":t,"filegear-sg":t,glitch:t,ravendb:t,lohmus:t,barsy:t,mcpe:t,mcdir:t,soundcast:t,tcp4:t,brasilia:t,ddns:t,dnsfor:t,hopto:t,loginto:t,noip:t,webhop:t,vp4:t,diskstation:t,dscloud:t,i234:t,myds:t,synology:t,transip:S,wedeploy:t,yombo:t,nohost:t}],mg:[1,{org:e,nom:e,gov:e,prd:e,tm:e,edu:e,mil:e,com:e,co:e}],mh:e,mil:e,mk:[1,{com:e,org:e,net:e,edu:e,gov:e,inf:e,name:e,blogspot:t}],ml:[1,{com:e,edu:e,gouv:e,gov:e,net:e,org:e,presse:e}],mm:s,mn:[1,{gov:e,edu:e,org:e,nyc:t}],mo:n,mobi:[1,{barsy:t,dscloud:t}],mp:[1,{ju:t}],mq:e,mr:$,ms:[1,{com:e,edu:e,gov:e,net:e,org:e,lab:t,minisite:t}],mt:[1,{com:i,edu:e,net:e,org:e}],mu:[1,{com:e,net:e,org:e,gov:e,ac:e,co:e,or:e}],museum:e,mv:[1,{aero:e,biz:e,com:e,coop:e,edu:e,gov:e,info:e,int:e,mil:e,museum:e,name:e,net:e,org:e,pro:e}],mw:[1,{ac:e,biz:e,co:e,com:e,coop:e,edu:e,gov:e,int:e,museum:e,net:e,org:e}],mx:[1,{com:e,org:e,gob:e,edu:e,net:e,blogspot:t}],my:[1,{biz:e,com:e,edu:e,gov:e,mil:e,name:e,net:e,org:e,blogspot:t}],mz:[1,{ac:e,adv:e,co:e,edu:e,gov:e,mil:e,net:e,org:e}],na:[1,{info:e,pro:e,name:e,school:e,or:e,dr:e,us:e,mx:e,ca:e,in:e,cc:e,tv:e,ws:e,mobi:e,co:e,com:e,org:e}],name:[1,{her:q,his:q}],nc:[1,{asso:e,nom:e}],ne:e,net:[1,{adobeaemcloud:t,"adobeio-static":t,adobeioruntime:t,akadns:t,akamai:t,"akamai-staging":t,akamaiedge:t,"akamaiedge-staging":t,akamaihd:t,"akamaihd-staging":t,akamaiorigin:t,"akamaiorigin-staging":t,akamaized:t,"akamaized-staging":t,edgekey:t,"edgekey-staging":t,edgesuite:t,"edgesuite-staging":t,alwaysdata:t,myamaze:t,cloudfront:t,t3l3p0rt:t,appudo:t,"atlassian-dev":[0,{prod:[0,{cdn:t}]}],myfritz:t,onavstack:t,shopselect:t,blackbaudcdn:t,boomla:t,bplaced:t,square7:t,gb:t,hu:t,jp:t,se:t,uk:t,in:t,clickrising:t,cloudaccess:t,"cdn77-ssl":t,cdn77:[0,{r:t}],"feste-ip":t,"knx-server":t,"static-access":t,cryptonomic:r,dattolocal:t,mydatto:t,debian:t,bitbridge:t,"at-band-camp":t,blogdns:t,"broke-it":t,buyshouses:t,dnsalias:t,dnsdojo:t,"does-it":t,dontexist:t,dynalias:t,dynathome:t,endofinternet:t,"from-az":t,"from-co":t,"from-la":t,"from-ny":t,"gets-it":t,"ham-radio-op":t,homeftp:t,homeip:t,homelinux:t,homeunix:t,"in-the-band":t,"is-a-chef":t,"is-a-geek":t,"isa-geek":t,"kicks-ass":t,"office-on-the":t,podzone:t,"scrapper-site":t,selfip:t,"sells-it":t,servebbs:t,serveftp:t,thruhere:t,webhop:t,definima:t,casacam:t,dynu:t,dynv6:t,twmail:t,ru:t,channelsdvr:[2,{u:t}],fastlylb:[2,{map:t}],fastly:[0,{freetls:t,map:t,prod:[0,{a:t,global:t}],ssl:[0,{a:t,b:t,global:t}]}],edgeapp:t,flynnhosting:t,"cdn-edges":t,heteml:t,cloudfunctions:t,moonscale:t,"in-dsl":t,"in-vpn":t,ipifony:t,iobb:t,cloudjiffy:[2,{"fra1-de":t,"west1-us":t}],elastx:[0,{"jls-sto1":t,"jls-sto2":t,"jls-sto3":t}],faststacks:t,massivegrid:[0,{paas:[0,{"fr-1":t,"lon-1":t,"lon-2":t,"ny-1":t,"ny-2":t,"sg-1":t}]}],saveincloud:[0,{jelastic:t,"nordeste-idc":t}],scaleforce:K,tsukaeru:H,kinghost:t,uni5:t,krellian:t,barsy:t,memset:t,azurewebsites:t,"azure-mobile":t,cloudapp:t,azurestaticapps:[2,{1:t,2:t,3:t,centralus:t,eastasia:t,eastus2:t,westeurope:t,westus2:t}],dnsup:t,hicam:t,"now-dns":t,ownip:t,vpndns:t,"eating-organic":t,mydissent:t,myeffect:t,mymediapc:t,mypsx:t,mysecuritycamera:t,nhlfan:t,"no-ip":t,pgafan:t,privatizehealthinsurance:t,bounceme:t,ddns:t,redirectme:t,serveblog:t,serveminecraft:t,sytes:t,cloudycluster:t,ovh:[0,{webpaas:r,hosting:r}],bar0:t,bar1:t,bar2:t,rackmaze:t,squares:t,schokokeks:t,"firewall-gateway":t,seidat:t,senseering:t,siteleaf:t,"vps-host":[2,{jelastic:[0,{atl:t,njs:t,ric:t}]}],myspreadshop:t,srcf:[0,{soc:t,user:t}],supabase:t,dsmynas:t,familyds:t,tailscale:[0,{beta:t}],ts:t,torproject:[2,{pages:t}],"reserve-online":t,"community-pro":t,meinforum:t,yandexcloud:[2,{storage:t,website:t}],za:t}],nf:[1,{com:e,net:e,per:e,rec:e,web:e,arts:e,firm:e,info:e,other:e,store:e}],ng:[1,{com:i,edu:e,gov:e,i:e,mil:e,mobi:e,name:e,net:e,org:e,sch:e,col:t,firm:t,gen:t,ltd:t,ngo:t}],ni:[1,{ac:e,biz:e,co:e,com:e,edu:e,gob:e,in:e,info:e,int:e,mil:e,net:e,nom:e,org:e,web:e}],nl:[1,{co:t,"hosting-cluster":t,blogspot:t,gov:t,khplay:t,"123website":t,myspreadshop:t,transurl:r,cistron:t,demon:t}],no:[1,{fhs:e,vgs:e,fylkesbibl:e,folkebibl:e,museum:e,idrett:e,priv:e,mil:e,stat:e,dep:e,kommune:e,herad:e,aa:j,ah:j,bu:j,fm:j,hl:j,hm:j,"jan-mayen":j,mr:j,nl:j,nt:j,of:j,ol:j,oslo:j,rl:j,sf:j,st:j,svalbard:j,tm:j,tr:j,va:j,vf:j,akrehamn:e,"xn--krehamn-dxa":e,åkrehamn:e,algard:e,"xn--lgrd-poac":e,ålgård:e,arna:e,brumunddal:e,bryne:e,bronnoysund:e,"xn--brnnysund-m8ac":e,brønnøysund:e,drobak:e,"xn--drbak-wua":e,drøbak:e,egersund:e,fetsund:e,floro:e,"xn--flor-jra":e,florø:e,fredrikstad:e,hokksund:e,honefoss:e,"xn--hnefoss-q1a":e,hønefoss:e,jessheim:e,jorpeland:e,"xn--jrpeland-54a":e,jørpeland:e,kirkenes:e,kopervik:e,krokstadelva:e,langevag:e,"xn--langevg-jxa":e,langevåg:e,leirvik:e,mjondalen:e,"xn--mjndalen-64a":e,mjøndalen:e,"mo-i-rana":e,mosjoen:e,"xn--mosjen-eya":e,mosjøen:e,nesoddtangen:e,orkanger:e,osoyro:e,"xn--osyro-wua":e,osøyro:e,raholt:e,"xn--rholt-mra":e,råholt:e,sandnessjoen:e,"xn--sandnessjen-ogb":e,sandnessjøen:e,skedsmokorset:e,slattum:e,spjelkavik:e,stathelle:e,stavern:e,stjordalshalsen:e,"xn--stjrdalshalsen-sqb":e,stjørdalshalsen:e,tananger:e,tranby:e,vossevangen:e,afjord:e,"xn--fjord-lra":e,åfjord:e,agdenes:e,al:e,"xn--l-1fa":e,ål:e,alesund:e,"xn--lesund-hua":e,ålesund:e,alstahaug:e,alta:e,"xn--lt-liac":e,áltá:e,alaheadju:e,"xn--laheadju-7ya":e,álaheadju:e,alvdal:e,amli:e,"xn--mli-tla":e,åmli:e,amot:e,"xn--mot-tla":e,åmot:e,andebu:e,andoy:e,"xn--andy-ira":e,andøy:e,andasuolo:e,ardal:e,"xn--rdal-poa":e,årdal:e,aremark:e,arendal:e,"xn--s-1fa":e,ås:e,aseral:e,"xn--seral-lra":e,åseral:e,asker:e,askim:e,askvoll:e,askoy:e,"xn--asky-ira":e,askøy:e,asnes:e,"xn--snes-poa":e,åsnes:e,audnedaln:e,aukra:e,aure:e,aurland:e,"aurskog-holand":e,"xn--aurskog-hland-jnb":e,"aurskog-høland":e,austevoll:e,austrheim:e,averoy:e,"xn--avery-yua":e,averøy:e,balestrand:e,ballangen:e,balat:e,"xn--blt-elab":e,bálát:e,balsfjord:e,bahccavuotna:e,"xn--bhccavuotna-k7a":e,báhccavuotna:e,bamble:e,bardu:e,beardu:e,beiarn:e,bajddar:e,"xn--bjddar-pta":e,bájddar:e,baidar:e,"xn--bidr-5nac":e,báidár:e,berg:e,bergen:e,berlevag:e,"xn--berlevg-jxa":e,berlevåg:e,bearalvahki:e,"xn--bearalvhki-y4a":e,bearalváhki:e,bindal:e,birkenes:e,bjarkoy:e,"xn--bjarky-fya":e,bjarkøy:e,bjerkreim:e,bjugn:e,bodo:e,"xn--bod-2na":e,bodø:e,badaddja:e,"xn--bdddj-mrabd":e,bådåddjå:e,budejju:e,bokn:e,bremanger:e,bronnoy:e,"xn--brnny-wuac":e,brønnøy:e,bygland:e,bykle:e,barum:e,"xn--brum-voa":e,bærum:e,telemark:[0,{bo:e,"xn--b-5ga":e,bø:e}],nordland:[0,{bo:e,"xn--b-5ga":e,bø:e,heroy:e,"xn--hery-ira":e,herøy:e}],bievat:e,"xn--bievt-0qa":e,bievát:e,bomlo:e,"xn--bmlo-gra":e,bømlo:e,batsfjord:e,"xn--btsfjord-9za":e,båtsfjord:e,bahcavuotna:e,"xn--bhcavuotna-s4a":e,báhcavuotna:e,dovre:e,drammen:e,drangedal:e,dyroy:e,"xn--dyry-ira":e,dyrøy:e,donna:e,"xn--dnna-gra":e,dønna:e,eid:e,eidfjord:e,eidsberg:e,eidskog:e,eidsvoll:e,eigersund:e,elverum:e,enebakk:e,engerdal:e,etne:e,etnedal:e,evenes:e,evenassi:e,"xn--eveni-0qa01ga":e,evenášši:e,"evje-og-hornnes":e,farsund:e,fauske:e,fuossko:e,fuoisku:e,fedje:e,fet:e,finnoy:e,"xn--finny-yua":e,finnøy:e,fitjar:e,fjaler:e,fjell:e,flakstad:e,flatanger:e,flekkefjord:e,flesberg:e,flora:e,fla:e,"xn--fl-zia":e,flå:e,folldal:e,forsand:e,fosnes:e,frei:e,frogn:e,froland:e,frosta:e,frana:e,"xn--frna-woa":e,fræna:e,froya:e,"xn--frya-hra":e,frøya:e,fusa:e,fyresdal:e,forde:e,"xn--frde-gra":e,førde:e,gamvik:e,gangaviika:e,"xn--ggaviika-8ya47h":e,gáŋgaviika:e,gaular:e,gausdal:e,gildeskal:e,"xn--gildeskl-g0a":e,gildeskål:e,giske:e,gjemnes:e,gjerdrum:e,gjerstad:e,gjesdal:e,gjovik:e,"xn--gjvik-wua":e,gjøvik:e,gloppen:e,gol:e,gran:e,grane:e,granvin:e,gratangen:e,grimstad:e,grong:e,kraanghke:e,"xn--kranghke-b0a":e,kråanghke:e,grue:e,gulen:e,hadsel:e,halden:e,halsa:e,hamar:e,hamaroy:e,habmer:e,"xn--hbmer-xqa":e,hábmer:e,hapmir:e,"xn--hpmir-xqa":e,hápmir:e,hammerfest:e,hammarfeasta:e,"xn--hmmrfeasta-s4ac":e,hámmárfeasta:e,haram:e,hareid:e,harstad:e,hasvik:e,aknoluokta:e,"xn--koluokta-7ya57h":e,ákŋoluokta:e,hattfjelldal:e,aarborte:e,haugesund:e,hemne:e,hemnes:e,hemsedal:e,"more-og-romsdal":[0,{heroy:e,sande:e}],"xn--mre-og-romsdal-qqb":[0,{"xn--hery-ira":e,sande:e}],"møre-og-romsdal":[0,{herøy:e,sande:e}],hitra:e,hjartdal:e,hjelmeland:e,hobol:e,"xn--hobl-ira":e,hobøl:e,hof:e,hol:e,hole:e,holmestrand:e,holtalen:e,"xn--holtlen-hxa":e,holtålen:e,hornindal:e,horten:e,hurdal:e,hurum:e,hvaler:e,hyllestad:e,hagebostad:e,"xn--hgebostad-g3a":e,hægebostad:e,hoyanger:e,"xn--hyanger-q1a":e,høyanger:e,hoylandet:e,"xn--hylandet-54a":e,høylandet:e,ha:e,"xn--h-2fa":e,hå:e,ibestad:e,inderoy:e,"xn--indery-fya":e,inderøy:e,iveland:e,jevnaker:e,jondal:e,jolster:e,"xn--jlster-bya":e,jølster:e,karasjok:e,karasjohka:e,"xn--krjohka-hwab49j":e,kárášjohka:e,karlsoy:e,galsa:e,"xn--gls-elac":e,gálsá:e,karmoy:e,"xn--karmy-yua":e,karmøy:e,kautokeino:e,guovdageaidnu:e,klepp:e,klabu:e,"xn--klbu-woa":e,klæbu:e,kongsberg:e,kongsvinger:e,kragero:e,"xn--krager-gya":e,kragerø:e,kristiansand:e,kristiansund:e,krodsherad:e,"xn--krdsherad-m8a":e,krødsherad:e,kvalsund:e,rahkkeravju:e,"xn--rhkkervju-01af":e,ráhkkerávju:e,kvam:e,kvinesdal:e,kvinnherad:e,kviteseid:e,kvitsoy:e,"xn--kvitsy-fya":e,kvitsøy:e,kvafjord:e,"xn--kvfjord-nxa":e,kvæfjord:e,giehtavuoatna:e,kvanangen:e,"xn--kvnangen-k0a":e,kvænangen:e,navuotna:e,"xn--nvuotna-hwa":e,návuotna:e,kafjord:e,"xn--kfjord-iua":e,kåfjord:e,gaivuotna:e,"xn--givuotna-8ya":e,gáivuotna:e,larvik:e,lavangen:e,lavagis:e,loabat:e,"xn--loabt-0qa":e,loabát:e,lebesby:e,davvesiida:e,leikanger:e,leirfjord:e,leka:e,leksvik:e,lenvik:e,leangaviika:e,"xn--leagaviika-52b":e,leaŋgaviika:e,lesja:e,levanger:e,lier:e,lierne:e,lillehammer:e,lillesand:e,lindesnes:e,lindas:e,"xn--linds-pra":e,lindås:e,lom:e,loppa:e,lahppi:e,"xn--lhppi-xqa":e,láhppi:e,lund:e,lunner:e,luroy:e,"xn--lury-ira":e,lurøy:e,luster:e,lyngdal:e,lyngen:e,ivgu:e,lardal:e,lerdal:e,"xn--lrdal-sra":e,lærdal:e,lodingen:e,"xn--ldingen-q1a":e,lødingen:e,lorenskog:e,"xn--lrenskog-54a":e,lørenskog:e,loten:e,"xn--lten-gra":e,løten:e,malvik:e,masoy:e,"xn--msy-ula0h":e,måsøy:e,muosat:e,"xn--muost-0qa":e,muosát:e,mandal:e,marker:e,marnardal:e,masfjorden:e,meland:e,meldal:e,melhus:e,meloy:e,"xn--mely-ira":e,meløy:e,meraker:e,"xn--merker-kua":e,meråker:e,moareke:e,"xn--moreke-jua":e,moåreke:e,midsund:e,"midtre-gauldal":e,modalen:e,modum:e,molde:e,moskenes:e,moss:e,mosvik:e,malselv:e,"xn--mlselv-iua":e,målselv:e,malatvuopmi:e,"xn--mlatvuopmi-s4a":e,málatvuopmi:e,namdalseid:e,aejrie:e,namsos:e,namsskogan:e,naamesjevuemie:e,"xn--nmesjevuemie-tcba":e,nååmesjevuemie:e,laakesvuemie:e,nannestad:e,narvik:e,narviika:e,naustdal:e,"nedre-eiker":e,akershus:W,buskerud:W,nesna:e,nesodden:e,nesseby:e,unjarga:e,"xn--unjrga-rta":e,unjárga:e,nesset:e,nissedal:e,nittedal:e,"nord-aurdal":e,"nord-fron":e,"nord-odal":e,norddal:e,nordkapp:e,davvenjarga:e,"xn--davvenjrga-y4a":e,davvenjárga:e,"nordre-land":e,nordreisa:e,raisa:e,"xn--risa-5na":e,ráisa:e,"nore-og-uvdal":e,notodden:e,naroy:e,"xn--nry-yla5g":e,nærøy:e,notteroy:e,"xn--nttery-byae":e,nøtterøy:e,odda:e,oksnes:e,"xn--ksnes-uua":e,øksnes:e,oppdal:e,oppegard:e,"xn--oppegrd-ixa":e,oppegård:e,orkdal:e,orland:e,"xn--rland-uua":e,ørland:e,orskog:e,"xn--rskog-uua":e,ørskog:e,orsta:e,"xn--rsta-fra":e,ørsta:e,hedmark:[0,{os:e,valer:e,"xn--vler-qoa":e,våler:e}],hordaland:[0,{os:e}],osen:e,osteroy:e,"xn--ostery-fya":e,osterøy:e,"ostre-toten":e,"xn--stre-toten-zcb":e,"østre-toten":e,overhalla:e,"ovre-eiker":e,"xn--vre-eiker-k8a":e,"øvre-eiker":e,oyer:e,"xn--yer-zna":e,øyer:e,oygarden:e,"xn--ygarden-p1a":e,øygarden:e,"oystre-slidre":e,"xn--ystre-slidre-ujb":e,"øystre-slidre":e,porsanger:e,porsangu:e,"xn--porsgu-sta26f":e,porsáŋgu:e,porsgrunn:e,radoy:e,"xn--rady-ira":e,radøy:e,rakkestad:e,rana:e,ruovat:e,randaberg:e,rauma:e,rendalen:e,rennebu:e,rennesoy:e,"xn--rennesy-v1a":e,rennesøy:e,rindal:e,ringebu:e,ringerike:e,ringsaker:e,rissa:e,risor:e,"xn--risr-ira":e,risør:e,roan:e,rollag:e,rygge:e,ralingen:e,"xn--rlingen-mxa":e,rælingen:e,rodoy:e,"xn--rdy-0nab":e,rødøy:e,romskog:e,"xn--rmskog-bya":e,rømskog:e,roros:e,"xn--rros-gra":e,røros:e,rost:e,"xn--rst-0na":e,røst:e,royken:e,"xn--ryken-vua":e,røyken:e,royrvik:e,"xn--ryrvik-bya":e,røyrvik:e,rade:e,"xn--rde-ula":e,råde:e,salangen:e,siellak:e,saltdal:e,salat:e,"xn--slt-elab":e,sálát:e,"xn--slat-5na":e,sálat:e,samnanger:e,vestfold:[0,{sande:e}],sandefjord:e,sandnes:e,sandoy:e,"xn--sandy-yua":e,sandøy:e,sarpsborg:e,sauda:e,sauherad:e,sel:e,selbu:e,selje:e,seljord:e,sigdal:e,siljan:e,sirdal:e,skaun:e,skedsmo:e,ski:e,skien:e,skiptvet:e,skjervoy:e,"xn--skjervy-v1a":e,skjervøy:e,skierva:e,"xn--skierv-uta":e,skiervá:e,skjak:e,"xn--skjk-soa":e,skjåk:e,skodje:e,skanland:e,"xn--sknland-fxa":e,skånland:e,skanit:e,"xn--sknit-yqa":e,skánit:e,smola:e,"xn--smla-hra":e,smøla:e,snillfjord:e,snasa:e,"xn--snsa-roa":e,snåsa:e,snoasa:e,snaase:e,"xn--snase-nra":e,snåase:e,sogndal:e,sokndal:e,sola:e,solund:e,songdalen:e,sortland:e,spydeberg:e,stange:e,stavanger:e,steigen:e,steinkjer:e,stjordal:e,"xn--stjrdal-s1a":e,stjørdal:e,stokke:e,"stor-elvdal":e,stord:e,stordal:e,storfjord:e,omasvuotna:e,strand:e,stranda:e,stryn:e,sula:e,suldal:e,sund:e,sunndal:e,surnadal:e,sveio:e,svelvik:e,sykkylven:e,sogne:e,"xn--sgne-gra":e,søgne:e,somna:e,"xn--smna-gra":e,sømna:e,"sondre-land":e,"xn--sndre-land-0cb":e,"søndre-land":e,"sor-aurdal":e,"xn--sr-aurdal-l8a":e,"sør-aurdal":e,"sor-fron":e,"xn--sr-fron-q1a":e,"sør-fron":e,"sor-odal":e,"xn--sr-odal-q1a":e,"sør-odal":e,"sor-varanger":e,"xn--sr-varanger-ggb":e,"sør-varanger":e,"matta-varjjat":e,"xn--mtta-vrjjat-k7af":e,"mátta-várjjat":e,sorfold:e,"xn--srfold-bya":e,sørfold:e,sorreisa:e,"xn--srreisa-q1a":e,sørreisa:e,sorum:e,"xn--srum-gra":e,sørum:e,tana:e,deatnu:e,time:e,tingvoll:e,tinn:e,tjeldsund:e,dielddanuorri:e,tjome:e,"xn--tjme-hra":e,tjøme:e,tokke:e,tolga:e,torsken:e,tranoy:e,"xn--trany-yua":e,tranøy:e,tromso:e,"xn--troms-zua":e,tromsø:e,tromsa:e,romsa:e,trondheim:e,troandin:e,trysil:e,trana:e,"xn--trna-woa":e,træna:e,trogstad:e,"xn--trgstad-r1a":e,trøgstad:e,tvedestrand:e,tydal:e,tynset:e,tysfjord:e,divtasvuodna:e,divttasvuotna:e,tysnes:e,tysvar:e,"xn--tysvr-vra":e,tysvær:e,tonsberg:e,"xn--tnsberg-q1a":e,tønsberg:e,ullensaker:e,ullensvang:e,ulvik:e,utsira:e,vadso:e,"xn--vads-jra":e,vadsø:e,cahcesuolo:e,"xn--hcesuolo-7ya35b":e,čáhcesuolo:e,vaksdal:e,valle:e,vang:e,vanylven:e,vardo:e,"xn--vard-jra":e,vardø:e,varggat:e,"xn--vrggt-xqad":e,várggát:e,vefsn:e,vaapste:e,vega:e,vegarshei:e,"xn--vegrshei-c0a":e,vegårshei:e,vennesla:e,verdal:e,verran:e,vestby:e,vestnes:e,"vestre-slidre":e,"vestre-toten":e,vestvagoy:e,"xn--vestvgy-ixa6o":e,vestvågøy:e,vevelstad:e,vik:e,vikna:e,vindafjord:e,volda:e,voss:e,varoy:e,"xn--vry-yla5g":e,værøy:e,vagan:e,"xn--vgan-qoa":e,vågan:e,voagat:e,vagsoy:e,"xn--vgsy-qoa0j":e,vågsøy:e,vaga:e,"xn--vg-yiab":e,vågå:e,ostfold:[0,{valer:e}],"xn--stfold-9xa":[0,{"xn--vler-qoa":e}],østfold:[0,{våler:e}],co:t,blogspot:t,"123hjemmeside":t,myspreadshop:t}],np:s,nr:N,nu:[1,{merseine:t,mine:t,shacknet:t,enterprisecloud:t}],nz:[1,{ac:e,co:i,cri:e,geek:e,gen:e,govt:e,health:e,iwi:e,kiwi:e,maori:e,mil:e,"xn--mori-qsa":e,māori:e,net:e,org:e,parliament:e,school:e}],om:[1,{co:e,com:e,edu:e,gov:e,med:e,museum:e,net:e,org:e,pro:e}],onion:e,org:[1,{altervista:t,amune:[0,{tele:t}],pimienta:t,poivron:t,potager:t,sweetpepper:t,ae:t,us:t,certmgr:t,cdn77:[0,{c:t,rsc:t}],"cdn77-secure":[0,{origin:[0,{ssl:t}]}],cloudns:t,duckdns:t,tunk:t,dyndns:[2,{go:t,home:t}],blogdns:t,blogsite:t,boldlygoingnowhere:t,dnsalias:t,dnsdojo:t,doesntexist:t,dontexist:t,doomdns:t,dvrdns:t,dynalias:t,endofinternet:t,endoftheinternet:t,"from-me":t,"game-host":t,gotdns:t,"hobby-site":t,homedns:t,homeftp:t,homelinux:t,homeunix:t,"is-a-bruinsfan":t,"is-a-candidate":t,"is-a-celticsfan":t,"is-a-chef":t,"is-a-geek":t,"is-a-knight":t,"is-a-linux-user":t,"is-a-patsfan":t,"is-a-soxfan":t,"is-found":t,"is-lost":t,"is-saved":t,"is-very-bad":t,"is-very-evil":t,"is-very-good":t,"is-very-nice":t,"is-very-sweet":t,"isa-geek":t,"kicks-ass":t,misconfused:t,podzone:t,readmyblog:t,selfip:t,sellsyourhome:t,servebbs:t,serveftp:t,servegame:t,"stuff-4-sale":t,webhop:t,ddnss:t,accesscam:t,camdvr:t,freeddns:t,mywire:t,webredirect:t,eu:[2,{al:t,asso:t,at:t,au:t,be:t,bg:t,ca:t,cd:t,ch:t,cn:t,cy:t,cz:t,de:t,dk:t,edu:t,ee:t,es:t,fi:t,fr:t,gr:t,hr:t,hu:t,ie:t,il:t,in:t,int:t,is:t,it:t,jp:t,kr:t,lt:t,lu:t,lv:t,mc:t,me:t,mk:t,mt:t,my:t,net:t,ng:t,nl:t,no:t,nz:t,paris:t,pl:t,pt:t,"q-a":t,ro:t,ru:t,se:t,si:t,sk:t,tr:t,uk:t,us:t}],twmail:t,fedorainfracloud:t,fedorapeople:t,fedoraproject:[0,{cloud:t,os:T,stg:[0,{os:T}]}],freedesktop:t,hepforge:t,"in-dsl":t,"in-vpn":t,js:t,barsy:t,mayfirst:t,"mozilla-iot":t,bmoattachments:t,dynserv:t,"now-dns":t,"cable-modem":t,collegefan:t,couchpotatofries:t,mlbfan:t,mysecuritycamera:t,nflfan:t,"read-books":t,ufcfan:t,hopto:t,myftp:t,"no-ip":t,zapto:t,httpbin:t,pubtls:t,jpn:t,"my-firewall":t,myfirewall:t,spdns:t,"small-web":t,dsmynas:t,familyds:t,teckids:d,tuxfamily:t,diskstation:t,hk:t,wmflabs:t,toolforge:t,wmcloud:t,za:t}],pa:[1,{ac:e,gob:e,com:e,org:e,sld:e,edu:e,net:e,ing:e,abo:e,med:e,nom:e}],pe:[1,{edu:e,gob:e,nom:e,mil:e,org:e,com:e,net:e,blogspot:t}],pf:[1,{com:e,org:e,edu:e}],pg:s,ph:[1,{com:e,net:e,org:e,gov:e,edu:e,ngo:e,mil:e,i:e}],pk:[1,{com:e,net:e,edu:e,org:e,fam:e,biz:e,web:e,gov:e,gob:e,gok:e,gon:e,gop:e,gos:e,info:e}],pl:[1,{com:e,net:e,org:e,aid:e,agro:e,atm:e,auto:e,biz:e,edu:e,gmina:e,gsm:e,info:e,mail:e,miasta:e,media:e,mil:e,nieruchomosci:e,nom:e,pc:e,powiat:e,priv:e,realestate:e,rel:e,sex:e,shop:e,sklep:e,sos:e,szkola:e,targi:e,tm:e,tourism:e,travel:e,turystyka:e,gov:[1,{ap:e,griw:e,ic:e,is:e,kmpsp:e,konsulat:e,kppsp:e,kwp:e,kwpsp:e,mup:e,mw:e,oia:e,oirm:e,oke:e,oow:e,oschr:e,oum:e,pa:e,pinb:e,piw:e,po:e,pr:e,psp:e,psse:e,pup:e,rzgw:e,sa:e,sdn:e,sko:e,so:e,sr:e,starostwo:e,ug:e,ugim:e,um:e,umig:e,upow:e,uppo:e,us:e,uw:e,uzs:e,wif:e,wiih:e,winb:e,wios:e,witd:e,wiw:e,wkz:e,wsa:e,wskr:e,wsse:e,wuoz:e,wzmiuw:e,zp:e,zpisdn:e}],augustow:e,"babia-gora":e,bedzin:e,beskidy:e,bialowieza:e,bialystok:e,bielawa:e,bieszczady:e,boleslawiec:e,bydgoszcz:e,bytom:e,cieszyn:e,czeladz:e,czest:e,dlugoleka:e,elblag:e,elk:e,glogow:e,gniezno:e,gorlice:e,grajewo:e,ilawa:e,jaworzno:e,"jelenia-gora":e,jgora:e,kalisz:e,"kazimierz-dolny":e,karpacz:e,kartuzy:e,kaszuby:e,katowice:e,kepno:e,ketrzyn:e,klodzko:e,kobierzyce:e,kolobrzeg:e,konin:e,konskowola:e,kutno:e,lapy:e,lebork:e,legnica:e,lezajsk:e,limanowa:e,lomza:e,lowicz:e,lubin:e,lukow:e,malbork:e,malopolska:e,mazowsze:e,mazury:e,mielec:e,mielno:e,mragowo:e,naklo:e,nowaruda:e,nysa:e,olawa:e,olecko:e,olkusz:e,olsztyn:e,opoczno:e,opole:e,ostroda:e,ostroleka:e,ostrowiec:e,ostrowwlkp:e,pila:e,pisz:e,podhale:e,podlasie:e,polkowice:e,pomorze:e,pomorskie:e,prochowice:e,pruszkow:e,przeworsk:e,pulawy:e,radom:e,"rawa-maz":e,rybnik:e,rzeszow:e,sanok:e,sejny:e,slask:e,slupsk:e,sosnowiec:e,"stalowa-wola":e,skoczow:e,starachowice:e,stargard:e,suwalki:e,swidnica:e,swiebodzin:e,swinoujscie:e,szczecin:e,szczytno:e,tarnobrzeg:e,tgory:e,turek:e,tychy:e,ustka:e,walbrzych:e,warmia:e,warszawa:e,waw:e,wegrow:e,wielun:e,wlocl:e,wloclawek:e,wodzislaw:e,wolomin:e,wroclaw:e,zachpomor:e,zagan:e,zarow:e,zgora:e,zgorzelec:e,beep:t,"ecommerce-shop":t,shoparena:t,homesklep:t,sdscloud:t,unicloud:t,krasnik:t,leczna:t,lubartow:t,lublin:t,poniatowa:t,swidnik:t,co:t,simplesite:t,art:t,gliwice:t,krakow:t,poznan:t,wroc:t,zakopane:t,myspreadshop:t,gda:t,gdansk:t,gdynia:t,med:t,sopot:t}],pm:[1,{own:t,name:t}],pn:[1,{gov:e,co:e,org:e,edu:e,net:e}],post:e,pr:[1,{com:e,net:e,org:e,gov:e,edu:e,isla:e,pro:e,biz:e,info:e,name:e,est:e,prof:e,ac:e}],pro:[1,{aaa:e,aca:e,acct:e,avocat:e,bar:e,cpa:e,eng:e,jur:e,law:e,med:e,recht:e,cloudns:t,dnstrace:[0,{bci:t}],barsy:t}],ps:[1,{edu:e,gov:e,sec:e,plo:e,com:e,org:e,net:e}],pt:[1,{net:e,gov:e,org:e,edu:e,int:e,publ:e,com:e,nome:e,blogspot:t,"123paginaweb":t}],pw:[1,{co:e,ne:e,or:e,ed:e,go:e,belau:e,cloudns:t,x443:t}],py:[1,{com:e,coop:e,edu:e,gov:e,mil:e,net:e,org:e}],qa:[1,{com:e,edu:e,gov:e,mil:e,name:e,net:e,org:e,sch:e,blogspot:t}],re:[1,{asso:e,com:e,nom:e,blogspot:t}],ro:[1,{arts:e,com:e,firm:e,info:e,nom:e,nt:e,org:e,rec:e,store:e,tm:e,www:e,co:t,shop:t,blogspot:t,barsy:t}],rs:[1,{ac:e,co:e,edu:e,gov:e,in:e,org:e,brendly:[0,{shop:t}],blogspot:t,ua:t,ox:t}],ru:[1,{ac:t,edu:t,gov:t,int:t,mil:t,test:t,eurodir:t,adygeya:t,bashkiria:t,bir:t,cbg:t,com:t,dagestan:t,grozny:t,kalmykia:t,kustanai:t,marine:t,mordovia:t,msk:t,mytis:t,nalchik:t,nov:t,pyatigorsk:t,spb:t,vladikavkaz:t,vladimir:t,blogspot:t,na4u:t,mircloud:t,regruhosting:H,myjino:[2,{hosting:r,landing:r,spectrum:r,vps:r}],cldmail:[0,{hb:t}],mcdir:[2,{vps:t}],mcpre:t,net:t,org:t,pp:t,"123sait":t,lk3:t,ras:t}],rw:[1,{ac:e,co:e,coop:e,gov:e,mil:e,net:e,org:e}],sa:[1,{com:e,net:e,org:e,gov:e,med:e,pub:e,edu:e,sch:e}],sb:n,sc:n,sd:[1,{com:e,net:e,org:e,edu:e,med:e,tv:e,gov:e,info:e}],se:[1,{a:e,ac:e,b:e,bd:e,brand:e,c:e,d:e,e,f:e,fh:e,fhsk:e,fhv:e,g:e,h:e,i:e,k:e,komforb:e,kommunalforbund:e,komvux:e,l:e,lanbib:e,m:e,n:e,naturbruksgymn:e,o:e,org:e,p:e,parti:e,pp:e,press:e,r:e,s:e,t:e,tm:e,u:e,w:e,x:e,y:e,z:e,com:t,blogspot:t,conf:t,iopsys:t,"123minsida":t,itcouldbewor:t,myspreadshop:t,paba:[0,{su:t}]}],sg:[1,{com:e,net:e,org:e,gov:e,edu:e,per:e,blogspot:t,enscaled:t}],sh:[1,{com:e,net:e,gov:e,org:e,mil:e,bip:t,hashbang:t,platform:[0,{bc:t,ent:t,eu:t,us:t}],now:t,vxl:t,wedeploy:t}],si:[1,{gitapp:t,gitpage:t,blogspot:t}],sj:e,sk:i,sl:n,sm:e,sn:[1,{art:e,com:e,edu:e,gouv:e,org:e,perso:e,univ:e,blogspot:t}],so:[1,{com:e,edu:e,gov:e,me:e,net:e,org:e,sch:t}],sr:e,ss:[1,{biz:e,com:e,edu:e,gov:e,me:e,net:e,org:e,sch:e}],st:[1,{co:e,com:e,consulado:e,edu:e,embaixada:e,mil:e,net:e,org:e,principe:e,saotome:e,store:e,kirara:t,noho:t}],su:[1,{abkhazia:t,adygeya:t,aktyubinsk:t,arkhangelsk:t,armenia:t,ashgabad:t,azerbaijan:t,balashov:t,bashkiria:t,bryansk:t,bukhara:t,chimkent:t,dagestan:t,"east-kazakhstan":t,exnet:t,georgia:t,grozny:t,ivanovo:t,jambyl:t,kalmykia:t,kaluga:t,karacol:t,karaganda:t,karelia:t,khakassia:t,krasnodar:t,kurgan:t,kustanai:t,lenug:t,mangyshlak:t,mordovia:t,msk:t,murmansk:t,nalchik:t,navoi:t,"north-kazakhstan":t,nov:t,obninsk:t,penza:t,pokrovsk:t,sochi:t,spb:t,tashkent:t,termez:t,togliatti:t,troitsk:t,tselinograd:t,tula:t,tuva:t,vladikavkaz:t,vladimir:t,vologda:t}],sv:[1,{com:e,edu:e,gob:e,org:e,red:e}],sx:o,sy:P,sz:[1,{co:e,ac:e,org:e}],tc:[1,{ch:t,me:t,we:t}],td:i,tel:e,tf:[1,{sch:t}],tg:e,th:[1,{ac:e,co:e,go:e,in:e,mi:e,net:e,or:e,online:t,shop:t}],tj:[1,{ac:e,biz:e,co:e,com:e,edu:e,go:e,gov:e,int:e,mil:e,name:e,net:e,nic:e,org:e,test:e,web:e}],tk:e,tl:o,tm:[1,{com:e,co:e,org:e,net:e,nom:e,gov:e,mil:e,edu:e}],tn:[1,{com:e,ens:e,fin:e,gov:e,ind:e,info:e,intl:e,mincom:e,nat:e,net:e,org:e,perso:e,tourism:e,orangecloud:t}],to:[1,{611:t,com:e,gov:e,net:e,org:e,edu:e,mil:e,oya:t,rdv:t,x0:t,vpnplus:t,quickconnect:f,nyan:t}],tr:[1,{av:e,bbs:e,bel:e,biz:e,com:i,dr:e,edu:e,gen:e,gov:e,info:e,mil:e,k12:e,kep:e,name:e,net:e,org:e,pol:e,tel:e,tsk:e,tv:e,web:e,nc:o}],tt:[1,{co:e,com:e,org:e,net:e,biz:e,info:e,pro:e,int:e,coop:e,jobs:e,mobi:e,travel:e,museum:e,aero:e,name:e,gov:e,edu:e}],tv:[1,{dyndns:t,"better-than":t,"on-the-web":t,"worse-than":t,from:t,sakura:t}],tw:[1,{edu:e,gov:e,mil:e,com:[1,{mymailer:t}],net:e,org:e,idv:e,game:e,ebiz:e,club:e,"xn--zf0ao64a":e,網路:e,"xn--uc0atv":e,組織:e,"xn--czrw28b":e,商業:e,url:t,blogspot:t}],tz:[1,{ac:e,co:e,go:e,hotel:e,info:e,me:e,mil:e,mobi:e,ne:e,or:e,sc:e,tv:e}],ua:[1,{com:e,edu:e,gov:e,in:e,net:e,org:e,cherkassy:e,cherkasy:e,chernigov:e,chernihiv:e,chernivtsi:e,chernovtsy:e,ck:e,cn:e,cr:e,crimea:e,cv:e,dn:e,dnepropetrovsk:e,dnipropetrovsk:e,donetsk:e,dp:e,if:e,"ivano-frankivsk":e,kh:e,kharkiv:e,kharkov:e,kherson:e,khmelnitskiy:e,khmelnytskyi:e,kiev:e,kirovograd:e,km:e,kr:e,kropyvnytskyi:e,krym:e,ks:e,kv:e,kyiv:e,lg:e,lt:e,lugansk:e,luhansk:e,lutsk:e,lv:e,lviv:e,mk:e,mykolaiv:e,nikolaev:e,od:e,odesa:e,odessa:e,pl:e,poltava:e,rivne:e,rovno:e,rv:e,sb:e,sebastopol:e,sevastopol:e,sm:e,sumy:e,te:e,ternopil:e,uz:e,uzhgorod:e,uzhhorod:e,vinnica:e,vinnytsia:e,vn:e,volyn:e,yalta:e,zakarpattia:e,zaporizhzhe:e,zaporizhzhia:e,zhitomir:e,zhytomyr:e,zp:e,zt:e,cc:t,inf:t,ltd:t,cx:t,ie:t,biz:t,co:t,pp:t,v:t}],ug:[1,{co:e,or:e,ac:e,sc:e,go:e,ne:e,com:e,org:e,blogspot:t}],uk:[1,{ac:e,co:[1,{bytemark:[0,{dh:t,vm:t}],blogspot:t,layershift:K,barsy:t,barsyonline:t,retrosnub:x,"nh-serv":t,"no-ip":t,wellbeingzone:t,adimo:t,myspreadshop:t}],gov:[1,{campaign:t,service:t,api:t,homeoffice:t}],ltd:e,me:e,net:e,nhs:e,org:[1,{glug:t,lug:t,lugs:t,affinitylottery:t,raffleentry:t,weeklylottery:t}],plc:e,police:e,sch:s,conn:t,copro:t,hosp:t,"independent-commission":t,"independent-inquest":t,"independent-inquiry":t,"independent-panel":t,"independent-review":t,"public-inquiry":t,"royal-commission":t,pymnt:t,barsy:t}],us:[1,{dni:e,fed:e,isa:e,kids:e,nsn:e,ak:re,al:re,ar:re,as:re,az:re,ca:re,co:re,ct:re,dc:re,de:[1,{cc:e,lib:t}],fl:re,ga:re,gu:re,hi:de,ia:re,id:re,il:re,in:re,ks:re,ky:re,la:re,ma:[1,{k12:[1,{pvt:e,chtr:e,paroch:e}],cc:e,lib:e}],md:re,me:re,mi:[1,{k12:e,cc:e,lib:e,"ann-arbor":e,cog:e,dst:e,eaton:e,gen:e,mus:e,tec:e,washtenaw:e}],mn:re,mo:re,ms:re,mt:re,nc:re,nd:de,ne:re,nh:re,nj:re,nm:re,nv:re,ny:re,oh:re,ok:re,or:re,pa:re,pr:re,ri:de,sc:re,sd:de,tn:re,tx:re,ut:re,vi:re,vt:re,va:re,wa:re,wi:re,wv:[1,{cc:e}],wy:re,graphox:t,cloudns:t,drud:t,"is-by":t,"land-4-sale":t,"stuff-4-sale":t,enscaled:[0,{phx:t}],mircloud:t,freeddns:t,golffan:t,noip:t,pointto:t,platterp:t}],uy:[1,{com:i,edu:e,gub:e,mil:e,net:e,org:e}],uz:[1,{co:e,com:e,net:e,org:e}],va:e,vc:[1,{com:e,net:e,org:e,gov:e,mil:e,edu:e,gv:[2,{d:t}],"0e":t}],ve:[1,{arts:e,bib:e,co:e,com:e,e12:e,edu:e,firm:e,gob:e,gov:e,info:e,int:e,mil:e,net:e,nom:e,org:e,rar:e,rec:e,store:e,tec:e,web:e}],vg:[1,{at:t}],vi:[1,{co:e,com:e,k12:e,net:e,org:e}],vn:[1,{ac:e,ai:e,biz:e,com:e,edu:e,gov:e,health:e,id:e,info:e,int:e,io:e,name:e,net:e,org:e,pro:e,angiang:e,bacgiang:e,backan:e,baclieu:e,bacninh:e,"baria-vungtau":e,bentre:e,binhdinh:e,binhduong:e,binhphuoc:e,binhthuan:e,camau:e,cantho:e,caobang:e,daklak:e,daknong:e,danang:e,dienbien:e,dongnai:e,dongthap:e,gialai:e,hagiang:e,haiduong:e,haiphong:e,hanam:e,hanoi:e,hatinh:e,haugiang:e,hoabinh:e,hungyen:e,khanhhoa:e,kiengiang:e,kontum:e,laichau:e,lamdong:e,langson:e,laocai:e,longan:e,namdinh:e,nghean:e,ninhbinh:e,ninhthuan:e,phutho:e,phuyen:e,quangbinh:e,quangnam:e,quangngai:e,quangninh:e,quangtri:e,soctrang:e,sonla:e,tayninh:e,thaibinh:e,thainguyen:e,thanhhoa:e,thanhphohochiminh:e,thuathienhue:e,tiengiang:e,travinh:e,tuyenquang:e,vinhlong:e,vinhphuc:e,yenbai:e,blogspot:t}],vu:[1,{com:e,edu:e,net:e,org:e,cn:t,blog:t,dev:t,me:t}],wf:[1,{biz:t,sch:t}],ws:[1,{com:e,net:e,org:e,gov:e,edu:e,advisor:r,cloud66:t,dyndns:t,mypets:t}],yt:[1,{org:t}],"xn--mgbaam7a8h":e,امارات:e,"xn--y9a3aq":e,հայ:e,"xn--54b7fta0cc":e,বাংলা:e,"xn--90ae":e,бг:e,"xn--mgbcpq6gpa1a":e,البحرين:e,"xn--90ais":e,бел:e,"xn--fiqs8s":e,中国:e,"xn--fiqz9s":e,中國:e,"xn--lgbbat1ad8j":e,الجزائر:e,"xn--wgbh1c":e,مصر:e,"xn--e1a4c":e,ею:e,"xn--qxa6a":e,ευ:e,"xn--mgbah1a3hjkrd":e,موريتانيا:e,"xn--node":e,გე:e,"xn--qxam":e,ελ:e,"xn--j6w193g":[1,{"xn--55qx5d":e,"xn--wcvs22d":e,"xn--mxtq1m":e,"xn--gmqw5a":e,"xn--od0alg":e,"xn--uc0atv":e}],香港:[1,{公司:e,教育:e,政府:e,個人:e,網絡:e,組織:e}],"xn--2scrj9c":e,ಭಾರತ:e,"xn--3hcrj9c":e,ଭାରତ:e,"xn--45br5cyl":e,ভাৰত:e,"xn--h2breg3eve":e,भारतम्:e,"xn--h2brj9c8c":e,भारोत:e,"xn--mgbgu82a":e,ڀارت:e,"xn--rvc1e0am3e":e,ഭാരതം:e,"xn--h2brj9c":e,भारत:e,"xn--mgbbh1a":e,بارت:e,"xn--mgbbh1a71e":e,بھارت:e,"xn--fpcrj9c3d":e,భారత్:e,"xn--gecrj9c":e,ભારત:e,"xn--s9brj9c":e,ਭਾਰਤ:e,"xn--45brj9c":e,ভারত:e,"xn--xkc2dl3a5ee0h":e,இந்தியா:e,"xn--mgba3a4f16a":e,ایران:e,"xn--mgba3a4fra":e,ايران:e,"xn--mgbtx2b":e,عراق:e,"xn--mgbayh7gpa":e,الاردن:e,"xn--3e0b707e":e,한국:e,"xn--80ao21a":e,қаз:e,"xn--q7ce6a":e,ລາວ:e,"xn--fzc2c9e2c":e,ලංකා:e,"xn--xkc2al3hye2a":e,இலங்கை:e,"xn--mgbc0a9azcg":e,المغرب:e,"xn--d1alf":e,мкд:e,"xn--l1acc":e,мон:e,"xn--mix891f":e,澳門:e,"xn--mix082f":e,澳门:e,"xn--mgbx4cd0ab":e,مليسيا:e,"xn--mgb9awbf":e,عمان:e,"xn--mgbai9azgqp6j":e,پاکستان:e,"xn--mgbai9a5eva00b":e,پاكستان:e,"xn--ygbi2ammx":e,فلسطين:e,"xn--90a3ac":[1,{"xn--o1ac":e,"xn--c1avg":e,"xn--90azh":e,"xn--d1at":e,"xn--o1ach":e,"xn--80au":e}],срб:[1,{пр:e,орг:e,обр:e,од:e,упр:e,ак:e}],"xn--p1ai":e,рф:e,"xn--wgbl6a":e,قطر:e,"xn--mgberp4a5d4ar":e,السعودية:e,"xn--mgberp4a5d4a87g":e,السعودیة:e,"xn--mgbqly7c0a67fbc":e,السعودیۃ:e,"xn--mgbqly7cvafr":e,السعوديه:e,"xn--mgbpl2fh":e,سودان:e,"xn--yfro4i67o":e,新加坡:e,"xn--clchc0ea0b2g2a9gcd":e,சிங்கப்பூர்:e,"xn--ogbpf8fl":e,سورية:e,"xn--mgbtf8fl":e,سوريا:e,"xn--o3cw4h":[1,{"xn--12c1fe0br":e,"xn--12co0c3b4eva":e,"xn--h3cuzk1di":e,"xn--o3cyx2a":e,"xn--m3ch0j3a":e,"xn--12cfi8ixb8l":e}],ไทย:[1,{ศึกษา:e,ธุรกิจ:e,รัฐบาล:e,ทหาร:e,เน็ต:e,องค์กร:e}],"xn--pgbs0dh":e,تونس:e,"xn--kpry57d":e,台灣:e,"xn--kprw13d":e,台湾:e,"xn--nnx388a":e,臺灣:e,"xn--j1amh":e,укр:e,"xn--mgb2ddes":e,اليمن:e,xxx:e,ye:P,za:[0,{ac:e,agric:e,alt:e,co:i,edu:e,gov:e,grondar:e,law:e,mil:e,net:e,ngo:e,nic:e,nis:e,nom:e,org:e,school:e,tm:e,web:e}],zm:[1,{ac:e,biz:e,co:e,com:e,edu:e,gov:e,info:e,mil:e,net:e,org:e,sch:e}],zw:[1,{ac:e,co:e,gov:e,mil:e,org:e}],aaa:e,aarp:e,abb:e,abbott:e,abbvie:e,abc:e,able:e,abogado:e,abudhabi:e,academy:[1,{official:t}],accenture:e,accountant:e,accountants:e,aco:e,actor:e,ads:e,adult:e,aeg:e,aetna:e,afl:e,africa:e,agakhan:e,agency:e,aig:e,airbus:e,airforce:e,airtel:e,akdn:e,alibaba:e,alipay:e,allfinanz:e,allstate:e,ally:e,alsace:e,alstom:e,amazon:e,americanexpress:e,americanfamily:e,amex:e,amfam:e,amica:e,amsterdam:e,analytics:e,android:e,anquan:e,anz:e,aol:e,apartments:e,app:[1,{beget:r,clerk:t,clerkstage:t,wnext:t,platform0:t,deta:t,ondigitalocean:t,easypanel:t,encr:t,edgecompute:t,fireweb:t,onflashdrive:t,framer:t,run:[2,{a:t}],web:t,hasura:t,loginline:t,messerli:t,netlify:t,ngrok:t,"ngrok-free":t,developer:r,noop:t,northflank:r,snowflake:[2,{privatelink:t}],streamlit:t,storipress:t,telebit:t,typedream:t,vercel:t,bookonline:t}],apple:e,aquarelle:e,arab:e,aramco:e,archi:e,army:e,art:e,arte:e,asda:e,associates:e,athleta:e,attorney:e,auction:e,audi:e,audible:e,audio:e,auspost:e,author:e,auto:e,autos:e,avianca:e,aws:e,axa:e,azure:e,baby:e,baidu:e,banamex:e,bananarepublic:e,band:e,bank:e,bar:e,barcelona:e,barclaycard:e,barclays:e,barefoot:e,bargains:e,baseball:e,basketball:[1,{aus:t,nz:t}],bauhaus:e,bayern:e,bbc:e,bbt:e,bbva:e,bcg:e,bcn:e,beats:e,beauty:e,beer:e,bentley:e,berlin:e,best:e,bestbuy:e,bet:e,bharti:e,bible:e,bid:e,bike:e,bing:e,bingo:e,bio:e,black:e,blackfriday:e,blockbuster:e,blog:e,bloomberg:e,blue:e,bms:e,bmw:e,bnpparibas:e,boats:e,boehringer:e,bofa:e,bom:e,bond:e,boo:e,book:e,booking:e,bosch:e,bostik:e,boston:e,bot:e,boutique:e,box:e,bradesco:e,bridgestone:e,broadway:e,broker:e,brother:e,brussels:e,build:e,builders:[1,{cloudsite:t}],business:c,buy:e,buzz:e,bzh:e,cab:e,cafe:e,cal:e,call:e,calvinklein:e,cam:e,camera:e,camp:e,canon:e,capetown:e,capital:e,capitalone:e,car:e,caravan:e,cards:e,care:e,career:e,careers:e,cars:e,casa:[1,{nabu:[0,{ui:t}]}],case:e,cash:e,casino:e,catering:e,catholic:e,cba:e,cbn:e,cbre:e,cbs:e,center:e,ceo:e,cern:e,cfa:e,cfd:e,chanel:e,channel:e,charity:e,chase:e,chat:e,cheap:e,chintai:e,christmas:e,chrome:e,church:e,cipriani:e,circle:e,cisco:e,citadel:e,citi:e,citic:e,city:e,cityeats:e,claims:e,cleaning:e,click:e,clinic:e,clinique:e,clothing:e,cloud:[1,{banzai:r,elementor:t,encoway:[0,{eu:t}],statics:r,ravendb:t,axarnet:[0,{"es-1":t}],diadem:t,jelastic:[0,{vip:t}],jele:t,"jenv-aruba":[0,{aruba:[0,{eur:[0,{it1:t}]}],it1:t}],keliweb:[2,{cs:t}],oxa:[2,{tn:t,uk:t}],primetel:[2,{uk:t}],reclaim:[0,{ca:t,uk:t,us:t}],trendhosting:[0,{ch:t,de:t}],jotelulu:t,kuleuven:t,linkyard:t,magentosite:r,perspecta:t,vapor:t,"on-rancher":r,scw:[0,{baremetal:[0,{"fr-par-1":t,"fr-par-2":t,"nl-ams-1":t}],"fr-par":[0,{fnc:[2,{functions:t}],k8s:l,s3:t,"s3-website":t,whm:t}],instances:[0,{priv:t,pub:t}],k8s:t,"nl-ams":[0,{k8s:l,s3:t,"s3-website":t,whm:t}],"pl-waw":[0,{k8s:l,s3:t,"s3-website":t}],scalebook:t,smartlabeling:t}],sensiosite:r,trafficplex:t,urown:t,voorloper:t}],club:[1,{cloudns:t,jele:t,barsy:t}],clubmed:e,coach:e,codes:[1,{owo:r}],coffee:e,college:e,cologne:e,comcast:e,commbank:e,community:[1,{nog:t,ravendb:t,myforum:t}],company:e,compare:e,computer:e,comsec:e,condos:e,construction:e,consulting:e,contact:e,contractors:e,cooking:e,cool:[1,{elementor:t,de:t}],corsica:e,country:e,coupon:e,coupons:e,courses:e,cpa:e,credit:e,creditcard:e,creditunion:e,cricket:e,crown:e,crs:e,cruise:e,cruises:e,cuisinella:e,cymru:e,cyou:e,dabur:e,dad:e,dance:e,data:e,date:e,dating:e,datsun:e,day:e,dclk:e,dds:e,deal:e,dealer:e,deals:e,degree:e,delivery:e,dell:e,deloitte:e,delta:e,democrat:e,dental:e,dentist:e,desi:e,design:[1,{bss:t}],dev:[1,{autocode:t,lcl:r,lclstage:r,stg:r,stgstage:r,pages:t,r2:t,workers:t,curv:t,deno:t,"deno-staging":t,deta:t,fly:t,githubpreview:t,gateway:r,iserv:t,localcert:[0,{user:r}],loginline:t,mediatech:t,ngrok:t,"ngrok-free":t,"platter-app":t,shiftcrypto:t,vercel:t,webhare:r}],dhl:e,diamonds:e,diet:e,digital:[1,{cloudapps:[2,{london:t}]}],direct:e,directory:e,discount:e,discover:e,dish:e,diy:e,dnp:e,docs:e,doctor:e,dog:e,domains:e,dot:e,download:e,drive:e,dtv:e,dubai:e,dunlop:e,dupont:e,durban:e,dvag:e,dvr:e,earth:[1,{dapps:[0,{"*":t,bzz:r}]}],eat:e,eco:e,edeka:e,education:c,email:e,emerck:e,energy:e,engineer:e,engineering:e,enterprises:e,epson:e,equipment:e,ericsson:e,erni:e,esq:e,estate:[1,{compute:r}],etisalat:e,eurovision:e,eus:[1,{party:X}],events:[1,{koobin:t,co:t}],exchange:e,expert:e,exposed:e,express:e,extraspace:e,fage:e,fail:e,fairwinds:e,faith:U,family:e,fan:e,fans:e,farm:[1,{storj:t}],farmers:e,fashion:e,fast:e,fedex:e,feedback:e,ferrari:e,ferrero:e,fidelity:e,fido:e,film:e,final:e,finance:e,financial:c,fire:e,firestone:e,firmdale:e,fish:e,fishing:e,fit:e,fitness:e,flickr:e,flights:e,flir:e,florist:e,flowers:e,fly:e,foo:e,food:e,football:e,ford:e,forex:e,forsale:e,forum:e,foundation:e,fox:e,free:e,fresenius:e,frl:e,frogans:e,frontdoor:e,frontier:e,ftr:e,fujitsu:e,fun:e,fund:e,furniture:e,futbol:e,fyi:e,gal:e,gallery:e,gallo:e,gallup:e,game:e,games:e,gap:e,garden:e,gay:e,gbiz:e,gdn:[1,{cnpy:t}],gea:e,gent:e,genting:e,george:e,ggee:e,gift:e,gifts:e,gives:e,giving:e,glass:e,gle:e,global:e,globo:e,gmail:e,gmbh:e,gmo:e,gmx:e,godaddy:e,gold:e,goldpoint:e,golf:e,goo:e,goodyear:e,goog:[1,{cloud:t,translate:t,usercontent:r}],google:e,gop:e,got:e,grainger:e,graphics:e,gratis:e,green:e,gripe:e,grocery:e,group:[1,{discourse:t}],guardian:e,gucci:e,guge:e,guide:e,guitars:e,guru:e,hair:e,hamburg:e,hangout:e,haus:e,hbo:e,hdfc:e,hdfcbank:e,health:[1,{hra:t}],healthcare:e,help:e,helsinki:e,here:e,hermes:e,hiphop:e,hisamitsu:e,hitachi:e,hiv:e,hkt:e,hockey:e,holdings:e,holiday:e,homedepot:e,homegoods:e,homes:e,homesense:e,honda:e,horse:e,hospital:e,host:[1,{cloudaccess:t,freesite:t,easypanel:t,fastvps:t,myfast:t,tempurl:t,wpmudev:t,jele:t,mircloud:t,pcloud:t,half:t}],hosting:[1,{opencraft:t}],hot:e,hotels:e,hotmail:e,house:e,how:e,hsbc:e,hughes:e,hyatt:e,hyundai:e,ibm:e,icbc:e,ice:e,icu:e,ieee:e,ifm:e,ikano:e,imamat:e,imdb:e,immo:e,immobilien:e,inc:e,industries:e,infiniti:e,ing:e,ink:e,institute:e,insurance:e,insure:e,international:e,intuit:e,investments:e,ipiranga:e,irish:e,ismaili:e,ist:e,istanbul:e,itau:e,itv:e,jaguar:e,java:e,jcb:e,jeep:e,jetzt:e,jewelry:e,jio:e,jll:e,jmp:e,jnj:e,joburg:e,jot:e,joy:e,jpmorgan:e,jprs:e,juegos:e,juniper:e,kaufen:e,kddi:e,kerryhotels:e,kerrylogistics:e,kerryproperties:e,kfh:e,kia:e,kids:e,kim:e,kinder:e,kindle:e,kitchen:e,kiwi:e,koeln:e,komatsu:e,kosher:e,kpmg:e,kpn:e,krd:[1,{co:t,edu:t}],kred:e,kuokgroup:e,kyoto:e,lacaixa:e,lamborghini:e,lamer:e,lancaster:e,land:[1,{static:[2,{dev:t,sites:t}]}],landrover:e,lanxess:e,lasalle:e,lat:e,latino:e,latrobe:e,law:e,lawyer:e,lds:e,lease:e,leclerc:e,lefrak:e,legal:e,lego:e,lexus:e,lgbt:e,lidl:e,life:e,lifeinsurance:e,lifestyle:e,lighting:e,like:e,lilly:e,limited:e,limo:e,lincoln:e,link:[1,{cyon:t,mypep:t,dweb:r}],lipsy:e,live:[1,{hlx:t}],living:e,llc:e,llp:e,loan:e,loans:e,locker:e,locus:e,lol:[1,{omg:t}],london:e,lotte:e,lotto:e,love:e,lpl:e,lplfinancial:e,ltd:e,ltda:e,lundbeck:e,luxe:e,luxury:e,madrid:e,maif:e,maison:e,makeup:e,man:e,management:[1,{router:t}],mango:e,map:e,market:e,marketing:e,markets:e,marriott:e,marshalls:e,mattel:e,mba:e,mckinsey:e,med:e,media:L,meet:e,melbourne:e,meme:e,memorial:e,men:e,menu:z,merckmsd:e,miami:e,microsoft:e,mini:e,mint:e,mit:e,mitsubishi:e,mlb:e,mls:e,mma:e,mobile:e,moda:e,moe:e,moi:e,mom:e,monash:e,money:e,monster:e,mormon:e,mortgage:e,moscow:e,moto:e,motorcycles:e,mov:e,movie:e,msd:e,mtn:e,mtr:e,music:e,nab:e,nagoya:e,natura:e,navy:e,nba:e,nec:e,netbank:e,netflix:e,network:[1,{alces:r,co:t,arvo:t,azimuth:t,tlon:t}],neustar:e,new:e,news:[1,{noticeable:t}],next:e,nextdirect:e,nexus:e,nfl:e,ngo:e,nhk:e,nico:e,nike:e,nikon:e,ninja:e,nissan:e,nissay:e,nokia:e,norton:e,now:e,nowruz:e,nowtv:e,nra:e,nrw:e,ntt:e,nyc:e,obi:e,observer:e,office:e,okinawa:e,olayan:e,olayangroup:e,oldnavy:e,ollo:e,omega:e,one:[1,{onred:[2,{staging:t}],service:t,homelink:t}],ong:e,onl:e,online:[1,{eero:t,"eero-stage":t,barsy:t}],ooo:e,open:e,oracle:e,orange:[1,{tech:t}],organic:e,origins:e,osaka:e,otsuka:e,ott:e,ovh:[1,{nerdpol:t}],page:[1,{hlx:t,hlx3:t,translated:t,codeberg:t,pdns:t,plesk:t,prvcy:t,rocky:t,magnet:t}],panasonic:e,paris:e,pars:e,partners:e,parts:e,party:U,pay:e,pccw:e,pet:e,pfizer:e,pharmacy:e,phd:e,philips:e,phone:e,photo:e,photography:e,photos:L,physio:e,pics:e,pictet:e,pictures:[1,{1337:t}],pid:e,pin:e,ping:e,pink:e,pioneer:e,pizza:[1,{ngrok:t}],place:c,play:e,playstation:e,plumbing:e,plus:e,pnc:e,pohl:e,poker:e,politie:e,porn:[1,{indie:t}],pramerica:e,praxi:e,press:e,prime:e,prod:e,productions:e,prof:e,progressive:e,promo:e,properties:e,property:e,protection:e,pru:e,prudential:e,pub:z,pwc:e,qpon:e,quebec:e,quest:e,racing:e,radio:e,read:e,realestate:e,realtor:e,realty:e,recipes:e,red:e,redstone:e,redumbrella:e,rehab:e,reise:e,reisen:e,reit:e,reliance:e,ren:e,rent:e,rentals:e,repair:e,report:e,republican:e,rest:e,restaurant:e,review:U,reviews:e,rexroth:e,rich:e,richardli:e,ricoh:e,ril:e,rio:e,rip:[1,{clan:t}],rocher:e,rocks:[1,{myddns:t,"lima-city":t,webspace:t}],rodeo:e,rogers:e,room:e,rsvp:e,rugby:e,ruhr:e,run:[1,{hs:t,development:t,ravendb:t,servers:t,build:r,code:r,database:r,migration:r,onporter:t,repl:t,wix:t}],rwe:e,ryukyu:e,saarland:e,safe:e,safety:e,sakura:e,sale:e,salon:e,samsclub:e,samsung:e,sandvik:e,sandvikcoromant:e,sanofi:e,sap:e,sarl:e,sas:e,save:e,saxo:e,sbi:e,sbs:e,sca:e,scb:e,schaeffler:e,schmidt:e,scholarships:e,school:e,schule:e,schwarz:e,science:U,scot:[1,{edu:t,gov:[2,{service:t}]}],search:e,seat:e,secure:e,security:e,seek:e,select:e,sener:e,services:[1,{loginline:t}],seven:e,sew:e,sex:e,sexy:e,sfr:e,shangrila:e,sharp:e,shaw:e,shell:e,shia:e,shiksha:e,shoes:e,shop:[1,{base:t,hoplix:t,barsy:t}],shopping:e,shouji:e,show:e,showtime:e,silk:e,sina:e,singles:e,site:[1,{cloudera:r,cyon:t,fnwk:t,folionetwork:t,fastvps:t,jele:t,lelux:t,loginline:t,barsy:t,mintere:t,omniwe:t,opensocial:t,platformsh:r,tst:r,byen:t,srht:t,novecore:t}],ski:e,skin:e,sky:e,skype:e,sling:e,smart:e,smile:e,sncf:e,soccer:e,social:e,softbank:e,software:e,sohu:e,solar:e,solutions:[1,{diher:r}],song:e,sony:e,soy:e,spa:e,space:[1,{myfast:t,uber:t,xs4all:t}],sport:e,spot:e,srl:e,stada:e,staples:e,star:e,statebank:e,statefarm:e,stc:e,stcgroup:e,stockholm:e,storage:e,store:[1,{sellfy:t,shopware:t,storebase:t}],stream:e,studio:e,study:e,style:e,sucks:e,supplies:e,supply:e,support:z,surf:e,surgery:e,suzuki:e,swatch:e,swiss:e,sydney:e,systems:[1,{knightpoint:t}],tab:e,taipei:e,talk:e,taobao:e,target:e,tatamotors:e,tatar:e,tattoo:e,tax:e,taxi:e,tci:e,tdk:e,team:[1,{discourse:t,jelastic:t}],tech:e,technology:c,temasek:e,tennis:e,teva:e,thd:e,theater:e,theatre:e,tiaa:e,tickets:e,tienda:e,tips:e,tires:e,tirol:e,tjmaxx:e,tjx:e,tkmaxx:e,tmall:e,today:[1,{prequalifyme:t}],tokyo:e,tools:e,top:[1,{"now-dns":t,ntdll:t}],toray:e,toshiba:e,total:e,tours:e,town:e,toyota:e,toys:e,trade:U,trading:e,training:e,travel:e,travelers:e,travelersinsurance:e,trust:e,trv:e,tube:e,tui:e,tunes:e,tushu:e,tvs:e,ubank:e,ubs:e,unicom:e,university:e,uno:e,uol:e,ups:e,vacations:e,vana:e,vanguard:e,vegas:e,ventures:e,verisign:e,versicherung:e,vet:e,viajes:e,video:e,vig:e,viking:e,villas:e,vin:e,vip:e,virgin:e,visa:e,vision:e,viva:e,vivo:e,vlaanderen:e,vodka:e,volkswagen:e,volvo:e,vote:e,voting:e,voto:e,voyage:e,wales:e,walmart:e,walter:e,wang:e,wanggou:e,watch:e,watches:e,weather:e,weatherchannel:e,webcam:e,weber:e,website:L,wedding:e,weibo:e,weir:e,whoswho:e,wien:e,wiki:L,williamhill:e,win:e,windows:e,wine:e,winners:e,wme:e,wolterskluwer:e,woodside:e,work:e,works:e,world:e,wow:e,wtc:e,wtf:e,xbox:e,xerox:e,xfinity:e,xihuan:e,xin:e,"xn--11b4c3d":e,कॉम:e,"xn--1ck2e1b":e,セール:e,"xn--1qqw23a":e,佛山:e,"xn--30rr7y":e,慈善:e,"xn--3bst00m":e,集团:e,"xn--3ds443g":e,在线:e,"xn--3pxu8k":e,点看:e,"xn--42c2d9a":e,คอม:e,"xn--45q11c":e,八卦:e,"xn--4gbrim":e,موقع:e,"xn--55qw42g":e,公益:e,"xn--55qx5d":e,公司:e,"xn--5su34j936bgsg":e,香格里拉:e,"xn--5tzm5g":e,网站:e,"xn--6frz82g":e,移动:e,"xn--6qq986b3xl":e,我爱你:e,"xn--80adxhks":e,москва:e,"xn--80aqecdr1a":e,католик:e,"xn--80asehdb":e,онлайн:e,"xn--80aswg":e,сайт:e,"xn--8y0a063a":e,联通:e,"xn--9dbq2a":e,קום:e,"xn--9et52u":e,时尚:e,"xn--9krt00a":e,微博:e,"xn--b4w605ferd":e,淡马锡:e,"xn--bck1b9a5dre4c":e,ファッション:e,"xn--c1avg":e,орг:e,"xn--c2br7g":e,नेट:e,"xn--cck2b3b":e,ストア:e,"xn--cckwcxetd":e,アマゾン:e,"xn--cg4bki":e,삼성:e,"xn--czr694b":e,商标:e,"xn--czrs0t":e,商店:e,"xn--czru2d":e,商城:e,"xn--d1acj3b":e,дети:e,"xn--eckvdtc9d":e,ポイント:e,"xn--efvy88h":e,新闻:e,"xn--fct429k":e,家電:e,"xn--fhbei":e,كوم:e,"xn--fiq228c5hs":e,中文网:e,"xn--fiq64b":e,中信:e,"xn--fjq720a":e,娱乐:e,"xn--flw351e":e,谷歌:e,"xn--fzys8d69uvgm":e,電訊盈科:e,"xn--g2xx48c":e,购物:e,"xn--gckr3f0f":e,クラウド:e,"xn--gk3at1e":e,通販:e,"xn--hxt814e":e,网店:e,"xn--i1b6b1a6a2e":e,संगठन:e,"xn--imr513n":e,餐厅:e,"xn--io0a7i":e,网络:e,"xn--j1aef":e,ком:e,"xn--jlq480n2rg":e,亚马逊:e,"xn--jvr189m":e,食品:e,"xn--kcrx77d1x4a":e,飞利浦:e,"xn--kput3i":e,手机:e,"xn--mgba3a3ejt":e,ارامكو:e,"xn--mgba7c0bbn0a":e,العليان:e,"xn--mgbaakc7dvf":e,اتصالات:e,"xn--mgbab2bd":e,بازار:e,"xn--mgbca7dzdo":e,ابوظبي:e,"xn--mgbi4ecexp":e,كاثوليك:e,"xn--mgbt3dhd":e,همراه:e,"xn--mk1bu44c":e,닷컴:e,"xn--mxtq1m":e,政府:e,"xn--ngbc5azd":e,شبكة:e,"xn--ngbe9e0a":e,بيتك:e,"xn--ngbrx":e,عرب:e,"xn--nqv7f":e,机构:e,"xn--nqv7fs00ema":e,组织机构:e,"xn--nyqy26a":e,健康:e,"xn--otu796d":e,招聘:e,"xn--p1acf":[1,{"xn--90amc":t,"xn--j1aef":t,"xn--j1ael8b":t,"xn--h1ahn":t,"xn--j1adp":t,"xn--c1avg":t,"xn--80aaa0cvac":t,"xn--h1aliz":t,"xn--90a1af":t,"xn--41a":t}],рус:[1,{биз:t,ком:t,крым:t,мир:t,мск:t,орг:t,самара:t,сочи:t,спб:t,я:t}],"xn--pssy2u":e,大拿:e,"xn--q9jyb4c":e,みんな:e,"xn--qcka1pmc":e,グーグル:e,"xn--rhqv96g":e,世界:e,"xn--rovu88b":e,書籍:e,"xn--ses554g":e,网址:e,"xn--t60b56a":e,닷넷:e,"xn--tckwe":e,コム:e,"xn--tiq49xqyj":e,天主教:e,"xn--unup4y":e,游戏:e,"xn--vermgensberater-ctb":e,vermögensberater:e,"xn--vermgensberatung-pwb":e,vermögensberatung:e,"xn--vhquv":e,企业:e,"xn--vuq861b":e,信息:e,"xn--w4r85el8fhu5dnra":e,嘉里大酒店:e,"xn--w4rs40l":e,嘉里:e,"xn--xhq521b":e,广东:e,"xn--zfr164b":e,政务:e,xyz:[1,{blogsite:t,localzone:t,crafting:t,zapto:t,telebit:r}],yachts:e,yahoo:e,yamaxun:e,yandex:e,yodobashi:e,yoga:e,yokohama:e,you:e,youtube:e,yun:e,zappos:e,zara:e,zero:e,zip:e,zone:[1,{cloud66:t,hs:t,triton:r,lima:t}],zuerich:e}]}();function jj(e,t,n,r){let i=null,o=t;for(;o!==void 0&&(o[0]&r&&(i={index:n+1,isIcann:o[0]===1,isPrivate:o[0]===2}),n!==-1);){const s=o[1];o=Object.prototype.hasOwnProperty.call(s,e[n])?s[e[n]]:s["*"],n-=1}return i}function Xke(e,t,n){var r;if(Zke(e,t,n))return;const i=e.split("."),o=(t.allowPrivateDomains?2:0)|(t.allowIcannDomains?1:0),s=jj(i,Jke,i.length-1,o);if(s!==null){n.isIcann=s.isIcann,n.isPrivate=s.isPrivate,n.publicSuffix=i.slice(s.index+1).join(".");return}const a=jj(i,Yke,i.length-1,o);if(a!==null){n.isIcann=a.isIcann,n.isPrivate=a.isPrivate,n.publicSuffix=i.slice(a.index).join(".");return}n.isIcann=!1,n.isPrivate=!1,n.publicSuffix=(r=i[i.length-1])!==null&&r!==void 0?r:null}function Qke(e,t={}){return Gke(e,5,Xke,t,Kke())}const oI="FALLBACK_UNDEFINED",u2=(e,...t)=>l2(void 0,[e,...t],void 0,function*(n,r={}){const{maxRetries:i=3,currentRetry:o=0,timeoutMs:s=100,fallbackValue:a=new Error("Max retries reached"),retryStrategy:c="timeout-only",retryIntervalMs:l=0,logger:d}=r;d==null||d.debug("Configured retryableFn with options: ",{currentRetry:o,fallbackValue:a,maxRetries:i,retryStrategy:c,timeoutMs:s});const f=new Promise((p,m)=>{setTimeout(()=>{m(new Error("Timeout"))},s)});try{return yield Promise.race([n(),f])}catch(p){if(d==null||d.debug("retryableFn caught error: ",p),o>=i){if(d==null||d.error("Error while retrying function, returning/throwing fallback value",p,a),a instanceof Error)throw a;return a===oI?void 0:a}const m=(p==null?void 0:p.message)==="Timeout",g=c==="timeout-and-rejection"||c==="timeout-only"&&m||c==="rejection-only"&&!m;if(d==null||d.debug("retryableFn shouldRetry: ",g),!g){if(a instanceof Error)throw d==null||d.debug("retryableFn throwing fallbackValue error: ",a),p;if(a===oI){d==null||d.debug("retryableFn returning undefined");return}return d==null||d.debug("retryableFn returning fallbackValue: ",a),d==null||d.error("Error while retrying function, returning fallback value",p),a}return l&&(yield o3(l)),u2(n,{currentRetry:o+1,fallbackValue:a,logger:d,maxRetries:i,retryIntervalMs:l,retryStrategy:c,timeoutMs:s})}}),YA=({nativeLink:e,universalLink:t})=>{const n=encodeURIComponent(window.location.toString()),r=encodeURIComponent(window.location.origin);Oke()?window.location.assign(`${e}/${n}?ref=${r}`):window.location.assign(`${t}/${n}?ref=${r}`)},e3e=e=>({getHost:()=>e.location.host,getHostname:()=>e.location.hostname,getOrigin:()=>e.location.origin,getTLD:()=>Qke(e.location.hostname,{allowPrivateDomains:!0}).domain||void 0,openNewWindow:t=>l2(void 0,void 0,void 0,function*(){e.open(t)}),openURL:t=>l2(void 0,void 0,void 0,function*(){e.location.assign(t)})});class Uo{static get implementation(){return Uo._implementation?Uo._implementation:e3e(window)}static setImplementation(t){Uo._implementation=t}static get getOrigin(){return Uo.implementation.getOrigin}static get getHost(){return Uo.implementation.getHost}static get getHostname(){return Uo.implementation.getHostname}static get getTLD(){return Uo.implementation.getTLD}static get openURL(){return Uo.implementation.openURL}static get openNewWindow(){return Uo.implementation.openNewWindow}}const bp=()=>Uo.getTLD(),ZH=(e,t=0)=>{const n=Math.pow(10,t);return Math.ceil(e*n)/n},t3e=(e,t="")=>{let n=e.length-1;for(;n>=0&&e[n]===t;)n--;return e.slice(0,n+1)},JH=(e,{precision:t=0}={})=>{if(!t)return e;const n=parseFloat(e),r=ZH(n,t).toFixed(t),[i,o]=r.split("."),s=t3e(o,"0");return`${i}.${s||"0"}`},n3e=(e,t)=>t.filter(r=>{var i;return((i=r.walletProperties)===null||i===void 0?void 0:i.hardwareWallet)==="ledger"}).map(r=>r.address).includes(e),r3e=e=>l2(void 0,void 0,void 0,function*(){try{return[yield e(),void 0]}catch(t){return[void 0,t]}});class xf{static get implementation(){return xf._implementation?xf._implementation:{fetch:window.fetch.bind(window)}}static setImplementation(t){xf._implementation=t}static get fetch(){return xf.implementation.fetch}}const i3e=e=>e.type==="eip6963:announceProvider"&&e.detail!==void 0;class o3e{constructor(){this.providers=[]}registerProviders(){typeof window>"u"||(window.addEventListener("eip6963:announceProvider",t=>{i3e(t)&&this.providers.push(t.detail)}),window.dispatchEvent(new Event("eip6963:requestProvider")))}}class qh{constructor(){this.eip6963Provider=new o3e}static get(){var t;return!((t=qh.instance)===null||t===void 0)&&t.eip6963Provider||(qh.instance=new qh,qh.instance.eip6963Provider.registerProviders()),qh.instance.eip6963Provider}}const s3e=e=>t=>e.replace(/{{(\w+?)}}/g,(n,r)=>r in t?t[r]:n),a3e=(e,t)=>{try{return(t.match(/[^.[\]"']+/g)||[]).reduce((r,i)=>r[i],e)}catch{return}},c3e=e=>{const t=e.startsWith("0x")?e.substring(2):e;let n="";const r=t.length-t.length%2;for(let i=0;i<r;i+=2){const o=t.substring(i,i+2),s=parseInt(o,16);n+=String.fromCharCode(s)}return n},l3e=e=>{if(typeof e!="string")throw new Error("Input must be a string");const t=e.startsWith("0x")?e.substring(2):e;return/^[0-9a-fA-F]+$/.test(t)};var fi;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(fi||(fi={}));var sI;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(sI||(sI={}));const tn=fi.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wf=e=>{switch(typeof e){case"undefined":return tn.undefined;case"string":return tn.string;case"number":return isNaN(e)?tn.nan:tn.number;case"boolean":return tn.boolean;case"function":return tn.function;case"bigint":return tn.bigint;case"symbol":return tn.symbol;case"object":return Array.isArray(e)?tn.array:e===null?tn.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?tn.promise:typeof Map<"u"&&e instanceof Map?tn.map:typeof Set<"u"&&e instanceof Set?tn.set:typeof Date<"u"&&e instanceof Date?tn.date:tn.object;default:return tn.unknown}},bt=fi.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),d3e=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class _l extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,c=0;for(;c<s.path.length;){const l=s.path[c];c===s.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(s))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,fi.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}_l.create=e=>new _l(e);const cb=(e,t)=>{let n;switch(e.code){case bt.invalid_type:e.received===tn.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case bt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,fi.jsonStringifyReplacer)}`;break;case bt.unrecognized_keys:n=`Unrecognized key(s) in object: ${fi.joinValues(e.keys,", ")}`;break;case bt.invalid_union:n="Invalid input";break;case bt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${fi.joinValues(e.options)}`;break;case bt.invalid_enum_value:n=`Invalid enum value. Expected ${fi.joinValues(e.options)}, received '${e.received}'`;break;case bt.invalid_arguments:n="Invalid function arguments";break;case bt.invalid_return_type:n="Invalid function return type";break;case bt.invalid_date:n="Invalid date";break;case bt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:fi.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case bt.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case bt.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case bt.custom:n="Invalid input";break;case bt.invalid_intersection_types:n="Intersection results could not be merged";break;case bt.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case bt.not_finite:n="Number must be finite";break;default:n=t.defaultError,fi.assertNever(e)}return{message:n}};let YH=cb;function u3e(e){YH=e}function f2(){return YH}const h2=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(s,{data:t,defaultError:a}).message;return{...i,path:o,message:i.message||a}},f3e=[];function sn(e,t){const n=h2({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,f2(),cb].filter(r=>!!r)});e.common.issues.push(n)}class ta{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return pr;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return ta.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return pr;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}}const pr=Object.freeze({status:"aborted"}),XH=e=>({status:"dirty",value:e}),pa=e=>({status:"valid",value:e}),aI=e=>e.status==="aborted",cI=e=>e.status==="dirty",lb=e=>e.status==="valid",p2=e=>typeof Promise<"u"&&e instanceof Promise;var Wn;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Wn||(Wn={}));class dd{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Bj=(e,t)=>{if(lb(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new _l(e.common.issues);return this._error=n,this._error}}};function _r(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,a)=>s.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class Mr{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return wf(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:wf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ta,ctx:{common:t.parent.common,data:t.data,parsedType:wf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(p2(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wf(t)},o=this._parseSync({data:t,path:i.path,parent:i});return Bj(i,o)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wf(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(p2(i)?i:Promise.resolve(i));return Bj(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),a=()=>o.addIssue({code:bt.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Il({schema:this,typeName:ir.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return wu.create(this,this._def)}nullable(){return xp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xl.create(this,this._def)}promise(){return e0.create(this,this._def)}or(t){return hb.create([this,t],this._def)}and(t){return pb.create(this,t,this._def)}transform(t){return new Il({..._r(this._def),schema:this,typeName:ir.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new bb({..._r(this._def),innerType:this,defaultValue:n,typeName:ir.ZodDefault})}brand(){return new eK({typeName:ir.ZodBranded,type:this,..._r(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new v2({..._r(this._def),innerType:this,catchValue:n,typeName:ir.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return b1.create(this,t)}readonly(){return w2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const h3e=/^c[^\s-]{8,}$/i,p3e=/^[a-z][a-z0-9]*$/,m3e=/^[0-9A-HJKMNP-TV-Z]{26}$/,g3e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,y3e=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,v3e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let A6;const b3e=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,w3e=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,_3e=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function x3e(e,t){return!!((t==="v4"||!t)&&b3e.test(e)||(t==="v6"||!t)&&w3e.test(e))}class gl extends Mr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==tn.string){const o=this._getOrReturnCtx(t);return sn(o,{code:bt.invalid_type,expected:tn.string,received:o.parsedType}),pr}const r=new ta;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),sn(i,{code:bt.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),sn(i,{code:bt.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,a=t.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(t,i),s?sn(i,{code:bt.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&sn(i,{code:bt.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")y3e.test(t.data)||(i=this._getOrReturnCtx(t,i),sn(i,{validation:"email",code:bt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")A6||(A6=new RegExp(v3e,"u")),A6.test(t.data)||(i=this._getOrReturnCtx(t,i),sn(i,{validation:"emoji",code:bt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")g3e.test(t.data)||(i=this._getOrReturnCtx(t,i),sn(i,{validation:"uuid",code:bt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")h3e.test(t.data)||(i=this._getOrReturnCtx(t,i),sn(i,{validation:"cuid",code:bt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")p3e.test(t.data)||(i=this._getOrReturnCtx(t,i),sn(i,{validation:"cuid2",code:bt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")m3e.test(t.data)||(i=this._getOrReturnCtx(t,i),sn(i,{validation:"ulid",code:bt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),sn(i,{validation:"url",code:bt.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),sn(i,{validation:"regex",code:bt.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),sn(i,{code:bt.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),sn(i,{code:bt.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),sn(i,{code:bt.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?_3e(o).test(t.data)||(i=this._getOrReturnCtx(t,i),sn(i,{code:bt.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="ip"?x3e(t.data,o.version)||(i=this._getOrReturnCtx(t,i),sn(i,{validation:"ip",code:bt.invalid_string,message:o.message}),r.dirty()):fi.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:bt.invalid_string,...Wn.errToObj(r)})}_addCheck(t){return new gl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Wn.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Wn.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Wn.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Wn.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Wn.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Wn.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Wn.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Wn.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...Wn.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Wn.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Wn.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Wn.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Wn.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Wn.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Wn.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Wn.errToObj(n)})}nonempty(t){return this.min(1,Wn.errToObj(t))}trim(){return new gl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}gl.create=e=>{var t;return new gl({checks:[],typeName:ir.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,..._r(e)})};function k3e(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class Lf extends Mr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==tn.number){const o=this._getOrReturnCtx(t);return sn(o,{code:bt.invalid_type,expected:tn.number,received:o.parsedType}),pr}let r;const i=new ta;for(const o of this._def.checks)o.kind==="int"?fi.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),sn(r,{code:bt.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),sn(r,{code:bt.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),sn(r,{code:bt.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?k3e(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),sn(r,{code:bt.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),sn(r,{code:bt.not_finite,message:o.message}),i.dirty()):fi.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Wn.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Wn.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Wn.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Wn.toString(n))}setLimit(t,n,r,i){return new Lf({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Wn.toString(i)}]})}_addCheck(t){return new Lf({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Wn.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Wn.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Wn.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Wn.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Wn.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Wn.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Wn.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Wn.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Wn.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&fi.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Lf.create=e=>new Lf({checks:[],typeName:ir.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,..._r(e)});class Uf extends Mr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==tn.bigint){const o=this._getOrReturnCtx(t);return sn(o,{code:bt.invalid_type,expected:tn.bigint,received:o.parsedType}),pr}let r;const i=new ta;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),sn(r,{code:bt.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),sn(r,{code:bt.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),sn(r,{code:bt.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):fi.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Wn.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Wn.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Wn.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Wn.toString(n))}setLimit(t,n,r,i){return new Uf({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Wn.toString(i)}]})}_addCheck(t){return new Uf({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Wn.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Wn.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Wn.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Wn.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Wn.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Uf.create=e=>{var t;return new Uf({checks:[],typeName:ir.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,..._r(e)})};class db extends Mr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==tn.boolean){const r=this._getOrReturnCtx(t);return sn(r,{code:bt.invalid_type,expected:tn.boolean,received:r.parsedType}),pr}return pa(t.data)}}db.create=e=>new db({typeName:ir.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,..._r(e)});class wp extends Mr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==tn.date){const o=this._getOrReturnCtx(t);return sn(o,{code:bt.invalid_type,expected:tn.date,received:o.parsedType}),pr}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return sn(o,{code:bt.invalid_date}),pr}const r=new ta;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),sn(i,{code:bt.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),sn(i,{code:bt.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):fi.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new wp({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Wn.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Wn.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}wp.create=e=>new wp({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ir.ZodDate,..._r(e)});class m2 extends Mr{_parse(t){if(this._getType(t)!==tn.symbol){const r=this._getOrReturnCtx(t);return sn(r,{code:bt.invalid_type,expected:tn.symbol,received:r.parsedType}),pr}return pa(t.data)}}m2.create=e=>new m2({typeName:ir.ZodSymbol,..._r(e)});class ub extends Mr{_parse(t){if(this._getType(t)!==tn.undefined){const r=this._getOrReturnCtx(t);return sn(r,{code:bt.invalid_type,expected:tn.undefined,received:r.parsedType}),pr}return pa(t.data)}}ub.create=e=>new ub({typeName:ir.ZodUndefined,..._r(e)});class fb extends Mr{_parse(t){if(this._getType(t)!==tn.null){const r=this._getOrReturnCtx(t);return sn(r,{code:bt.invalid_type,expected:tn.null,received:r.parsedType}),pr}return pa(t.data)}}fb.create=e=>new fb({typeName:ir.ZodNull,..._r(e)});class Qg extends Mr{constructor(){super(...arguments),this._any=!0}_parse(t){return pa(t.data)}}Qg.create=e=>new Qg({typeName:ir.ZodAny,..._r(e)});class op extends Mr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return pa(t.data)}}op.create=e=>new op({typeName:ir.ZodUnknown,..._r(e)});class Pu extends Mr{_parse(t){const n=this._getOrReturnCtx(t);return sn(n,{code:bt.invalid_type,expected:tn.never,received:n.parsedType}),pr}}Pu.create=e=>new Pu({typeName:ir.ZodNever,..._r(e)});class g2 extends Mr{_parse(t){if(this._getType(t)!==tn.undefined){const r=this._getOrReturnCtx(t);return sn(r,{code:bt.invalid_type,expected:tn.void,received:r.parsedType}),pr}return pa(t.data)}}g2.create=e=>new g2({typeName:ir.ZodVoid,..._r(e)});class xl extends Mr{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==tn.array)return sn(n,{code:bt.invalid_type,expected:tn.array,received:n.parsedType}),pr;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(sn(n,{code:s?bt.too_big:bt.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(sn(n,{code:bt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(sn(n,{code:bt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new dd(n,s,n.path,a)))).then(s=>ta.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new dd(n,s,n.path,a)));return ta.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new xl({...this._def,minLength:{value:t,message:Wn.toString(n)}})}max(t,n){return new xl({...this._def,maxLength:{value:t,message:Wn.toString(n)}})}length(t,n){return new xl({...this._def,exactLength:{value:t,message:Wn.toString(n)}})}nonempty(t){return this.min(1,t)}}xl.create=(e,t)=>new xl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ir.ZodArray,..._r(t)});function Jm(e){if(e instanceof lo){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=wu.create(Jm(r))}return new lo({...e._def,shape:()=>t})}else return e instanceof xl?new xl({...e._def,type:Jm(e.element)}):e instanceof wu?wu.create(Jm(e.unwrap())):e instanceof xp?xp.create(Jm(e.unwrap())):e instanceof ud?ud.create(e.items.map(t=>Jm(t))):e}class lo extends Mr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=fi.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==tn.object){const l=this._getOrReturnCtx(t);return sn(l,{code:bt.invalid_type,expected:tn.object,received:l.parsedType}),pr}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Pu&&this._def.unknownKeys==="strip"))for(const l in i.data)s.includes(l)||a.push(l);const c=[];for(const l of s){const d=o[l],f=i.data[l];c.push({key:{status:"valid",value:l},value:d._parse(new dd(i,f,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Pu){const l=this._def.unknownKeys;if(l==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(l==="strict")a.length>0&&(sn(i,{code:bt.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const d of a){const f=i.data[d];c.push({key:{status:"valid",value:d},value:l._parse(new dd(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const d of c){const f=await d.key;l.push({key:f,value:await d.value,alwaysSet:d.alwaysSet})}return l}).then(l=>ta.mergeObjectSync(r,l)):ta.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Wn.errToObj,new lo({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o,s,a;const c=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Wn.errToObj(t).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new lo({...this._def,unknownKeys:"strip"})}passthrough(){return new lo({...this._def,unknownKeys:"passthrough"})}extend(t){return new lo({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new lo({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ir.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new lo({...this._def,catchall:t})}pick(t){const n={};return fi.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new lo({...this._def,shape:()=>n})}omit(t){const n={};return fi.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new lo({...this._def,shape:()=>n})}deepPartial(){return Jm(this)}partial(t){const n={};return fi.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new lo({...this._def,shape:()=>n})}required(t){const n={};return fi.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof wu;)o=o._def.innerType;n[r]=o}}),new lo({...this._def,shape:()=>n})}keyof(){return QH(fi.objectKeys(this.shape))}}lo.create=(e,t)=>new lo({shape:()=>e,unknownKeys:"strip",catchall:Pu.create(),typeName:ir.ZodObject,..._r(t)});lo.strictCreate=(e,t)=>new lo({shape:()=>e,unknownKeys:"strict",catchall:Pu.create(),typeName:ir.ZodObject,..._r(t)});lo.lazycreate=(e,t)=>new lo({shape:e,unknownKeys:"strip",catchall:Pu.create(),typeName:ir.ZodObject,..._r(t)});class hb extends Mr{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new _l(a.ctx.common.issues));return sn(n,{code:bt.invalid_union,unionErrors:s}),pr}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:l});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:l}),l.common.issues.length&&s.push(l.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(c=>new _l(c));return sn(n,{code:bt.invalid_union,unionErrors:a}),pr}}get options(){return this._def.options}}hb.create=(e,t)=>new hb({options:e,typeName:ir.ZodUnion,..._r(t)});const Tx=e=>e instanceof gb?Tx(e.schema):e instanceof Il?Tx(e.innerType()):e instanceof yb?[e.value]:e instanceof Ff?e.options:e instanceof vb?Object.keys(e.enum):e instanceof bb?Tx(e._def.innerType):e instanceof ub?[void 0]:e instanceof fb?[null]:null;class s3 extends Mr{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tn.object)return sn(n,{code:bt.invalid_type,expected:tn.object,received:n.parsedType}),pr;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(sn(n,{code:bt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),pr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const s=Tx(o.shape[t]);if(!s)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new s3({typeName:ir.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,..._r(r)})}}function lI(e,t){const n=wf(e),r=wf(t);if(e===t)return{valid:!0,data:e};if(n===tn.object&&r===tn.object){const i=fi.objectKeys(t),o=fi.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(const a of o){const c=lI(e[a],t[a]);if(!c.valid)return{valid:!1};s[a]=c.data}return{valid:!0,data:s}}else if(n===tn.array&&r===tn.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],c=lI(s,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===tn.date&&r===tn.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class pb extends Mr{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(aI(o)||aI(s))return pr;const a=lI(o.value,s.value);return a.valid?((cI(o)||cI(s))&&n.dirty(),{status:n.value,value:a.data}):(sn(r,{code:bt.invalid_intersection_types}),pr)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}pb.create=(e,t,n)=>new pb({left:e,right:t,typeName:ir.ZodIntersection,..._r(n)});class ud extends Mr{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tn.array)return sn(r,{code:bt.invalid_type,expected:tn.array,received:r.parsedType}),pr;if(r.data.length<this._def.items.length)return sn(r,{code:bt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pr;!this._def.rest&&r.data.length>this._def.items.length&&(sn(r,{code:bt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new dd(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>ta.mergeArray(n,s)):ta.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new ud({...this._def,rest:t})}}ud.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ud({items:e,typeName:ir.ZodTuple,rest:null,..._r(t)})};class mb extends Mr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tn.object)return sn(r,{code:bt.invalid_type,expected:tn.object,received:r.parsedType}),pr;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new dd(r,a,r.path,a)),value:s._parse(new dd(r,r.data[a],r.path,a))});return r.common.async?ta.mergeObjectAsync(n,i):ta.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Mr?new mb({keyType:t,valueType:n,typeName:ir.ZodRecord,..._r(r)}):new mb({keyType:gl.create(),valueType:t,typeName:ir.ZodRecord,..._r(n)})}}class y2 extends Mr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tn.map)return sn(r,{code:bt.invalid_type,expected:tn.map,received:r.parsedType}),pr;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new dd(r,a,r.path,[l,"key"])),value:o._parse(new dd(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of s){const l=await c.key,d=await c.value;if(l.status==="aborted"||d.status==="aborted")return pr;(l.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(l.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of s){const l=c.key,d=c.value;if(l.status==="aborted"||d.status==="aborted")return pr;(l.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(l.value,d.value)}return{status:n.value,value:a}}}}y2.create=(e,t,n)=>new y2({valueType:t,keyType:e,typeName:ir.ZodMap,..._r(n)});class _p extends Mr{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tn.set)return sn(r,{code:bt.invalid_type,expected:tn.set,received:r.parsedType}),pr;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(sn(r,{code:bt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(sn(r,{code:bt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(c){const l=new Set;for(const d of c){if(d.status==="aborted")return pr;d.status==="dirty"&&n.dirty(),l.add(d.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>o._parse(new dd(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>s(c)):s(a)}min(t,n){return new _p({...this._def,minSize:{value:t,message:Wn.toString(n)}})}max(t,n){return new _p({...this._def,maxSize:{value:t,message:Wn.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}_p.create=(e,t)=>new _p({valueType:e,minSize:null,maxSize:null,typeName:ir.ZodSet,..._r(t)});class Tg extends Mr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tn.function)return sn(n,{code:bt.invalid_type,expected:tn.function,received:n.parsedType}),pr;function r(a,c){return h2({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,f2(),cb].filter(l=>!!l),issueData:{code:bt.invalid_arguments,argumentsError:c}})}function i(a,c){return h2({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,f2(),cb].filter(l=>!!l),issueData:{code:bt.invalid_return_type,returnTypeError:c}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof e0){const a=this;return pa(async function(...c){const l=new _l([]),d=await a._def.args.parseAsync(c,o).catch(m=>{throw l.addIssue(r(c,m)),l}),f=await Reflect.apply(s,this,d);return await a._def.returns._def.type.parseAsync(f,o).catch(m=>{throw l.addIssue(i(f,m)),l})})}else{const a=this;return pa(function(...c){const l=a._def.args.safeParse(c,o);if(!l.success)throw new _l([r(c,l.error)]);const d=Reflect.apply(s,this,l.data),f=a._def.returns.safeParse(d,o);if(!f.success)throw new _l([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Tg({...this._def,args:ud.create(t).rest(op.create())})}returns(t){return new Tg({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Tg({args:t||ud.create([]).rest(op.create()),returns:n||op.create(),typeName:ir.ZodFunction,..._r(r)})}}class gb extends Mr{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}gb.create=(e,t)=>new gb({getter:e,typeName:ir.ZodLazy,..._r(t)});class yb extends Mr{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return sn(n,{received:n.data,code:bt.invalid_literal,expected:this._def.value}),pr}return{status:"valid",value:t.data}}get value(){return this._def.value}}yb.create=(e,t)=>new yb({value:e,typeName:ir.ZodLiteral,..._r(t)});function QH(e,t){return new Ff({values:e,typeName:ir.ZodEnum,..._r(t)})}class Ff extends Mr{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return sn(n,{expected:fi.joinValues(r),received:n.parsedType,code:bt.invalid_type}),pr}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return sn(n,{received:n.data,code:bt.invalid_enum_value,options:r}),pr}return pa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return Ff.create(t)}exclude(t){return Ff.create(this.options.filter(n=>!t.includes(n)))}}Ff.create=QH;class vb extends Mr{_parse(t){const n=fi.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==tn.string&&r.parsedType!==tn.number){const i=fi.objectValues(n);return sn(r,{expected:fi.joinValues(i),received:r.parsedType,code:bt.invalid_type}),pr}if(n.indexOf(t.data)===-1){const i=fi.objectValues(n);return sn(r,{received:r.data,code:bt.invalid_enum_value,options:i}),pr}return pa(t.data)}get enum(){return this._def.values}}vb.create=(e,t)=>new vb({values:e,typeName:ir.ZodNativeEnum,..._r(t)});class e0 extends Mr{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tn.promise&&n.common.async===!1)return sn(n,{code:bt.invalid_type,expected:tn.promise,received:n.parsedType}),pr;const r=n.parsedType===tn.promise?n.data:Promise.resolve(n.data);return pa(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}e0.create=(e,t)=>new e0({type:e,typeName:ir.ZodPromise,..._r(t)});class Il extends Mr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ir.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{sn(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(s).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:s,path:r.path,parent:r})}if(i.type==="refinement"){const s=a=>{const c=i.refinement(a,o);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?pr:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?pr:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!lb(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>lb(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s);fi.assertNever(i)}}Il.create=(e,t,n)=>new Il({schema:e,typeName:ir.ZodEffects,effect:t,..._r(n)});Il.createWithPreprocess=(e,t,n)=>new Il({schema:t,effect:{type:"preprocess",transform:e},typeName:ir.ZodEffects,..._r(n)});class wu extends Mr{_parse(t){return this._getType(t)===tn.undefined?pa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wu.create=(e,t)=>new wu({innerType:e,typeName:ir.ZodOptional,..._r(t)});class xp extends Mr{_parse(t){return this._getType(t)===tn.null?pa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xp.create=(e,t)=>new xp({innerType:e,typeName:ir.ZodNullable,..._r(t)});class bb extends Mr{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===tn.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}bb.create=(e,t)=>new bb({innerType:e,typeName:ir.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,..._r(t)});class v2 extends Mr{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return p2(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new _l(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new _l(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}v2.create=(e,t)=>new v2({innerType:e,typeName:ir.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,..._r(t)});class b2 extends Mr{_parse(t){if(this._getType(t)!==tn.nan){const r=this._getOrReturnCtx(t);return sn(r,{code:bt.invalid_type,expected:tn.nan,received:r.parsedType}),pr}return{status:"valid",value:t.data}}}b2.create=e=>new b2({typeName:ir.ZodNaN,..._r(e)});const S3e=Symbol("zod_brand");class eK extends Mr{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class b1 extends Mr{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?pr:o.status==="dirty"?(n.dirty(),XH(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?pr:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new b1({in:t,out:n,typeName:ir.ZodPipeline})}}class w2 extends Mr{_parse(t){const n=this._def.innerType._parse(t);return lb(n)&&(n.value=Object.freeze(n.value)),n}}w2.create=(e,t)=>new w2({innerType:e,typeName:ir.ZodReadonly,..._r(t)});const tK=(e,t={},n)=>e?Qg.create().superRefine((r,i)=>{var o,s;if(!e(r)){const a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,c=(s=(o=a.fatal)!==null&&o!==void 0?o:n)!==null&&s!==void 0?s:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):Qg.create(),E3e={object:lo.lazycreate};var ir;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ir||(ir={}));const C3e=(e,t={message:`Input not instance of ${e.name}`})=>tK(n=>n instanceof e,t),Sv=gl.create,nK=Lf.create,I3e=b2.create,A3e=Uf.create,rK=db.create,T3e=wp.create,R3e=m2.create,P3e=ub.create,O3e=fb.create,N3e=Qg.create,j3e=op.create,B3e=Pu.create,$3e=g2.create,M3e=xl.create,D3e=lo.create,L3e=lo.strictCreate,U3e=hb.create,F3e=s3.create,W3e=pb.create,z3e=ud.create,q3e=mb.create,V3e=y2.create,H3e=_p.create,K3e=Tg.create,G3e=gb.create,Z3e=yb.create,J3e=Ff.create,Y3e=vb.create,X3e=e0.create,$j=Il.create,Q3e=wu.create,eSe=xp.create,tSe=Il.createWithPreprocess,nSe=b1.create,rSe=()=>Sv().optional(),iSe=()=>nK().optional(),oSe=()=>rK().optional(),sSe={string:e=>gl.create({...e,coerce:!0}),number:e=>Lf.create({...e,coerce:!0}),boolean:e=>db.create({...e,coerce:!0}),bigint:e=>Uf.create({...e,coerce:!0}),date:e=>wp.create({...e,coerce:!0})},aSe=pr;var He=Object.freeze({__proto__:null,defaultErrorMap:cb,setErrorMap:u3e,getErrorMap:f2,makeIssue:h2,EMPTY_PATH:f3e,addIssueToContext:sn,ParseStatus:ta,INVALID:pr,DIRTY:XH,OK:pa,isAborted:aI,isDirty:cI,isValid:lb,isAsync:p2,get util(){return fi},get objectUtil(){return sI},ZodParsedType:tn,getParsedType:wf,ZodType:Mr,ZodString:gl,ZodNumber:Lf,ZodBigInt:Uf,ZodBoolean:db,ZodDate:wp,ZodSymbol:m2,ZodUndefined:ub,ZodNull:fb,ZodAny:Qg,ZodUnknown:op,ZodNever:Pu,ZodVoid:g2,ZodArray:xl,ZodObject:lo,ZodUnion:hb,ZodDiscriminatedUnion:s3,ZodIntersection:pb,ZodTuple:ud,ZodRecord:mb,ZodMap:y2,ZodSet:_p,ZodFunction:Tg,ZodLazy:gb,ZodLiteral:yb,ZodEnum:Ff,ZodNativeEnum:vb,ZodPromise:e0,ZodEffects:Il,ZodTransformer:Il,ZodOptional:wu,ZodNullable:xp,ZodDefault:bb,ZodCatch:v2,ZodNaN:b2,BRAND:S3e,ZodBranded:eK,ZodPipeline:b1,ZodReadonly:w2,custom:tK,Schema:Mr,ZodSchema:Mr,late:E3e,get ZodFirstPartyTypeKind(){return ir},coerce:sSe,any:N3e,array:M3e,bigint:A3e,boolean:rK,date:T3e,discriminatedUnion:F3e,effect:$j,enum:J3e,function:K3e,instanceof:C3e,intersection:W3e,lazy:G3e,literal:Z3e,map:V3e,nan:I3e,nativeEnum:Y3e,never:B3e,null:O3e,nullable:eSe,number:nK,object:D3e,oboolean:oSe,onumber:iSe,optional:Q3e,ostring:rSe,pipeline:nSe,preprocess:tSe,promise:X3e,record:q3e,set:H3e,strictObject:L3e,string:Sv,symbol:R3e,transformer:$j,tuple:z3e,undefined:P3e,union:U3e,unknown:j3e,void:$3e,NEVER:aSe,ZodIssueCode:bt,quotelessJson:d3e,ZodError:_l});const cSe=He.object({app:He.object({android:He.string().nullable(),browser:He.string().nullable(),chrome:He.string().nullable(),edge:He.string().nullable(),firefox:He.string().nullable(),ios:He.string().nullable(),linux:He.string().nullable(),mac:He.string().nullable(),opera:He.string().nullable(),safari:He.string().nullable(),windows:He.string().nullable()}),app_type:He.string(),category:He.string().nullable(),chains:He.array(He.string()),description:He.string().nullable(),desktop:He.object({native:He.string().nullable(),universal:He.string().nullable()}),homepage:He.string(),id:He.string(),image_id:He.string(),image_url:He.object({lg:He.string(),md:He.string(),sm:He.string()}),injected:He.array(He.object({injected_id:He.string(),namespace:He.string()})).nullable(),metadata:He.object({colors:He.object({primary:He.string().nullable(),secondary:He.string().nullable()}),shortName:He.string().nullable()}),mobile:He.object({native:He.string().nullable(),universal:He.string().nullable()}),name:He.string(),rdns:He.string().nullable(),sdks:He.array(He.string()),slug:He.string(),supported_standards:He.array(He.object({id:He.string(),standard_id:He.number(),standard_prefix:He.string(),title:He.string(),url:He.string()})).optional(),updatedAt:He.string(),versions:He.array(He.string())}).strict();He.record(He.string(),cSe);const rs=He.preprocess(e=>e||void 0,He.string().optional()),lSe=e=>{if(e!=null&&e.match(/^[a-z]{32}$/))return e;if(e!=null&&e.includes("chrome.google.com/webstore/detail/"))try{return new URL(e).pathname.split("/").at(-1)}catch{}},dSe=e=>{if(e!=null&&e.match(/^[a-z]{32}$/))return e;if(e!=null&&e.includes("microsoftedge.microsoft.com/addons/detail/"))try{return new URL(e).pathname.split("/").at(-1)}catch{}},uSe=e=>{if(!(e!=null&&e.match(/^https?:\/\//)))return e;if(e!=null&&e.includes("addons.mozilla.org"))try{return new URL(e).pathname.replace(/\/$/,"").split("/").at(-1)}catch{}},Mj=/^id[0-9]{1,36}$/,fSe=e=>{if(e!=null&&e.match(Mj))return e;if(e!=null&&e.match(/^https:\/\/[a-zA-Z0-9-]+\.apple\.com/))try{const n=new URL(e).pathname.replace(/\/$/,"").split("/").at(-1);if(n!=null&&n.match(Mj))return n}catch{}},hSe=e=>{if(!(e!=null&&e.match(/^https?:\/\//)))return e;if(e)try{const n=new URL(e).searchParams.get("id");if(n)return n}catch{}},pSe=He.preprocess(e=>Array.isArray(e)&&e.length>0?e:void 0,He.array(He.string()).optional()),T6=e=>e&&Object.values(e).some(t=>!!t)?e:void 0,mSe=He.object({chain:He.string(),extensionLocators:He.array(He.object({flag:He.string(),value:He.boolean().optional().default(!0)})),providerInterface:He.string().optional(),walletStandard:He.object({features:He.array(He.string()),name:He.string()}).optional(),walletStandardLocators:He.array(He.object({locator:He.string(),name:He.string()})).optional(),windowLocations:He.array(He.string()).optional().refine(e=>!e||!e.some(t=>["ethereum","ethereum.providers"].includes(t)),{message:"windowLocations cannot include ethereum or ethereum.providers as they are included by default",path:["config"]})}),iK=He.object({alt:rs,primaryColor:rs,spriteId:rs}),oK=He.preprocess(e=>e,He.object({brand:iK.optional(),chainGroup:He.string().optional(),chains:He.array(He.string()).optional(),desktop:He.object({chromeId:rs.transform(lSe),edgeId:rs.transform(dSe),firefoxId:rs.transform(uSe),native:rs,operaId:rs,safariId:rs,universal:rs}).optional().transform(T6),eip6963Config:He.object({rdns:He.string()}).optional(),filterFromWalletConnect:He.boolean().optional(),group:He.string().optional(),hardwareWallets:He.array(He.string()).optional(),injectedConfig:He.array(mSe).optional(),mobile:He.object({android:Sv().nullish(),androidId:rs.transform(hSe),inAppBrowser:Sv().nullish(),ios:Sv().nullish(),iosId:rs.transform(fSe),native:rs,universal:rs}).optional().transform(T6),name:He.string(),shortName:rs,showOnlyIfInstalled:He.boolean().optional(),switchNetworkOnlyFromWallet:He.boolean().optional(),walletConnect:He.object({sdks:pSe}).optional().transform(T6),walletGroup:He.string().optional(),walletLimitations:He.object({browserExtension:He.object({unsupportedEvents:He.array(He.string()).optional(),unsupportedMethods:He.array(He.string()).optional()}).optional(),mobile:He.object({unsupportedEvents:He.array(He.string()).optional(),unsupportedMethods:He.array(He.string()).optional()}).optional()}).optional()})).transform(e=>{var t,n,r,i,o,s;return e.group&&(e.chainGroup=e.group),(!((t=e.mobile)===null||t===void 0)&&t.iosId||((n=e.mobile)===null||n===void 0?void 0:n.ios)===null)&&((r=e.mobile)===null||r===void 0||delete r.ios),(!((i=e.mobile)===null||i===void 0)&&i.androidId||((o=e.mobile)===null||o===void 0?void 0:o.android)===null)&&((s=e.mobile)===null||s===void 0||delete s.android),e}),gSe=He.object({brand:iK.optional(),name:rs}),sK=He.object({brand:He.object({alt:rs,primaryColor:rs,spriteId:rs}).optional(),key:He.string(),name:He.string(),walletOverrides:He.record(gSe).optional()});He.record(He.string(),oK);const Dj=He.preprocess(e=>e,He.object({groups:He.record(He.string(),sK),wallets:He.record(He.string(),oK)}));He.record(He.string(),sK);var ySe={argentx:{brand:{alt:"ArgentX",primaryColor:"#FF875B",spriteId:"argentx"},key:"argentx",name:"ArgentX"},backpack:{brand:{alt:"Backpack",spriteId:"backpack"},key:"backpack",name:"Backpack"},bitgetwallet:{brand:{alt:"Bitget Wallet",spriteId:"bitget"},key:"bitgetwallet",name:"Bitget"},blocto:{brand:{alt:"Blocto",primaryColor:"#5E678A",spriteId:"blocto"},key:"blocto",name:"Blocto"},brave:{brand:{alt:"Brave Browser",primaryColor:"#4B49C6",spriteId:"brave"},key:"brave",name:"Brave"},coin98:{brand:{alt:"Coin98 Wallet",primaryColor:"#CDA349",spriteId:"fc460647-ea95-447a-99f0-1bff8fa4be00"},key:"coin98",name:"Coin98"},coinbase:{brand:{alt:"Coinbase Wallet",primaryColor:"#1648F9",spriteId:"coinbase"},key:"coinbase",name:"Coinbase"},exodus:{brand:{alt:"Exodus Wallet",spriteId:"exodus"},key:"exodus",name:"Exodus"},magiceden:{brand:{alt:"Magic Eden",spriteId:"magiceden"},key:"magiceden",name:"Magic Eden"},mathwallet:{brand:{alt:"MathWallet Wallet",spriteId:"26a8f588-3231-4411-60ce-5bb6b805a700"},key:"mathwallet",name:"Math Wallet"},metamask:{brand:{alt:"MetaMask",primaryColor:"#E2761B",spriteId:"metamask"},key:"metamask",name:"MetaMask"},okxwallet:{brand:{alt:"OKX Wallet",spriteId:"okx"},key:"okxwallet",name:"OKX Wallet"},phantom:{brand:{alt:"Phantom",primaryColor:"#4B49C6",spriteId:"phantom"},key:"phantom",name:"Phantom"}},vSe={metamask:{brand:{alt:"MetaMask Wallet",primaryColor:"#E8831D",spriteId:"metamask"},chainGroup:"metamask",chains:["eip155:1"],desktop:{chromeId:"nkbihfbeogaeaoehlefnkodbefgpgknn",edgeId:"ejbalbakoplchlghecdalmeeeajnimhm",firefoxId:"ether-metamask"},eip6963Config:{rdns:"io.metamask"},filterFromWalletConnect:!0,group:"metamask",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isMetaMask",value:!0},{flag:"isDawn",value:!1},{flag:"isBraveWallet",value:!1},{flag:"isTrustWallet",value:!1},{flag:"isExodus",value:!1},{flag:"isZerion",value:!1},{flag:"isSuperb",value:!1},{flag:"isRabby",value:!1},{flag:"isOKExWallet",value:!1},{flag:"isOkxWallet",value:!1},{flag:"isRainbow",value:!1},{flag:"isAvalanche",value:!1},{flag:"isMagicEden",value:!1},{flag:"isZerion",value:!1}]}],mobile:{androidId:"io.metamask",inAppBrowser:"https://metamask.app.link/dapp",iosId:"id1438144202",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",shortName:"MetaMask",walletConnect:{sdks:["sign_v1","sign_v2"]}},coinbase:{brand:{alt:"Coinbase Wallet",primaryColor:"#1648F9",spriteId:"coinbase"},chainGroup:"coinbase",desktop:{chromeId:"hnfanknocfeofbddgcijnmhnfnkdnaad"},eip6963Config:{rdns:"com.coinbase.wallet"},group:"coinbase",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isCoinbaseWallet",value:!0}],windowLocations:["coinbaseWalletExtension"]}],mobile:{androidId:"org.toshi",iosId:"id1278383455"},name:"Coinbase",shortName:"Coinbase Wallet"},coinbasesolana:{brand:{alt:"Coinbase Wallet",primaryColor:"#1648F9",spriteId:"coinbase"},chainGroup:"coinbase",desktop:{chromeId:"hnfanknocfeofbddgcijnmhnfnkdnaad"},group:"coinbase",injectedConfig:[{chain:"sol",extensionLocators:[],windowLocations:["coinbaseSolana"]}],name:"Coinbase",shortName:"Coinbase Wallet (Solana)"},phantom:{brand:{alt:"Phantom Wallet",primaryColor:"#4B49C6",spriteId:"phantom"},chainGroup:"phantom",desktop:{chromeId:"bfnaelmomeimhlpmgjnjophhpkkoljpa",firefoxId:"phantom-app"},group:"phantom",hardwareWallets:["ledger"],injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isPhantom",value:!0},{flag:"isBraveWallet",value:!1},{flag:"isExodus",value:!1},{flag:"isMagicEden",value:!1},{flag:"isGlow",value:!1}],walletStandardLocators:[{locator:"features.phantom:.phantom",name:"Phantom"}],windowLocations:["phantom.solana"]}],mobile:{androidId:"app.phantom",iosId:"id1598432977"},name:"Phantom"},phantombtc:{brand:{alt:"Phantom Wallet",primaryColor:"#4B49C6",spriteId:"phantom"},chainGroup:"phantom",desktop:{chromeId:"bfnaelmomeimhlpmgjnjophhpkkoljpa",firefoxId:"phantom-app"},group:"phantom",injectedConfig:[{chain:"btc",extensionLocators:[{flag:"isPhantom",value:!0}],walletStandard:{features:["bitcoin:connect"],name:"Phantom"},windowLocations:["phantom.bitcoin"]}],mobile:{androidId:"app.phantom",iosId:"id1598432977"},name:"Phantom",shortName:"Phantom (Bitcoin)"},phantomevm:{brand:{alt:"Phantom Wallet",primaryColor:"#4B49C6",spriteId:"phantom"},chainGroup:"phantom",desktop:{chromeId:"bfnaelmomeimhlpmgjnjophhpkkoljpa",firefoxId:"phantom-app"},group:"phantom",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isPhantom",value:!0}],windowLocations:["phantom.ethereum"]}],mobile:{androidId:"app.phantom",iosId:"id1598432977"},name:"Phantom",shortName:"Phantom (EVM)"},phantomledger:{brand:{alt:"Phantom Wallet",primaryColor:"#4B49C6",spriteId:"phantom"},chainGroup:"phantom",desktop:{chromeId:"bfnaelmomeimhlpmgjnjophhpkkoljpa",firefoxId:"phantom-app"},group:"phantom",injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isPhantom",value:!0},{flag:"isBraveWallet",value:!1},{flag:"isExodus",value:!1},{flag:"isMagicEden",value:!1},{flag:"isGlow",value:!1}],walletStandardLocators:[{locator:"features.phantom:.phantom",name:"Phantom"}],windowLocations:["phantom.solana"]}],mobile:{androidId:"app.phantom",iosId:"id1598432977"},name:"Phantom",shortName:"Phantom (Ledger)"},walletconnect:{brand:{alt:"WalletConnect",primaryColor:"#3182CE",spriteId:"walletconnect"},mobile:{androidId:"enable-android",iosId:"id1438144202"},name:"WalletConnect"},argentx:{brand:{alt:"Argent X Wallet",primaryColor:"#FF875B",spriteId:"argentx"},desktop:{chromeId:"dlcobpjiigpikoobohmabehhmhfoodbb",edgeId:"ajcicjlkibolbeaaagejfhnofogocgcj",firefoxId:"argent-x"},mobile:{androidId:"im.argent.contractwalletclient",iosId:"id1358741926"},name:"Argent X"},perawallet:{brand:{alt:"Pera Wallet",spriteId:"pera"},mobile:{androidId:"com.algorand.android",iosId:"id1459898525"},name:"Pera Wallet"},blocto:{brand:{alt:"Blocto Wallet",primaryColor:"#5E678A",spriteId:"blocto"},chainGroup:"blocto",group:"blocto",mobile:{androidId:"com.portto.blocto",iosId:"id1481181682"},name:"Blocto",shortName:"Blocto (Flow)"},solflare:{brand:{alt:"Solflare Wallet",primaryColor:"#FC7227",spriteId:"solflare"},desktop:{chromeId:"bhhhlbepdkbapadjdnnojkbgioiodbic"},hardwareWallets:["ledger"],injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isSolflare",value:!0}],windowLocations:["solflare"]}],mobile:{androidId:"com.solflare.mobile",iosId:"id1580902717"},name:"Solflare"},braavos:{brand:{alt:"Braavos Wallet",primaryColor:"#FABB38",spriteId:"braavos"},desktop:{chromeId:"jnlgamecbpmbajjfhmmmlhejkemejdma",edgeId:"hkkpjehhcnhgefhbdcgfkeegglpjchdc",firefoxId:"braavos-wallet"},mobile:{androidId:"app.braavos.wallet",iosId:"id1636013523"},name:"Braavos"},trust:{brand:{alt:"Trust Wallet",primaryColor:"#0500FF",spriteId:"7677b54f-3486-46e2-4e37-bf8747814f00"},chains:["eip155:1"],desktop:{chromeId:"egjidjbpglichdcondbcbdnbeeppgdph"},eip6963Config:{rdns:"com.trustwallet.app"},filterFromWalletConnect:!0,injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isTrustWallet",value:!0}],windowLocations:["trustWallet"]}],mobile:{androidId:"com.wallet.crypto.trustapp",iosId:"id1288339409",native:"trust://wc"},name:"Trust",shortName:"Trust",walletConnect:{sdks:["sign_v1","sign_v2","auth_v1"]}},rainbow:{brand:{alt:"Rainbow Wallet",primaryColor:"#001e59",spriteId:"rainbow"},chains:["eip155:1","eip155:10","eip155:137","eip155:42161","eip155:56","eip155:7777777","eip155:8453"],desktop:{chromeId:"opfgelmcmbiajamepnmloijbpoleiama",edgeId:"cpojfbodiccabbabgimdeohkkpjfpbnf",firefoxId:"rainbow-extension"},eip6963Config:{rdns:"me.rainbow"},filterFromWalletConnect:!0,injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isRainbow",value:!0}],windowLocations:["rainbow"]}],mobile:{androidId:"me.rainbow",iosId:"id1457119021",native:"rainbow://wc",universal:"https://rnbwapp.com/wc"},name:"Rainbow",walletConnect:{sdks:["sign_v1","sign_v2","auth_v1"]}},dapper:{brand:{alt:"Dapper Wallet",primaryColor:"#762FBE",spriteId:"dapper"},mobile:{android:"fake-to-get-dapper-to-appear",ios:"fake-to-get-dapper-to-appear"},name:"Dapper"},glow:{brand:{alt:"Glow Wallet",spriteId:"glow"},desktop:{chromeId:"ojbcfhjmpigfobfclfflafhblgemeidi",edgeId:"niihfokdlimbddhfmngnplgfcgpmlido",firefoxId:"glow-solana-wallet"},hardwareWallets:["ledger"],injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isGlow",value:!0}],windowLocations:["glowSolana"]}],name:"Glow"},lilico:{brand:{alt:"Lilico Wallet",spriteId:"lilico"},desktop:{chromeId:"hpclkefagolihohboafpheddmmgdffjm"},filterFromWalletConnect:!0,name:"Lilico"},magicemailotp:{brand:{alt:"Magic Email OTP",spriteId:"magiclink"},name:"Magic Email OTP"},magiclink:{brand:{alt:"Magic Link",spriteId:"magiclink"},name:"Magic Link"},magicsocial:{brand:{alt:"Magic Social",spriteId:"magiclink"},name:"Magic Social"},magiceden:{brand:{alt:"Magic Eden",spriteId:"magiceden"},chainGroup:"magiceden",desktop:{chromeId:"mkpegjkblkkefacfnmkajcjmabijhclg"},group:"magiceden",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isMagicEden",value:!0}],windowLocations:["magicEden.ethereum"]}],name:"Magic Eden"},magicedenbtc:{brand:{alt:"Magic Eden",spriteId:"magiceden"},chainGroup:"magiceden",desktop:{chromeId:"mkpegjkblkkefacfnmkajcjmabijhclg"},group:"magiceden",hardwareWallets:["ledger"],injectedConfig:[{chain:"btc",extensionLocators:[],walletStandard:{features:["sats-connect:"],name:"Magic Eden"}}],mobile:{androidId:"com.magiceden.wallet",inAppBrowser:"magiceden://browser/{{encodedDappURI}}",iosId:"id6478631482",universal:"https://magiceden.io/browser/{{encodedDappURI}}"},name:"Magic Eden",shortName:"Magic Eden (Bitcoin)"},magicedensol:{brand:{alt:"Magic Eden",spriteId:"magiceden"},chainGroup:"magiceden",desktop:{chromeId:"mkpegjkblkkefacfnmkajcjmabijhclg"},group:"magiceden",injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isMagicEden",value:!0}],windowLocations:["magicEden.solana"]}],name:"Magic Eden",shortName:"Magic Eden (Solana)"},exodus:{brand:{alt:"Exodus Wallet",spriteId:"4c16cad4-cac9-4643-6726-c696efaf5200"},chainGroup:"exodus",chains:["eip155:1","eip155:137","eip155:43114","eip155:56","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"],desktop:{chromeId:"aholpfdialjgjfhomihkjbmgjidlcdno"},filterFromWalletConnect:!0,group:"exodus",mobile:{androidId:"exodusmovement.exodus",iosId:"id1414384820",native:"exodus://wc"},name:"Exodus",walletConnect:{sdks:["sign_v1","sign_v2","auth_v1"]}},exodusevm:{brand:{alt:"Exodus Wallet",spriteId:"exodus"},chainGroup:"exodus",chains:["eip155:1","eip155:137","eip155:43114","eip155:56"],desktop:{chromeId:"aholpfdialjgjfhomihkjbmgjidlcdno"},filterFromWalletConnect:!0,group:"exodus",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isExodus",value:!0}]}],mobile:{androidId:"exodusmovement.exodus",iosId:"id1414384820",native:"exodus://wc"},name:"Exodus",shortName:"Exodus Wallet (EVM)",walletConnect:{sdks:["sign_v2","auth_v1"]}},exodussol:{brand:{alt:"Exodus Wallet",spriteId:"exodus"},chainGroup:"exodus",desktop:{chromeId:"aholpfdialjgjfhomihkjbmgjidlcdno"},group:"exodus",injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isPhantom",value:!0},{flag:"isExodus",value:!0}],windowLocations:["exodus.solana"]}],mobile:{androidId:"exodusmovement.exodus",iosId:"id1414384820"},name:"Exodus",shortName:"Exodus Wallet (Solana)"},okxwallet:{brand:{alt:"OKX Wallet",spriteId:"okx"},chainGroup:"okxwallet",chains:["eip155:1","eip155:137","eip155:43114","eip155:56","eip155:66"],desktop:{chromeId:"mcohilncbfahbmgdjkbpemcciiolgcge"},eip6963Config:{rdns:"com.okex.wallet"},filterFromWalletConnect:!0,group:"okxwallet",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isOKExWallet",value:!0},{flag:"isOkxWallet",value:!0}],windowLocations:["okxwallet"]}],mobile:{androidId:"com.okinc.okex.gp",iosId:"id1327268470",native:"okex://main/wc"},name:"OKX",shortName:"OKX Wallet",walletConnect:{sdks:["sign_v2"]}},backpack:{brand:{alt:"Backpack",primaryColor:"#e43c3c",spriteId:"backpack"},chainGroup:"backpack",chains:["eip155:1","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"],desktop:{chromeId:"aflkmfhebedbjioipglgcbcmnbpgliof"},eip6963Config:{rdns:"app.backpack"},filterFromWalletConnect:!0,group:"backpack",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isBackpack",value:!0}],windowLocations:[]}],name:"Backpack",walletConnect:{sdks:["sign_v1"]}},okxwalletbtc:{brand:{alt:"OKX Wallet",spriteId:"okx"},chainGroup:"okxwallet",desktop:{chromeId:"mcohilncbfahbmgdjkbpemcciiolgcge"},group:"okxwallet",injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["okxwallet.bitcoin"]}],mobile:{androidId:"com.okinc.okex.gp",inAppBrowser:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",iosId:"id1327268470"},name:"OKX",shortName:"OKX Wallet (Bitcoin)"},unisat:{brand:{alt:"UniSat",spriteId:"unisat"},desktop:{chromeId:"ppbibelpcjmhbdihakflkdcoccbgbkpo"},injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["unisat"]}],name:"UniSat"},unknown:{brand:{spriteId:"captcha-wave"},mobile:{androidId:"enable-android",iosId:"id1234567890"},name:"Unknown Wallet"},xverse:{brand:{alt:"Xverse Wallet",spriteId:"xverse"},desktop:{chromeId:"idnnbdplmphpflfnlkomgpfbpcgelopg"},hardwareWallets:["ledger"],injectedConfig:[{chain:"btc",extensionLocators:[],walletStandard:{features:["sats-connect:"],name:"Xverse"},windowLocations:["XverseProviders.BitcoinProvider"]}],mobile:{androidId:"com.secretkeylabs.xverse",inAppBrowser:"xverse://browser?url={{encodedDappURI}}",iosId:"id1552272513"},name:"Xverse"},fallbackconnector:{brand:{spriteId:"captcha-wave"},mobile:{androidId:"enable-android",iosId:"id1234567890"},name:"Fallback Connector"}},bSe={groups:ySe,wallets:vSe};const wSe=()=>{const[e,t]=k.useState({});return k.useEffect(()=>{Tj(void 0,void 0,void 0,function*(){const r=BH(),o=yield u2(()=>Tj(void 0,void 0,void 0,function*(){const s=yield fetch(r,{mode:"cors"});if(s.ok){const a=yield s.json();try{return Dj.parse(a)}catch(c){throw ob.error("Error parsing wallet book data",c,a),c}}throw new Error(`Failed to fetch wallet book data from ${r} with status code ${s.status}`)}),{fallbackValue:Dj.parse(bSe),logger:ob.createLogger("useWalletBookCdn"),maxRetries:3,retryStrategy:"timeout-and-rejection",timeoutMs:3e4});t(o)})},[]),e},aK=k.createContext({}),_Se=({walletBook:e,children:t})=>k.createElement(aK.Provider,{value:{walletBook:e}},t),$a=()=>{const e=k.useContext(aK);if(e===void 0)throw new Error("useWalletBookContext must be used within a WalletBookContextProvider");return e},bi=e=>{var{walletKey:t,children:n}=e,r=MH(e,["walletKey","children"]);const{walletBook:i}=$a(),o=zo(i,t),[s,a]=k.useState(!1),c=bke(i,t),l=NH();if(!o||!o.brand||!c)return k.createElement(k.Fragment,{},n);const d=()=>{a(!0)};return k.createElement("img",Object.assign(Object.assign({"data-testid":`wallet-icon-${t}`},r),{alt:o.brand.alt,onError:d,src:s?l:c}),n)},cK=e=>{var{brand:t,walletKey:n}=e,r=MH(e,["brand","walletKey"]);const[i,o]=k.useState(!1),s=OH(t),a=NH();if(!s)return k.createElement(k.Fragment,{});const c=()=>{o(!0)};return k.createElement("img",Object.assign(Object.assign({"data-testid":`wallet-icon-${n}`},r),{alt:t.alt,onError:c,src:i?a:s}))};class ug{constructor(t){this.walletBook=t}static getOrCreate(t){var n;return!((n=ug.instance)===null||n===void 0)&&n.walletBook||(ug.instance=new ug(t)),ug.instance}}var Rx;class XA extends Jg{constructor(t){if(super(),this.chainRpcProviders=void 0,Rx.set(this,[]),this.didSetup=!1,this.requiresNonDynamicEmailOtp=!1,this.canConnectViaCustodialService=!1,this.canConnectViaQrCode=!1,this.canConnectViaSocial=!1,this.getWeb3Provider=this.getWalletClient,this.getRpcProvider=this.getPublicClient,this.isAvailable=!0,this.isEmbeddedWallet=!1,this.isWalletConnect=!1,this.overrideKey=void 0,this.providerResources=void 0,this.switchNetworkOnlyFromWallet=void 0,this.isInitialized=!0,this.constructorProps=t,this._walletBookInstance=ug.getOrCreate(t.walletBook),this.walletBook===void 0)throw new Error("WalletConnectorBase was not called with super(props) and is missing wallet-book")}extend(t){if(Cj(this,Rx,"f").includes(t.name))throw new Error(`You can only register a single extension of: ${t.name}`);Cj(this,Rx,"f").push(t.name),t.extend(this)}initEventListener(){this.didSetup||(this.didSetup=!0,this.setupEventListeners())}get walletBook(){return this._walletBookInstance.walletBook}filter(){try{return rc(this.walletBook,this.key,this.walletFallback),!0}catch{return!1}}connect(){return kv(this,void 0,void 0,function*(){yield this.getAddress()})}endSession(){return Promise.resolve()}getAddress(t){return Promise.resolve(void 0)}getAdditionalAddresses(t){return Promise.resolve([])}setAdditionalAddresses(t,n){return Promise.resolve()}getBalance(){return Promise.resolve(void 0)}getConnectedAccounts(){return Promise.resolve([])}getDeepLink(){}getNetwork(){return Promise.resolve(void 0)}getNameService(){return Promise.resolve(void 0)}getPublicClient(){return Promise.resolve(void 0)}getSession(){return kv(this,void 0,void 0,function*(){return Promise.resolve()})}getSigner(){return Promise.resolve(void 0)}getWalletClient(t){}init(){return Promise.resolve()}isInstalledOnBrowser(){return!1}get key(){return this.overrideKey||this.name.replace(/\W/g,"").toLowerCase()}getMobileOrInstalledWallet(){return this}proveOwnership(t){return this.signMessage(t)}setupEventListeners(){}signMessage(t){return Promise.resolve(void 0)}supportsNetworkSwitching(){return!1}switchNetwork({networkName:t,networkChainId:n}){return Promise.resolve(void 0)}teardownEventListeners(){}setVerifiedCredentials(t){}}Rx=new WeakMap;const Jr=new Cl("WalletConnector"),lK=(e,t)=>{if(t.length!==0)return e.find(n=>t.every(i=>((n==null?void 0:n[i.flag])||!1)===i.value)===!0)},xSe=[{blockchainName:"Algorand",displayName:"Algorand",name:"algorand",symbol:"ALGO"},{blockchainName:"Bitcoin",displayName:"Bitcoin",name:"bitcoin",symbol:"BTC"},{blockchainName:"Ethereum",displayName:"EVM",name:"evm",symbol:"ETH"},{blockchainName:"Flow",displayName:"Flow",name:"flow",symbol:"FLOW"},{blockchainName:"Solana",displayName:"Solana",name:"solana",symbol:"SOL"},{blockchainName:"Starknet",displayName:"Starknet",name:"starknet",symbol:"ETH"},{blockchainName:"Cosmos",displayName:"Cosmos",name:"cosmos",symbol:"COSMOS"},{blockchainName:"Bitcoin",displayName:"Bitcoin",name:"bitcoin",symbol:"BTC"}],kSe={eip155:"evm",eth:"evm",stark:"starknet"};let Px;const SSe=e=>{Px=e},w1=e=>{var t;const n=e.toLowerCase(),r=(t=kSe[n])!==null&&t!==void 0?t:n,i=xSe.find(o=>o.name===r||o.symbol.toLocaleLowerCase()===r);if(i)return i},Al=e=>{var t,n;const r=w1(e);if(!r)return;const i=Px==null?void 0:Px[r.name],o=Object.assign({},r);return i&&(o.blockchainName=(t=i.displayName)!==null&&t!==void 0?t:r.blockchainName,o.displayName=(n=i.displayName)!==null&&n!==void 0?n:r.displayName),o},D0=e=>!!e.verifyOneTimePassword,Tl=e=>!!e.clearEmail,ESe=e=>["eip155","flow","evm","eth","avax","matic"].includes(e.toLowerCase()),Lj=(e,t)=>(e.startsWith("0x")&&(e=e.slice(2)),ESe(t)?e.toLowerCase():e),Af=(e,t,n)=>Lj(e,n)===Lj(t,n),L0=e=>!!e.canConnectViaSocial,Uj=(e,t)=>t.flatMap(n=>e.find(r=>CSe(r,n))).filter(ISe),CSe=(e,t)=>e.key===t,ISe=e=>!!e,ASe=(e,t)=>Uj(e,[t]).length>0?Uj(e,[t])[0]:null,TSe=(e,t,n)=>{if(JA())return e;const r=dK(e,t,n);if(!r)return`${r}?uri=${encodeURIComponent(e)}`;const i=new URL(r),o=new URLSearchParams(i.search);return o.set("uri",e),i.search=o.toString(),i.toString()},dK=(e,t,n)=>{var r,i,o,s;if(JA())return e.split("?")[0];const a=di()?"mobile":"desktop";let c;return n==="native"?c=((r=t[a])===null||r===void 0?void 0:r.native)||((i=t[a])===null||i===void 0?void 0:i.universal):c=((o=t[a])===null||o===void 0?void 0:o.universal)||((s=t[a])===null||s===void 0?void 0:s.native),c||""},uK=({mode:e,uri:t="",metadata:n,preference:r})=>{switch(e){case"connection":return TSe(t,n,r);case"regular":return dK(t,n,r)}},RSe=(e,t,n,r)=>{var i,o,s;const a=uK({metadata:t,mode:"connection",preference:r,uri:e});di()?window.location.href=a:(!((i=t.desktop)===null||i===void 0)&&i.native&&((o=n.onDesktopUri)===null||o===void 0||o.call(n,a)),(s=n.onDisplayUri)===null||s===void 0||s.call(n,e))},_1=e=>!!e.isEmbeddedWallet,PSe=e=>["magicemailotp","magicsocial"].includes(e.key),Fj=e=>["bloctoemail","bloctoevm","Blocto"].includes(e.key),Rl=e=>!!e.getWebAuthnAttestation,QA=e=>!!e.setEoaConnector,Ox=e=>e!=null&&typeof e=="object"&&"canSponsorTransactionGas"in e,fK=e=>!!(e!=null&&e.sendBitcoin),x1=e=>"canConnectWithHardwareWallet"in e,OSe=e=>!e||typeof e!="string"?!1:/^0x[0-9a-fA-F]*$/.test(e),hK=e=>({handleAccountChange:i=>kv(void 0,void 0,void 0,function*(){if(Jr.debug(`${e.name} - accountChange`,i),i.length===0){e.emit("disconnect");return}e.emit("accountChange",{accounts:i})}),handleChainChange:i=>kv(void 0,void 0,void 0,function*(){Jr.debug(`${e.name} - chainChange`,i);const o=OSe(i)?parseInt(i,16).toString():i.toString();e.emit("chainChange",{chain:o})}),handleDisconnect:i=>kv(void 0,void 0,void 0,function*(){Jr.debug(`${e.name} - disconnect`,i),(i==null?void 0:i.code)!==1013&&e.emit("disconnect")})}),pK=e=>e.key==="phantom"&&e.extractSignature!==void 0,Wj=({networks:e,chainId:t})=>{var n;const r=e.find(i=>i.chainId===t);if(r)return((n=r.privateCustomerRpcUrls)===null||n===void 0?void 0:n[0])||r.rpcUrls[0]},ih=e=>!!e&&e.key==="coinbasempc"&&e.generateWallet!==void 0&&e.changePasscode!==void 0&&e.exportWalletKeys!==void 0,NSe=e=>!!(e!=null&&e.isWalletConnect),eT=e=>"createUiTransaction"in e&&typeof e.createUiTransaction=="function";function ue(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,[])).next())})}const jSe="https://app.dynamicauth.com/api/v0".replace(/\/+$/,""),BSe=e=>typeof Blob<"u"&&e instanceof Blob;class $Se{constructor(t=new tT){this.configuration=t,this.fetchApi=(n,r)=>ue(this,void 0,void 0,function*(){let i={url:n,init:r};for(const s of this.middleware)s.pre&&(i=(yield s.pre(Object.assign({fetch:this.fetchApi},i)))||i);let o=yield(this.configuration.fetchApi||fetch)(i.url,i.init);for(const s of this.middleware)s.post&&(o=(yield s.post({fetch:this.fetchApi,url:i.url,init:i.init,response:o.clone()}))||o);return o}),this.middleware=t.middleware}withMiddleware(...t){const n=this.clone();return n.middleware=n.middleware.concat(...t),n}withPreMiddleware(...t){const n=t.map(r=>({pre:r}));return this.withMiddleware(...n)}withPostMiddleware(...t){const n=t.map(r=>({post:r}));return this.withMiddleware(...n)}request(t,n){return ue(this,void 0,void 0,function*(){const{url:r,init:i}=this.createFetchParams(t,n),o=yield this.fetchApi(r,i);if(o.status>=200&&o.status<300)return o;throw o})}createFetchParams(t,n){let r=this.configuration.basePath+t.path;t.query!==void 0&&Object.keys(t.query).length!==0&&(r+="?"+this.configuration.queryParamsStringify(t.query));const i=typeof FormData<"u"&&t.body instanceof FormData||t.body instanceof URLSearchParams||BSe(t.body)?t.body:JSON.stringify(t.body),o=Object.assign({},this.configuration.headers,t.headers),s=Object.assign({method:t.method,headers:o,body:i,credentials:this.configuration.credentials},n);return{url:r,init:s}}clone(){const t=this.constructor,n=new t(this.configuration);return n.middleware=this.middleware.slice(),n}}class ye extends Error{constructor(t,n){super(n),this.field=t,this.name="RequiredError"}}class tT{constructor(t={}){this.configuration=t}get basePath(){return this.configuration.basePath!=null?this.configuration.basePath:jSe}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||mK}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const t=this.configuration.apiKey;if(t)return typeof t=="function"?t:()=>t}get accessToken(){const t=this.configuration.accessToken;if(t)return typeof t=="function"?t:()=>ue(this,void 0,void 0,function*(){return t})}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}function oe(e,t){const n=e[t];return n!=null}function mK(e,t=""){return Object.keys(e).map(n=>{const r=t+(t.length?`[${n}]`:n),i=e[n];if(i instanceof Array){const o=i.map(s=>encodeURIComponent(String(s))).join(`&${encodeURIComponent(r)}=`);return`${encodeURIComponent(r)}=${o}`}return i instanceof Date?`${encodeURIComponent(r)}=${encodeURIComponent(i.toISOString())}`:i instanceof Object?mK(i,r):`${encodeURIComponent(r)}=${encodeURIComponent(String(i))}`}).filter(n=>n.length>0).join("&")}function MSe(e){for(const t of e)if(t.contentType==="multipart/form-data")return!0;return!1}class Bn{constructor(t,n=r=>r){this.raw=t,this.transformer=n}value(){return ue(this,void 0,void 0,function*(){return this.transformer(yield this.raw.json())})}}class Ut{constructor(t){this.raw=t}value(){return ue(this,void 0,void 0,function*(){})}}class j_{constructor(t){this.raw=t}value(){return ue(this,void 0,void 0,function*(){return yield this.raw.text()})}}var dI;(function(e){e.Only="connect-only",e.AndSign="connect-and-sign"})(dI||(dI={}));var uI;(function(e){e.Localstorage="localstorage",e.Cookie="cookie"})(uI||(uI={}));function DSe(e){return LSe(e)}function LSe(e,t){return e}var Vh;(function(e){e.Internal="AUTHENTICATOR_TRANSPORT_INTERNAL",e.Usb="AUTHENTICATOR_TRANSPORT_USB",e.Nfc="AUTHENTICATOR_TRANSPORT_NFC",e.Ble="AUTHENTICATOR_TRANSPORT_BLE",e.Hybrid="AUTHENTICATOR_TRANSPORT_HYBRID"})(Vh||(Vh={}));function USe(e){return e}var od;(function(e){e.Blockchain="blockchain",e.Email="email",e.Oauth="oauth",e.Passkey="passkey",e.PhoneNumber="phoneNumber",e.ExternalUser="externalUser"})(od||(od={}));function FSe(e){return WSe(e)}function WSe(e,t){return e}var br;(function(e){e.EmailOnly="emailOnly",e.MagicLink="magicLink",e.Apple="apple",e.Bitbucket="bitbucket",e.Coinbasesocial="coinbasesocial",e.Discord="discord",e.Facebook="facebook",e.Farcaster="farcaster",e.Github="github",e.Gitlab="gitlab",e.Google="google",e.Instagram="instagram",e.Linkedin="linkedin",e.Microsoft="microsoft",e.Twitch="twitch",e.Twitter="twitter",e.Blocto="blocto",e.Banxa="banxa",e.Dynamic="dynamic",e.Alchemy="alchemy",e.Zerodev="zerodev",e.Telegram="telegram",e.Turnkey="turnkey",e.CoinbaseWaas="coinbaseWaas",e.Sms="sms"})(br||(br={}));function k1(e){return zSe(e)}function zSe(e,t){return e}var wb;(function(e){e.Ordinals="ordinals",e.Payment="payment"})(wb||(wb={}));function qSe(e){return VSe(e)}function VSe(e,t){return e}var zj;(function(e){e.V1="V1",e.V2="V2"})(zj||(zj={}));function HSe(e){return KSe(e)}function KSe(e,t){return e}var fI;(function(e){e.Ledger="ledger"})(fI||(fI={}));function GSe(e){return ZSe(e)}function ZSe(e,t){return e}var Ev;(function(e){e.Dynamic="dynamic",e.User="user"})(Ev||(Ev={}));function nT(e){return JSe(e)}function JSe(e,t){return e}var kp;(function(e){e.BrowserExtension="browserExtension",e.CustodialService="custodialService",e.WalletConnect="walletConnect",e.QrCode="qrCode",e.DeepLink="deepLink",e.EmbeddedWallet="embeddedWallet",e.SmartContractWallet="smartContractWallet"})(kp||(kp={}));function rT(e){return YSe(e)}function YSe(e,t){return e}var qj;(function(e){e.Pending="pending",e.Complete="complete"})(qj||(qj={}));function XSe(e){return QSe(e)}function QSe(e,t){return e}var Tf;(function(e){e.Text="text",e.Checkbox="checkbox",e.Select="select"})(Tf||(Tf={}));function e5e(e){return t5e(e)}function t5e(e,t){return e}var yl;(function(e){e.Standard="standard",e.Custom="custom"})(yl||(yl={}));function n5e(e){return r5e(e)}function r5e(e,t){return e}var Oi;(function(e){e.Eth="ETH",e.Evm="EVM",e.Flow="FLOW",e.Sol="SOL",e.Algo="ALGO",e.Stark="STARK",e.Cosmos="COSMOS",e.Btc="BTC"})(Oi||(Oi={}));function gK(e){return i5e(e)}function i5e(e,t){return e}function yK(e){if(e!==void 0)return e===null?null:{attestationObject:e.attestationObject,clientDataJson:e.clientDataJson,credentialId:e.credentialId,transports:e.transports.map(USe)}}function o5e(e){if(e!==void 0)return e===null?null:{walletId:e.walletId,attestation:yK(e.attestation),challenge:e.challenge}}function s5e(e){if(e!==void 0)return e===null?null:{address:e.address,chain:e.chain,provider:e.provider,walletName:e.walletName,authMode:e.authMode}}var Vj;(function(e){e.Evm="EVM",e.Sol="SOL"})(Vj||(Vj={}));function a5e(e){return e}var hI;(function(e){e.Turnkey="turnkey",e.Turnkeyhd="turnkeyhd"})(hI||(hI={}));function c5e(e){if(e!==void 0)return e===null?null:{attestation:yK(e.attestation),challenge:e.challenge}}function l5e(e){if(e!==void 0)return e===null?null:Object.assign({},c5e(e))}function d5e(e){if(e!==void 0)return e===null?null:{chains:e.chains===void 0?void 0:e.chains.map(a5e),chain:e.chain,embeddedWalletProvider:e.embeddedWalletProvider,embeddedWalletSpecificOpts:l5e(e.embeddedWalletSpecificOpts),isAuthenticatorAttached:e.isAuthenticatorAttached,passkeyAlias:e.passkeyAlias}}function u5e(e){if(e!==void 0)return e===null?null:{embeddedWallets:e.embeddedWallets.map(d5e)}}var Hj;(function(e){e.Email="email",e.Id="id",e.ExternalUserId="externalUserId",e.PhoneNumber="phoneNumber",e.SocialUsername="socialUsername"})(Hj||(Hj={}));function f5e(e){if(e!==void 0)return e===null?null:{stampHeaderName:e.stampHeaderName,stampHeaderValue:e.stampHeaderValue}}function vK(e){if(e!==void 0)return e===null?null:{body:e.body,stamp:f5e(e.stamp),url:e.url}}function h5e(e){if(e!==void 0)return e===null?null:{turnkeySignedRequest:vK(e.turnkeySignedRequest)}}var Kj;(function(e){e.Fiat="fiat",e.Crypto="crypto"})(Kj||(Kj={}));var Gj;(function(e){e.Days="days",e.Hours="hours",e.Minutes="minutes"})(Gj||(Gj={}));function p5e(e){return m5e(e)}function m5e(e,t){return e}var Zj;(function(e){e.SignerToEcdsa="zerodev_signer_to_ecdsa",e.MultiChain="zerodev_multi_chain"})(Zj||(Zj={}));function g5e(e){return y5e(e)}function y5e(e,t){return e}function v5e(e){return b5e(e)}function b5e(e,t){return e==null?e:{emailProvider:k1(e.emailProvider)}}function w5e(e){if(e!==void 0)return e===null?null:{email:e.email,captchaToken:e.captchaToken}}function pI(e){return _5e(e)}function _5e(e,t){return e==null?e:{verificationUUID:e.verificationUUID,email:e.email}}function x5e(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,email:e.email,captchaToken:e.captchaToken}}function Jj(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,verificationToken:e.verificationToken,captchaToken:e.captchaToken}}function k5e(e){return S5e(e)}function S5e(e,t){return e==null?e:{token:e.token}}var mI;(function(e){e.Mpc="mpc"})(mI||(mI={}));function E5e(e){if(e!==void 0)return e===null?null:{walletId:e.walletId}}function Yj(e){return C5e(e)}function C5e(e,t){return e==null?e:{walletId:e.walletId,secret:e.secret,source:oe(e,"source")?nT(e.source):void 0}}function iT(e){return I5e(e)}function I5e(e,t){return e==null?e:{avatar:oe(e,"avatar")?e.avatar:void 0,name:oe(e,"name")?e.name:void 0}}function bK(e){return A5e(e)}function A5e(e,t){return e==null?e:{address:e.address,publicKey:oe(e,"publicKey")?e.publicKey:void 0,type:qSe(e.type)}}function T5e(e){if(e!==void 0)return e===null?null:{address:e.address,publicKey:e.publicKey,type:e.type}}function R5e(e){return P5e(e)}function P5e(e,t){return e==null?e:{turnkeySubOrganizationId:oe(e,"turnkeySubOrganizationId")?e.turnkeySubOrganizationId:void 0,turnkeyPrivateKeyId:oe(e,"turnkeyPrivateKeyId")?e.turnkeyPrivateKeyId:void 0,turnkeyHDWalletId:oe(e,"turnkeyHDWalletId")?e.turnkeyHDWalletId:void 0,isAuthenticatorAttached:oe(e,"isAuthenticatorAttached")?e.isAuthenticatorAttached:void 0,turnkeyUserId:oe(e,"turnkeyUserId")?e.turnkeyUserId:void 0,isSessionKeyCompatible:oe(e,"isSessionKeyCompatible")?e.isSessionKeyCompatible:void 0,version:oe(e,"version")?HSe(e.version):void 0,hardwareWallet:oe(e,"hardwareWallet")?GSe(e.hardwareWallet):void 0,claimed:oe(e,"claimed")?e.claimed:void 0,source:oe(e,"source")?nT(e.source):void 0}}function wK(e){return O5e(e)}function O5e(e,t){return e==null?e:{address:oe(e,"address")?e.address:void 0,chain:oe(e,"chain")?e.chain:void 0,refId:oe(e,"refId")?e.refId:void 0,signerRefId:oe(e,"signerRefId")?e.signerRefId:void 0,email:oe(e,"email")?e.email:void 0,id:e.id,nameService:oe(e,"name_service")?iT(e.name_service):void 0,publicIdentifier:oe(e,"public_identifier")?e.public_identifier:void 0,walletName:oe(e,"wallet_name")?e.wallet_name:void 0,walletProvider:oe(e,"wallet_provider")?rT(e.wallet_provider):void 0,walletProperties:oe(e,"wallet_properties")?R5e(e.wallet_properties):void 0,format:FSe(e.format),oauthProvider:oe(e,"oauth_provider")?k1(e.oauth_provider):void 0,oauthUsername:oe(e,"oauth_username")?e.oauth_username:void 0,oauthDisplayName:oe(e,"oauth_display_name")?e.oauth_display_name:void 0,oauthAccountId:oe(e,"oauth_account_id")?e.oauth_account_id:void 0,phoneNumber:oe(e,"phoneNumber")?e.phoneNumber:void 0,phoneCountryCode:oe(e,"phoneCountryCode")?e.phoneCountryCode:void 0,isoCountryCode:oe(e,"isoCountryCode")?e.isoCountryCode:void 0,oauthAccountPhotos:oe(e,"oauth_account_photos")?e.oauth_account_photos:void 0,oauthEmails:oe(e,"oauth_emails")?e.oauth_emails:void 0,oauthMetadata:oe(e,"oauth_metadata")?e.oauth_metadata:void 0,previousUsers:oe(e,"previous_users")?e.previous_users:void 0,embeddedWalletId:oe(e,"embedded_wallet_id")?e.embedded_wallet_id:void 0,walletAdditionalAddresses:oe(e,"wallet_additional_addresses")?e.wallet_additional_addresses.map(bK):void 0,lastSelectedAt:oe(e,"lastSelectedAt")?new Date(e.lastSelectedAt):void 0}}function N5e(e){return j5e(e)}function j5e(e,t){return e==null?e:{label:e.label,key:oe(e,"key")?e.key:void 0}}function B5e(e){return $5e(e)}function $5e(e,t){return e==null?e:{unique:oe(e,"unique")?e.unique:void 0,regex:oe(e,"regex")?e.regex:void 0,validOptions:oe(e,"validOptions")?e.validOptions.map(N5e):void 0,checkboxText:oe(e,"checkboxText")?e.checkboxText:void 0}}function _2(e){return M5e(e)}function M5e(e,t){return e==null?e:{name:e.name,required:e.required,enabled:e.enabled,unique:e.unique,verify:e.verify,type:oe(e,"type")?n5e(e.type):void 0,validationRules:oe(e,"validationRules")?B5e(e.validationRules):void 0,validationType:oe(e,"validationType")?e5e(e.validationType):void 0,label:oe(e,"label")?e.label:void 0}}function oT(e){return D5e(e)}function D5e(e,t){return e==null?e:{id:e.id,projectEnvironmentId:e.projectEnvironmentId,verifiedCredentials:e.verifiedCredentials.map(wK),lastVerifiedCredentialId:oe(e,"lastVerifiedCredentialId")?e.lastVerifiedCredentialId:void 0,sessionId:oe(e,"sessionId")?e.sessionId:void 0,alias:oe(e,"alias")?e.alias:void 0,country:oe(e,"country")?e.country:void 0,email:oe(e,"email")?e.email:void 0,firstName:oe(e,"firstName")?e.firstName:void 0,jobTitle:oe(e,"jobTitle")?e.jobTitle:void 0,lastName:oe(e,"lastName")?e.lastName:void 0,phoneNumber:oe(e,"phoneNumber")?e.phoneNumber:void 0,policiesConsent:oe(e,"policiesConsent")?e.policiesConsent:void 0,tShirtSize:oe(e,"tShirtSize")?e.tShirtSize:void 0,team:oe(e,"team")?e.team:void 0,username:oe(e,"username")?e.username:void 0,firstVisit:oe(e,"firstVisit")?new Date(e.firstVisit):void 0,lastVisit:oe(e,"lastVisit")?new Date(e.lastVisit):void 0,newUser:oe(e,"newUser")?e.newUser:void 0,metadata:oe(e,"metadata")?e.metadata:void 0,mfaBackupCodeAcknowledgement:oe(e,"mfaBackupCodeAcknowledgement")?XSe(e.mfaBackupCodeAcknowledgement):void 0,btcWallet:oe(e,"btcWallet")?e.btcWallet:void 0,kdaWallet:oe(e,"kdaWallet")?e.kdaWallet:void 0,ltcWallet:oe(e,"ltcWallet")?e.ltcWallet:void 0,ckbWallet:oe(e,"ckbWallet")?e.ckbWallet:void 0,kasWallet:oe(e,"kasWallet")?e.kasWallet:void 0,dogeWallet:oe(e,"dogeWallet")?e.dogeWallet:void 0,emailNotification:oe(e,"emailNotification")?e.emailNotification:void 0,discordNotification:oe(e,"discordNotification")?e.discordNotification:void 0,newsletterNotification:oe(e,"newsletterNotification")?e.newsletterNotification:void 0,lists:oe(e,"lists")?e.lists:void 0,scope:oe(e,"scope")?e.scope:void 0,missingFields:oe(e,"missingFields")?e.missingFields.map(_2):void 0}}var Xj;(function(e){e.Passkey="passkey",e.Passphrase="passphrase"})(Xj||(Xj={}));function L5e(e){return U5e(e)}function U5e(e,t){return e}var gI;(function(e){e.Sandbox="sandbox",e.Live="live"})(gI||(gI={}));function F5e(e){return W5e(e)}function W5e(e,t){return e}function z5e(e){return q5e(e)}function q5e(e,t){return e==null?e:{exportBundle:e.exportBundle}}function Qj(e){if(e!==void 0)return e===null?null:{jwt:e.jwt}}function eB(e){if(e!==void 0)return e===null?null:{address:e.address,domain:e.domain,nonce:e.nonce,message:e.message,signature:e.signature,captchaToken:e.captchaToken}}function V5e(e){return H5e(e)}function H5e(e,t){return e==null?e:{name:e.name,icon:e.icon,updatedAt:oe(e,"updatedAt")?new Date(e.updatedAt):void 0}}function _K(e){return K5e(e)}function K5e(e,t){return e==null?e:{id:e.id,alias:oe(e,"alias")?e.alias:void 0,userAgent:oe(e,"userAgent")?e.userAgent:void 0,origin:oe(e,"origin")?e.origin:void 0,credentialId:e.credentialId,createdAt:new Date(e.createdAt),updatedAt:oe(e,"updatedAt")?new Date(e.updatedAt):void 0,storage:oe(e,"storage")?V5e(e.storage):void 0}}function G5e(e){return Z5e(e)}function Z5e(e,t){return e==null?e:{passkeys:e.passkeys.map(_K),count:e.count}}var tB;(function(e){e.Healthy="healthy",e.Unhealthy="unhealthy"})(tB||(tB={}));function J5e(e){return Y5e(e)}function Y5e(e,t){return e}function X5e(e){return Q5e(e)}function Q5e(e,t){return e==null?e:{status:J5e(e.status)}}function e6e(e){if(e!==void 0)return e===null?null:{walletId:e.walletId,turnkeyEmailAuthTargetPublicKey:e.turnkeyEmailAuthTargetPublicKey}}function t6e(e){return n6e(e)}function n6e(e,t){return e==null?e:{turnkeyUserId:e.turnkeyUserId,turnkeyApiKeyId:e.turnkeyApiKeyId}}function r6e(e){if(e!==void 0)return e===null?null:{walletId:e.walletId,turnkeyRecoveryTargetPublicKey:e.turnkeyRecoveryTargetPublicKey}}function i6e(e){return o6e(e)}function o6e(e,t){return e==null?e:{turnkeyRecoveryUserId:e.turnkeyRecoveryUserId}}function s6e(e){return a6e(e)}function a6e(e,t){return e==null?e:{kid:oe(e,"kid")?e.kid:void 0,alg:oe(e,"alg")?e.alg:void 0,kty:oe(e,"kty")?e.kty:void 0,use:oe(e,"use")?e.use:void 0,e:oe(e,"e")?e.e:void 0,n:oe(e,"n")?e.n:void 0}}function c6e(e){return l6e(e)}function l6e(e,t){return e==null?e:{keys:e.keys.map(s6e)}}function xK(e){if(e!==void 0)return e===null?null:{singleUse:e.singleUse}}function d6e(e){if(e!==void 0)return e===null?null:{createMfaToken:xK(e.createMfaToken),code:e.code}}function u6e(e){if(e!==void 0)return e===null?null:{id:e.id,createMfaToken:xK(e.createMfaToken),code:e.code}}var _u;(function(e){e.Totp="totp"})(_u||(_u={}));function sT(e){return f6e(e)}function f6e(e,t){return e}function yI(e){return h6e(e)}function h6e(e,t){return e==null?e:{type:oe(e,"type")?sT(e.type):void 0,verified:oe(e,"verified")?e.verified:void 0,id:oe(e,"id")?e.id:void 0,createdAt:oe(e,"createdAt")?new Date(e.createdAt):void 0,_default:oe(e,"default")?e.default:void 0}}function p6e(e){return m6e(e)}function m6e(e,t){return e==null?e:{count:e.count,recoveryCodes:e.recoveryCodes}}function g6e(e){return y6e(e)}function y6e(e,t){return e==null?e:{count:e.count,devices:e.devices.map(yI)}}function v6e(e){return b6e(e)}function b6e(e,t){return e==null?e:{count:e.count,recoveryCodes:e.recoveryCodes}}function w6e(e){return _6e(e)}function _6e(e,t){return e==null?e:{id:e.id,type:sT(e.type),secret:e.secret,uri:e.uri}}function x6e(e){if(e!==void 0)return e===null?null:{type:e.type,code:e.code}}function k6e(e){if(e!==void 0)return e===null?null:{default:e._default}}function S6e(e){if(e!==void 0)return e===null?null:{userId:e.userId,fieldKey:e.fieldKey,type:e.type}}function E6e(e){if(e!==void 0)return e===null?null:{mergeUserResolutions:e.mergeUserResolutions===void 0?void 0:e.mergeUserResolutions.map(S6e)}}function C6e(e){return I6e(e)}function I6e(e,t){return e==null?e:{registry:oe(e,"registry")?e.registry:void 0}}function A6e(e){return T6e(e)}function T6e(e,t){return e==null?e:{decimals:e.decimals,name:e.name,symbol:e.symbol,denom:oe(e,"denom")?e.denom:void 0}}function R6e(e){return P6e(e)}function P6e(e,t){return e==null?e:{lcdUrl:oe(e,"lcdUrl")?e.lcdUrl:void 0,chainName:oe(e,"chainName")?e.chainName:void 0,name:e.name,shortName:e.shortName,chain:e.chain,chainId:e.chainId,nameService:oe(e,"nameService")?C6e(e.nameService):void 0,networkId:e.networkId,iconUrls:e.iconUrls,nativeCurrency:A6e(e.nativeCurrency),rpcUrls:e.rpcUrls,privateCustomerRpcUrls:oe(e,"privateCustomerRpcUrls")?e.privateCustomerRpcUrls:void 0,blockExplorerUrls:e.blockExplorerUrls,vanityName:oe(e,"vanityName")?e.vanityName:void 0}}function kK(e){return O6e(e)}function O6e(e,t){return e==null?e:{chainName:oe(e,"chainName")?e.chainName:void 0,networks:oe(e,"networks")?e.networks.map(R6e):void 0}}var _b;(function(e){e.Done="done",e.VerifyEmail="verify-email",e.VerifiedAndTransferred="verified-and-transferred",e.VerifySms="verify-sms"})(_b||(_b={}));function N6e(e){return j6e(e)}function j6e(e,t){return e}function B6e(e){return $6e(e)}function $6e(e,t){return e==null?e:{nonce:oe(e,"nonce")?e.nonce:void 0}}function M6e(e){if(e!==void 0)return e===null?null:{state:e.state,redirectUrl:e.redirectUrl}}function D6e(e){return L6e(e)}function L6e(e,t){return e==null?e:{url:e.url}}function nB(e){if(e!==void 0)return e===null?null:{code:e.code,codeVerifier:e.codeVerifier,state:e.state,captchaToken:e.captchaToken}}function R6(e){if(e!==void 0)return e===null?null:{state:e.state}}var rB;(function(e){e.Pending="pending",e.Completed="completed"})(rB||(rB={}));function U6e(e){return F6e(e)}function F6e(e,t){return e}function W6e(e){return z6e(e)}function z6e(e,t){return e==null?e:{code:oe(e,"code")?e.code:void 0,error:oe(e,"error")?e.error:void 0,status:U6e(e.status)}}function q6e(e){if(e!==void 0)return e===null?null:{chain:e.chain,publicWalletAddress:e.publicWalletAddress}}function V6e(e){return H6e(e)}function H6e(e,t){return e==null?e:{networkId:e.networkId,chainName:e.chainName,enabled:e.enabled,rpcUrl:oe(e,"rpcUrl")?e.rpcUrl:void 0}}function K6e(e){return G6e(e)}function G6e(e,t){return e==null?e:{name:e.name,enabled:e.enabled,networks:oe(e,"networks")?e.networks.map(V6e):void 0}}function Z6e(e){return J6e(e)}function J6e(e,t){return e==null?e:{background:oe(e,"background")?e.background:void 0,fontColor:oe(e,"fontColor")?e.fontColor:void 0,paddingHeight:oe(e,"paddingHeight")?e.paddingHeight:void 0,paddingWidth:oe(e,"paddingWidth")?e.paddingWidth:void 0,radius:oe(e,"radius")?e.radius:void 0}}function Y6e(e){return X6e(e)}function X6e(e,t){return e==null?e:{border:oe(e,"border")?e.border:void 0,brand:oe(e,"brand")?e.brand:void 0,primaryColor:oe(e,"primaryColor")?e.primaryColor:void 0,radius:oe(e,"radius")?e.radius:void 0,theme:oe(e,"theme")?e.theme:void 0,view:oe(e,"view")?e.view:void 0,template:oe(e,"template")?e.template:void 0,displayOrder:oe(e,"displayOrder")?e.displayOrder:void 0,emailOnly:oe(e,"emailOnly")?e.emailOnly:void 0,showWalletsButton:oe(e,"showWalletsButton")?e.showWalletsButton:void 0,emailSubmitButtonInsideInput:oe(e,"emailSubmitButtonInsideInput")?e.emailSubmitButtonInsideInput:void 0,splitEmailAndSocial:oe(e,"splitEmailAndSocial")?e.splitEmailAndSocial:void 0,socialAboveEmail:oe(e,"socialAboveEmail")?e.socialAboveEmail:void 0}}function Q6e(e){return eEe(e)}function eEe(e,t){return e==null?e:{backgroundColor:oe(e,"backgroundColor")?e.backgroundColor:void 0,border:oe(e,"border")?e.border:void 0,radius:oe(e,"radius")?e.radius:void 0,textColor:oe(e,"textColor")?e.textColor:void 0,theme:oe(e,"theme")?e.theme:void 0}}function tEe(e){return nEe(e)}function nEe(e,t){return e==null?e:{modal:oe(e,"modal")?Y6e(e.modal):void 0,button:oe(e,"button")?Z6e(e.button):void 0,widget:oe(e,"widget")?Q6e(e.widget):void 0}}function rEe(e){return iEe(e)}function iEe(e,t){return e==null?e:{displayName:oe(e,"displayName")?e.displayName:void 0,supportEmail:oe(e,"supportEmail")?e.supportEmail:void 0,supportText:oe(e,"supportText")?e.supportText:void 0,appLogo:oe(e,"appLogo")?e.appLogo:void 0,imageUserNotInAccessList:oe(e,"imageUserNotInAccessList")?e.imageUserNotInAccessList:void 0,imageUserInAccessList:oe(e,"imageUserInAccessList")?e.imageUserInAccessList:void 0,supportUrls:oe(e,"supportUrls")?e.supportUrls:void 0,collectUserDataWelcomeHeader:oe(e,"collectUserDataWelcomeHeader")?e.collectUserDataWelcomeHeader:void 0,collectUserDataWelcomeMessage:oe(e,"collectUserDataWelcomeMessage")?e.collectUserDataWelcomeMessage:void 0,skipOptionalKYCFieldDuringOnboarding:oe(e,"skipOptionalKYCFieldDuringOnboarding")?e.skipOptionalKYCFieldDuringOnboarding:void 0,emailCompanyName:oe(e,"emailCompanyName")?e.emailCompanyName:void 0}}function oEe(e){return sEe(e)}function sEe(e,t){return e==null?e:{collectIp:oe(e,"collectIp")?e.collectIp:void 0}}function aEe(e){return cEe(e)}function cEe(e,t){return e==null?e:{deeplinkUrlsEnabled:oe(e,"deeplinkUrlsEnabled")?e.deeplinkUrlsEnabled:void 0}}function lEe(e){return dEe(e)}function dEe(e,t){return e==null?e:{allWallets:oe(e,"allWallets")?e.allWallets:void 0,allUsers:oe(e,"allUsers")?e.allUsers:void 0}}var xb;(function(e){e.Dynamic="dynamic",e.MagicLink="magicLink",e.Blocto="blocto",e.Turnkey="turnkey",e.CoinbaseWaas="coinbaseWaas"})(xb||(xb={}));function SK(e){return uEe(e)}function uEe(e,t){return e}function fEe(e){return hEe(e)}function hEe(e,t){return e==null?e:{signInProvider:oe(e,"signInProvider")?SK(e.signInProvider):void 0}}function pEe(e){return mEe(e)}function mEe(e,t){return e==null?e:{name:e.name,enabled:e.enabled,primary:e.primary}}function EK(e){return gEe(e)}function gEe(e,t){return e==null?e:{amount:e.amount,unit:p5e(e.unit)}}function P6(e){return yEe(e)}function yEe(e,t){return e==null?e:{isDefault:e.isDefault,isEnabled:e.isEnabled,isPermanentAuthenticator:e.isPermanentAuthenticator,listPosition:e.listPosition}}function vEe(e){return bEe(e)}function bEe(e,t){return e==null?e:{passkey:oe(e,"passkey")?P6(e.passkey):void 0,email:oe(e,"email")?P6(e.email):void 0,password:oe(e,"password")?P6(e.password):void 0}}function wEe(e){return _Ee(e)}function _Ee(e,t){return e==null?e:{automaticEmbeddedWalletCreation:oe(e,"automaticEmbeddedWalletCreation")?e.automaticEmbeddedWalletCreation:void 0,showEmbeddedWalletActionsUI:oe(e,"showEmbeddedWalletActionsUI")?e.showEmbeddedWalletActionsUI:void 0,emailRecoveryEnabled:oe(e,"emailRecoveryEnabled")?e.emailRecoveryEnabled:void 0,forceAuthenticatorAtSignup:oe(e,"forceAuthenticatorAtSignup")?e.forceAuthenticatorAtSignup:void 0,allowSkippingAuthenticatorAtSignup:oe(e,"allowSkippingAuthenticatorAtSignup")?e.allowSkippingAuthenticatorAtSignup:void 0,sessionKeyDuration:oe(e,"sessionKeyDuration")?EK(e.sessionKeyDuration):void 0,supportedSecurityMethods:oe(e,"supportedSecurityMethods")?vEe(e.supportedSecurityMethods):void 0,chainConfigurations:oe(e,"chainConfigurations")?e.chainConfigurations.map(pEe):void 0,domainEnabledByProvider:oe(e,"domainEnabledByProvider")?e.domainEnabledByProvider:void 0}}var t0;(function(e){e.Apple="apple",e.Bitbucket="bitbucket",e.Coinbasesocial="coinbasesocial",e.Discord="discord",e.Facebook="facebook",e.Farcaster="farcaster",e.Github="github",e.Gitlab="gitlab",e.Google="google",e.Instagram="instagram",e.Linkedin="linkedin",e.Microsoft="microsoft",e.Twitch="twitch",e.Twitter="twitter",e.Telegram="telegram"})(t0||(t0={}));function xEe(e){return kEe(e)}function kEe(e,t){return e}function SEe(e){return EEe(e)}function EEe(e,t){return e==null?e:{provider:xEe(e.provider),enabled:oe(e,"enabled")?e.enabled:void 0}}function CEe(e){return IEe(e)}function IEe(e,t){return e==null?e:{signInProvider:oe(e,"signInProvider")?SK(e.signInProvider):void 0,providers:oe(e,"providers")?e.providers.map(SEe):void 0}}function AEe(e){return TEe(e)}function TEe(e,t){return e==null?e:{projectId:oe(e,"projectId")?e.projectId:void 0,v2Enabled:oe(e,"v2Enabled")?e.v2Enabled:void 0}}var iB;(function(e){e.Center="center",e.Left="left",e.Right="right"})(iB||(iB={}));function REe(e){return PEe(e)}function PEe(e,t){return e}var Cs;(function(e){e.Email="email",e.EmailAndPhone="emailAndPhone",e.Phone="phone",e.Separator="separator",e.Social="social",e.Text="text",e.Wallet="wallet"})(Cs||(Cs={}));function OEe(e){return NEe(e)}function NEe(e,t){return e}function jEe(e){return BEe(e)}function BEe(e,t){return e==null?e:{type:OEe(e.type),label:oe(e,"label")?e.label:void 0,numOfItemsToDisplay:oe(e,"numOfItemsToDisplay")?e.numOfItemsToDisplay:void 0,defaultItem:oe(e,"defaultItem")?e.defaultItem:void 0,alignment:oe(e,"alignment")?REe(e.alignment):void 0}}var vI;(function(e){e.Login="login"})(vI||(vI={}));function $Ee(e){return MEe(e)}function MEe(e,t){return e}function DEe(e){return LEe(e)}function LEe(e,t){return e==null?e:{type:$Ee(e.type),sections:oe(e,"sections")?e.sections.map(jEe):void 0}}function UEe(e){return FEe(e)}function FEe(e,t){return e==null?e:{emailSignIn:oe(e,"emailSignIn")?fEe(e.emailSignIn):void 0,socialSignIn:oe(e,"socialSignIn")?CEe(e.socialSignIn):void 0,multiWallet:oe(e,"multiWallet")?e.multiWallet:void 0,multiWalletUnlinkDisabled:oe(e,"multiWalletUnlinkDisabled")?e.multiWalletUnlinkDisabled:void 0,mobile:oe(e,"mobile")?aEe(e.mobile):void 0,confirmWalletTransfers:oe(e,"confirmWalletTransfers")?e.confirmWalletTransfers:void 0,onrampFunding:oe(e,"onrampFunding")?e.onrampFunding:void 0,passkeyEmbeddedWalletEnabled:oe(e,"passkeyEmbeddedWalletEnabled")?e.passkeyEmbeddedWalletEnabled:void 0,automaticEmbeddedWalletCreation:oe(e,"automaticEmbeddedWalletCreation")?e.automaticEmbeddedWalletCreation:void 0,passkeyEmbeddedWalletRecoveryEnabled:oe(e,"passkeyEmbeddedWalletRecoveryEnabled")?e.passkeyEmbeddedWalletRecoveryEnabled:void 0,embeddedWalletSecurityMethods:oe(e,"embeddedWalletSecurityMethods")?e.embeddedWalletSecurityMethods.map(L5e):void 0,embeddedWallets:oe(e,"embeddedWallets")?wEe(e.embeddedWallets):void 0,walletConnect:oe(e,"walletConnect")?AEe(e.walletConnect):void 0,confirmEmailProviderForVerify:oe(e,"confirmEmailProviderForVerify")?e.confirmEmailProviderForVerify:void 0,displayDynamicMessaging:oe(e,"displayDynamicMessaging")?e.displayDynamicMessaging:void 0,hideNetworkInDynamicWidget:oe(e,"hideNetworkInDynamicWidget")?e.hideNetworkInDynamicWidget:void 0,preventOrphanedAccounts:oe(e,"preventOrphanedAccounts")?e.preventOrphanedAccounts:void 0,views:oe(e,"views")?e.views.map(DEe):void 0,accountAbstraction:oe(e,"accountAbstraction")?lEe(e.accountAbstraction):void 0,enableMultiAsset:oe(e,"enableMultiAsset")?e.enableMultiAsset:void 0,showFiat:oe(e,"showFiat")?e.showFiat:void 0}}function WEe(e){return zEe(e)}function zEe(e,t){return e==null?e:{storage:e.storage.map(DSe)}}function qEe(e){return VEe(e)}function VEe(e,t){return e==null?e:{enabled:oe(e,"enabled")?e.enabled:void 0,iss:oe(e,"iss")?e.iss:void 0,aud:oe(e,"aud")?e.aud:void 0,jwksUrl:oe(e,"jwksUrl")?e.jwksUrl:void 0,cookieName:oe(e,"cookieName")?e.cookieName:void 0}}function HEe(e){return KEe(e)}function KEe(e,t){return e==null?e:{enabled:oe(e,"enabled")?e.enabled:void 0,secretKey:oe(e,"secretKey")?e.secretKey:void 0,siteKey:oe(e,"siteKey")?e.siteKey:void 0}}function GEe(e){return ZEe(e)}function ZEe(e,t){return e==null?e:{enabled:oe(e,"enabled")?e.enabled:void 0,required:oe(e,"required")?e.required:void 0,availableMethods:oe(e,"availableMethods")?e.availableMethods.map(sT):void 0}}function JEe(e){return YEe(e)}function YEe(e,t){return e==null?e:{jwtDuration:oe(e,"jwtDuration")?EK(e.jwtDuration):void 0,hCaptcha:oe(e,"hCaptcha")?HEe(e.hCaptcha):void 0,mfa:oe(e,"mfa")?GEe(e.mfa):void 0,auth:oe(e,"auth")?WEe(e.auth):void 0,externalAuth:oe(e,"externalAuth")?qEe(e.externalAuth):void 0}}function XEe(e){return QEe(e)}function QEe(e,t){return e==null?e:{termsUrl:e.termsUrl,email:e.email,userId:e.userId,createdAt:new Date(e.createdAt)}}function eCe(e){return tCe(e)}function tCe(e,t){return e==null?e:{isoCountryCode:e.isoCountryCode,phoneCountryCode:e.phoneCountryCode}}var oB;(function(e){e.V6="v6",e.V7="v7"})(oB||(oB={}));var sB;(function(e){e.V24="v2_4",e.V30="v3_0",e.V31="v3_1"})(sB||(sB={}));function nCe(e){return rCe(e)}function rCe(e,t){return e==null?e:{id:oe(e,"id")?e.id:void 0,provider:k1(e.provider),enabledAt:oe(e,"enabledAt")?e.enabledAt===null?null:new Date(e.enabledAt):void 0,clientId:oe(e,"clientId")?e.clientId:void 0,clientSecret:oe(e,"clientSecret")?e.clientSecret:void 0,providerProjectId:oe(e,"providerProjectId")?e.providerProjectId:void 0,authorizationUrl:oe(e,"authorizationUrl")?e.authorizationUrl:void 0,redirectUrl:oe(e,"redirectUrl")?e.redirectUrl:void 0,defaultChainId:oe(e,"defaultChainId")?e.defaultChainId:void 0,defaultChain:oe(e,"defaultChain")?e.defaultChain:void 0,keyExportUrl:oe(e,"keyExportUrl")?e.keyExportUrl:void 0,termsAcceptedByUser:oe(e,"termsAcceptedByUser")?XEe(e.termsAcceptedByUser):void 0,appleKeyId:oe(e,"appleKeyId")?e.appleKeyId:void 0,appleTeamId:oe(e,"appleTeamId")?e.appleTeamId:void 0,accountSid:oe(e,"accountSid")?e.accountSid:void 0,twilioNumber:oe(e,"twilioNumber")?e.twilioNumber:void 0,enabledCountries:oe(e,"enabledCountries")?e.enabledCountries.map(eCe):void 0,entryPointVersion:oe(e,"entryPointVersion")?e.entryPointVersion:void 0,kernelVersion:oe(e,"kernelVersion")?e.kernelVersion:void 0,ecdsaProviderType:oe(e,"ecdsaProviderType")?g5e(e.ecdsaProviderType):void 0}}function iCe(e){return oCe(e)}function oCe(e,t){return e==null?e:{environmentName:oe(e,"environmentName")?F5e(e.environmentName):void 0,chains:e.chains.map(K6e),customFields:oe(e,"customFields")?e.customFields.map(_2):void 0,kyc:e.kyc.map(_2),design:tEe(e.design),general:rEe(e.general),privacy:oEe(e.privacy),providers:oe(e,"providers")?e.providers.map(nCe):void 0,sdk:UEe(e.sdk),security:JEe(e.security),networks:oe(e,"networks")?e.networks.map(kK):void 0}}var aB;(function(e){e.Track="track"})(aB||(aB={}));function sCe(e){if(e!==void 0)return e===null?null:{anonymousId:e.anonymousId,event:e.event,properties:e.properties,type:e.type}}function aCe(e){if(e!==void 0)return e===null?null:{events:e.events.map(sCe)}}function cCe(e){if(e!==void 0)return e===null?null:{publicKey:e.publicKey}}function lCe(e){if(e!==void 0)return e===null?null:{version:e.version}}function dCe(e){if(e!==void 0)return e===null?null:{version:e.version}}function uCe(e){if(e!==void 0)return e===null?null:{react:dCe(e.react),nextjs:lCe(e.nextjs)}}function fCe(e){if(e!==void 0)return e===null?null:{dynamicContextProps:e.dynamicContextProps,dynamicWagmiSettings:e.dynamicWagmiSettings,frameworkSettings:uCe(e.frameworkSettings)}}function hCe(e){if(e!==void 0)return e===null?null:{phoneCountryCode:e.phoneCountryCode,phoneNumber:e.phoneNumber,isoCountryCode:e.isoCountryCode,captchaToken:e.captchaToken}}function bI(e){return pCe(e)}function pCe(e,t){return e==null?e:{verificationUUID:e.verificationUUID,phoneNumber:e.phoneNumber,phoneCountryCode:e.phoneCountryCode,isoCountryCode:e.isoCountryCode}}function mCe(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,phoneCountryCode:e.phoneCountryCode,phoneNumber:e.phoneNumber,isoCountryCode:e.isoCountryCode,captchaToken:e.captchaToken}}function cB(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,verificationToken:e.verificationToken,captchaToken:e.captchaToken}}function gCe(e){return yCe(e)}function yCe(e,t){return e==null?e:{provider:oe(e,"provider")?k1(e.provider):void 0,name:oe(e,"name")?e.name:void 0,iconUrl:oe(e,"iconUrl")?e.iconUrl:void 0,url:oe(e,"url")?e.url:void 0}}function vCe(e){return bCe(e)}function bCe(e,t){return e==null?e:{onramps:oe(e,"onramps")?e.onramps.map(gCe):void 0}}function wCe(e){if(e!==void 0)return e===null?null:{id:e.id,firstName:e.firstName,lastName:e.lastName,hash:e.hash,photoURL:e.photoURL,username:e.username,authDate:e.authDate}}function _Ce(e){if(e!==void 0)return e===null?null:{state:e.state,telegramUser:wCe(e.telegramUser)}}function xCe(e){return kCe(e)}function kCe(e,t){return e==null?e:{networkId:oe(e,"networkId")?e.networkId:void 0,address:e.address,name:e.name,symbol:e.symbol,decimals:e.decimals,logoURI:e.logoURI,balance:e.balance,rawBalance:e.rawBalance,price:oe(e,"price")?e.price:void 0,marketValue:oe(e,"marketValue")?e.marketValue:void 0}}function SCe(e){return ECe(e)}function ECe(e,t){return e==null?e:{curve:e.curve,pathFormat:e.pathFormat,path:e.path,addressFormat:e.addressFormat}}function CCe(e){return ICe(e)}function ICe(e,t){return e==null?e:{walletId:e.walletId,accounts:e.accounts.map(SCe)}}function ACe(e){return TCe(e)}function TCe(e,t){return e==null?e:{organizationId:e.organizationId,parameters:CCe(e.parameters),timestampMs:e.timestampMs,type:e.type}}var wI;(function(e){e.EmailAlreadyExists="email_already_exists",e.AllowlistAlreadyExists="allowlist_already_exists",e.AllowlistEntryAlreadyExists="allowlist_entry_already_exists",e.ReassignWalletError="reassign_wallet_error",e.ReassignWalletConfirm="reassign_wallet_confirm",e.MembersCannotDeleteThemself="members_cannot_delete_themself",e.UsernameAlreadyExists="username_already_exists",e.WrongEmailVerificationToken="wrong_email_verification_token",e.WrongSmsVerificationToken="wrong_sms_verification_token",e.InvalidEmailVerification="invalid_email_verification",e.InvalidSmsVerification="invalid_sms_verification",e.InvalidVerification="invalid_verification",e.TooManySmsVerificationAttempts="too_many_sms_verification_attempts",e.TooManyEmailVerificationAttempts="too_many_email_verification_attempts",e.TooManyVerificationAttempts="too_many_verification_attempts",e.OrganizationNameAlreadyExists="organization_name_already_exists",e.ProjectNameAlreadyExists="project_name_already_exists",e.WalletNotDeployed="wallet_not_deployed",e.EmailVerificationRequired="email_verification_required",e.PhoneVerificationRequired="phone_verification_required",e.InviteAddressRequired="invite_address_required",e.ProviderNotAvailable="provider_not_available",e.ForbiddenUnlinkRequest="forbidden_unlink_request",e.InvalidUnlinkRequest="invalid_unlink_request",e.TooManyApiTokens="too_many_api_tokens",e.LockTimeout="lock_timeout",e.LockTooManyAttempts="lock_too_many_attempts",e.NftTokenGatingNotSupportedForChain="nft_token_gating_not_supported_for_chain",e.EmptyChainName="empty_chain_name",e.NoEnabledEmailProvider="no_enabled_email_provider",e.NoEnabledSmsProvider="no_enabled_sms_provider",e.InvalidKeyExportUrl="invalid_key_export_url",e.InvalidDynamicProps="invalid_dynamic_props",e.TooManyRequests="too_many_requests",e.TooManyOrganizationsForUser="too_many_organizations_for_user",e.TooManyProjectsForOrganization="too_many_projects_for_organization",e.EmailAssociatedWithDifferentProvider="email_associated_with_different_provider",e.UserHasAlreadyAccountWithEmail="user_has_already_account_with_email",e.UserHasAlreadyAccountWithPhoneNumber="user_has_already_account_with_phone_number",e.OtherVerifyFailure="other_verify_failure",e.EmailTiedToEmbeddedWallet="email_tied_to_embedded_wallet",e.InvalidInvite="invalid_invite",e.SocialAccountAlreadyExists="social_account_already_exists",e.InvalidEmailAddress="invalid_email_address",e.InvalidGate="invalid_gate",e.ConflictingEmbeddedWalletProviders="conflicting_embedded_wallet_providers",e.InvalidUser="invalid_user",e.InvalidCorsOrigins="invalid_cors_origins",e.InvalidMobileDeeplinkUrls="invalid_mobile_deeplink_urls",e.UnauthorizedMobileDeeplinkUrl="unauthorized_mobile_deeplink_url",e.InvalidPrivateKeyFormat="invalid_private_key_format",e.InvalidEmbeddedWalletSettings="invalid_embedded_wallet_settings",e.WalletNotSupportPasskey="wallet_not_support_passkey",e.RecoveryEmailUnavailableOrInvalid="recovery_email_unavailable_or_invalid",e.ConnectError="connect_error",e.InvalidWalletName="invalid_wallet_name",e.InvalidWalletAddress="invalid_wallet_address",e.EmailRecoveryDisabled="email_recovery_disabled",e.NoCompatibleWalletServiceEnabled="no_compatible_wallet_service_enabled",e.MissingAaProjectId="missing_aa_project_id",e.LinkedEmbeddedWallet="linked_embedded_wallet",e.InvalidMpcEnvironment="invalid_mpc_environment",e.InvalidRegex="invalid_regex",e.RepeatedOptions="repeated_options",e.MissingPhoneNumberOrEmail="missing_phone_number_or_email",e.DuplicateExists="duplicate_exists",e.MfaDeviceNotFound="mfa_device_not_found",e.MfaInvalidCode="mfa_invalid_code",e.MfaInvalidRequest="mfa_invalid_request",e.InvalidPhone="invalid_phone",e.GateExists="gate_exists",e.InvalidEmbeddedWalletChainsConfiguration="invalid_embedded_wallet_chains_configuration",e.MergeAccountsConfirmation="merge_accounts_confirmation",e.MergeAccountsInvalid="merge_accounts_invalid",e.InvalidWalletId="invalid_wallet_id",e.UnableToFetchBalances="unable_to_fetch_balances",e.CannotSwitchToUnique="cannot_switch_to_unique",e.CustomFieldDataNotUnique="custom_field_data_not_unique",e.MetadataSizeExceeded="metadata_size_exceeded",e.InvalidCustomHostname="invalid_custom_hostname",e.BlockedUserCannotTransferWallet="blocked_user_cannot_transfer_wallet",e.FeatureNotEnabledInSuborg="feature_not_enabled_in_suborg",e.InvalidUsername="invalid_username",e.InvalidExternalAuth="invalid_external_auth",e.InvalidChainAddressMatch="invalid_chain_address_match",e.InvalidUpdate="invalid_update",e.CannotDeleteLastProject="cannot_delete_last_project",e.NoHdWalletFound="no_hd_wallet_found",e.WalletAccountExistsForChain="wallet_account_exists_for_chain"})(wI||(wI={}));function RCe(e){if(e!==void 0)return e===null?null:{turnkeySignedRequest:vK(e.turnkeySignedRequest)}}function O6(e){return PCe(e)}function PCe(e,t){return e==null?e:{mfaToken:oe(e,"mfaToken")?e.mfaToken:void 0,jwt:oe(e,"jwt")?e.jwt:void 0,user:oT(e.user),minifiedJwt:oe(e,"minifiedJwt")?e.minifiedJwt:void 0,expiresAt:e.expiresAt,nextView:N6e(e.nextView),emailVerification:oe(e,"emailVerification")?pI(e.emailVerification):void 0,smsVerification:oe(e,"smsVerification")?bI(e.smsVerification):void 0}}function OCe(e){if(e!==void 0)return e===null?null:{id:e.id,alias:e.alias}}function NCe(e){if(e!==void 0)return e===null?null:{email:e.email,alias:e.alias,firstName:e.firstName,lastName:e.lastName,jobTitle:e.jobTitle,phoneNumber:e.phoneNumber,tShirtSize:e.tShirtSize,team:e.team,policiesConsent:e.policiesConsent,country:e.country,username:e.username,captchaToken:e.captchaToken,metadata:e.metadata,mfaBackupCodeAcknowledgement:e.mfaBackupCodeAcknowledgement,btcWallet:e.btcWallet,kdaWallet:e.kdaWallet,ltcWallet:e.ltcWallet,ckbWallet:e.ckbWallet,kasWallet:e.kasWallet,dogeWallet:e.dogeWallet,emailNotification:e.emailNotification,discordNotification:e.discordNotification,newsletterNotification:e.newsletterNotification}}function jCe(e){if(e!==void 0)return e===null?null:{walletId:e.walletId}}function BCe(e){return $Ce(e)}function $Ce(e,t){return e==null?e:{provider:oe(e,"provider")?k1(e.provider):void 0,accessToken:oe(e,"accessToken")?e.accessToken:void 0,didToken:oe(e,"didToken")?e.didToken:void 0}}function MCe(e){if(e!==void 0)return e===null?null:{provider:e.provider,accessToken:e.accessToken,didToken:e.didToken}}function CK(e){return DCe(e)}function DCe(e,t){return e==null?e:{oauth:oe(e,"oauth")?BCe(e.oauth):void 0,signedMessage:e.signedMessage,messageToSign:e.messageToSign,publicWalletAddress:e.publicWalletAddress,chain:gK(e.chain),walletName:e.walletName,walletProvider:rT(e.walletProvider),skipEmptyAccountCheck:oe(e,"skipEmptyAccountCheck")?e.skipEmptyAccountCheck:void 0,captchaToken:oe(e,"captchaToken")?e.captchaToken:void 0,network:oe(e,"network")?e.network:void 0,additionalWalletAddresses:oe(e,"additionalWalletAddresses")?e.additionalWalletAddresses.map(bK):void 0,backup:oe(e,"backup")?e.backup:void 0,password:oe(e,"password")?e.password:void 0,passwordSource:oe(e,"passwordSource")?nT(e.passwordSource):void 0}}function N6(e){if(e!==void 0)return e===null?null:{oauth:MCe(e.oauth),signedMessage:e.signedMessage,messageToSign:e.messageToSign,publicWalletAddress:e.publicWalletAddress,chain:e.chain,walletName:e.walletName,walletProvider:e.walletProvider,skipEmptyAccountCheck:e.skipEmptyAccountCheck,captchaToken:e.captchaToken,network:e.network,additionalWalletAddresses:e.additionalWalletAddresses===void 0?void 0:e.additionalWalletAddresses.map(T5e),backup:e.backup,password:e.password,passwordSource:e.passwordSource}}function Xi(e){return LCe(e)}function LCe(e,t){return e==null?e:{mfaToken:oe(e,"mfaToken")?e.mfaToken:void 0,jwt:oe(e,"jwt")?e.jwt:void 0,user:oT(e.user),minifiedJwt:oe(e,"minifiedJwt")?e.minifiedJwt:void 0,expiresAt:e.expiresAt}}function UCe(e){if(e!==void 0)return e===null?null:{walletId:e.walletId,verifiedCrentialId:e.verifiedCrentialId,primaryWalletId:e.primaryWalletId}}class FCe extends $Se{authMfaRecoveryRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaRecovery.");if(t.mFAAuthRecoveryDevicePostRequest===null||t.mFAAuthRecoveryDevicePostRequest===void 0)throw new ye("mFAAuthRecoveryDevicePostRequest","Required parameter requestParameters.mFAAuthRecoveryDevicePostRequest was null or undefined when calling authMfaRecovery.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:d6e(t.mFAAuthRecoveryDevicePostRequest)},n);return new Bn(o,s=>Xi(s))})}authMfaRecovery(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.authMfaRecoveryRaw(t,n)).value()})}authMfaRecoveryOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaRecoveryOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}authMfaRecoveryOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.authMfaRecoveryOptionsRaw(t,n)})}authMfaTotpDeviceRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaTotpDevice.");if(t.mFAAuthTotpDevicePostRequest===null||t.mFAAuthTotpDevicePostRequest===void 0)throw new ye("mFAAuthTotpDevicePostRequest","Required parameter requestParameters.mFAAuthTotpDevicePostRequest was null or undefined when calling authMfaTotpDevice.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:u6e(t.mFAAuthTotpDevicePostRequest)},n);return new Bn(o,s=>Xi(s))})}authMfaTotpDevice(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.authMfaTotpDeviceRaw(t,n)).value()})}authMfaTotpDeviceOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaTotpDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}authMfaTotpDeviceOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.authMfaTotpDeviceOptionsRaw(t,n)})}claimEmbeddedWalletRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling claimEmbeddedWallet.");if(t.embeddedWalletPasscodeClaimRequest===null||t.embeddedWalletPasscodeClaimRequest===void 0)throw new ye("embeddedWalletPasscodeClaimRequest","Required parameter requestParameters.embeddedWalletPasscodeClaimRequest was null or undefined when calling claimEmbeddedWallet.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passcode/claim".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:E5e(t.embeddedWalletPasscodeClaimRequest)},n);return new Bn(o,s=>Xi(s))})}claimEmbeddedWallet(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.claimEmbeddedWalletRaw(t,n)).value()})}claimEmbeddedWalletOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling claimEmbeddedWalletOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passcode/claim".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}claimEmbeddedWalletOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.claimEmbeddedWalletOptionsRaw(t,n)})}completePasskeyRecoveryRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling completePasskeyRecovery.");if(t.completePasskeyRecoveryRequest===null||t.completePasskeyRecoveryRequest===void 0)throw new ye("completePasskeyRecoveryRequest","Required parameter requestParameters.completePasskeyRecoveryRequest was null or undefined when calling completePasskeyRecovery.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passkeyRecovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:o5e(t.completePasskeyRecoveryRequest)},n);return new Bn(o,s=>Xi(s))})}completePasskeyRecovery(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.completePasskeyRecoveryRaw(t,n)).value()})}createEmailVerificationRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createEmailVerification.");if(t.emailVerificationCreateRequest===null||t.emailVerificationCreateRequest===void 0)throw new ye("emailVerificationCreateRequest","Required parameter requestParameters.emailVerificationCreateRequest was null or undefined when calling createEmailVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:w5e(t.emailVerificationCreateRequest)},n);return new Bn(o,s=>pI(s))})}createEmailVerification(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.createEmailVerificationRaw(t,n)).value()})}createEmailVerificationOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createEmailVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}createEmailVerificationOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.createEmailVerificationOptionsRaw(t,n)})}createEmbeddedWalletsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createEmbeddedWallets.");if(t.createEmbeddedWalletsRequest===null||t.createEmbeddedWalletsRequest===void 0)throw new ye("createEmbeddedWalletsRequest","Required parameter requestParameters.createEmbeddedWalletsRequest was null or undefined when calling createEmbeddedWallets.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:u5e(t.createEmbeddedWalletsRequest)},n);return new Bn(o,s=>Xi(s))})}createEmbeddedWallets(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.createEmbeddedWalletsRaw(t,n)).value()})}createEmbeddedWalletsOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createEmbeddedWalletsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}createEmbeddedWalletsOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.createEmbeddedWalletsOptionsRaw(t,n)})}createNewRecoveryCodesRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createNewRecoveryCodes.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r},n);return new Bn(o,s=>v6e(s))})}createNewRecoveryCodes(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.createNewRecoveryCodesRaw(t,n)).value()})}createSmsVerificationRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createSmsVerification.");if(t.smsVerificationCreateRequest===null||t.smsVerificationCreateRequest===void 0)throw new ye("smsVerificationCreateRequest","Required parameter requestParameters.smsVerificationCreateRequest was null or undefined when calling createSmsVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:hCe(t.smsVerificationCreateRequest)},n);return new Bn(o,s=>bI(s))})}createSmsVerification(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.createSmsVerificationRaw(t,n)).value()})}createSmsVerificationOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createSmsVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}createSmsVerificationOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.createSmsVerificationOptionsRaw(t,n)})}createVisitRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createVisit.");if(t.connectRequest===null||t.connectRequest===void 0)throw new ye("connectRequest","Required parameter requestParameters.connectRequest was null or undefined when calling createVisit.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/connect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:s5e(t.connectRequest)},n);return new Ut(o)})}createVisit(t,n){return ue(this,void 0,void 0,function*(){yield this.createVisitRaw(t,n)})}createWalletAccountRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createWalletAccount.");if(t.createWalletAccountRequest===null||t.createWalletAccountRequest===void 0)throw new ye("createWalletAccountRequest","Required parameter requestParameters.createWalletAccountRequest was null or undefined when calling createWalletAccount.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/walletAccounts".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:h5e(t.createWalletAccountRequest)},n);return new Bn(o,s=>Xi(s))})}createWalletAccount(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.createWalletAccountRaw(t,n)).value()})}deleteMfaDeviceRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling deleteMfaDevice.");if(t.mfaDeviceId===null||t.mfaDeviceId===void 0)throw new ye("mfaDeviceId","Required parameter requestParameters.mfaDeviceId was null or undefined when calling deleteMfaDevice.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/{mfaDeviceId}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{mfaDeviceId}",encodeURIComponent(String(t.mfaDeviceId))),method:"DELETE",headers:i,query:r},n);return new Ut(o)})}deleteMfaDevice(t,n){return ue(this,void 0,void 0,function*(){yield this.deleteMfaDeviceRaw(t,n)})}emailAuthOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling emailAuthOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/emailAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}emailAuthOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.emailAuthOptionsRaw(t,n)})}emailProviderOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling emailProviderOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailProvider".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}emailProviderOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.emailProviderOptionsRaw(t,n)})}embeddedWalletExportRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling embeddedWalletExport.");if(t.walletId===null||t.walletId===void 0)throw new ye("walletId","Required parameter requestParameters.walletId was null or undefined when calling embeddedWalletExport.");if(t.activityId===null||t.activityId===void 0)throw new ye("activityId","Required parameter requestParameters.activityId was null or undefined when calling embeddedWalletExport.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/activities/{activityId}/export".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))).replace("{activityId}",encodeURIComponent(String(t.activityId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>z5e(s))})}embeddedWalletExport(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.embeddedWalletExportRaw(t,n)).value()})}embeddedWalletExportOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling embeddedWalletExportOptions.");if(t.walletId===null||t.walletId===void 0)throw new ye("walletId","Required parameter requestParameters.walletId was null or undefined when calling embeddedWalletExportOptions.");if(t.activityId===null||t.activityId===void 0)throw new ye("activityId","Required parameter requestParameters.activityId was null or undefined when calling embeddedWalletExportOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/activities/{activityId}/export".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))).replace("{activityId}",encodeURIComponent(String(t.activityId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}embeddedWalletExportOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.embeddedWalletExportOptionsRaw(t,n)})}eventsOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling eventsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/events".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}eventsOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.eventsOptionsRaw(t,n)})}externalAuthSigninRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling externalAuthSignin.");if(t.externalAuthSigninRequest===null||t.externalAuthSigninRequest===void 0)throw new ye("externalAuthSigninRequest","Required parameter requestParameters.externalAuthSigninRequest was null or undefined when calling externalAuthSignin.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/externalAuth/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:Qj(t.externalAuthSigninRequest)},n);return new Bn(o,s=>Xi(s))})}externalAuthSignin(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.externalAuthSigninRaw(t,n)).value()})}externalAuthSigninOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling externalAuthSigninOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/externalAuth/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}externalAuthSigninOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.externalAuthSigninOptionsRaw(t,n)})}externalAuthVerifyRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling externalAuthVerify.");if(t.externalAuthSigninRequest===null||t.externalAuthSigninRequest===void 0)throw new ye("externalAuthSigninRequest","Required parameter requestParameters.externalAuthSigninRequest was null or undefined when calling externalAuthVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/externalAuth/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:Qj(t.externalAuthSigninRequest)},n);return new Bn(o,s=>Xi(s))})}externalAuthVerify(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.externalAuthVerifyRaw(t,n)).value()})}externalAuthVerifyOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling externalAuthVerifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/externalAuth/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}externalAuthVerifyOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.externalAuthVerifyOptionsRaw(t,n)})}farcasterSignInRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling farcasterSignIn.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/farcaster/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:eB(t.farcasterSignInRequest)},n);return new Bn(o,s=>Xi(s))})}farcasterSignIn(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.farcasterSignInRaw(t,n)).value()})}farcasterSignInOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling farcasterSignInOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/farcaster/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}farcasterSignInOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.farcasterSignInOptionsRaw(t,n)})}farcasterVerifyRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling farcasterVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/farcaster/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:eB(t.farcasterSignInRequest)},n);return new Bn(o,s=>Xi(s))})}farcasterVerify(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.farcasterVerifyRaw(t,n)).value()})}farcasterVerifyOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling farcasterVerifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/farcaster/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}farcasterVerifyOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.farcasterVerifyOptionsRaw(t,n)})}getAccountBalancesRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAccountBalances.");if(t.chainName===null||t.chainName===void 0)throw new ye("chainName","Required parameter requestParameters.chainName was null or undefined when calling getAccountBalances.");if(t.accountAddress===null||t.accountAddress===void 0)throw new ye("accountAddress","Required parameter requestParameters.accountAddress was null or undefined when calling getAccountBalances.");const r={};t.networkId!==void 0&&(r.networkId=t.networkId),t.accountAddress!==void 0&&(r.accountAddress=t.accountAddress),t.includePrices!==void 0&&(r.includePrices=t.includePrices),t.includeNative!==void 0&&(r.includeNative=t.includeNative);const i={},o=yield this.request({path:"/sdk/{environmentId}/chains/{chainName}/balances".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{chainName}",encodeURIComponent(String(t.chainName))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>s.map(xCe))})}getAccountBalances(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getAccountBalancesRaw(t,n)).value()})}getAccountBalancesOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAccountBalancesOptions.");if(t.chainName===null||t.chainName===void 0)throw new ye("chainName","Required parameter requestParameters.chainName was null or undefined when calling getAccountBalancesOptions.");if(t.networkId===null||t.networkId===void 0)throw new ye("networkId","Required parameter requestParameters.networkId was null or undefined when calling getAccountBalancesOptions.");if(t.accountAddress===null||t.accountAddress===void 0)throw new ye("accountAddress","Required parameter requestParameters.accountAddress was null or undefined when calling getAccountBalancesOptions.");const r={};t.networkId!==void 0&&(r.networkId=t.networkId),t.accountAddress!==void 0&&(r.accountAddress=t.accountAddress);const i={},o=yield this.request({path:"/sdk/{environmentId}/chains/{chainName}/balances".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{chainName}",encodeURIComponent(String(t.chainName))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}getAccountBalancesOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.getAccountBalancesOptionsRaw(t,n)})}getAuthTokenRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAuthToken.");const r={};t.type!==void 0&&(r.type=t.type);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/authToken".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>k5e(s))})}getAuthToken(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getAuthTokenRaw(t,n)).value()})}getAuthTokenOptsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAuthTokenOpts.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/authToken".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}getAuthTokenOpts(t,n){return ue(this,void 0,void 0,function*(){yield this.getAuthTokenOptsRaw(t,n)})}getAuthenticatedUserRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAuthenticatedUser.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>oT(s))})}getAuthenticatedUser(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getAuthenticatedUserRaw(t,n)).value()})}getCreateWalletAccountRequestRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getCreateWalletAccountRequest.");if(t.chain===null||t.chain===void 0)throw new ye("chain","Required parameter requestParameters.chain was null or undefined when calling getCreateWalletAccountRequest.");const r={};t.chain!==void 0&&(r.chain=t.chain);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/walletAccounts/createRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>ACe(s))})}getCreateWalletAccountRequest(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getCreateWalletAccountRequestRaw(t,n)).value()})}getEmailProviderRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmailProvider.");if(t.email===null||t.email===void 0)throw new ye("email","Required parameter requestParameters.email was null or undefined when calling getEmailProvider.");const r={};t.email!==void 0&&(r.email=t.email);const i={},o=yield this.request({path:"/sdk/{environmentId}/emailProvider".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>v5e(s))})}getEmailProvider(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getEmailProviderRaw(t,n)).value()})}getEmbeddedWalletBackupOptionRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletBackupOption.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/backup".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}getEmbeddedWalletBackupOption(t,n){return ue(this,void 0,void 0,function*(){yield this.getEmbeddedWalletBackupOptionRaw(t,n)})}getEmbeddedWalletBackupsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletBackups.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/backup".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>Yj(s))})}getEmbeddedWalletBackups(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getEmbeddedWalletBackupsRaw(t,n)).value()})}getEmbeddedWalletPasscodeRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletPasscode.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passcode".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>Yj(s))})}getEmbeddedWalletPasscode(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getEmbeddedWalletPasscodeRaw(t,n)).value()})}getEmbeddedWalletPasscodeOptionRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletPasscodeOption.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passcode".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}getEmbeddedWalletPasscodeOption(t,n){return ue(this,void 0,void 0,function*(){yield this.getEmbeddedWalletPasscodeOptionRaw(t,n)})}getEnvironmentSettingsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEnvironmentSettings.");const r={};t.sdkVersion!==void 0&&(r.sdkVersion=t.sdkVersion);const i={},o=yield this.request({path:"/sdk/{environmentId}/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>iCe(s))})}getEnvironmentSettings(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getEnvironmentSettingsRaw(t,n)).value()})}getHealthcheckRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getHealthcheck.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/healthcheck".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>X5e(s))})}getHealthcheck(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getHealthcheckRaw(t,n)).value()})}getHealthcheckOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getHealthcheckOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/healthcheck".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}getHealthcheckOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.getHealthcheckOptionsRaw(t,n)})}getJwksByEnvironmentIdRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getJwksByEnvironmentId.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/.well-known/jwks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>c6e(s))})}getJwksByEnvironmentId(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getJwksByEnvironmentIdRaw(t,n)).value()})}getMfaDeviceRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getMfaDevice.");if(t.mfaDeviceId===null||t.mfaDeviceId===void 0)throw new ye("mfaDeviceId","Required parameter requestParameters.mfaDeviceId was null or undefined when calling getMfaDevice.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/{mfaDeviceId}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{mfaDeviceId}",encodeURIComponent(String(t.mfaDeviceId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>yI(s))})}getMfaDevice(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getMfaDeviceRaw(t,n)).value()})}getMfaDeviceOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getMfaDeviceOptions.");if(t.mfaDeviceId===null||t.mfaDeviceId===void 0)throw new ye("mfaDeviceId","Required parameter requestParameters.mfaDeviceId was null or undefined when calling getMfaDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/{mfaDeviceId}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{mfaDeviceId}",encodeURIComponent(String(t.mfaDeviceId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}getMfaDeviceOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.getMfaDeviceOptionsRaw(t,n)})}getNetworksConfigurationByEnvIdRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getNetworksConfigurationByEnvId.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/networks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>s.map(kK))})}getNetworksConfigurationByEnvId(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getNetworksConfigurationByEnvIdRaw(t,n)).value()})}getNonceRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getNonce.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/nonce".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>B6e(s))})}getNonce(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getNonceRaw(t,n)).value()})}getRecoveryCodesRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getRecoveryCodes.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>p6e(s))})}getRecoveryCodes(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getRecoveryCodesRaw(t,n)).value()})}getSupportedOnrampsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getSupportedOnramps.");if(t.walletAddress===null||t.walletAddress===void 0)throw new ye("walletAddress","Required parameter requestParameters.walletAddress was null or undefined when calling getSupportedOnramps.");if(t.chain===null||t.chain===void 0)throw new ye("chain","Required parameter requestParameters.chain was null or undefined when calling getSupportedOnramps.");const r={};t.walletAddress!==void 0&&(r.walletAddress=t.walletAddress),t.chain!==void 0&&(r.chain=t.chain),t.networkId!==void 0&&(r.networkId=t.networkId),t.token!==void 0&&(r.token=t.token);const i={},o=yield this.request({path:"/sdk/{environmentId}/onramps".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>vCe(s))})}getSupportedOnramps(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getSupportedOnrampsRaw(t,n)).value()})}getTelegramAuthRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getTelegramAuth.");if(t.state===null||t.state===void 0)throw new ye("state","Required parameter requestParameters.state was null or undefined when calling getTelegramAuth.");const r={};t.state!==void 0&&(r.state=t.state);const i={},o=yield this.request({path:"/sdk/{environmentId}/telegram/auth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new j_(o)})}getTelegramAuth(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getTelegramAuthRaw(t,n)).value()})}getUserMfaDevicesRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserMfaDevices.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>g6e(s))})}getUserMfaDevices(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getUserMfaDevicesRaw(t,n)).value()})}getUserPasskeysRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserPasskeys.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>G5e(s))})}getUserPasskeys(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.getUserPasskeysRaw(t,n)).value()})}initAuthRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling initAuth.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling initAuth.");if(t.oauthInitAuthRequest===null||t.oauthInitAuthRequest===void 0)throw new ye("oauthInitAuthRequest","Required parameter requestParameters.oauthInitAuthRequest was null or undefined when calling initAuth.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/initAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:M6e(t.oauthInitAuthRequest)},n);return new Ut(o)})}initAuth(t,n){return ue(this,void 0,void 0,function*(){yield this.initAuthRaw(t,n)})}initAuthOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling initAuthOptions.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling initAuthOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/initAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}initAuthOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.initAuthOptionsRaw(t,n)})}initEmailAuthRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling initEmailAuth.");if(t.initEmailAuthRequest===null||t.initEmailAuthRequest===void 0)throw new ye("initEmailAuthRequest","Required parameter requestParameters.initEmailAuthRequest was null or undefined when calling initEmailAuth.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/emailAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:e6e(t.initEmailAuthRequest)},n);return new Bn(o,s=>t6e(s))})}initEmailAuth(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.initEmailAuthRaw(t,n)).value()})}initPasskeyRecoveryRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling initPasskeyRecovery.");if(t.initPasskeyRecoveryRequest===null||t.initPasskeyRecoveryRequest===void 0)throw new ye("initPasskeyRecoveryRequest","Required parameter requestParameters.initPasskeyRecoveryRequest was null or undefined when calling initPasskeyRecovery.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passkeyRecovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:r6e(t.initPasskeyRecoveryRequest)},n);return new Bn(o,s=>i6e(s))})}initPasskeyRecovery(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.initPasskeyRecoveryRaw(t,n)).value()})}jwksOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling jwksOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/.well-known/jwks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}jwksOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.jwksOptionsRaw(t,n)})}listMfaDevicesOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling listMfaDevicesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}listMfaDevicesOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.listMfaDevicesOptionsRaw(t,n)})}logDynamicSdkSettingsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling logDynamicSdkSettings.");if(t.sdkSettingsRequest===null||t.sdkSettingsRequest===void 0)throw new ye("sdkSettingsRequest","Required parameter requestParameters.sdkSettingsRequest was null or undefined when calling logDynamicSdkSettings.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/sdkSettings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:fCe(t.sdkSettingsRequest)},n);return new Ut(o)})}logDynamicSdkSettings(t,n){return ue(this,void 0,void 0,function*(){yield this.logDynamicSdkSettingsRaw(t,n)})}mergeUsersRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling mergeUsers.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/merge".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r},n);return new Bn(o,s=>Xi(s))})}mergeUsers(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.mergeUsersRaw(t,n)).value()})}mergeUsersOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling mergeUsersOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/merge".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}mergeUsersOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.mergeUsersOptionsRaw(t,n)})}networksOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling networksOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/networks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}networksOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.networksOptionsRaw(t,n)})}nonceOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling nonceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/nonce".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}nonceOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.nonceOptionsRaw(t,n)})}oauthAuthorizeHtmlRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthAuthorizeHtml.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthAuthorizeHtml.");const r={};t.scope!==void 0&&(r.scope=t.scope),t.state!==void 0&&(r.state=t.state),t.redirectUri!==void 0&&(r.redirect_uri=t.redirectUri);const i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/authorizeHtml".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"GET",headers:i,query:r},n);return new j_(o)})}oauthAuthorizeHtml(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.oauthAuthorizeHtmlRaw(t,n)).value()})}oauthAuthorizeHtmlOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthAuthorizeHtmlOptions.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthAuthorizeHtmlOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/authorizeHtml".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}oauthAuthorizeHtmlOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.oauthAuthorizeHtmlOptionsRaw(t,n)})}oauthLoginRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthLogin.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthLogin.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/login".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"GET",headers:i,query:r},n);return new Ut(o)})}oauthLogin(t,n){return ue(this,void 0,void 0,function*(){yield this.oauthLoginRaw(t,n)})}oauthLoginOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthLoginOptions.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthLoginOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/login".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}oauthLoginOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.oauthLoginOptionsRaw(t,n)})}oauthLoginUrlRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthLoginUrl.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthLoginUrl.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/loginUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>D6e(s))})}oauthLoginUrl(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.oauthLoginUrlRaw(t,n)).value()})}oauthLoginUrlOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthLoginUrlOptions.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthLoginUrlOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/loginUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}oauthLoginUrlOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.oauthLoginUrlOptionsRaw(t,n)})}oauthRedirectRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthRedirect.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthRedirect.");const r={},i={};MSe([{contentType:"application/x-www-form-urlencoded"}]);let s;s=new URLSearchParams,t.code!==void 0&&s.append("code",t.code),t.state!==void 0&&s.append("state",t.state),t.idToken!==void 0&&s.append("id_token",t.idToken),t.error!==void 0&&s.append("error",t.error);const a=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/redirect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:s},n);return new j_(a)})}oauthRedirect(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.oauthRedirectRaw(t,n)).value()})}oauthRedirectCodeRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthRedirectCode.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthRedirectCode.");const r={};t.code!==void 0&&(r.code=t.code),t.scope!==void 0&&(r.scope=t.scope),t.state!==void 0&&(r.state=t.state),t.authuser!==void 0&&(r.authuser=t.authuser),t.prompt!==void 0&&(r.prompt=t.prompt),t.error!==void 0&&(r.error=t.error);const i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/redirect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"GET",headers:i,query:r},n);return new j_(o)})}oauthRedirectCode(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.oauthRedirectCodeRaw(t,n)).value()})}oauthRedirectOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthRedirectOptions.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthRedirectOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/redirect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}oauthRedirectOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.oauthRedirectOptionsRaw(t,n)})}oauthResultRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthResult.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthResult.");if(t.oauthResultRequest===null||t.oauthResultRequest===void 0)throw new ye("oauthResultRequest","Required parameter requestParameters.oauthResultRequest was null or undefined when calling oauthResult.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/oauthResult".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:R6(t.oauthResultRequest)},n);return new Bn(o,s=>W6e(s))})}oauthResult(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.oauthResultRaw(t,n)).value()})}oauthResultOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthResultOptions.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthResultOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/oauthResult".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}oauthResultOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.oauthResultOptionsRaw(t,n)})}oauthSignInRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthSignIn.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthSignIn.");if(t.oauthRequest===null||t.oauthRequest===void 0)throw new ye("oauthRequest","Required parameter requestParameters.oauthRequest was null or undefined when calling oauthSignIn.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/signIn".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:nB(t.oauthRequest)},n);return new Bn(o,s=>Xi(s))})}oauthSignIn(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.oauthSignInRaw(t,n)).value()})}oauthSignInOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthSignInOptions.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthSignInOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/signIn".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}oauthSignInOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.oauthSignInOptionsRaw(t,n)})}oauthVerifyRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthVerify.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthVerify.");if(t.oauthRequest===null||t.oauthRequest===void 0)throw new ye("oauthRequest","Required parameter requestParameters.oauthRequest was null or undefined when calling oauthVerify.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:nB(t.oauthRequest)},n);return new Bn(o,s=>Xi(s))})}oauthVerify(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.oauthVerifyRaw(t,n)).value()})}oauthVerifyOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthVerifyOptions.");if(t.providerType===null||t.providerType===void 0)throw new ye("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthVerifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}oauthVerifyOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.oauthVerifyOptionsRaw(t,n)})}onrampsOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling onrampsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}onrampsOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.onrampsOptionsRaw(t,n)})}optionsConnectRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling optionsConnect.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/connect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}optionsConnect(t,n){return ue(this,void 0,void 0,function*(){yield this.optionsConnectRaw(t,n)})}passkeyRecoveryOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling passkeyRecoveryOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passkeyRecovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}passkeyRecoveryOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.passkeyRecoveryOptionsRaw(t,n)})}postTelegramAuthRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling postTelegramAuth.");if(t.telegramPostRequest===null||t.telegramPostRequest===void 0)throw new ye("telegramPostRequest","Required parameter requestParameters.telegramPostRequest was null or undefined when calling postTelegramAuth.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/telegram/auth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:_Ce(t.telegramPostRequest)},n);return new Ut(o)})}postTelegramAuth(t,n){return ue(this,void 0,void 0,function*(){yield this.postTelegramAuthRaw(t,n)})}prefetchRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling prefetch.");if(t.prefetchRequest===null||t.prefetchRequest===void 0)throw new ye("prefetchRequest","Required parameter requestParameters.prefetchRequest was null or undefined when calling prefetch.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/prefetch".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:q6e(t.prefetchRequest)},n);return new Ut(o)})}prefetch(t,n){return ue(this,void 0,void 0,function*(){yield this.prefetchRaw(t,n)})}publishEventRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling publishEvent.");if(t.publishEvents===null||t.publishEvents===void 0)throw new ye("publishEvents","Required parameter requestParameters.publishEvents was null or undefined when calling publishEvent.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/events".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:aCe(t.publishEvents)},n);return new Ut(o)})}publishEvent(t,n){return ue(this,void 0,void 0,function*(){yield this.publishEventRaw(t,n)})}recoveryCodesOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling recoveryCodesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}recoveryCodesOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.recoveryCodesOptionsRaw(t,n)})}recoveryEmailOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling recoveryEmailOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/recoveryEmail".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}recoveryEmailOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.recoveryEmailOptionsRaw(t,n)})}refreshAuthRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling refreshAuth.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/refresh".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r},n);return new Bn(o,s=>Xi(s))})}refreshAuth(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.refreshAuthRaw(t,n)).value()})}refreshOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling refreshOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/refresh".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}refreshOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.refreshOptionsRaw(t,n)})}registerSessionKeyRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerSessionKey.");if(t.registerSessionKeyRequest===null||t.registerSessionKeyRequest===void 0)throw new ye("registerSessionKeyRequest","Required parameter requestParameters.registerSessionKeyRequest was null or undefined when calling registerSessionKey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/sessionKey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:cCe(t.registerSessionKeyRequest)},n);return new Ut(o)})}registerSessionKey(t,n){return ue(this,void 0,void 0,function*(){yield this.registerSessionKeyRaw(t,n)})}registerTotpMfaDeviceRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerTotpMfaDevice.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Bn(o,s=>w6e(s))})}registerTotpMfaDevice(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.registerTotpMfaDeviceRaw(t,n)).value()})}registerTotpMfaDeviceOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerTotpMfaDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}registerTotpMfaDeviceOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.registerTotpMfaDeviceOptionsRaw(t,n)})}registerTotpMfaDeviceVerifyRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerTotpMfaDeviceVerify.");if(t.mFARegisterTotpDevicePostRequest===null||t.mFARegisterTotpDevicePostRequest===void 0)throw new ye("mFARegisterTotpDevicePostRequest","Required parameter requestParameters.mFARegisterTotpDevicePostRequest was null or undefined when calling registerTotpMfaDeviceVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:x6e(t.mFARegisterTotpDevicePostRequest)},n);return new Bn(o,s=>yI(s))})}registerTotpMfaDeviceVerify(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.registerTotpMfaDeviceVerifyRaw(t,n)).value()})}retryEmailVerificationRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling retryEmailVerification.");if(t.emailVerificationRetryRequest===null||t.emailVerificationRetryRequest===void 0)throw new ye("emailVerificationRetryRequest","Required parameter requestParameters.emailVerificationRetryRequest was null or undefined when calling retryEmailVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/retry".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:x5e(t.emailVerificationRetryRequest)},n);return new Bn(o,s=>pI(s))})}retryEmailVerification(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.retryEmailVerificationRaw(t,n)).value()})}retryEmailVerificationOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling retryEmailVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/retry".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}retryEmailVerificationOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.retryEmailVerificationOptionsRaw(t,n)})}retrySmsVerificationRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling retrySmsVerification.");if(t.smsVerificationRetryRequest===null||t.smsVerificationRetryRequest===void 0)throw new ye("smsVerificationRetryRequest","Required parameter requestParameters.smsVerificationRetryRequest was null or undefined when calling retrySmsVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/retry".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:mCe(t.smsVerificationRetryRequest)},n);return new Bn(o,s=>bI(s))})}retrySmsVerification(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.retrySmsVerificationRaw(t,n)).value()})}retrySmsVerificationOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling retrySmsVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/retry".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}retrySmsVerificationOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.retrySmsVerificationOptionsRaw(t,n)})}revokeSessionRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling revokeSession.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/revoke".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r},n);return new Ut(o)})}revokeSession(t,n){return ue(this,void 0,void 0,function*(){yield this.revokeSessionRaw(t,n)})}revokeSessionOptionRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling revokeSessionOption.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/revoke".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}revokeSessionOption(t,n){return ue(this,void 0,void 0,function*(){yield this.revokeSessionOptionRaw(t,n)})}sdkSettingsOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling sdkSettingsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/sdkSettings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}sdkSettingsOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.sdkSettingsOptionsRaw(t,n)})}selectUserWalletRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling selectUserWallet.");if(t.userWalletSelectionRequest===null||t.userWalletSelectionRequest===void 0)throw new ye("userWalletSelectionRequest","Required parameter requestParameters.userWalletSelectionRequest was null or undefined when calling selectUserWallet.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/wallets/selection".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:jCe(t.userWalletSelectionRequest)},n);return new Bn(o,s=>Xi(s))})}selectUserWallet(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.selectUserWalletRaw(t,n)).value()})}selectUserWalletOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling selectUserWalletOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/wallets/selection".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}selectUserWalletOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.selectUserWalletOptionsRaw(t,n)})}sessionCheckRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling sessionCheck.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/session".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Ut(o)})}sessionCheck(t,n){return ue(this,void 0,void 0,function*(){yield this.sessionCheckRaw(t,n)})}sessionCheckOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling sessionCheckOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/session".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}sessionCheckOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.sessionCheckOptionsRaw(t,n)})}sessionKeyOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling sessionKeyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/sessionKey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}sessionKeyOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.sessionKeyOptionsRaw(t,n)})}settingsOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling settingsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}settingsOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.settingsOptionsRaw(t,n)})}signInWithEmailVerificationRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signInWithEmailVerification.");if(t.emailVerificationVerifyRequest===null||t.emailVerificationVerifyRequest===void 0)throw new ye("emailVerificationVerifyRequest","Required parameter requestParameters.emailVerificationVerifyRequest was null or undefined when calling signInWithEmailVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:Jj(t.emailVerificationVerifyRequest)},n);return new Bn(o,s=>Xi(s))})}signInWithEmailVerification(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.signInWithEmailVerificationRaw(t,n)).value()})}signInWithEmailVerificationOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signInWithEmailVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}signInWithEmailVerificationOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.signInWithEmailVerificationOptionsRaw(t,n)})}signInWithSmsVerificationRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signInWithSmsVerification.");if(t.smsVerificationVerifyRequest===null||t.smsVerificationVerifyRequest===void 0)throw new ye("smsVerificationVerifyRequest","Required parameter requestParameters.smsVerificationVerifyRequest was null or undefined when calling signInWithSmsVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:cB(t.smsVerificationVerifyRequest)},n);return new Bn(o,s=>Xi(s))})}signInWithSmsVerification(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.signInWithSmsVerificationRaw(t,n)).value()})}signInWithSmsVerificationOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signInWithSmsVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}signInWithSmsVerificationOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.signInWithSmsVerificationOptionsRaw(t,n)})}telegramAuthOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramAuthOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/telegram/auth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}telegramAuthOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.telegramAuthOptionsRaw(t,n)})}telegramSignInRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramSignIn.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/telegram/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:R6(t.oauthResultRequest)},n);return new Bn(o,s=>Xi(s))})}telegramSignIn(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.telegramSignInRaw(t,n)).value()})}telegramSignInOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramSignInOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/telegram/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}telegramSignInOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.telegramSignInOptionsRaw(t,n)})}telegramVerifyRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/telegram/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:R6(t.oauthResultRequest)},n);return new Bn(o,s=>Xi(s))})}telegramVerify(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.telegramVerifyRaw(t,n)).value()})}telegramVerifyOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramVerifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/telegram/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}telegramVerifyOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.telegramVerifyOptionsRaw(t,n)})}updateEmbeddedWalletRecoveryEmailRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updateEmbeddedWalletRecoveryEmail.");if(t.updateRecoveryEmailRequest===null||t.updateRecoveryEmailRequest===void 0)throw new ye("updateRecoveryEmailRequest","Required parameter requestParameters.updateRecoveryEmailRequest was null or undefined when calling updateEmbeddedWalletRecoveryEmail.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/recoveryEmail".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:RCe(t.updateRecoveryEmailRequest)},n);return new Ut(o)})}updateEmbeddedWalletRecoveryEmail(t,n){return ue(this,void 0,void 0,function*(){yield this.updateEmbeddedWalletRecoveryEmailRaw(t,n)})}updatePasskeyRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updatePasskey.");if(t.updateUserPasskeyRequest===null||t.updateUserPasskeyRequest===void 0)throw new ye("updateUserPasskeyRequest","Required parameter requestParameters.updateUserPasskeyRequest was null or undefined when calling updatePasskey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:OCe(t.updateUserPasskeyRequest)},n);return new Bn(o,s=>_K(s))})}updatePasskey(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.updatePasskeyRaw(t,n)).value()})}updateSelfRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updateSelf.");if(t.userFields===null||t.userFields===void 0)throw new ye("userFields","Required parameter requestParameters.userFields was null or undefined when calling updateSelf.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:NCe(t.userFields)},n);return new Bn(o,s=>O6(s))})}updateSelf(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.updateSelfRaw(t,n)).value()})}updateUserMfaDeviceRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updateUserMfaDevice.");if(t.mfaDeviceId===null||t.mfaDeviceId===void 0)throw new ye("mfaDeviceId","Required parameter requestParameters.mfaDeviceId was null or undefined when calling updateUserMfaDevice.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/{mfaDeviceId}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{mfaDeviceId}",encodeURIComponent(String(t.mfaDeviceId))),method:"PUT",headers:i,query:r,body:k6e(t.mFAUpdateDeviceRequest)},n);return new Ut(o)})}updateUserMfaDevice(t,n){return ue(this,void 0,void 0,function*(){yield this.updateUserMfaDeviceRaw(t,n)})}userPasskeysOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling userPasskeysOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}userPasskeysOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.userPasskeysOptionsRaw(t,n)})}usersOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling usersOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}usersOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.usersOptionsRaw(t,n)})}verifyRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verify.");if(t.verifyRequest===null||t.verifyRequest===void 0)throw new ye("verifyRequest","Required parameter requestParameters.verifyRequest was null or undefined when calling verify.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:N6(t.verifyRequest)},n);return new Bn(o,s=>Xi(s))})}verify(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.verifyRaw(t,n)).value()})}verifyEmailVerificationRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyEmailVerification.");if(t.emailVerificationVerifyRequest===null||t.emailVerificationVerifyRequest===void 0)throw new ye("emailVerificationVerifyRequest","Required parameter requestParameters.emailVerificationVerifyRequest was null or undefined when calling verifyEmailVerification.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:Jj(t.emailVerificationVerifyRequest)},n);return new Bn(o,s=>O6(s))})}verifyEmailVerification(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.verifyEmailVerificationRaw(t,n)).value()})}verifyEmailVerificationOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyEmailVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}verifyEmailVerificationOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.verifyEmailVerificationOptionsRaw(t,n)})}verifyLinkRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyLink.");if(t.verifyRequest===null||t.verifyRequest===void 0)throw new ye("verifyRequest","Required parameter requestParameters.verifyRequest was null or undefined when calling verifyLink.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/verify/link".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:N6(t.verifyRequest)},n);return new Bn(o,s=>Xi(s))})}verifyLink(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.verifyLinkRaw(t,n)).value()})}verifyLinkOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyLinkOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify/link".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}verifyLinkOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.verifyLinkOptionsRaw(t,n)})}verifyMergeUsersRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyMergeUsers.");if(t.mergeUserConflictResolutions===null||t.mergeUserConflictResolutions===void 0)throw new ye("mergeUserConflictResolutions","Required parameter requestParameters.mergeUserConflictResolutions was null or undefined when calling verifyMergeUsers.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/verify/merge".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:E6e(t.mergeUserConflictResolutions)},n);return new Bn(o,s=>Xi(s))})}verifyMergeUsers(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.verifyMergeUsersRaw(t,n)).value()})}verifyMergeUsersOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyMergeUsersOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify/merge".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}verifyMergeUsersOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.verifyMergeUsersOptionsRaw(t,n)})}verifyOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}verifyOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.verifyOptionsRaw(t,n)})}verifyPrefetchRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyPrefetch.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/prefetch".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}verifyPrefetch(t,n){return ue(this,void 0,void 0,function*(){yield this.verifyPrefetchRaw(t,n)})}verifySmsVerificationRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifySmsVerification.");if(t.smsVerificationVerifyRequest===null||t.smsVerificationVerifyRequest===void 0)throw new ye("smsVerificationVerifyRequest","Required parameter requestParameters.smsVerificationVerifyRequest was null or undefined when calling verifySmsVerification.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:cB(t.smsVerificationVerifyRequest)},n);return new Bn(o,s=>O6(s))})}verifySmsVerification(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.verifySmsVerificationRaw(t,n)).value()})}verifySmsVerificationOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifySmsVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}verifySmsVerificationOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.verifySmsVerificationOptionsRaw(t,n)})}verifyTransferRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyTransfer.");if(t.verifyRequest===null||t.verifyRequest===void 0)throw new ye("verifyRequest","Required parameter requestParameters.verifyRequest was null or undefined when calling verifyTransfer.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/verify/transfer".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:N6(t.verifyRequest)},n);return new Bn(o,s=>Xi(s))})}verifyTransfer(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.verifyTransferRaw(t,n)).value()})}verifyTransferOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyTransferOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify/transfer".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}verifyTransferOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.verifyTransferOptionsRaw(t,n)})}verifyUnlinkRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyUnlink.");if(t.verifyUnlinkRequest===null||t.verifyUnlinkRequest===void 0)throw new ye("verifyUnlinkRequest","Required parameter requestParameters.verifyUnlinkRequest was null or undefined when calling verifyUnlink.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/verify/unlink".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:UCe(t.verifyUnlinkRequest)},n);return new Bn(o,s=>Xi(s))})}verifyUnlink(t,n){return ue(this,void 0,void 0,function*(){return yield(yield this.verifyUnlinkRaw(t,n)).value()})}verifyUnlinkOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyUnlinkOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify/unlink".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}verifyUnlinkOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.verifyUnlinkOptionsRaw(t,n)})}walletAccountOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling walletAccountOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/walletAccounts".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}walletAccountOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.walletAccountOptionsRaw(t,n)})}walletAccountRequestOptionsRaw(t,n){return ue(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new ye("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling walletAccountRequestOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/walletAccounts/createRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Ut(o)})}walletAccountRequestOptions(t,n){return ue(this,void 0,void 0,function*(){yield this.walletAccountRequestOptionsRaw(t,n)})}}var lB;(function(e){e.Evm="EVM",e.Sol="SOL"})(lB||(lB={}));var x2;(function(e){e[e.NUMBER_0=0]="NUMBER_0",e[e.NUMBER_1=1]="NUMBER_1",e[e.NUMBER_10=10]="NUMBER_10",e[e.NUMBER_137=137]="NUMBER_137",e[e.NUMBER_42161=42161]="NUMBER_42161",e[e.NUMBER_8453=8453]="NUMBER_8453"})(x2||(x2={}));var dB;(function(e){e.Evm="EVM",e.Sol="SOL"})(dB||(dB={}));function uB(e){return WCe(e)}function WCe(e,t){return e==null?e:{address:e.address,chain:e.chain,id:e.id,nameService:oe(e,"name_service")?iT(e.name_service):void 0,walletName:e.wallet_name,walletProvider:rT(e.wallet_provider)}}function zCe(e){return qCe(e)}function qCe(e,t){return e==null?e:{alias:oe(e,"alias")?e.alias:void 0,chain:oe(e,"chain")?gK(e.chain):void 0,email:oe(e,"email")?e.email:void 0,ens:oe(e,"ens")?iT(e.ens):void 0,environmentId:e.environmentId,firstName:oe(e,"firstName")?e.firstName:void 0,jobTitle:oe(e,"jobTitle")?e.jobTitle:void 0,lastName:oe(e,"lastName")?e.lastName:void 0,lists:oe(e,"lists")?e.lists:void 0,phoneNumber:oe(e,"phoneNumber")?e.phoneNumber:void 0,tShirtSize:oe(e,"tShirtSize")?e.tShirtSize:void 0,userId:oe(e,"userId")?e.userId:void 0,username:oe(e,"username")?e.username:void 0,wallet:oe(e,"wallet")?e.wallet:void 0,walletPublicKey:oe(e,"walletPublicKey")?e.walletPublicKey:void 0}}function VCe(e){return HCe(e)}function HCe(e,t){return e==null?e:{kid:e.kid,aud:e.aud,iss:e.iss,sub:e.sub,exp:oe(e,"exp")?e.exp:void 0,iat:oe(e,"iat")?e.iat:void 0,sid:e.sid,alias:oe(e,"alias")?e.alias:void 0,blockchainAccounts:oe(e,"blockchain_accounts")?e.blockchain_accounts.map(uB):void 0,country:oe(e,"country")?e.country:void 0,email:oe(e,"email")?e.email:void 0,environmentId:e.environment_id,familyName:oe(e,"family_name")?e.family_name:void 0,givenName:oe(e,"given_name")?e.given_name:void 0,jobTitle:oe(e,"job_title")?e.job_title:void 0,lastAuthenticatedAccountId:oe(e,"last_authenticated_account_id")?e.last_authenticated_account_id:void 0,lists:oe(e,"lists")?e.lists:void 0,phoneNumber:oe(e,"phone_number")?e.phone_number:void 0,missingFields:e.missing_fields.map(_2),scope:oe(e,"scope")?e.scope:void 0,tShirtSize:oe(e,"t_shirt_size")?e.t_shirt_size:void 0,team:oe(e,"team")?e.team:void 0,username:oe(e,"username")?e.username:void 0,policiesConsent:oe(e,"policies_consent")?e.policies_consent:void 0,verifiedAccount:oe(e,"verified_account")?uB(e.verified_account):void 0,verifiedCredentials:e.verified_credentials.map(wK),lastVerifiedCredentialId:e.last_verified_credential_id,firstVisit:oe(e,"first_visit")?new Date(e.first_visit):void 0,lastVisit:oe(e,"last_visit")?new Date(e.last_visit):void 0,newUser:oe(e,"new_user")?e.new_user:void 0,btcWallet:oe(e,"btc_wallet")?e.btc_wallet:void 0,kdaWallet:oe(e,"kda_wallet")?e.kda_wallet:void 0,ltcWallet:oe(e,"ltc_wallet")?e.ltc_wallet:void 0,ckbWallet:oe(e,"ckb_wallet")?e.ckb_wallet:void 0,kasWallet:oe(e,"kas_wallet")?e.kas_wallet:void 0,dogeWallet:oe(e,"doge_wallet")?e.doge_wallet:void 0,emailNotification:oe(e,"email_notification")?e.email_notification:void 0,discordNotification:oe(e,"discord_notification")?e.discord_notification:void 0,newsletterNotification:oe(e,"newsletter_notification")?e.newsletter_notification:void 0,metadata:oe(e,"metadata")?e.metadata:void 0,info:oe(e,"info")?zCe(e.info):void 0}}function KCe(e){return GCe(e)}function GCe(e,t){return e==null?e:{kid:e.kid,aud:e.aud,iss:e.iss,sub:e.sub,sid:e.sid,exp:oe(e,"exp")?e.exp:void 0,iat:oe(e,"iat")?e.iat:void 0,environmentId:e.environment_id,lastVerifiedCredentialId:e.last_verified_credential_id,scope:oe(e,"scope")?e.scope:void 0}}const ZCe=e=>Object.values(br).reduce((t,n)=>{const r=e.find(i=>i.provider===n);return r&&(t[n]=r),t},{});let B_=[];const JCe={createPassword:()=>{throw Error("createPassword not implemented")},disabledConfirmationOnce:()=>{throw Error("disabledConfirmationOnce, not implemented")},enterPassword:()=>{throw Error("enterPassword not implemented")},sendTransaction:()=>{throw Error("requestSendTransactionConfirmation not implemented")},signMessage:()=>{throw Error("signMessage not implemented")}},YCe=e=>{const{appLogoUrl:t="",appName:n="",coinbaseWalletPreference:r,chainRpcProviders:i,deepLinkPreference:o,flowNetwork:s,mobileExperience:a="in-app-browser",networkConfigurations:c={cosmos:[],evm:[],solana:[],starknet:[]},settings:l,skipMemo:d=!1,walletConnectProjectId:f="",walletConnectorsProp:p,walletUiUtils:m=void 0,walletBook:g,walletConnectPreferredChains:y}=e;if(!d&&B_.length>0)return B_;const v=(c==null?void 0:c.evm)||[],w=(c==null?void 0:c.solana)||[],_=(c==null?void 0:c.cosmos)||[],E=(c==null?void 0:c.starknet)||[],T={apiProviders:ZCe(iIe(l.providers)),appLogoUrl:t,appName:n,chainRpcProviders:i,coinbaseWalletPreference:r,cosmosNetworks:_,deepLinkPreference:o,evmNetworks:v,flowNetwork:s,mobileExperience:a,projectId:f,settings:l,solNetworks:w,starknetNetworks:E,walletBook:g,walletConnectPreferredChains:y,walletUiUtils:m||JCe},A=p.map(O=>O(T)).flat().map(O=>new O(T)).filter(O=>O.filter()).map(O=>O.getMobileOrInstalledWallet()),S=QCe(g,A);return B_=XCe(g,S),B_},XCe=(e,t)=>t.map(n=>{const r=rc(e,n.key,n.walletFallback);return r.switchNetworkOnlyFromWallet!==void 0&&(n.switchNetworkOnlyFromWallet=r.switchNetworkOnlyFromWallet),n}),QCe=(e,t)=>t.filter(n=>{const r=rc(e,n.key,n.walletFallback);return n.isInstalledOnBrowser()||_1(n)?!0:r.showOnlyIfInstalled?!1:di()?eIe(e,n.key,r):!0}),eIe=(e,t,n)=>{if(!n.mobile)return!1;const r=!!n.mobile.universal||!!n.mobile.native,i=n.walletConnect!==void 0;if(i3()||v1()){const o=!!sb(e,t).ios;return i?o&&r:o}else{const o=!!sb(e,t).android;return i?o&&r:o}},tIe={"eip155:1":["ETH","EVM"],"flow:mainnet":["FLOW"]},nIe=(e,t)=>{var n;const r=rc(e,t.key,t.walletFallback),i=new Set;return((n=r.chains)!==null&&n!==void 0?n:[]).forEach(s=>{const a=tIe[s];a==null||a.forEach(c=>{i.add(c)})}),t.supportedChains.forEach(s=>{i.add(s)}),[...i]},rIe=e=>YCe(e.getSupportedWalletOpts).filter(r=>e.enabledChains.some(i=>nIe(e.getSupportedWalletOpts.walletBook,r).includes(i))||r.key==="magiclink"),iIe=e=>{var t;return(t=e==null?void 0:e.filter(n=>!!n.enabledAt||n.provider===br.MagicLink&&!!n.providerProjectId||n.provider===br.Turnkey))!==null&&t!==void 0?t:[]},oIe=({blockchain:e,domain:t,chainId:n,nonce:r,uri:i,publicKey:o,issuedAt:s=new Date().toISOString(),statement:a,requestId:c,resources:l})=>{var d,f;if(e==="STARK")return JSON.stringify({domain:t.substring(0,31),nonce:r});const p=(f=(d=w1(e))===null||d===void 0?void 0:d.blockchainName)!==null&&f!==void 0?f:"Ethereum",m=`${t} wants you to sign in with your ${p} account:`,g=sIe(o,n),y=[m,g].join(`
`),v=a?`

`:`
`,w=`${[y,a].join(v)}
`,_=[];_.push(`URI: ${i}`),_.push("Version: 1"),n&&_.push(`Chain ID: ${n}`),_.push(`Nonce: ${r}`),_.push(`Issued At: ${s}`),c&&_.push(`Request ID: ${c}`),l!=null&&l.length&&_.push(`Resources:${l.map(C=>`
- `+C).join()}`);const E=_.join(`
`);return[w,E].join(`
`)},sIe=(e,t)=>{try{if(t)return jk(e)}catch{Jr.debug(`Error getting checksum, returning default ${e}`)}return e};var n0;(function(e){e.EVM="evm",e.SOLANA="solana",e.STARKNET="starknet"})(n0||(n0={}));function aIe(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,[])).next())})}class Hs{static get client(){return Hs.instance||(Hs.instance=new Hs),Hs.instance}constructor(){this.getProvidersMethods={}}static getProviders(t){return Object.values(n0).forEach(n=>{var r,i;if(!Hs.providers[n]){const o=(i=(r=Hs.client.getProvidersMethods)[n])===null||i===void 0?void 0:i.call(r,t);o&&Object.assign(Hs.providers,{[n]:o})}}),Hs.providers}static registerChainProviders(t,n){return aIe(this,void 0,void 0,function*(){Hs.client.getProvidersMethods[t]||Object.assign(Hs.client.getProvidersMethods,{[t]:n})})}}Hs.providers={};Hs.wipeInstance=()=>{Hs.instance=void 0,Hs.providers={}};const Gs=Hs,Ne=new Cl("DynamicSDK"),Kt=new Jg,Lo=(e,t)=>{const n=k.useRef(t);n.current=t,k.useEffect(()=>{const r=(...i)=>n.current(...i);return Kt.on(e,r),()=>{Kt.off(e,r)}},[e])},cIe={"-32000":"Message signature denied","-32002":"Please unlock your wallet extension and try again.","-32003":"Message signature denied.","-32602":"Invalid parameters. Please try again.","-32603":"There was an internal error. Please try again.",0:"Message signature denied.",4001:"Message signature denied.",4100:"Please unlock your wallet extension and try again.",4900:"There was an internal error. Please try again.",5001:"Message signature denied.",5002:"Message signature denied.",account_already_linked_to_different_profile:"This social account is already linked to a different profile.",connection_rejected:"Connection rejected. Please try again.",metamask_timeout:"Whoops. Looks like something went wrong. Please try again.","missing-nonce":"Something went wrong. Please try again.","missing-public-address":"Connection cancelled. Please try again",oauth_window_blocked:"To connect to your social account, enable popups in your browser and then try again.",oauth_window_timeout:"Session time out. Please try again.",too_many_email_verification_attempts:"Too many email verification attempts, please try again later","user-cancelled":"",wallet_not_deployed:"Your smart wallet has not been deployed.",wrong_email_verification_token:"The code you entered is incorrect. Please try again."},IK=k.createContext(void 0),lIe=({children:e})=>{const[t,n]=k.useState(void 0),r=k.useCallback(o=>{var s;n((s=cIe[o])!==null&&s!==void 0?s:"Something went wrong. Please try again.")},[]),i=k.useCallback(()=>{n(void 0)},[]);return u.jsx(IK.Provider,{value:{clearError:i,error:t,setError:n,setErrorMessage:r},children:e})},Po=()=>{const e=k.useContext(IK);if(e===void 0)throw new Error("usage of useErrorContext not wrapped in `ErrorContextProvider`.");return e},AK=k.createContext(void 0),dIe=({children:e,initialView:t={props:{isWalletConnectList:!0},type:"wallet-list"}})=>{const[n,r]=k.useState(null),i=n||t,{clearError:o}=Po(),s=k.useCallback(()=>{r(null)},[]),a=k.useCallback((l,d,f)=>{i.type!==l&&o(),r({events:f,props:d,type:l})},[]);Lo("logout",()=>s());const c=k.useMemo(()=>({goToInitialView:s,setView:a,view:i}),[s,a,i]);return u.jsx(AK.Provider,{value:c,children:e})},dn=()=>{const e=k.useContext(AK);if(e===void 0)throw new Error("usage of useViewContext not wrapped in `ViewContextProvider`.");return e},uIe=(e,t)=>{var n;const r=zo(e,t.key);return{chainGroup:r==null?void 0:r.chainGroup,group:(r==null?void 0:r.chainGroup)||(r==null?void 0:r.walletGroup),injectedConfig:r==null?void 0:r.injectedConfig,isInstalledOnBrowser:(n=t.isInstalledOnBrowser())!==null&&n!==void 0?n:!1,key:t.key,name:t.name,walletConnector:t,walletGroup:r==null?void 0:r.walletGroup}},S1=(e,t=1)=>{const n=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);return"rgba("+n+", "+r+", "+i+", "+t+")"},TK="#363A46";S1(TK,.65);S1(TK,.4);const aT="#F5F8FF";S1(aT,.95);S1(aT,.55);S1(aT,.4);const RK=10,fB={ALGO:"algorand",BTC:"bip122",COSMOS:"cosmos",ETH:"eip155",EVM:"eip155",FLOW:"flow",SOL:"solana",STARK:"starknet"},a3={algorand:Oi.Algo,bip122:Oi.Btc,cosmos:Oi.Cosmos,eip155:Oi.Evm,flow:Oi.Flow,solana:Oi.Sol,starknet:Oi.Stark},PK="DYNAMIC_JWT_TOKEN",c3="dynamic_authentication_token",cT="dynamic_min_authentication_token",lT="dynamic_auth_expires_at",jp="dynamic_last_used_wallet",fIe="dynamic_nonce",l3="dynamic_primary_wallet_id",OK="dynamic_cookie_enabled",r0="dynamic_wallet_picker_search",_I="dynamic_newtoweb3_wallet_extension_installed",NK="dynamic_connected_wallets",hIe="dynamic_auth_mode",pIe="dynamic_connected_wallet_ns",mIe="dynamic_bridge_onboarding_completed",jK="dynamic_context_session_settings",BK="dynamic_wagmi_session_settings",i0="dynamic_embedded_wallet_session_settings",$K="dynamic_embedded_secure_banner",av="dynamic_phone_input_default_country",gIe="dynamic_captcha_token",Sp="phantom_verification_type",hB="dynamic_store";class Ft{static getDynamicLSKey(t){return`${t}${Ft.getSuffix()}`}static validateRequest(t,n){if(t===c3&&!n)throw new Error("You cannot access AUTH_TOKEN through localStorage. Use getAuthToken/ storeAuthToken helper functions instead")}static setSuffix(t){if(!Ft.__suffix__){const n=t&&`_${t}`||"";Ft.__suffix__=n}}static getFromLS(t,n=!1){if(typeof window>"u")return;Ft.validateRequest(t,n);const r=window.localStorage.getItem(Ft.getDynamicLSKey(t));if(r)try{return JSON.parse(r)}catch{Ne.debug(`Error while parsing ${t} from local storage`,{value:r}),Ft.removeFromLS(t),Kt.emit("triggerLogout")}}static removeFromLS(t){if(!(typeof window>"u"))return window.localStorage.removeItem(Ft.getDynamicLSKey(t))}static setToLS(t,n,r=!1){typeof window>"u"||(Ft.validateRequest(t,r),window.localStorage.setItem(Ft.getDynamicLSKey(t),JSON.stringify(n)))}static getKeys(){return typeof window>"u"?[]:Object.keys(window.localStorage)}}Ft.getSuffix=()=>Ft.__suffix__||"";const yIe=[{code:"AD",name:"Andorra"},{code:"AE",name:"United Arab Emirates"},{code:"AF",name:"Afghanistan"},{code:"AG",name:"Antigua and Barbuda"},{code:"AI",name:"Anguilla"},{code:"AL",name:"Albania"},{code:"AM",name:"Armenia"},{code:"AO",name:"Angola"},{code:"AQ",name:"Antarctica"},{code:"AR",name:"Argentina"},{code:"AS",name:"American Samoa"},{code:"AT",name:"Austria"},{code:"AU",name:"Australia"},{code:"AW",name:"Aruba"},{code:"AX",name:"Åland Islands"},{code:"AZ",name:"Azerbaijan"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BB",name:"Barbados"},{code:"BD",name:"Bangladesh"},{code:"BE",name:"Belgium"},{code:"BF",name:"Burkina Faso"},{code:"BG",name:"Bulgaria"},{code:"BH",name:"Bahrain"},{code:"BI",name:"Burundi"},{code:"BJ",name:"Benin"},{code:"BL",name:"Saint Barthélemy"},{code:"BM",name:"Bermuda"},{code:"BN",name:"Brunei Darussalam"},{code:"BO",name:"Bolivia, Plurinational State of"},{code:"BQ",name:"Bonaire, Sint Eustatius and Saba"},{code:"BR",name:"Brazil"},{code:"BS",name:"Bahamas"},{code:"BT",name:"Bhutan"},{code:"BV",name:"Bouvet Island"},{code:"BW",name:"Botswana"},{code:"BY",name:"Belarus"},{code:"BZ",name:"Belize"},{code:"CA",name:"Canada"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CD",name:"Congo, Democratic Republic of the"},{code:"CF",name:"Central African Republic"},{code:"CG",name:"Congo"},{code:"CH",name:"Switzerland"},{code:"CI",name:"Côte d'Ivoire"},{code:"CK",name:"Cook Islands"},{code:"CL",name:"Chile"},{code:"CM",name:"Cameroon"},{code:"CN",name:"China"},{code:"CO",name:"Colombia"},{code:"CR",name:"Costa Rica"},{code:"CU",name:"Cuba"},{code:"CV",name:"Cabo Verde"},{code:"CW",name:"Curaçao"},{code:"CX",name:"Christmas Island"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czechia"},{code:"DE",name:"Germany"},{code:"DJ",name:"Djibouti"},{code:"DK",name:"Denmark"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"DZ",name:"Algeria"},{code:"EC",name:"Ecuador"},{code:"EE",name:"Estonia"},{code:"EG",name:"Egypt"},{code:"EH",name:"Western Sahara"},{code:"ER",name:"Eritrea"},{code:"ES",name:"Spain"},{code:"ET",name:"Ethiopia"},{code:"FI",name:"Finland"},{code:"FJ",name:"Fiji"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FM",name:"Micronesia, Federated States of"},{code:"FO",name:"Faroe Islands"},{code:"FR",name:"France"},{code:"GA",name:"Gabon"},{code:"GB",name:"United Kingdom of Great Britain and Northern Ireland"},{code:"GD",name:"Grenada"},{code:"GE",name:"Georgia"},{code:"GF",name:"French Guiana"},{code:"GG",name:"Guernsey"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GL",name:"Greenland"},{code:"GM",name:"Gambia"},{code:"GN",name:"Guinea"},{code:"GP",name:"Guadeloupe"},{code:"GQ",name:"Equatorial Guinea"},{code:"GR",name:"Greece"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"GT",name:"Guatemala"},{code:"GU",name:"Guam"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HK",name:"Hong Kong"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"HN",name:"Honduras"},{code:"HR",name:"Croatia"},{code:"HT",name:"Haiti"},{code:"HU",name:"Hungary"},{code:"ID",name:"Indonesia"},{code:"IE",name:"Ireland"},{code:"IL",name:"Israel"},{code:"IM",name:"Isle of Man"},{code:"IN",name:"India"},{code:"IO",name:"British Indian Ocean Territory"},{code:"IQ",name:"Iraq"},{code:"IR",name:"Iran, Islamic Republic of"},{code:"IS",name:"Iceland"},{code:"IT",name:"Italy"},{code:"JE",name:"Jersey"},{code:"JM",name:"Jamaica"},{code:"JO",name:"Jordan"},{code:"JP",name:"Japan"},{code:"KE",name:"Kenya"},{code:"KG",name:"Kyrgyzstan"},{code:"KH",name:"Cambodia"},{code:"KI",name:"Kiribati"},{code:"KM",name:"Comoros"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"KP",name:"Korea, Democratic People's Republic of"},{code:"KR",name:"Korea, Republic of"},{code:"KW",name:"Kuwait"},{code:"KY",name:"Cayman Islands"},{code:"KZ",name:"Kazakhstan"},{code:"LA",name:"Lao People's Democratic Republic"},{code:"LB",name:"Lebanon"},{code:"LC",name:"Saint Lucia"},{code:"LI",name:"Liechtenstein"},{code:"LK",name:"Sri Lanka"},{code:"LR",name:"Liberia"},{code:"LS",name:"Lesotho"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"LV",name:"Latvia"},{code:"LY",name:"Libya"},{code:"MA",name:"Morocco"},{code:"MC",name:"Monaco"},{code:"MD",name:"Moldova, Republic of"},{code:"ME",name:"Montenegro"},{code:"MF",name:"Saint Martin, (French part)"},{code:"MG",name:"Madagascar"},{code:"MH",name:"Marshall Islands"},{code:"MK",name:"North Macedonia"},{code:"ML",name:"Mali"},{code:"MM",name:"Myanmar"},{code:"MN",name:"Mongolia"},{code:"MO",name:"Macao"},{code:"MP",name:"Northern Mariana Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MS",name:"Montserrat"},{code:"MT",name:"Malta"},{code:"MU",name:"Mauritius"},{code:"MV",name:"Maldives"},{code:"MW",name:"Malawi"},{code:"MX",name:"Mexico"},{code:"MY",name:"Malaysia"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibia"},{code:"NC",name:"New Caledonia"},{code:"NE",name:"Niger"},{code:"NF",name:"Norfolk Island"},{code:"NG",name:"Nigeria"},{code:"NI",name:"Nicaragua"},{code:"NL",name:"Netherlands"},{code:"NO",name:"Norway"},{code:"NP",name:"Nepal"},{code:"NR",name:"Nauru"},{code:"NU",name:"Niue"},{code:"NZ",name:"New Zealand"},{code:"OM",name:"Oman"},{code:"PA",name:"Panama"},{code:"PE",name:"Peru"},{code:"PF",name:"French Polynesia"},{code:"PG",name:"Papua New Guinea"},{code:"PH",name:"Philippines"},{code:"PK",name:"Pakistan"},{code:"PL",name:"Poland"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"PN",name:"Pitcairn"},{code:"PR",name:"Puerto Rico"},{code:"PS",name:"Palestine, State of"},{code:"PT",name:"Portugal"},{code:"PW",name:"Palau"},{code:"PY",name:"Paraguay"},{code:"QA",name:"Qatar"},{code:"RE",name:"Réunion"},{code:"RO",name:"Romania"},{code:"RS",name:"Serbia"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"SA",name:"Saudi Arabia"},{code:"SB",name:"Solomon Islands"},{code:"SC",name:"Seychelles"},{code:"SD",name:"Sudan"},{code:"SE",name:"Sweden"},{code:"SG",name:"Singapore"},{code:"SH",name:"Saint Helena, Ascension and Tristan da Cunha"},{code:"SI",name:"Slovenia"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SK",name:"Slovakia"},{code:"SL",name:"Sierra Leone"},{code:"SM",name:"San Marino"},{code:"SN",name:"Senegal"},{code:"SO",name:"Somalia"},{code:"SR",name:"Suriname"},{code:"SS",name:"South Sudan"},{code:"ST",name:"Sao Tome and Principe"},{code:"SV",name:"El Salvador"},{code:"SX",name:"Sint Maarten, (Dutch part)"},{code:"SY",name:"Syrian Arab Republic"},{code:"SZ",name:"Eswatini"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TD",name:"Chad"},{code:"TF",name:"French Southern Territories"},{code:"TG",name:"Togo"},{code:"TH",name:"Thailand"},{code:"TJ",name:"Tajikistan"},{code:"TK",name:"Tokelau"},{code:"TL",name:"Timor-Leste"},{code:"TM",name:"Turkmenistan"},{code:"TN",name:"Tunisia"},{code:"TO",name:"Tonga"},{code:"TR",name:"Türkiye"},{code:"TT",name:"Trinidad and Tobago"},{code:"TV",name:"Tuvalu"},{code:"TW",name:"Taiwan, Province of China"},{code:"TZ",name:"Tanzania, United Republic of"},{code:"UA",name:"Ukraine"},{code:"UG",name:"Uganda"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"US",name:"United States of America"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VA",name:"Holy See"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"VE",name:"Venezuela, Bolivarian Republic of"},{code:"VG",name:"Virgin Islands, British"},{code:"VI",name:"Virgin Islands, U.S."},{code:"VN",name:"Viet Nam"},{code:"VU",name:"Vanuatu"},{code:"WF",name:"Wallis and Futuna"},{code:"WS",name:"Samoa"},{code:"YE",name:"Yemen"},{code:"YT",name:"Mayotte"},{code:"ZA",name:"South Africa"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"}];var MK=yIe,vIe={},bIe={};MK.forEach(wIe);function wIe(e){vIe[e.name.toLowerCase()]=e.code,bIe[e.code.toLowerCase()]=e.name}var _Ie=function(){return MK};const dT=["XS","S","M","L","XL","2XL"],uT=_Ie(),fT=["Brunei DS","Cambodia","Indonesia","Laos","Malaysia","Myanmar","Philippines","Singapore","Thailand","Vietnam"],j6={primary_chain:"evm",wallets:{algorand:"perawallet",bitcoin:"xverse",cosmos:"keplr",evm:"metamask",flow:"blocto",solana:"phantom"}},DK=2147483647,xIe=2147483646,U0=2147483645,kIe={starknet:"STARK"},SIe=e=>e.filter(({enabled:t})=>t).map(({name:t})=>{var n,r;return(n=kIe[t])!==null&&n!==void 0?n:(r=w1(t))===null||r===void 0?void 0:r.symbol}).filter(t=>!!t),EIe=e=>{var t;return rIe({enabledChains:SIe(e.getSupportedWalletOpts.settings.chains),getSupportedWalletOpts:Object.assign(Object.assign({},e.getSupportedWalletOpts),{chainRpcProviders:Gs,walletConnectProjectId:(t=e.getSupportedWalletOpts.settings.sdk.walletConnect)===null||t===void 0?void 0:t.projectId})}).map(n=>{var r;return(r=e.walletConnectorExtensions)===null||r===void 0||r.forEach(i=>n.extend(i)),uIe(e.getSupportedWalletOpts.walletBook,n)})},LK=e=>{var t;if(!e)return;const n=(t=e.split(".")[1])===null||t===void 0?void 0:t.replace(/-/g,"+").replace(/_/g,"/"),r=n&&decodeURIComponent(atob(n).split("").map(i=>`%${`00${i.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));return JSON.parse(r)},CIe=e=>{try{const t=LK(e);return t?VCe(t):void 0}catch(t){Ne.error(t);return}},IIe=e=>{try{const t=LK(e);return t?KCe(t):void 0}catch(t){Ne.error(t);return}},AIe=()=>Ft.getFromLS(lT);let B6,UK,FK;const hT=24*60*60*1e3,TIe=e=>{const t=IIe(e);return WK(t)},RIe=e=>{const t=CIe(e);return WK(t)},WK=e=>{if(!e||!e.exp)return!0;const t=new Date(e.exp*1e3).getTime();return new Date().getTime()>=t},PIe=e=>{const t=AIe();if(!t)return clearTimeout(B6);const n=new Date(t*1e3).getTime(),r=new Date().getTime();if(r>=n)return clearTimeout(B6),e();const i=n-r,o=Math.min(i,2147483647);B6=setTimeout(e,o)},OIe=({connectedWallets:e,isBridgeFlow:t,bridgeOnboardingCompleted:n,isAuthenticated:r,isMultiWalletEnabled:i})=>r||n?{type:i?"multi-wallet-wallet-list":"wallet-list"}:t&&!e.length?{type:"bridge-welcome"}:{type:"login-with-email-or-wallet"},NIe=()=>{zK(jK),UK=setTimeout(qK,hT)},jIe=()=>{zK(BK),FK=setTimeout(VK,hT)},zK=e=>{const t=new Date().getTime();Ft.setToLS(e,t.toString())},qK=()=>HK(jK,UK),VK=()=>HK(BK,FK),HK=(e,t)=>{const n=Ft.getFromLS(e);if(!n)return!0;const r=parseInt(n);return new Date().getTime()-r>hT?(clearTimeout(t),Ft.removeFromLS(e),!0):!1},BIe=({networkValidationMode:e,bridgeChains:t})=>e||(t?"always":"sign-in"),$Ie=(e,t)=>t?"universal":e,F0=()=>{if(typeof window>"u")return;const e=Ft.getFromLS(c3,!0);if(e&&!RIe(e))return e};function na(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ae(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function MIe(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const pB={};function xI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&pB[t[0]]||(typeof t[0]=="string"&&(pB[t[0]]=new Date),MIe(...t))}const KK=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function mB(e,t,n){e.loadNamespaces(t,KK(e,n))}function gB(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,KK(e,r))}function DIe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,c)=>{const l=t.services.backendConnector.state[`${a}|${c}`];return l===-1||l===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}function LIe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(xI("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}):DIe(e,t,n)}const UIe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,FIe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},WIe=e=>FIe[e],zIe=e=>e.replace(UIe,WIe);let kI={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:zIe};function qIe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};kI={...kI,...e}}function VIe(){return kI}let GK;function HIe(e){GK=e}function KIe(){return GK}const GIe={type:"3rdParty",init(e){qIe(e.options.react),HIe(e)}},ZK=k.createContext();class ZIe{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const JIe=(e,t)=>{const n=k.useRef();return k.useEffect(()=>{n.current=e},[e,t]),n.current};function ut(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=k.useContext(ZK)||{},o=n||r||KIe();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new ZIe),!o){xI("You will need to pass in an i18next instance by using initReactI18next");const E=(T,A)=>typeof A=="string"?A:A&&typeof A=="object"&&typeof A.defaultValue=="string"?A.defaultValue:Array.isArray(T)?T[T.length-1]:T,C=[E,{},!1];return C.t=E,C.i18n={},C.ready=!1,C}o.options.react&&o.options.react.wait!==void 0&&xI("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...VIe(),...o.options.react,...t},{useSuspense:a,keyPrefix:c}=s;let l=i||o.options&&o.options.defaultNS;l=typeof l=="string"?[l]:l||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(l);const d=(o.isInitialized||o.initializedStoreOnce)&&l.every(E=>LIe(E,o,s));function f(){return o.getFixedT(t.lng||null,s.nsMode==="fallback"?l:l[0],c)}const[p,m]=k.useState(f);let g=l.join();t.lng&&(g=`${t.lng}${g}`);const y=JIe(g),v=k.useRef(!0);k.useEffect(()=>{const{bindI18n:E,bindI18nStore:C}=s;v.current=!0,!d&&!a&&(t.lng?gB(o,t.lng,l,()=>{v.current&&m(f)}):mB(o,l,()=>{v.current&&m(f)})),d&&y&&y!==g&&v.current&&m(f);function T(){v.current&&m(f)}return E&&o&&o.on(E,T),C&&o&&o.store.on(C,T),()=>{v.current=!1,E&&o&&E.split(" ").forEach(A=>o.off(A,T)),C&&o&&C.split(" ").forEach(A=>o.store.off(A,T))}},[o,g]);const w=k.useRef(!0);k.useEffect(()=>{v.current&&!w.current&&m(f),w.current=!1},[o,c]);const _=[p,o,d];if(_.t=p,_.i18n=o,_.ready=d,d||!d&&!a)return _;throw new Promise(E=>{t.lng?gB(o,t.lng,l,()=>E()):mB(o,l,()=>E())})}function YIe(e){let{i18n:t,defaultNS:n,children:r}=e;const i=k.useMemo(()=>({i18n:t,defaultNS:n}),[t,n]);return k.createElement(ZK.Provider,{value:i},r)}const W0=e=>{const t=()=>{var r;const i=document.querySelector("html"),o=document.querySelector("body");if(!i||!o)return;const s=(r=window==null?void 0:window.screen)===null||r===void 0?void 0:r.height;!(o.scrollHeight>s)||s===0||(i.classList.add("dynamic-no-scroll"),o.classList.add("dynamic-no-scroll"))},n=r=>{const i=document.querySelector("html"),o=document.querySelector("body");!i||!o||(i.classList.remove("dynamic-no-scroll"),o.classList.remove("dynamic-no-scroll"),ZA()&&window.scrollTo(r.x,r.y))};k.useEffect(()=>{if(!e)return;const r={x:window.scrollX,y:window.scrollY};return t(),()=>{n(r)}},[e])};var yB,XIe=["title","titleId"];function SI(){return SI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SI.apply(this,arguments)}function QIe(e,t){if(e==null)return{};var n=e8e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function e8e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Bp=function(t){var n=t.title,r=t.titleId,i=QIe(t,XIe);return k.createElement("svg",SI({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,yB||(yB=k.createElement("path",{d:"M9.99 0C4.47 0 0 4.48 0 10s4.47 10 9.99 10C15.52 20 20 15.52 20 10S15.52 0 9.99 0ZM10 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8Zm-1-5h2v2H9v-2Zm0-8h2v6H9V5Z",fill:"currentcolor"})))};const t8e=e=>typeof e=="object",vB=e=>typeof e=="string",We=(...e)=>e.reduce((n,r)=>{if(vB(r))return[...n,r];if(t8e(r)){const o=Object.keys(r).map(s=>r[s]?s:null).filter(vB);return[...n,...o]}return n},[]).join(" "),ie=e=>{var{as:t="p",variant:n,weight:r,color:i,transform:o,className:s="",truncate:a=!1,style:c}=e,l=na(e,["as","variant","weight","color","transform","className","truncate","style"]);const d={body_mini:"typography--body-mini",body_normal:"typography--body-normal",body_small:"typography--body-small",button_primary:"typography--button-primary",button_secondary:"typography--button-secondary",button_tertiary:"typography--button-tertiary",numbers_big:"typography--numbers-big",numbers_medium:"typography--numbers-medium",title:"typography--title"},f={bold:"typography--bold",medium:"typography--medium",regular:"typography--regular"},p={"brand-primary":"typography--brand-primary","error-1":"typography--dynamic-error-1","error-2":"typography--dynamic-error-2","green-1":"typography--connection-green-1",inherit:"typography--inherit",link:"typography--link",primary:"typography--primary",secondary:"typography--secondary",tertiary:"typography--tertiary",tooltip:"typography--tooltip"},m={uppercase:"typography--uppercase"},g=We("typography",n?d[n]:"",r?f[r]:"",i?p[i]:"",o?m[o]:"",{"typography--truncate":a},s);return u.jsx(t,Object.assign({style:c,className:g},l))},Ao=({children:e,className:t,isMultiWalletError:n=!1,withIcon:r=!0,variant:i="error",copykey:o})=>{const s=We("error-container",`error-container--${i}`,t,{"error-container--multi-wallet":n}),a=We("error",{"error--with-icon":r});return u.jsxs("div",{className:s,"data-testid":`error-container--${i}`,children:[r&&u.jsx(Bp,{}),u.jsx(ie,{variant:"body_small",className:a,copykey:o,children:e})]})},n8e="ERROR_BOUNDARY_CONTEXT_NOT_FOUND",JK=k.createContext(null);function YK(e){if(e===null||typeof e.hasError!="boolean"||typeof e.error!="object"||typeof e.isDynamicSdkError!="boolean"){const t=new Error("ErrorBoundaryContext not found");throw t.cause=n8e,t}}class pT extends k.Component{static getDerivedStateFromError(t){return{error:t,hasError:!0}}renderOrError(t,{isDynamicSdkError:n}){try{YK(this.context),this.context.isDynamicSdkError=n}catch(r){return Ne.error(r),k.createElement(Ao,null,"ErrorBoundary must be used within ErrorBoundaryContext")}return t}}pT.contextType=JK;const Wf=(e,t,n,r)=>{const[i,o]=k.useState(()=>{try{const c=Ft.getFromLS(e);return c&&n&&!n(c)?(Ft.removeFromLS(e),r==null||r.forEach(l=>Ft.removeFromLS(l)),t):c??t}catch(c){return Ne.error(c),t}}),s=k.useCallback(c=>{try{const l=c instanceof Function?c(i):c;o(l),Ft.setToLS(e,l)}catch(l){Ne.error(l)}},[e,i]),a=k.useCallback(()=>{Ft.removeFromLS(e),o(t)},[t,e]);return[i,s,a]},XK=k.createContext(void 0),r8e=({children:e})=>{const{setView:t}=dn(),[n,r,i]=Wf(gIe,void 0),[o,s]=k.useState(),a=k.useCallback(({authMethod:d,onCaptchaSuccess:f})=>{s({authMethod:d,onCaptchaSuccess:f}),t("captcha")},[t,s]),c=k.useCallback(()=>{const d=n;return i(),d},[n,i]),l=k.useMemo(()=>({captchaAuthState:o,engageCaptcha:a,getCaptchaToken:c,removeCaptchaToken:i,setCaptchaAuthState:s,setCaptchaToken:r}),[o,c,a,s,r,i]);return u.jsx(XK.Provider,{value:l,children:e})},Du=()=>{const e=k.useContext(XK);if(e===void 0)throw new Error("usage of useCaptchaContext not wrapped in `CaptchaContextProvider`.");return e};var $p=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Côte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","",2],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49",".... ........"],["Ghana","gh","233"],["Greece","gr","30"],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",".. ........"],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","",3,["787","939"]],["Qatar","qa","974"],["Réunion","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],i8e="react-international-phone-",QK=(...e)=>e.filter(t=>!!t).join(" ").trim(),o8e=(...e)=>QK(...e).split(" ").map(t=>`${i8e}${t}`).join(" "),Zs=({addPrefix:e,rawClassNames:t})=>QK(o8e(...e),...t),s8e=({value:e,mask:t,maskSymbol:n,offset:r=0,trimNonMaskCharsLeftover:i=!1})=>{if(e.length<r)return e;let o=e.slice(0,r),s=e.slice(r),a=o,c=0;for(let l of t.split("")){if(c>=s.length){if(!i&&l!==n){a+=l;continue}break}l===n?(a+=s[c],c+=1):a+=l}return a},Ym=e=>e?/^\d+$/.test(e):!1,d3=e=>e.replace(/\D/g,""),a8e=(e,t)=>{let n=e.style.display;n!=="block"&&(e.style.display="block");let r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=i.top-r.top,s=r.bottom-i.bottom;o>=0&&s>=0||(Math.abs(o)<Math.abs(s)?e.scrollTop+=o:e.scrollTop-=s),e.style.display=n},c8e=e=>{let{name:t,iso2:n,dialCode:r,format:i,priority:o,areaCodes:s}=e,a=[t,n,r,i,o,s];for(let c=0;c<a.length;c+=1){if(c===0)continue;let l=a[c-1],d=a[c];if(l===void 0&&d!==void 0){let f=JSON.stringify(a,(p,m)=>m===void 0?"__undefined":m).replace(/"__undefined"/g,"undefined");throw new Error(`[react-international-phone] invalid country values passed to buildCountryData. Check ${l} in: ${f}`)}}return a.filter(c=>c!==void 0)},E1=({phone:e,dialCode:t,prefix:n="+",charAfterDialCode:r=" "})=>{if(!e||!t)return e;let i=e;return i.startsWith(n)&&(i=i.replace(n,"")),i.startsWith(t)?(i=i.replace(t,""),i.startsWith(r)&&(i=i.replace(r,"")),i):e},l8e=(e,t)=>{let n=t.disableDialCodeAndPrefix?!1:t.forceDialCode,r=t.disableDialCodeAndPrefix?!1:t.insertDialCodeOnEmpty,i=e,o=l=>t.trimNonDigitsEnd?l.trim():l;if(!i)return r&&!i.length||n?o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`):o(i);if(i=d3(i),i===t.dialCode&&!t.disableDialCodeAndPrefix)return o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`);if(t.dialCode.startsWith(i)&&!t.disableDialCodeAndPrefix)return o(n?`${t.prefix}${t.dialCode}${t.charAfterDialCode}`:`${t.prefix}${i}`);if(!i.startsWith(t.dialCode)&&!t.disableDialCodeAndPrefix){if(n)return o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`);if(i.length<t.dialCode.length)return o(`${t.prefix}${i}`)}let s=()=>{let l=t.dialCode.length,d=i.slice(0,l),f=i.slice(l);return{phoneLeftSide:d,phoneRightSide:f}},{phoneLeftSide:a,phoneRightSide:c}=s();return a=`${t.prefix}${a}${t.charAfterDialCode}`,c=s8e({value:c,mask:t.mask,maskSymbol:t.maskChar,trimNonMaskCharsLeftover:t.trimNonDigitsEnd||t.disableDialCodeAndPrefix&&c.length===0}),t.disableDialCodeAndPrefix&&(a=""),o(`${a}${c}`)},d8e=({phoneBeforeInput:e,phoneAfterInput:t,phoneAfterFormatted:n,cursorPositionAfterInput:r,leftOffset:i=0,deletion:o})=>{if(r<i)return i;if(!e)return n.length;let s=null;for(let d=r-1;d>=0;d-=1)if(Ym(t[d])){s=d;break}if(s===null){for(let d=0;d<t.length;d+=1)if(Ym(n[d]))return d;return t.length}let a=0;for(let d=0;d<s;d+=1)Ym(t[d])&&(a+=1);let c=0,l=0;for(let d=0;d<n.length&&(c+=1,Ym(n[d])&&(l+=1),!(l>=a+1));d+=1);if(o!=="backward")for(;!Ym(n[c])&&c<n.length;)c+=1;return c},Nx=({phone:e,prefix:t})=>e?`${t}${d3(e)}`:"";function EI({value:e,country:t,insertDialCodeOnEmpty:n,trimNonDigitsEnd:r,countries:i,prefix:o,charAfterDialCode:s,forceDialCode:a,disableDialCodeAndPrefix:c,defaultMask:l,countryGuessingEnabled:d,disableFormatting:f}){let p=e;c&&(p=p.startsWith(`${o}`)?p:`${o}${t.dialCode}${p}`);let m=d?u3({phone:p,countries:i,currentCountryIso2:t==null?void 0:t.iso2}):void 0,g=(m==null?void 0:m.country)??t,y=l8e(p,{prefix:o,mask:nG({phone:p,country:g,defaultMask:l,disableFormatting:f}),maskChar:eG,dialCode:g.dialCode,trimNonDigitsEnd:r,charAfterDialCode:s,forceDialCode:a,insertDialCodeOnEmpty:n,disableDialCodeAndPrefix:c}),v=d&&!(m!=null&&m.fullDialCodeMatch)?t:g;return{phone:Nx({phone:c?`${v.dialCode}${y}`:y,prefix:o}),inputValue:y,country:v}}var u8e=e=>{if((e==null?void 0:e.toLocaleLowerCase().includes("delete"))??!1)return e!=null&&e.toLocaleLowerCase().includes("forward")?"forward":"backward"},f8e=(e,{country:t,insertDialCodeOnEmpty:n,phoneBeforeInput:r,prefix:i,charAfterDialCode:o,forceDialCode:s,disableDialCodeAndPrefix:a,countryGuessingEnabled:c,defaultMask:l,disableFormatting:d,countries:f})=>{let p=e.nativeEvent,m=p.inputType,g=u8e(m),y=!!(m!=null&&m.startsWith("insertFrom")),v=m==="insertText",w=(p==null?void 0:p.data)||void 0,_=e.target.value,E=e.target.selectionStart??0;if(m!=null&&m.includes("history"))return{inputValue:r,phone:Nx({phone:r,prefix:i}),cursorPosition:r.length,country:t};if(v&&!Ym(w)&&_!==i)return{inputValue:r,phone:Nx({phone:a?`${t.dialCode}${r}`:r,prefix:i}),cursorPosition:E-((w==null?void 0:w.length)??0),country:t};if(s&&!_.startsWith(`${i}${t.dialCode}`)&&!y){let O=_?r:`${i}${t.dialCode}${o}`;return{inputValue:O,phone:Nx({phone:O,prefix:i}),cursorPosition:i.length+t.dialCode.length+o.length,country:t}}let{phone:C,inputValue:T,country:A}=EI({value:_,country:t,trimNonDigitsEnd:g==="backward",insertDialCodeOnEmpty:n,countryGuessingEnabled:c,countries:f,prefix:i,charAfterDialCode:o,forceDialCode:s,disableDialCodeAndPrefix:a,disableFormatting:d,defaultMask:l}),S=d8e({cursorPositionAfterInput:E,phoneBeforeInput:r,phoneAfterInput:_,phoneAfterFormatted:T,leftOffset:s?i.length+t.dialCode.length+o.length:0,deletion:g});return{phone:C,inputValue:T,cursorPosition:S,country:A}},h8e=(e,t)=>{let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i of n)if(e[i]!==t[i])return!1;return!0},p8e=()=>{let e=k.useRef(),t=k.useRef(Date.now());return{check:()=>{let n=Date.now(),r=e.current?n-t.current:void 0;return e.current=t.current,t.current=n,r}}},m8e={size:20,overrideLastItemDebounceMS:-1};function g8e(e,t){let{size:n,overrideLastItemDebounceMS:r,onChange:i}={...m8e,...t},[o,s]=k.useState(e),[a,c]=k.useState([o]),[l,d]=k.useState(0),f=p8e();return[o,(p,m)=>{if(typeof p=="object"&&typeof o=="object"&&h8e(p,o)||p===o)return;let g=r>0,y=f.check(),v=g&&y!==void 0?y>r:!0;if((m==null?void 0:m.overrideLastItem)!==void 0?m.overrideLastItem:!v)c(w=>[...w.slice(0,l),p]);else{let w=a.length>=n;c(_=>[..._.slice(w?1:0,l+1),p]),w||d(_=>_+1)}s(p),i==null||i(p)},()=>{if(l<=0)return{success:!1};let p=a[l-1];return s(p),d(m=>m-1),i==null||i(p),{success:!0,value:p}},()=>{if(l+1>=a.length)return{success:!1};let p=a[l+1];return s(p),d(m=>m+1),i==null||i(p),{success:!0,value:p}}]}var eG=".",_c={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:$p,preferredCountries:[]},tG=({defaultCountry:e=_c.defaultCountry,value:t=_c.value,countries:n=_c.countries,prefix:r=_c.prefix,defaultMask:i=_c.defaultMask,charAfterDialCode:o=_c.charAfterDialCode,historySaveDebounceMS:s=_c.historySaveDebounceMS,disableCountryGuess:a=_c.disableCountryGuess,disableDialCodePrefill:c=_c.disableDialCodePrefill,forceDialCode:l=_c.forceDialCode,disableDialCodeAndPrefix:d=_c.disableDialCodeAndPrefix,disableFormatting:f=_c.disableFormatting,onChange:p,inputRef:m})=>{let g={countries:n,prefix:r,charAfterDialCode:o,forceDialCode:d?!1:l,disableDialCodeAndPrefix:d,defaultMask:i,countryGuessingEnabled:!a,disableFormatting:f},y=k.useRef(null),v=m||y,w=I=>{Promise.resolve().then(()=>{var x;typeof window>"u"||v.current!==(document==null?void 0:document.activeElement)||((x=v.current)==null||x.setSelectionRange(I,I))})},[{phone:_,inputValue:E,country:C},T,A,S]=g8e(()=>{let I=fg({value:e,field:"iso2",countries:n});I||console.error(`[react-international-phone]: can not find a country with "${e}" iso2 code`);let x=I||fg({value:"us",field:"iso2",countries:n}),{phone:P,inputValue:N,country:$}=EI({value:t,country:x,insertDialCodeOnEmpty:!c,...g});return w(N.length),{phone:P,inputValue:N,country:$.iso2}},{overrideLastItemDebounceMS:s,onChange:({inputValue:I,phone:x,country:P})=>{if(!p)return;let N=O(P);p({phone:x,inputValue:I,country:N})}}),O=k.useCallback(I=>fg({value:I,field:"iso2",countries:n}),[n]),D=k.useMemo(()=>O(C),[C,O]);k.useEffect(()=>{let I=v.current;if(!I)return;let x=P=>{if(!P.key)return;let N=P.ctrlKey,$=P.shiftKey,L=P.key.toLowerCase()==="z";!N||!L||($?S():A())};return I.addEventListener("keydown",x),()=>{I.removeEventListener("keydown",x)}},[v,A,S]);let K=I=>{I.preventDefault();let{phone:x,inputValue:P,country:N,cursorPosition:$}=f8e(I,{country:D,phoneBeforeInput:E,insertDialCodeOnEmpty:!1,...g});return T({inputValue:P,phone:x,country:N.iso2}),w($),t},H=(I,x={focusOnInput:!1})=>{let P=fg({value:I,field:"iso2",countries:n});if(!P){console.error(`[react-international-phone]: can not find a country with "${I}" iso2 code`);return}let N=d?"":`${r}${P.dialCode}${o}`;T({inputValue:N,phone:`${r}${P.dialCode}`,country:P.iso2}),x.focusOnInput&&Promise.resolve().then(()=>{var $;($=v.current)==null||$.focus()})},[X,U]=k.useState(!1);return k.useEffect(()=>{if(!X){U(!0),t!==_&&(p==null||p({inputValue:E,phone:_,country:D}));return}if(t===_)return;let{phone:I,inputValue:x,country:P}=EI({value:t,country:D,insertDialCodeOnEmpty:!c,...g});T({phone:I,inputValue:x,country:P.iso2})},[t]),{phone:_,inputValue:E,country:D,setCountry:H,handlePhoneValueChange:K,inputRef:v}},nG=({phone:e,country:t,defaultMask:n="............",disableFormatting:r=!1})=>{let i=t.format,o=a=>r?a.replace(new RegExp(`[^${eG}]`,"g"),""):a;if(!i)return o(n);if(typeof i=="string")return o(i);if(!i.default)return console.error(`[react-international-phone]: default mask for ${t.iso2} is not provided`),o(n);let s=Object.keys(i).find(a=>{if(a==="default")return!1;if(!(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${a}" for ${t.iso2} is not valid`),!1;let c=new RegExp(a.substring(1,a.length-1)),l=e.replace(t.dialCode,"");return c.test(d3(l))});return o(s?i[s]:i.default)},Is=e=>{let[t,n,r,i,o,s]=e;return{name:t,iso2:n,dialCode:r,format:i,priority:o,areaCodes:s}},y8e=e=>`Field "${e}" is not supported`,fg=({field:e,value:t,countries:n=$p})=>{if(["priority"].includes(e))throw new Error(y8e(e));let r=n.find(i=>{let o=Is(i);return t===o[e]});if(r)return Is(r)},u3=({phone:e,countries:t=$p,currentCountryIso2:n})=>{var a;let r={country:void 0,fullDialCodeMatch:!1};if(!e)return r;let i=d3(e);if(!i)return r;let o=r,s=({country:c,fullDialCodeMatch:l})=>{var p,m;let d=c.dialCode===((p=o.country)==null?void 0:p.dialCode),f=(c.priority??0)<(((m=o.country)==null?void 0:m.priority)??0);(!d||f)&&(o={country:c,fullDialCodeMatch:l})};for(let c of t){let l=Is(c),{dialCode:d,areaCodes:f}=l;if(i.startsWith(d)){let p=o.country?Number(d)>=Number(o.country.dialCode):!0;if(f){let m=i.substring(d.length);for(let g of f)if(m.startsWith(g))return{country:l,fullDialCodeMatch:!0}}(p||d===i||!o.fullDialCodeMatch)&&s({country:l,fullDialCodeMatch:!0})}o.fullDialCodeMatch||i.length<d.length&&d.startsWith(i)&&(!o.country||Number(d)<=Number(o.country.dialCode))&&s({country:l,fullDialCodeMatch:!1})}if(n){let c=fg({value:n,field:"iso2",countries:t});if(!c)return o;let l=c?(d=>{if(!(d!=null&&d.areaCodes))return!1;let f=i.substring(d.dialCode.length);return d.areaCodes.some(p=>p.startsWith(f))})(c):!1;o&&((a=o.country)==null?void 0:a.dialCode)===c.dialCode&&o.country!==c&&o.fullDialCodeMatch&&(!c.areaCodes||l)&&(o={country:c,fullDialCodeMatch:!0})}return o},v8e=(e,t)=>{let n=parseInt(e,16);return Number(n+t).toString(16)},b8e="abcdefghijklmnopqrstuvwxyz",w8e="1f1e6",bB=b8e.split("").reduce((e,t,n)=>({...e,[t]:v8e(w8e,n)}),{}),_8e=e=>[bB[e[0]],bB[e[1]]].join("-"),k2=({iso2:e,size:t,src:n,protocol:r="https",disableLazyLoading:i,className:o,style:s,...a})=>{if(!e)return Yr.createElement("img",{className:Zs({addPrefix:["flag-emoji"],rawClassNames:[o]}),width:t,height:t,...a});let c=()=>{if(n)return n;let l=_8e(e);return`${r}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${l}.svg`};return Yr.createElement("img",{className:Zs({addPrefix:["flag-emoji"],rawClassNames:[o]}),src:c(),width:t,height:t,draggable:!1,"data-country":e,loading:i?void 0:"lazy",style:{width:t,height:t,...s},alt:"",...a})},x8e=1e3,k8e=({show:e,dialCodePrefix:t="+",selectedCountry:n,countries:r=$p,preferredCountries:i=[],flags:o,onSelect:s,onClose:a,...c})=>{let l=k.useRef(null),d=k.useRef(),f=k.useMemo(()=>{if(!i||!i.length)return r;let A=[],S=[...r];for(let O of i){let D=S.findIndex(K=>Is(K).iso2===O);if(D!==-1){let K=S.splice(D,1)[0];A.push(K)}}return A.concat(S)},[r,i]),p=k.useRef({updatedAt:void 0,value:""}),m=A=>{let S=p.current.updatedAt&&new Date().getTime()-p.current.updatedAt.getTime()>x8e;p.current={value:S?A:`${p.current.value}${A}`,updatedAt:new Date};let O=f.findIndex(D=>Is(D).name.toLowerCase().startsWith(p.current.value));O!==-1&&v(O)},g=k.useCallback(A=>f.findIndex(S=>Is(S).iso2===A),[f]),[y,v]=k.useState(g(n)),w=()=>{d.current!==n&&v(g(n))},_=k.useCallback(A=>{v(g(A.iso2)),s==null||s(A)},[s,g]),E=A=>{let S=f.length-1,O=D=>A==="prev"?D-1:A==="next"?D+1:A==="last"?S:0;v(D=>{let K=O(D);return K<0?0:K>S?S:K})},C=A=>{if(A.stopPropagation(),A.key==="Enter"){A.preventDefault();let S=Is(f[y]);_(S);return}if(A.key==="Escape"){a==null||a();return}if(A.key==="ArrowUp"){A.preventDefault(),E("prev");return}if(A.key==="ArrowDown"){A.preventDefault(),E("next");return}if(A.key==="PageUp"){A.preventDefault(),E("first");return}if(A.key==="PageDown"){A.preventDefault(),E("last");return}A.key===" "&&A.preventDefault(),A.key.length===1&&!A.altKey&&!A.ctrlKey&&!A.metaKey&&m(A.key.toLocaleLowerCase())},T=k.useCallback(()=>{if(!l.current||y===void 0)return;let A=Is(f[y]).iso2;if(A===d.current)return;let S=l.current.querySelector(`[data-country="${A}"]`);S&&(a8e(l.current,S),d.current=A)},[y,f]);return k.useEffect(()=>{T()},[y,T]),k.useEffect(()=>{l.current&&(e?l.current.focus():w())},[e]),k.useEffect(()=>{w()},[n]),Yr.createElement("ul",{ref:l,role:"listbox",className:Zs({addPrefix:["country-selector-dropdown"],rawClassNames:[c.className]}),style:{display:e?"block":"none",...c.style},onKeyDown:C,onBlur:a,tabIndex:-1,"aria-activedescendant":`react-international-phone__${Is(f[y]).iso2}-option`},f.map((A,S)=>{let O=Is(A),D=O.iso2===n,K=S===y,H=i.includes(O.iso2),X=S===i.length-1,U=o==null?void 0:o.find(I=>I.iso2===O.iso2);return Yr.createElement(Yr.Fragment,{key:O.iso2},Yr.createElement("li",{"data-country":O.iso2,role:"option","aria-selected":D,"aria-label":`${O.name} ${t}${O.dialCode}`,id:`react-international-phone__${O.iso2}-option`,className:Zs({addPrefix:["country-selector-dropdown__list-item",H&&"country-selector-dropdown__list-item--preferred",D&&"country-selector-dropdown__list-item--selected",K&&"country-selector-dropdown__list-item--focused"],rawClassNames:[c.listItemClassName]}),onClick:()=>_(O),style:c.listItemStyle,title:O.name},Yr.createElement(k2,{iso2:O.iso2,src:U==null?void 0:U.src,className:Zs({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[c.listItemFlagClassName]}),style:c.listItemFlagStyle}),Yr.createElement("span",{className:Zs({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[c.listItemCountryNameClassName]}),style:c.listItemCountryNameStyle},O.name),Yr.createElement("span",{className:Zs({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[c.listItemDialCodeClassName]}),style:c.listItemDialCodeStyle},t,O.dialCode)),X?Yr.createElement("hr",{className:Zs({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[c.preferredListDividerClassName]}),style:c.preferredListDividerStyle}):null)}))},S8e=({selectedCountry:e,onSelect:t,disabled:n,hideDropdown:r,countries:i=$p,preferredCountries:o=[],flags:s,renderButtonWrapper:a,...c})=>{let[l,d]=k.useState(!1),f=k.useMemo(()=>{if(e)return fg({value:e,field:"iso2",countries:i})},[i,e]),p=k.useRef(null),m=y=>{y.key&&["ArrowUp","ArrowDown"].includes(y.key)&&(y.preventDefault(),d(!0))},g=()=>{var w;let y={title:f==null?void 0:f.name,onClick:()=>d(_=>!_),onMouseDown:_=>_.preventDefault(),onKeyDown:m,disabled:r||n,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":l},v=Yr.createElement("div",{className:Zs({addPrefix:["country-selector-button__button-content"],rawClassNames:[c.buttonContentWrapperClassName]}),style:c.buttonContentWrapperStyle},Yr.createElement(k2,{iso2:e,src:(w=s==null?void 0:s.find(_=>_.iso2===e))==null?void 0:w.src,className:Zs({addPrefix:["country-selector-button__flag-emoji",n&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[c.flagClassName]}),style:{visibility:e?"visible":"hidden",...c.flagStyle}}),!r&&Yr.createElement("div",{className:Zs({addPrefix:["country-selector-button__dropdown-arrow",n&&"country-selector-button__dropdown-arrow--disabled",l&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[c.dropdownArrowClassName]}),style:c.dropdownArrowStyle}));return a?a({children:v,rootProps:y}):Yr.createElement("button",{...y,type:"button",className:Zs({addPrefix:["country-selector-button",l&&"country-selector-button--active",n&&"country-selector-button--disabled",r&&"country-selector-button--hide-dropdown"],rawClassNames:[c.buttonClassName]}),"data-country":e,style:c.buttonStyle},v)};return Yr.createElement("div",{className:Zs({addPrefix:["country-selector"],rawClassNames:[c.className]}),style:c.style,ref:p},g(),Yr.createElement(k8e,{show:l,countries:i,preferredCountries:o,flags:s,onSelect:y=>{d(!1),t==null||t(y)},selectedCountry:e,onClose:()=>{d(!1)},...c.dropdownStyleProps}))},E8e=({dialCode:e,prefix:t,disabled:n,style:r,className:i})=>Yr.createElement("div",{className:Zs({addPrefix:["dial-code-preview",n&&"dial-code-preview--disabled"],rawClassNames:[i]}),style:r},`${t}${e}`);k.forwardRef(({value:e,onChange:t,countries:n=$p,preferredCountries:r=[],hideDropdown:i,showDisabledDialCodeAndPrefix:o,disableFocusAfterCountrySelect:s,flags:a,style:c,className:l,inputStyle:d,inputClassName:f,countrySelectorStyleProps:p,dialCodePreviewStyleProps:m,inputProps:g,placeholder:y,disabled:v,name:w,onFocus:_,onBlur:E,required:C,autoFocus:T,...A},S)=>{let{phone:O,inputValue:D,inputRef:K,country:H,setCountry:X,handlePhoneValueChange:U}=tG({value:e,countries:n,...A,onChange:x=>{t==null||t(x.phone,{country:x.country,inputValue:x.inputValue})}}),I=A.disableDialCodeAndPrefix&&o&&(H==null?void 0:H.dialCode);return k.useImperativeHandle(S,()=>K.current?Object.assign(K.current,{setCountry:X,state:{phone:O,inputValue:D,country:H}}):null,[K,X,O,D,H]),Yr.createElement("div",{ref:S,className:Zs({addPrefix:["input-container"],rawClassNames:[l]}),style:c},Yr.createElement(S8e,{onSelect:x=>X(x.iso2,{focusOnInput:!s}),flags:a,selectedCountry:H.iso2,countries:n,preferredCountries:r,disabled:v,hideDropdown:i,...p}),I&&Yr.createElement(E8e,{dialCode:H.dialCode,prefix:A.prefix??"+",disabled:v,...m}),Yr.createElement("input",{onChange:U,value:D,type:"tel",ref:K,className:Zs({addPrefix:["input",v&&"input--disabled"],rawClassNames:[f]}),placeholder:y,disabled:v,style:d,name:w,onFocus:_,onBlur:E,autoFocus:T,required:C,...g}))});const rG=e=>{if(!e)return[];const t=e;return t.evmNetworks||t.starknetNetworks||[]},Mp=({walletConnector:e,network:t})=>{const n=rG(e);return n.length?n.some(({chainId:i})=>String(i)===String(t)):!0};class Vc{}Vc.getBaseUrl=()=>{if(!Vc.__baseUrl__)throw new Error("ApiEndpoint Base URL has not been initialized");return Vc.__baseUrl__};Vc.setBaseUrl=e=>{e?Vc.__baseUrl__=e:Vc.__baseUrl__=new tT().basePath};const C8e=e=>{const t=new Set;let n=e();const r=()=>{for(const i of t)i(n)};return{getInitialState:()=>e(),getState:()=>n,setState:i=>{n=Object.assign(Object.assign({},n),i),r()},subscribe:i=>(t.add(i),()=>{t.delete(i)})}},I8e=new Cl("@dynamic-labs/logger"),A8e=({name:e,version:t=0,storage:n})=>r=>{r.subscribe(o=>{n.setItem(e,JSON.stringify({state:o,version:t}))});const i=n.getItem(e);if(i)try{const{state:o,version:s}=JSON.parse(i);s===t&&r.setState(o)}catch(o){I8e.error("Failed to load state from storage",o)}return r},T8e={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class S2{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||T8e,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new S2(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new S2(this.logger,t)}}var nd=new S2;let f3=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t]=this.observers[t].filter(r=>r!==n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&[].concat(this.observers[t]).forEach(s=>{s(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(s=>{s.apply(s,[t,...r])})}};function Wy(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function wB(e){return e==null?"":""+e}function R8e(e,t,n){e.forEach(r=>{t[r]&&(n[r]=t[r])})}function mT(e,t,n){function r(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!e||typeof e=="string"}const o=typeof t!="string"?[].concat(t):t.split(".");for(;o.length>1;){if(i())return{};const s=r(o.shift());!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={}}return i()?{}:{obj:e,k:r(o.shift())}}function _B(e,t,n){const{obj:r,k:i}=mT(e,t,Object);r[i]=n}function P8e(e,t,n,r){const{obj:i,k:o}=mT(e,t,Object);i[o]=i[o]||[],i[o].push(n)}function E2(e,t){const{obj:n,k:r}=mT(e,t);if(n)return n[r]}function O8e(e,t,n){const r=E2(e,n);return r!==void 0?r:E2(t,n)}function iG(e,t,n){for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):iG(e[r],t[r],n):e[r]=t[r]);return e}function $m(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var N8e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function j8e(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>N8e[t]):e}const B8e=[" ",",","?","!",";"];function $8e(e,t,n){t=t||"",n=n||"";const r=B8e.filter(s=>t.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=new RegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(e);if(!o){const s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o}function C2(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;++o){if(!i||typeof i[r[o]]=="string"&&o+1<r.length)return;if(i[r[o]]===void 0){let s=2,a=r.slice(o,o+s).join(n),c=i[a];for(;c===void 0&&r.length>o+s;)s++,a=r.slice(o,o+s).join(n),c=i[a];if(c===void 0)return;if(c===null)return null;if(t.endsWith(a)){if(typeof c=="string")return c;if(a&&typeof c[a]=="string")return c[a]}const l=r.slice(o+s).join(n);return l?C2(c,l,n):void 0}i=i[r[o]]}return i}function I2(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class xB extends f3{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a=[t,n];r&&typeof r!="string"&&(a=a.concat(r)),r&&typeof r=="string"&&(a=a.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(a=t.split("."));const c=E2(this.data,a);return c||!s||typeof r!="string"?c:C2(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),_B(this.data,a,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Object.prototype.toString.apply(r[o])==="[object Array]")&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let c=E2(this.data,a)||{};i?iG(c,r,o):c={...c,...r},_B(this.data,a,c),s.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var oG={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const kB={};class A2 extends f3{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),R8e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=nd.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!$8e(t,r,i);if(s&&!a){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:o};const l=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(l[0])>-1)&&(o=l.shift()),t=l.join(i)}return typeof o=="string"&&(o=[o]),{key:t,namespaces:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(t[t.length-1],n),c=a[a.length-1],l=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&l.toLowerCase()==="cimode"){if(d){const C=n.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${C}${s}`,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:c}:`${c}${C}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:c}:s}const f=this.resolve(t,n);let p=f&&f.res;const m=f&&f.usedKey||s,g=f&&f.exactUsedKey||s,y=Object.prototype.toString.apply(p),v=["[object Number]","[object Function]","[object RegExp]"],w=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject;if(_&&p&&(typeof p!="string"&&typeof p!="boolean"&&typeof p!="number")&&v.indexOf(y)<0&&!(typeof w=="string"&&y==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,p,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(f.res=C,f):C}if(o){const C=y==="[object Array]",T=C?[]:{},A=C?g:m;for(const S in p)if(Object.prototype.hasOwnProperty.call(p,S)){const O=`${A}${o}${S}`;T[S]=this.translate(O,{...n,joinArrays:!1,ns:a}),T[S]===O&&(T[S]=p[S])}p=T}}else if(_&&typeof w=="string"&&y==="[object Array]")p=p.join(w),p&&(p=this.extendTranslation(p,t,n,r));else{let C=!1,T=!1;const A=n.count!==void 0&&typeof n.count!="string",S=A2.hasDefaultValue(n),O=A?this.pluralResolver.getSuffix(l,n.count,n):"",D=n.ordinal&&A?this.pluralResolver.getSuffix(l,n.count,{ordinal:!1}):"",K=n[`defaultValue${O}`]||n[`defaultValue${D}`]||n.defaultValue;!this.isValidLookup(p)&&S&&(C=!0,p=K),this.isValidLookup(p)||(T=!0,p=s);const X=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:p,U=S&&K!==p&&this.options.updateMissing;if(T||C||U){if(this.logger.log(U?"updateKey":"missingKey",l,c,s,U?K:p),o){const N=this.resolve(s,{...n,keySeparator:!1});N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const x=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&x&&x[0])for(let N=0;N<x.length;N++)I.push(x[N]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(n.lng||this.language):I.push(n.lng||this.language);const P=(N,$,L)=>{const z=S&&L!==p?L:X;this.options.missingKeyHandler?this.options.missingKeyHandler(N,c,$,z,U,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(N,c,$,z,U,n),this.emit("missingKey",N,c,$,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?I.forEach(N=>{this.pluralResolver.getSuffixes(N,n).forEach($=>{P([N],s+$,n[`defaultValue${$}`]||K)})}):P(I,s,K))}p=this.extendTranslation(p,t,n,f,r),T&&p===s&&this.options.appendNamespaceToMissingKey&&(p=`${c}:${s}`),(T||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${s}`:s,C?p:void 0):p=this.options.parseMissingKeyHandler(p))}return i?(f.res=p,f):p}extendTranslation(t,n,r,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(l){const p=t.match(this.interpolator.nestingRegexp);d=p&&p.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language,r),l){const p=t.match(this.interpolator.nestingRegexp),m=p&&p.length;d<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return o&&o[0]===m[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):s.translate(...m,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,c=typeof a=="string"?[a]:a;return t!=null&&c&&c.length&&r.applyPostProcessor!==!1&&(t=oG.handle(c,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:i,...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return typeof t=="string"&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(c,n),d=l.key;i=d;let f=l.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=n.count!==void 0&&typeof n.count!="string",m=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),g=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(v=>{this.isValidLookup(r)||(a=v,!kB[`${y[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(kB[`${y[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(w=>{if(this.isValidLookup(r))return;s=w;const _=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,w,v,n);else{let C;p&&(C=this.pluralResolver.getSuffix(w,n.count,n));const T=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(_.push(d+C),n.ordinal&&C.indexOf(A)===0&&_.push(d+C.replace(A,this.options.pluralSeparator)),m&&_.push(d+T)),g){const S=`${d}${this.options.contextSeparator}${n.context}`;_.push(S),p&&(_.push(S+C),n.ordinal&&C.indexOf(A)===0&&_.push(S+C.replace(A,this.options.pluralSeparator)),m&&_.push(S+T))}}let E;for(;E=_.pop();)this.isValidLookup(r)||(o=E,r=this.getResource(w,v,E,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}function $6(e){return e.charAt(0).toUpperCase()+e.slice(1)}class SB{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=nd.create("languageUtils")}getScriptPartFromCode(t){if(t=I2(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=I2(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=$6(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=$6(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=$6(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&o.indexOf(i)===0)return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Object.prototype.toString.apply(t)==="[object Array]")return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):typeof t=="string"&&o(this.formatLanguageCode(t)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}let M8e=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],D8e={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const L8e=["v1","v2","v3"],U8e=["v4"],EB={zero:0,one:1,two:2,few:3,many:4,other:5};function F8e(){const e={};return M8e.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:D8e[t.fc]}})}),e}class W8e{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=nd.create("pluralResolver"),(!this.options.compatibilityJSON||U8e.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=F8e()}addRule(t,n){this.rules[t]=n}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(I2(t),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>EB[i]-EB[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!L8e.includes(this.options.compatibilityJSON)}}function CB(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=O8e(e,t,n);return!o&&i&&typeof n=="string"&&(o=C2(e,n,r),o===void 0&&(o=C2(t,n,r))),o}class z8e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=nd.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const n=t.interpolation;this.escape=n.escape!==void 0?n.escape:j8e,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?$m(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?$m(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?$m(n.nestingPrefix):n.nestingPrefixEscaped||$m("$t("),this.nestingSuffix=n.nestingSuffix?$m(n.nestingSuffix):n.nestingSuffixEscaped||$m(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(t,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(t,n,r,i){let o,s,a;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(g){return g.replace(/\$/g,"$$$$")}const d=g=>{if(g.indexOf(this.formatSeparator)<0){const _=CB(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,r,{...i,...n,interpolationkey:g}):_}const y=g.split(this.formatSeparator),v=y.shift().trim(),w=y.join(this.formatSeparator).trim();return this.format(CB(n,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:v})};this.resetRegExp();const f=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>l(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?l(this.escape(g)):l(g)}].forEach(g=>{for(a=0;o=g.regex.exec(t);){const y=o[1].trim();if(s=d(y),s===void 0)if(typeof f=="function"){const w=f(t,o,i);s=typeof w=="string"?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))s="";else if(p){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),s="";else typeof s!="string"&&!this.useRawValueToEscape&&(s=wB(s));const v=g.safeValue(s);if(t=t.replace(o[0],v),p?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;function a(c,l){const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let p=`{${f[1]}`;c=f[0],p=this.interpolate(p,s);const m=p.match(/'/g),g=p.match(/"/g);(m&&m.length%2===0&&!g||g.length%2!==0)&&(p=p.replace(/'/g,'"'));try{s=JSON.parse(p),l&&(s={...l,...s})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${d}${p}`}return delete s.defaultValue,c}for(;i=this.nestingRegexp.exec(t);){let c=[];s={...r},s=s.replace&&typeof s.replace!="string"?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let l=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=d.shift(),c=d,l=!0}if(o=n(a.call(this,i[1].trim(),s),s),o&&i[0]===t&&typeof o!="string")return o;typeof o!="string"&&(o=wB(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),l&&(o=c.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}function q8e(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(!s)return;const[a,...c]=s.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=l),l==="false"&&(n[a.trim()]=!1),l==="true"&&(n[a.trim()]=!0),isNaN(l)||(n[a.trim()]=parseInt(l,10))})}return{formatName:t,formatOptions:n}}function Mm(e){const t={};return function(r,i,o){const s=i+JSON.stringify(o);let a=t[s];return a||(a=e(I2(i),o),t[s]=a),a(r)}}class V8e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=nd.create("formatter"),this.options=t,this.formats={number:Mm((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:Mm((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:Mm((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:Mm((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:Mm((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Mm(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((a,c)=>{const{formatName:l,formatOptions:d}=q8e(c);if(this.formats[l]){let f=a;try{const p=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=p.locale||p.lng||i.locale||i.lng||r;f=this.formats[l](a,m,{...d,...i,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${l}`);return a},t)}}function H8e(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}class K8e extends f3{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=nd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},s={},a={},c={};return t.forEach(l=>{let d=!0;n.forEach(f=>{const p=`${l}|${f}`;!r.reload&&this.store.hasResourceBundle(l,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?s[p]===void 0&&(s[p]=!0):(this.state[p]=1,d=!1,s[p]===void 0&&(s[p]=!0),o[p]===void 0&&(o[p]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(a[l]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const i=t.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),r&&this.store.addResourceBundle(o,s,r),this.state[t]=n?-1:2;const a={};this.queue.forEach(c=>{P8e(c.loaded,[o],s),H8e(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{a[l]||(a[l]={});const d=c.loaded[l];d.length&&d.forEach(f=>{a[l][f]===void 0&&(a[l][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(l,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(l&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,s)},o);return}s(l,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const l=c(t,n);l&&typeof l.then=="function"?l.then(d=>a(null,d)).catch(a):a(null,l)}catch(l){a(l)}return}return c(t,n,a)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(t,s,a)})}saveMissing(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const c={...s,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let d;l.length===5?d=l(t,n,r,i,c):d=l(t,n,r,i),d&&typeof d.then=="function"?d.then(f=>a(null,f)).catch(a):a(null,d)}catch(d){a(d)}else l(t,n,r,i,a,c)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}function IB(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let n={};if(typeof t[1]=="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:(e,t,n,r)=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function AB(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function $_(){}function G8e(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}class kb extends f3{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=AB(t),this.services={},this.logger=nd,this.modules={external:[]},G8e(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=IB();this.options={...i,...this.options,...AB(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function o(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?nd.init(o(this.modules.logger),this.options):nd.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=V8e);const f=new SB(this.options);this.store=new xB(this.options.resources,this.options);const p=this.services;p.logger=nd,p.resourceStore=this.store,p.languageUtils=f,p.pluralResolver=new W8e(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=o(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new z8e(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new K8e(o(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(m){for(var g=arguments.length,y=new Array(g>1?g-1:0),v=1;v<g;v++)y[v-1]=arguments[v];t.emit(m,...y)}),this.modules.languageDetector&&(p.languageDetector=o(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=o(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new A2(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,y=new Array(g>1?g-1:0),v=1;v<g;v++)y[v-1]=arguments[v];t.emit(m,...y)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=$_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const c=Wy(),l=()=>{const d=(f,p)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(p),r(f,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),c}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$_;const i=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode")return r();const o=[],s=a=>{if(!a)return;this.services.languageUtils.toResolveHierarchy(a).forEach(l=>{o.indexOf(l)<0&&o.push(l)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=Wy();return t||(t=this.languages),n||(n=this.options.ns),r||(r=$_),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&oG.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=Wy();this.emit("languageChanging",t);const o=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},s=(c,l)=>{l?(o(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(c,function(){return r.t(...arguments)})},a=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const l=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);l&&(this.language||o(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(l)),this.loadResources(l,d=>{s(d,l)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),i}getFixedT(t,n,r){var i=this;const o=function(s,a){let c;if(typeof a!="object"){for(var l=arguments.length,d=new Array(l>2?l-2:0),f=2;f<l;f++)d[f-2]=arguments[f];c=i.options.overloadTranslationOptionHandler([s,a].concat(d))}else c={...a};c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix=c.keyPrefix||r||o.keyPrefix;const p=i.options.keySeparator||".";let m;return c.keyPrefix&&Array.isArray(s)?m=s.map(g=>`${c.keyPrefix}${p}${g}`):m=c.keyPrefix?`${c.keyPrefix}${p}${s}`:s,i.t(m,c)};return typeof t=="string"?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,c)=>{const l=this.services.backendConnector.state[`${a}|${c}`];return l===-1||l===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,t)&&(!i||s(o,t)))}loadNamespaces(t,n){const r=Wy();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Wy();typeof t=="string"&&(t=[t]);const i=this.options.preload||[],o=t.filter(s=>i.indexOf(s)<0);return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new SB(IB());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new kb(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$_;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new kb(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new xB(this.store.data,i),o.services.resourceStore=o.store),o.translator=new A2(o.services,i),o.translator.on("*",function(a){for(var c=arguments.length,l=new Array(c>1?c-1:0),d=1;d<c;d++)l[d-1]=arguments[d];o.emit(a,...l)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ra=kb.createInstance();ra.createInstance=kb.createInstance;ra.createInstance;ra.dir;ra.init;ra.loadResources;ra.reloadResources;ra.use;ra.changeLanguage;ra.getFixedT;ra.t;ra.exists;ra.setDefaultNamespace;ra.hasLoadedNamespace;ra.loadNamespaces;ra.loadLanguages;const CI={dyn_account_exists:{connect:"Connect with {{socialOauth}}",description_email:"It looks like an account already exists using",description_social:"To restore your account to the right place, we need you to log in again.",title:"Re-Authentication Required",trail_message_email:". Please log in with your email.",trail_message_social:"through {{socialOauth}}"},dyn_active_wallet_info:{testnet_warning:"A testnet network has been selected. Please only use testnet funds or they will be lost.",ordinals_address:"Ordinals address",payment_address:"Payment address"},dyn_bridge:{summary_view:{connection_succeed:"Congratulations on connecting both your {{firstBlockchainName}} and {{secondBlockchainName}} wallets",title:"Welcome to {{appName}}"},welcome_view:{button:"Get started",description:"You’ll need to connect both your {{firstBlockchainName}} and {{secondBlockchainName}} wallets to get started",title:"Connect to {{appName}}"},widget:{address:"Copy wallet address",connect:"Connect wallet",connect_with_network:"Connect {{blockchainName}} wallet",copy:{address:"Copy wallet address",ens:"Copy ENS"},disconnect:"Disconnect",edit_profile:"Edit profile",wallet_network:"{{networkName}} wallet"}},dyn_captcha:{verify_user_subtitle:"We need to quickly verify you’re human before we proceed.",verify_user_title:"Let's verify you're human"},dyn_access_blocked:{title:"Access Blocked",content:"Logging in is not available to persons in {{jurisdiction}} as you are in a sanctioned jurisdiction."},dyn_chainalysis_blocked_wallet:{title:"Access denied"},dyn_collect_user_data:{description:"We need a bit of information to get started",fields:{alias:{label:"Alias"},country:{label:"Country"},email:{label:"Email",validation:"Email is not valid"},first_name:{label:"First Name"},job_title:{label:"Job Title"},last_name:{label:"Last Name"},phone_number:{label:"Phone number",validation:"Phone number is not valid",too_short:"Phone number is too short"},policies_consent:{label:"Policies Consent"},t_shirt_size:{label:"T-Shirt Size"},team:{label:"Team"},username:{label:"Username",validation:"Username is not valid"}},greeting:"Welcome to {{appName}}",log_out_button:"Log out",not_supported_network:{description:"Your wallet is not connected to a supported network. Please update before continuing.",error_message:"This network is not available, please update.",title:"Update Network"},update_email_tooltip:"This email is tied to your wallet so cannot be updated",update_phone_number_tooltip:"This phone number is tied to your wallet so cannot be updated",lock_editing_multiple_verified_fields:"You can only edit 1 field at a time that requires verification"},dyn_create_password:{continue:"Continue",create_input:{label:"Create passcode",placeholder:"Create passcode"},confirm_input:{label:"Confirm passcode",placeholder:"Confirm passcode"},current_password_input:{label:"Current passcode",placeholder:"Current passcode"},description:"Choose a strong, unique passcode to ensure your account's security and privacy.",errors:{invalid_current_password:"Invalid current passcode",error_changing_password:"Error changing passcode",new_password_same_as_old:"New passcode cannot be the same as the old passcode",password_mismatch:"Passcodes do not match",user_closed_view:"User closed the view"},intro:{continue:"Set up a passcode",description:{title:"Add a passcode to protect your account",additional_protection:{title:"Passcode Security",description:"Add a secure passcode to further prevent un-authrized access to your account."},restore_access:{title:"Restore Access",description:"You will be asked to enter it when signing on to a new device."}},title:"Add a Passcode"},logout:"Log out",title:{create:"Create passcode",update:"Create new passcode"},update_input:{label:"New passcode",placeholder:"New passcode"}},dyn_creating_wallet:{loading_message:"Your wallet is being created..."},dyn_email_confirmation:{description:"We’ve sent a verification email to",note:"Note: it might take a few seconds to proceed after clicking the link in your email",title:"Confirm your email"},dyn_email_update:{current_email:"Your current email address is",label:"Email address",send_verification:"Send Verification Code",title:"Update email"},dyn_otp_verification:{code_not_received:"Did not receive your code yet?",code_sent:"Code sent",description:"We’ve sent a verification code to",log_out_button:"Log out",resend_code:"Re-send code",resend_code_in:"Re-send code in {{remainingSeconds}}",confirm_code:"Confirm verification code",verification_succeeded:"Verification code confirmed",hang_tight:"Hang tight while we get things ready for you",email:{title:"Confirm your email",complete:"Verification complete, the email is now verified to this account."},phone_number:{title:"Confirm your phone number",edit:"Edit phone number",complete:"Verification complete, the phone number is now verified to this account."}},dyn_embedded_authenticator:{description:"Protect your account and simplify your transaction experience.",email:{badge:"Fastest",description:" You will need to renew after {{expiration}} minutes ",title:"Use a one-time code"},passkey:{auth_info:{convinience:{title:"Convenient and Fast",description:"Use Face ID or Touch ID to complete transactions quickly."},security:{title:"Increased Security",description:"Passkeys are encrypted end-to-end on your device or password manager to prevent phishing attempts."},add_button:"Add a passkey",start_button:"Add a passkey"},no_email_auth_info:{convinience:{title:"Simple and Fast",description:"Works across devices and syncs between devices and browsers."},security:{title:"Secured with a bio-metric",description:"Phishing resistant and encrypted."},add_button:"Add passkey",start_button:"Add passkey"},badge:"Recommended",description:"Works across devices & secured with biometric to prevent phishing attempts ",title:"Create new passkey",reveal_title:"Add a passkey"},skip:"Not now",title:"Account security",need_help_title:"Problem Signing?",need_help_description:"Select from an option below to complete",reveal_title:"Verification Required",reveal_description:"Choose a verification method."},dyn_enter_password:{continue_button_label:"Continue",description:"Please enter your passcode below to continue.",error:{invalid_password:"Invalid passcode"},input:{label:"Passcode",placeholder:"Passcode"},title:"Enter passcode"},dyn_farcaster_connect_view:{copy_button:"Copy QR URI",scan_title:"Scan this QR code from your mobile app or phone's camera to connect."},dyn_login:{connect_wallet:{title:"Connect"},email_form:{email_field:{label:"Enter your email"},submit_button:{label:"Continue"}},email_or_phone:{use_email:"Use email",use_phone:"Use phone",prefer_email:"Prefer email sign up?",prefer_phone:"Prefer phone number sign up?"},helper:{all_wallet_list:"Get your first wallet",email_form:{invalid_email:"Invalid or incorrect email. Did you mistype it?"},pending_connect:{title:"Connecting a wallet"},pending_signature:{title:"Signing a wallet"},pending_signature_without_back_button:{title:"Signing a wallet"},phone_number_form:{invalid_phone:"Invalid or incorrect number. Did you mistype it?",invalid_sms_verification:"The code you entered is incorrect. Please try again.",too_many_sms_verification_attempts:"Too many verification attempts, please try again later."},qr_code:{title:"Connecting a wallet"},wallet_only:"Get your first wallet"},qr_code:{title:"Connect"},separators:{default:"OR"},sign_wallet:{title:"Sign"},select_wallet_in_wallet_group:{title:"Select"},social:{button_label:"Continue with {{provider}}"},title:{all:"Log in or sign up",all_wallet_list:"Select your wallet",wallet_only:"Select your wallet"},wallet_group:{title:"Select Chain"},wallet_list:{button_only:"Continue with a wallet"},wrong_social_account:{retry_button:"Try again",retry_title:"Please connect with: ",subtitle:"You must connect with the same account you originally signed in with.",title:"Whoops. Wrong Account"}},dyn_manage_passkeys:{title:"Manage passkeys",passkey_from:"from",passkey_providers:{android:"Android Phone",brave:"Brave Browser",chrome:"Google Chrome",edge:"Microsoft Edge",firefox:"Firefox",iPhone:"iPhone",opera:"Opera Browser",safari:"Safari Browser"},recovery_button:"Set up new passkey"},dyn_rename_passkeys:{error:"Whoops! There was an error updating your passkey",input_label:"Passkey name",save:"Save",title:"Rename your passkey",not_found:"No passkeys found"},dyn_embedded_reveal:{title:"Export wallet",agreement_title:"Agree to continue",private_key_title:"Private key",recovery_phrase_title:"Secret recovery phrase",badge_label:"Sensitive information",statement_1:{title:"Your wallet is non-custodial",description:"You are always in control of it."},statement_2:{title:"Do not publicly share your wallet key",description:"Your {{credential_type}} controls your account and assets."},checkbox_label:"I am responsible for safeguarding and using my wallet key information.",reveal_description:"Make sure to safely back up this information",reveal_button_label:"Reveal",copy_button_label:"Copy to clipboard",done_button_label:"I'm Done",aa_warning:{title:"Your assets are not in this wallet.",subtitle:"This is a smart-contract wallet. You will not see your balance if you import this to an external service. Please send your assets to your preferred external wallet first to access your funds:",button:"here"}},dyn_wallet_settings:{export_section:{private_key_button:"Private key",srp_button:"Recovery phrase",title:"Export & Backup"},identity_section:{title:"Recovery",add_email_button:"Add an email"},tags:{recommended:"Recommended"},signing_section:{email_auth_button:"One time code",passkey_button:"Passkeys",password_button:"Passcode",title:"Security Methods"},title:"Wallet settings"},dyn_mfa:{choose_device_view:{title:"Secure your account",select_options:"Protect your account by adding multi-factor authentication",authenticator_app:"Authenticator app",authenticator_app_description:"Use your preferred authenticator app such as Authy, Google Authenticator, etc.",sms_code:"SMS code",sms_code_description:"Use your preferred authenticator app such as Authy, Google Authenticator, etc."},display_backup_codes_view:{title:"Back up your codes",body:"Backup codes help recover your account if you lose access to your device.",warning:"You won’t be able to see these again",copy_all:"Copy all",download:"Download",checkbox:"I have safely stored a copy of my password",complete:"Complete"},otp_verification_view:{title:"Confirm verification code",body:"Enter the verification code generated by your authenticator app",error:"Invalid code. Please try again."},secure_device_view:{title:"Secure your account",body:"Setup a new sign-in method in your authenticator app",continue:"Continue",helper:{title:"Troubles with scanning?",step1:{title:"Open your Authenticator App",description:"You will set up a new sign-in method"},step2:{title:"Enter the key provided below",description:"Make sure time-based or one-time password is enabled."},uri:{title:"Copy the full URI",description:"This only works if your authenticator app supports TOTP URIs"}}},recovery_view:{title:"Enter your backup code",body:"Your backup code is the 24 character code you received when you activated two step authentication",input_label:"Enter back up code",button_label:"Continue",get_help:{description:"Missing your back up codes?",button_label:"Get Help"},helper:{title:"Mfa Recovery Help"}}},dyn_merge_user_accounts:{confirm_button:"Merge accounts",errors:{merge_error:"Something went wrong, please try again."},wallet:{content:"This wallet is associated to another account. Would you like to merge accounts?",title:"Wallet already in use"}},dyn_merge_user_accounts_conflicts:{confirm_button:"Confirm & Merge",description:"You have some conflicting information. Please select your preferences",errors:{merge_error:"Something went wrong, please try again."},title:"Confirm your preferences"},dyn_merge_user_accounts_with_same_email:{cancel_button:"No, I'll use a different email",confirm_button:"Yes, link to existing account",errors:{merge_error:"Something went wrong, please try again."},existing_account:"An account already exists that uses",existing_account_trail:"email.",title:"Would you like to link this wallet to this existing account?"},dyn_need_help_section:{info:"Problem Signing?",contact_support:"Contact support",divider:"or",help_button:"go here."},dyn_network_not_supported:{button:"Switch Network",subtitle:"Your wallet is not connected to a supported network. Please update before continuing.",title:"Update Network",warning_message:"This network is not available, please update."},dyn_network_not_supported_manual_switch:{subtitle_network_defined_metamaskstarknet:"To continue, please update the network in your wallet to {{network}} by visiting the Starknet Snap",subtitle_network_defined_metamaskstarknet_companion_app:"companion app",subtitle_network_defined:"To continue, please update the network in your wallet to {{network}}",subtitle_no_network_defined:"Your wallet does not support switching networks from this app. Switch networks directly in your wallet.",title:"Update your Network",warning_message:"This network is not available, please update."},dyn_no_access:{chainalysis:{button_text:"Try another method",description:"This wallet has been correlated to illicit activity and cannot access this site.",social_media_link_text:"Why am I seeing this message?",social_media_link_url:"https://docs.dynamic.xyz/docs",title:"This address seems corrupted."},default:{button_text:"Try another method",description:"You are not currently on the allow list.",title:"Access denied"},gate:{button_text:"Try a different wallet",description:"A NFT or a token is required to access this site.",title:"You cannot access the site"},not_in_the_list_image_alt:"user is not in the list",title:"You don't have access"},dyn_magic_verification:{banner_text:"Sign in to access your email based wallet"},dyn_passkey_success:{created:"A new passkey has been created",edited:"Your passkey has been edited"},dyn_passkey_intro:{button:"Set up a passkey",button_logout:"Log out",button_skip:"Skip for now",disabled:"Passkeys are not available on this device or browser. Please open on Chrome, Safari, or Brave to continue",helper:{section_1:{description:"Passkeys are a standard built by Apple, Google and others, and eliminates the use of passwords.",title:"Built by Apple and Google"},section_2:{description:"Passkeys are stored on your phone and are not shared with anyone.",title:"Secure and Private"},title:"What's Passkey",tooltip:"Need some help?"},sms_auth:{title:"Finish set up",description:"Add a security method to finish your profile and complete transactions"},subtitle:"Passkeys are stored natively to your device with a biometric and can only be accessed by you.",title:"Secure your wallet"},dyn_passkey_new_domain_detected:{title:"New domain detected",description:"To complete your transaction select a signing method",actions:{passkey:{title:"Add new passkey",subtitle:"Does not expire. Works across devices & secured with biometric."},emailAuth:{title:"Use a one-time code",subtitle:"Allows you to transact for 30 min"},badges:{recommended:"Recommended",fastest:"Fastest"}}},dyn_passkey_recovery:{add_email:{description:"Don’t get locked out if you delete your passkey or lose your device.",input_label:"Enter your email",title:"Add a recovery email",confirm_button:"Confirm with a passkey",skip_button:"Skip for now",success_message:"Recovery email added!"},code:{description:"A verification code has been sent to {{email}}",input_label:"Enter your code here...",title:"Verification code sent",resend:{button:"Resend code",text:"Didn't receive a code?"}},complete:{complete_button:"Create a passkey",description:"Secure your wallet by adding a new passkey.",title:"Create a new passkey"},start:{description:"To complete this process, ensure you are using the same device/browser.",start_button:"Send me an email",title:"Initiate Request"}},dyn_pending_connection:{title:"Connect",mobile:"Click connect in your mobile wallet",computer:"Click connect in your wallet popup"},dyn_pending_signature:{click_to_sign:"Click to Sign",note:"Note: ",phantom_ledger_sign:"Click sign in your wallet to confirm you own this wallet (this doesn't cost gas).",phantom_ledger_warning:"Ledger doesn't support message signing. When logging in, a small fee (which should not apply) may appear. See below to learn more.",regular_sign_description:"Click sign-in in your wallet to confirm you own this wallet."},dyn_qr_code:{copy_button:"Copy QR URI",get_extension_button:"Get Extension",open_button:"Open App",scan_title:"Scan this QR code from your mobile {{app}} or phone's camera to connect.",wallet_not_installed:{browser_install:"Install {{browser}} extension",install:"Install {{wallet}} extension to connect",refresh:"Refresh the page once installed",select:"Select from your preferred options below:"}},dyn_wallet_locked:{connect_continue:"Connect your wallet to continue",title:"Welcome back",subtitle:"We couldn't connect to your wallet. Click connect to retry the connection ",connect:"Connect wallet",logout:"Log out"},dyn_passkey_secure_modal:{code:{action_based_description:"To {{action}} verify account.",description:"A secure code has been sent to {{email}}.",input_label:"Enter your code here...",title:"Verification code sent",resend:{button:"Resend code",text:"Didn't receive a code?"},complete_transaction_action:"complete transaction",sign_message_action:"sign this message"},complete:{complete_button:"Create a passkey",description:"Passkeys are stored natively to your device with a biometric and can only be accessed by you.",title:"Secure your account"},start:{description:"A one-time security code will be sent to the email on file. It will expire in 15 minutes.",start_button:"Send me an email",title:"Send Email Code"}},dyn_save_password:{badge_text:"Important!",checkbox_label:"I have safely stored a copy of my passcode.",continue:"Continue",copy_button:{copy:"Copy",copied:"Copied"},description:"You must retain a copy of this passcode.",download_button:"Download",logout:"Log out",password_input:{label:"Passcode",placeholder:"Passcode"},title:"Save passcode",warning:"If you lose your passcode, you cannot recover access to your account."},dyn_secure_pregenerated_wallet:{description:"Make transactions simpler and more secure.",action:"Get started"},dyn_send_transaction:{confirmation:{cancel_button:"Cancel",confirm_button:"Confirm",data:{amount:"Amount",from:"From (You)",gas:"Gas",gas_estimate:"Gas (estimate)",to:"To",total:"Total"},not_applied:"N/A",title:"Confirm transaction"},data:{amount:{label:"Amount",placeholder:"Select amount"},balance:{label:"Balance:"},from:"Send from",recipient:{label:"Recipient",placeholder:"Enter wallet address..."}},multiple_recipients:"Multiple",send_button:"Send now",succeeded:{continue_button:"Continue",network:{label:"Network"},recipient:{label:"Recipient"},title:"Transaction successfully sent",total_amount:{label:"Total amount"}},validation:{amount:{invalid_decimals:"Please enter a value up to the {{decimals}}th decimal place.",invalid_format:"The amount is in invalid format",over_balance:"Insufficient funds to send this amount.",required:"The amount field is required"},recipient:{invalid_format:"The address is in invalid format",required:"The recipient is required"}},warning_message:{insufficient_funds:"Insufficient funds due to gas price increase from estimate. Please add {{amountLeft}} {{currencySymbol}} to continue."},error_message:{gas_not_sponsored:"The gas fee has increased. Confirm if you still want to complete this transaction."}},dyn_select_chain:{description:"This wallet supports multiple chains. Select which chain you'd like to connect to",using_hardware_wallet_toggle_label:"Using Ledger"},dyn_select_wallet:{description:"Select your preferred {{walletName}} wallet?"},dyn_select_hardware_wallet:{title:"Connect",description:"This wallet supports using ledger. Toggle on ledger to enable it.",using_hardware_wallet_toggle_label:"Using Ledger with {{chainName}}",button:"Connect"},dyn_sign_message:{cancel_button:"Cancel",sign_button:"Sign",title:"Requesting Signature"},dyn_social_redirect:{logging_in:"Logging you in"},dyn_wallet_redirect:{loading:"Loading..."},dyn_time_since:{second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",month:"month",months:"months",year:"year",years:"years",ago:"ago",created:"Created"},dyn_wallet_conect:{mobile:{wallet_list:{helper:"Get your first wallet",title:"WalletConnect wallets"}}},dyn_wallet_link:{cannot_link:{cancel_button:"Cancel",description:"This wallet is the only wallet in your other account. You cannot transfer it, since then you will lose access to that account.",link_other_button:"Link a different wallet",title:"Cannot link this wallet to a new account"},confirm_button:"Link wallet to current account",existent_account:{acceptance:"I understand that linking this wallet means that I will lose access to the other account.",warning:"Linking your wallet to this account will unlink it from its previously associated account"},log_out_button:"Log out",title:"Transfer this wallet?"},dyn_wallet_list:{configuration_mismatch:"Oops, no login methods have been configured.",helper:"Get your first wallet",search:{label:"Search through {{numberOfWallets}} wallets...",not_found:{description:"The wallet you’re looking for may not be available, or linking more than one of these wallets might not be possible.",title:"Wallet not available"}},title:{connect:"Connect a new wallet",link:"Link a new wallet",select:"Select your wallet"},view_all:"View all wallets",wallet_missing:{description:"Try search instead",title:"Don't see your wallet?"}},dyn_wallet_transfer:{sign:{spinner:{cancel:"Cancel",confirm_transfer:"Sign the message to confirm transferring this wallet to this account."},title:"Sign to confirm transfer"}},dyn_widget:{connect:"Log in or sign up",empty_wallets:"{{action}} additional wallets to see them here.",other_wallets:"My other wallets",empty_wallets_action_link:"Link",empty_wallets_action_connect:"Connect"},dyn_wallet_information:{balance:"Balance",multi_asset:{empty_state:"No assets in this wallet"}},dyn_unlink_wallet_pop_up:{disconnect_title:"Disconnect your wallet?",unlink_title:"Unlink your wallet?",disconnect_description:"Are you sure you want to disconnect your wallet?",unlink_description:"Are you sure you want to unlink your wallet?",disconnect_button:"Yes, disconnect",unlink_button:"Yes, unlink",cancel_button:"No"},dyn_user_profile:{my_information:{title:"My information"},my_wallet:{title:"My wallet"},social_accounts:{title:"Social accounts"},tooltips:{verified_email:"This email is verified",verified_phone:"This phone number is verified"},wallets:{link_wallet_button:"Link wallet",title:"Want to add a wallet?"}},dyn_detected_new_wallet:{title:"Account Change Detected",description:"Your active account in {{walletName}} has changed. This account is not currently linked to this app. Do you want to add it?",confirm_button:"Yes, link this wallet"}},sG=(e,t)=>{if(typeof e!="object"||typeof t!="object")return t;const n=Object.assign({},e);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(typeof t[r]=="object"&&Object.prototype.hasOwnProperty.call(e,r)&&typeof e[r]=="object"?n[r]=sG(e[r],t[r]):n[r]=t[r]);return n};class no{static setResources(t){if(no.__resources__)return;if(!t){no.__resources__={en:{translation:CI}};return}const n={};Object.keys(t).forEach(r=>{const i=Object.assign({},CI);n[r]={translation:sG(i,t[r])}}),no.__resources__=n}static setup(t){if(no.__initialized__&&no.__i18nInstance__)return no.__i18nInstance__;no.setResources(t);const n=ra.createInstance();return n.use(GIe).init({fallbackLng:"en",interpolation:{escapeValue:!1},lng:"en",resources:no.getResources()}),no.__i18nInstance__=n,no.__initialized__=!0,no.__i18nInstance__}static getInstance(){if(no.__initialized__||this.setup(),!no.__i18nInstance__||!no.__initialized__)throw new Error("Locale is not initialized");return no.__i18nInstance__}}no.__i18nInstance__=null;no.__initialized__=!1;no.getResources=()=>no.__resources__;const aG=k.createContext(void 0),Z8e=({children:e})=>{const[t,n]=k.useState(""),[r,i]=k.useState(void 0),o=k.useMemo(()=>({deniedAddress:t,deniedOauthProvider:r,setDeniedAddress:n,setDeniedOauthProvider:i}),[t,r]);return u.jsx(aG.Provider,{value:o,children:e})},h3=()=>{const e=k.useContext(aG);if(e===void 0)throw new Error("usage of useAccessDeniedContext not wrapped in `AccessDeniedContextProvider`.");return e},cG=k.createContext(void 0),J8e=({children:e})=>{const[t,n]=k.useState(),r=k.useMemo(()=>({existentAccountData:t,setExistentAccountData:n}),[t,n]);return u.jsx(cG.Provider,{value:r,children:e})},C1=()=>{const e=k.useContext(cG);if(e===void 0)throw new Error("usage of useAccountExistsContext not wrapped in `AccountExistsContextProvider`.");return e},gT=k.createContext(void 0),Y8e=({children:e})=>{const[t,n]=k.useState([]),r=k.useRef([]),i=k.useRef([]),o=k.useCallback(s=>{n(a=>{const c=s(a);return r.current.forEach(l=>{const d=c.find(({id:f})=>f===l);d&&Kt.emit("walletAdded",d,c)}),i.current.forEach(l=>{const d=a.find(({id:f})=>f===l);d&&Kt.emit("walletRemoved",d,c)}),r.current=[],i.current=[],c})},[]);return u.jsx(gT.Provider,{value:{addedWalletsIds:r,registerUserWallet:s=>o(a=>[...a,s]),removeUserWallet:s=>o(a=>a.filter(({id:c})=>s!==c)),removedWalletsIds:i,setUserWallets:o,updateUserWallet:(s,a)=>o(c=>{const l=c.findIndex(({id:d})=>s===d);"id"in a&&delete a.id;for(const d in a){const f=d;(a[f]===void 0||a[f]===null)&&delete a[f]}return c[l]=Object.assign(Object.assign({},c[l]),a),[...c]}),userWallets:t},children:e})},Dp=()=>{const e=k.useContext(gT);if(!e)throw new Error("Can only call useInternalUserWallets inside UserWalletsProvider");return e},p3=()=>{const e=k.useContext(gT);if(!e)throw new Error("Can only call useUserWallets inside UserWalletsProvider");return e.userWallets},I1=(e,t)=>t==="connect-only"&&!(e!==void 0),lG=k.createContext(void 0),X8e=({children:e})=>{const[t,n]=k.useState(void 0),[r,i]=k.useState(void 0),[o,s]=k.useState(void 0),a=k.useMemo(()=>({displayedDestination:t,retryData:o,setDisplayedDestination:n,setRetryData:s,setVerificationUUID:i,verificationUUID:r}),[t,o,r]);return u.jsx(lG.Provider,{value:a,children:e})},Ll=()=>{const e=k.useContext(lG);if(e===void 0)throw new Error("usage of useVerification not wrapped in `VerificationProvider`.");return e},z0=()=>typeof window>"u",ep=(e,t)=>e[t],Dh={border:"rounded",brandStyle:"subtle",customColor:"",template:"default",themes:{auto:{colors:{accent_1:"#2C303A",accent_2:"#3C414D",accent_3:"#4C525F",background:"#15181F",border:"1px solid #2C303A",error_1:"rgba(255, 106, 106, 0.2)",error_2:"#FF6A6A",footer:"#2C303A",primary:"#15181F",secondary:"#2C303A",ternary:"#2660FF",textPrimary:"#FFF",textSecondary:"#ACACB9"},name:"auto"},dark:{colors:{accent_1:"#2C303A",accent_2:"#3C414D",accent_3:"#4C525F",background:"#15181F",border:"1px solid #2C303A",error_1:"rgba(255, 106, 106, 0.2)",error_2:"#FF6A6A",footer:"#2C303A",primary:"#15181F",secondary:"#2C303A",ternary:"#2660FF",textPrimary:"#FFF",textSecondary:"#ACACB9"},name:"dark"},light:{colors:{accent_1:"#FFF",accent_2:"#F0F3FF",accent_3:"#E9EDFC",background:"#FFFFFF",border:"1px solid #E9EDFC",error_1:"rgba(255, 70, 70, 0.1)",error_2:"#FF4646",footer:"#F7F9FE",primary:"#F7F7F9",secondary:"#FFFFFF",ternary:"#2660FF",textPrimary:"#404040",textSecondary:"#80858B"},name:"light"}},view:"extended",walletColor:{color:"#1648F9",gradient:"90deg, #1648F9 0%, #4B73FF 100%"}},II=(e,t)=>{const{border:n,brand:r,view:i,primaryColor:o}=e||{},s=t||(e==null?void 0:e.theme)||"light",a=(e==null?void 0:e.template)||"default";return Object.assign(Object.assign({},Dh),{border:n||Dh.border,brandStyle:r||Dh.brandStyle,customColor:o||Dh.customColor,template:a,theme:ep(Dh.themes,s),view:i||Dh.view})},Q8e=()=>{if(z0())return;const e=document.querySelector('[data-source="dynamic-theme-cdn"]');if(e)return e;const t=document.createElement("link");return document.head.append(t),t.dataset.source="dynamic-theme-cdn",t.rel="stylesheet",t},e4e=()=>{if(z0())return;const e=document.querySelector('[data-source="dynamic-theme"]');if(e)return e;const t=document.createElement("style");return document.head.append(t),t.dataset.source="dynamic-theme",t},t4e=e=>{const{customColor:t,brandStyle:n}=e;return`@layer dynamic-project-environment-theme {
  #dynamic-widget, #dynamic-modal, .dynamic-shadow-dom {
    ${[["--dynamic-brand-primary-color",t],["--dynamic-badge-dot-background",t],["--dynamic-footer-background-color",n==="bold"?t:void 0],["--dynamic-footer-icon-color",n==="subtle"?t:void 0]].filter(([,s])=>s!==void 0&&s!=="").map(([s,a])=>`${s}: ${a};`).join(`
    `)}
  }
}`},dG=k.createContext(void 0),n4e=({customerTheme:e,designSettings:t,children:n})=>{const[r,i]=k.useState(e||II(t==null?void 0:t.modal)),o=k.useRef(Q8e()),s=k.useRef(e4e()),a=k.useCallback(y=>{if(i(y),z0()||o.current===void 0||s.current===void 0)return;document.body.dataset.dynamicTheme=y.theme.name,document.body.dataset.dynamicThemeBrand=y.brandStyle;const v=y.template==="default"?"":`https://app.dynamic.xyz/assets/templates/${y.template}.css`;o.current.href!==v&&(o.current.href=v);const w=t4e(y);s.current.innerHTML!==w&&(s.current.innerHTML=w)},[]),c=k.useCallback((y,v)=>{var w;const _=(w=Dh.themes)===null||w===void 0?void 0:w[y],E=Object.assign(Object.assign({},r),{theme:Object.assign(Object.assign({},_),{colors:Object.assign(Object.assign({},_.colors),{ternary:v??_.colors.ternary})})});a(E)},[a,r]),l=k.useCallback(y=>a(Object.assign(Object.assign({},r),{template:y})),[a,r]),d=k.useCallback(y=>a(Object.assign(Object.assign({},r),{border:y})),[a,r]),f=k.useCallback(y=>a(Object.assign(Object.assign({},r),{view:y})),[a,r]),p=k.useCallback(y=>a(Object.assign(Object.assign({},r),{customColor:y})),[a,r]),m=k.useCallback(y=>a(Object.assign(Object.assign({},r),{brandStyle:y})),[a,r]);k.useEffect(()=>a(e||II(t==null?void 0:t.modal)),[e,t==null?void 0:t.modal,a]);const g=k.useMemo(()=>({changeBorder:d,changeBrandStyle:m,changePrimaryColor:p,changeTemplate:l,changeTheme:c,changeView:f,theme:r}),[r,d,m,l,c,p,f]);return u.jsx(dG.Provider,{value:g,children:n})},Lu=()=>{const e=k.useContext(dG);if(e===void 0)throw new Error("useThemeContext must be used within a ThemeContextProvider");return e};var AI;try{AI=Map}catch{}var TI;try{TI=Set}catch{}function uG(e,t,n){if(!e||typeof e!="object"||typeof e=="function")return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(RI);if(AI&&e instanceof AI)return new Map(Array.from(e.entries()));if(TI&&e instanceof TI)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);n.push(r);for(var i in e){var o=t.findIndex(function(s){return s===e[i]});r[i]=o>-1?n[o]:uG(e[i],t,n)}return r}return e}function RI(e){return uG(e,[],[])}const r4e=Object.prototype.toString,i4e=Error.prototype.toString,o4e=RegExp.prototype.toString,s4e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",a4e=/^Symbol\((.*)\)(.*)$/;function c4e(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function TB(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return c4e(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return s4e.call(e).replace(a4e,"Symbol($1)");const r=r4e.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+i4e.call(e)+"]":r==="RegExp"?o4e.call(e):null}function o0(e,t){let n=TB(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let o=TB(this[r],t);return o!==null?o:i},2)}let Lh={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{let i=r!=null&&r!==n,o=`${e} must be a \`${t}\` type, but the final value was: \`${o0(n,!0)}\``+(i?` (cast from the value \`${o0(r,!0)}\`).`:".");return n===null&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},dl={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},l4e={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},PI={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},OI={isValue:"${path} field must be ${value}"},NI={noUnknown:"${path} field has unspecified keys: ${unknown}"},jx={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Lh,string:dl,number:l4e,date:PI,object:NI,array:jx,boolean:OI});var d4e=Object.prototype,u4e=d4e.hasOwnProperty;function f4e(e,t){return e!=null&&u4e.call(e,t)}var h4e=f4e,p4e=h4e,m4e=$ue;function g4e(e,t){return e!=null&&m4e(e,t,p4e)}var y4e=g4e;const T2=qo(y4e),yT=e=>e&&e.__isYupSchema__;class v4e{constructor(t,n){if(this.fn=void 0,this.refs=t,this.refs=t,typeof n=="function"){this.fn=n;return}if(!T2(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:o}=n,s=typeof r=="function"?r:(...a)=>a.every(c=>c===r);this.fn=function(...a){let c=a.pop(),l=a.pop(),d=s(...a)?i:o;if(d)return typeof d=="function"?d(l):l.concat(d.resolve(c))}}resolve(t,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn.apply(t,r.concat(t,n));if(i===void 0||i===t)return t;if(!yT(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}function fG(e){return e==null?[]:[].concat(e)}function jI(){return jI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jI.apply(this,arguments)}let b4e=/\$\{\s*(\w+)\s*\}/g;class Ta extends Error{static formatError(t,n){const r=n.label||n.path||"this";return r!==n.path&&(n=jI({},n,{path:r})),typeof t=="string"?t.replace(b4e,(i,o)=>o0(n[o])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],fG(t).forEach(o=>{Ta.isError(o)?(this.errors.push(...o.errors),this.inner=this.inner.concat(o.inner.length?o.inner:o)):this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,Ta)}}const w4e=e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}};function R2(e,t){let{endEarly:n,tests:r,args:i,value:o,errors:s,sort:a,path:c}=e,l=w4e(t),d=r.length;const f=[];if(s=s||[],!d)return s.length?l(new Ta(s,o,c)):l(null,o);for(let p=0;p<r.length;p++){const m=r[p];m(i,function(y){if(y){if(!Ta.isError(y))return l(y,o);if(n)return y.value=o,l(y,o);f.push(y)}if(--d<=0){if(f.length&&(a&&f.sort(a),s.length&&f.push(...s),s=f),s.length){l(new Ta(s,o,c),o);return}l(null,o)}})}}function Lp(e){this._maxSize=e,this.clear()}Lp.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Lp.prototype.get=function(e){return this._values[e]};Lp.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var _4e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,hG=/^\d+$/,x4e=/^\d/,k4e=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,S4e=/^\s*(['"]?)(.*?)(\1)\s*$/,vT=512,RB=new Lp(vT),PB=new Lp(vT),OB=new Lp(vT),m3={Cache:Lp,split:BI,normalizePath:M6,setter:function(e){var t=M6(e);return PB.get(e)||PB.set(e,function(r,i){for(var o=0,s=t.length,a=r;o<s-1;){var c=t[o];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;a=a[t[o++]]}a[t[o]]=i})},getter:function(e,t){var n=M6(e);return OB.get(e)||OB.set(e,function(i){for(var o=0,s=n.length;o<s;)if(i!=null||!t)i=i[n[o++]];else return;return i})},join:function(e){return e.reduce(function(t,n){return t+(bT(n)||hG.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){E4e(Array.isArray(e)?e:BI(e),t,n)}};function M6(e){return RB.get(e)||RB.set(e,BI(e).map(function(t){return t.replace(S4e,"$2")}))}function BI(e){return e.match(_4e)||[""]}function E4e(e,t,n){var r=e.length,i,o,s,a;for(o=0;o<r;o++)i=e[o],i&&(A4e(i)&&(i='"'+i+'"'),a=bT(i),s=!a&&/^\d+$/.test(i),t.call(n,i,a,s,o,e))}function bT(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function C4e(e){return e.match(x4e)&&!e.match(hG)}function I4e(e){return k4e.test(e)}function A4e(e){return!bT(e)&&(C4e(e)||I4e(e))}const M_={context:"$",value:"."};class Rf{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===M_.context,this.isValue=this.key[0]===M_.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?M_.context:this.isValue?M_.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&m3.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Rf.prototype.__isYupRef=!0;function P2(){return P2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P2.apply(this,arguments)}function T4e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function D_(e){function t(n,r){let{value:i,path:o="",label:s,options:a,originalValue:c,sync:l}=n,d=T4e(n,["value","path","label","options","originalValue","sync"]);const{name:f,test:p,params:m,message:g}=e;let{parent:y,context:v}=a;function w(A){return Rf.isRef(A)?A.getValue(i,y,v):A}function _(A={}){const S=Dz(P2({value:i,originalValue:c,label:s,path:A.path||o},m,A.params),w),O=new Ta(Ta.formatError(A.message||g,S),i,S.path,A.type||f);return O.params=S,O}let E=P2({path:o,parent:y,type:f,createError:_,resolve:w,options:a,originalValue:c},d);if(!l){try{Promise.resolve(p.call(E,i,E)).then(A=>{Ta.isError(A)?r(A):A?r(null,A):r(_())}).catch(r)}catch(A){r(A)}return}let C;try{var T;if(C=p.call(E,i,E),typeof((T=C)==null?void 0:T.then)=="function")throw new Error(`Validation test of type: "${E.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(A){r(A);return}Ta.isError(C)?r(C):C?r(null,C):r(_())}return t.OPTIONS=e,t}let R4e=e=>e.substr(0,e.length-1).substr(1);function P4e(e,t,n,r=n){let i,o,s;return t?(m3.forEach(t,(a,c,l)=>{let d=c?R4e(a):a;if(e=e.resolve({context:r,parent:i,value:n}),e.innerType){let f=l?parseInt(d,10):0;if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[f],e=e.innerType}if(!l){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e._type}")`);i=n,n=n&&n[d],e=e.fields[d]}o=d,s=c?"["+a+"]":"."+a}),{schema:e,parent:i,parentPath:o}):{parent:i,parentPath:t,schema:e}}class O2{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const t=[];for(const n of this.list)t.push(n);for(const[,n]of this.refs)t.push(n.describe());return t}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(t){return this.toArray().reduce((n,r)=>n.concat(Rf.isRef(r)?t(r):r),[])}add(t){Rf.isRef(t)?this.refs.set(t.key,t):this.list.add(t)}delete(t){Rf.isRef(t)?this.refs.delete(t.key):this.list.delete(t)}clone(){const t=new O2;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}merge(t,n){const r=this.clone();return t.list.forEach(i=>r.add(i)),t.refs.forEach(i=>r.add(i)),n.list.forEach(i=>r.delete(i)),n.refs.forEach(i=>r.delete(i)),r}}function Rc(){return Rc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rc.apply(this,arguments)}class Qs{constructor(t){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new O2,this._blacklist=new O2,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Lh.notType)}),this.type=(t==null?void 0:t.type)||"mixed",this.spec=Rc({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},t==null?void 0:t.spec)}get _type(){return this.type}_typeCheck(t){return!0}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeError=this._typeError,n._whitelistError=this._whitelistError,n._blacklistError=this._blacklistError,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.exclusiveTests=Rc({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=RI(Rc({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Rc({},n.spec,r.spec);return r.spec=i,r._typeError||(r._typeError=n._typeError),r._whitelistError||(r._whitelistError=n._whitelistError),r._blacklistError||(r._blacklistError=n._blacklistError),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{t.tests.forEach(s=>{o.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return this.spec.nullable&&t===null?!0:this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,o)=>o.resolve(i,t),n),n=n.resolve(t)}return n}cast(t,n={}){let r=this.resolve(Rc({value:t},n)),i=r._cast(t,n);if(t!==void 0&&n.assert!==!1&&r.isType(i)!==!0){let o=o0(t),s=o0(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". 

attempted value: ${o} 
`+(s!==o?`result of cast: ${s}`:""))}return i}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,o)=>o.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault()),r}_validate(t,n={},r){let{sync:i,path:o,from:s=[],originalValue:a=t,strict:c=this.spec.strict,abortEarly:l=this.spec.abortEarly}=n,d=t;c||(d=this._cast(d,Rc({assert:!1},n)));let f={value:d,path:o,options:n,originalValue:a,schema:this,label:this.spec.label,sync:i,from:s},p=[];this._typeError&&p.push(this._typeError);let m=[];this._whitelistError&&m.push(this._whitelistError),this._blacklistError&&m.push(this._blacklistError),R2({args:f,value:d,path:o,sync:i,tests:p,endEarly:l},g=>{if(g)return void r(g,d);R2({tests:this.tests.concat(m),args:f,path:o,sync:i,value:d,endEarly:l},r)})}validate(t,n,r){let i=this.resolve(Rc({},n,{value:t}));return typeof r=="function"?i._validate(t,n,r):new Promise((o,s)=>i._validate(t,n,(a,c)=>{a?s(a):o(c)}))}validateSync(t,n){let r=this.resolve(Rc({},n,{value:t})),i;return r._validate(t,Rc({},n,{sync:!0}),(o,s)=>{if(o)throw o;i=s}),i}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(Ta.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(Ta.isError(r))return!1;throw r}}_getDefault(){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this):RI(t)}getDefault(t){return this.resolve(t||{})._getDefault()}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){let n=this.clone();return n.spec.strict=t,n}_isPresent(t){return t!=null}defined(t=Lh.defined){return this.test({message:t,name:"defined",exclusive:!0,test(n){return n!==void 0}})}required(t=Lh.required){return this.clone({presence:"required"}).withMutation(n=>n.test({message:t,name:"required",exclusive:!0,test(r){return this.schema._isPresent(r)}}))}notRequired(){let t=this.clone({presence:"optional"});return t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t}nullable(t=!0){return this.clone({nullable:t!==!1})}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=Lh.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=D_(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(o||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=fG(t).map(o=>new Rf(o));return i.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(new v4e(i,n)),r}typeError(t){let n=this.clone();return n._typeError=D_({message:t,name:"typeError",test(r){return r!==void 0&&!this.schema.isType(r)?this.createError({params:{type:this.schema._type}}):!0}}),n}oneOf(t,n=Lh.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r._whitelistError=D_({message:n,name:"oneOf",test(i){if(i===void 0)return!0;let o=this.schema._whitelist,s=o.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:o.toArray().join(", "),resolved:s}})}}),r}notOneOf(t,n=Lh.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r._blacklistError=D_({message:n,name:"notOneOf",test(i){let o=this.schema._blacklist,s=o.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:o.toArray().join(", "),resolved:s}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(){const t=this.clone(),{label:n,meta:r}=t.spec;return{meta:r,label:n,type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(o=>({name:o.OPTIONS.name,params:o.OPTIONS.params})).filter((o,s,a)=>a.findIndex(c=>c.name===o.name)===s)}}}Qs.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Qs.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:o,schema:s}=P4e(this,t,n,r.context);return s[e](i&&i[o],Rc({},r,{parent:i,path:t}))};for(const e of["equals","is"])Qs.prototype[e]=Qs.prototype.oneOf;for(const e of["not","nope"])Qs.prototype[e]=Qs.prototype.notOneOf;Qs.prototype.optional=Qs.prototype.notRequired;const O4e=Qs;O4e.prototype;const Ks=e=>e==null;function Cv(){return new pG}class pG extends Qs{constructor(){super({type:"boolean"}),this.withMutation(()=>{this.transform(function(t){if(!this.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}_typeCheck(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}isTrue(t=OI.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Ks(n)||n===!0}})}isFalse(t=OI.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Ks(n)||n===!1}})}}Cv.prototype=pG.prototype;let N4e=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,j4e=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,B4e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,$4e=e=>Ks(e)||e===e.trim(),M4e={}.toString();function gi(){return new mG}class mG extends Qs{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(t){if(this.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===M4e?t:n})})}_typeCheck(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}_isPresent(t){return super._isPresent(t)&&!!t.length}length(t,n=dl.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},test(r){return Ks(r)||r.length===this.resolve(t)}})}min(t,n=dl.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return Ks(r)||r.length>=this.resolve(t)}})}max(t,n=dl.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},test(r){return Ks(r)||r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:o}=n:i=n),this.test({name:o||"matches",message:i||dl.matches,params:{regex:t},test:s=>Ks(s)||s===""&&r||s.search(t)!==-1})}email(t=dl.email){return this.matches(N4e,{name:"email",message:t,excludeEmptyString:!0})}url(t=dl.url){return this.matches(j4e,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=dl.uuid){return this.matches(B4e,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=dl.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:$4e})}lowercase(t=dl.lowercase){return this.transform(n=>Ks(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,test:n=>Ks(n)||n===n.toLowerCase()})}uppercase(t=dl.uppercase){return this.transform(n=>Ks(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,test:n=>Ks(n)||n===n.toUpperCase()})}}gi.prototype=mG.prototype;var D4e=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function L4e(e){var t=[1,4,5,6,7,10,11],n=0,r,i;if(i=D4e.exec(e)){for(var o=0,s;s=t[o];++o)i[s]=+i[s]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(e):NaN;return r}let gG=new Date(""),U4e=e=>Object.prototype.toString.call(e)==="[object Date]";class yG extends Qs{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(t){return this.isType(t)?t:(t=L4e(t),isNaN(t)?gG:new Date(t))})})}_typeCheck(t){return U4e(t)&&!isNaN(t.getTime())}prepareParam(t,n){let r;if(Rf.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=PI.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(i){return Ks(i)||i>=this.resolve(r)}})}max(t,n=PI.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(i){return Ks(i)||i<=this.resolve(r)}})}}yG.INVALID_DATE=gG;yG.prototype;function F4e(e,t,n,r){var i=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}var W4e=F4e;function z4e(e){return function(t){return e==null?void 0:e[t]}}var q4e=z4e,V4e=q4e,H4e={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},K4e=V4e(H4e),G4e=K4e,Z4e=G4e,J4e=z7,Y4e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,X4e="\\u0300-\\u036f",Q4e="\\ufe20-\\ufe2f",e7e="\\u20d0-\\u20ff",t7e=X4e+Q4e+e7e,n7e="["+t7e+"]",r7e=RegExp(n7e,"g");function i7e(e){return e=J4e(e),e&&e.replace(Y4e,Z4e).replace(r7e,"")}var o7e=i7e,s7e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function a7e(e){return e.match(s7e)||[]}var c7e=a7e,l7e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function d7e(e){return l7e.test(e)}var u7e=d7e,vG="\\ud800-\\udfff",f7e="\\u0300-\\u036f",h7e="\\ufe20-\\ufe2f",p7e="\\u20d0-\\u20ff",m7e=f7e+h7e+p7e,bG="\\u2700-\\u27bf",wG="a-z\\xdf-\\xf6\\xf8-\\xff",g7e="\\xac\\xb1\\xd7\\xf7",y7e="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",v7e="\\u2000-\\u206f",b7e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_G="A-Z\\xc0-\\xd6\\xd8-\\xde",w7e="\\ufe0e\\ufe0f",xG=g7e+y7e+v7e+b7e,kG="['’]",NB="["+xG+"]",_7e="["+m7e+"]",SG="\\d+",x7e="["+bG+"]",EG="["+wG+"]",CG="[^"+vG+xG+SG+bG+wG+_G+"]",k7e="\\ud83c[\\udffb-\\udfff]",S7e="(?:"+_7e+"|"+k7e+")",E7e="[^"+vG+"]",IG="(?:\\ud83c[\\udde6-\\uddff]){2}",AG="[\\ud800-\\udbff][\\udc00-\\udfff]",Xm="["+_G+"]",C7e="\\u200d",jB="(?:"+EG+"|"+CG+")",I7e="(?:"+Xm+"|"+CG+")",BB="(?:"+kG+"(?:d|ll|m|re|s|t|ve))?",$B="(?:"+kG+"(?:D|LL|M|RE|S|T|VE))?",TG=S7e+"?",RG="["+w7e+"]?",A7e="(?:"+C7e+"(?:"+[E7e,IG,AG].join("|")+")"+RG+TG+")*",T7e="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",R7e="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",P7e=RG+TG+A7e,O7e="(?:"+[x7e,IG,AG].join("|")+")"+P7e,N7e=RegExp([Xm+"?"+EG+"+"+BB+"(?="+[NB,Xm,"$"].join("|")+")",I7e+"+"+$B+"(?="+[NB,Xm+jB,"$"].join("|")+")",Xm+"?"+jB+"+"+BB,Xm+"+"+$B,R7e,T7e,SG,O7e].join("|"),"g");function j7e(e){return e.match(N7e)||[]}var B7e=j7e,$7e=c7e,M7e=u7e,D7e=z7,L7e=B7e;function U7e(e,t,n){return e=D7e(e),t=n?void 0:t,t===void 0?M7e(e)?L7e(e):$7e(e):e.match(t)||[]}var F7e=U7e,W7e=W4e,z7e=o7e,q7e=F7e,V7e="['’]",H7e=RegExp(V7e,"g");function K7e(e){return function(t){return W7e(q7e(z7e(t).replace(H7e,"")),e,"")}}var PG=K7e,G7e=PG,Z7e=G7e(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),J7e=Z7e;const MB=qo(J7e);var Y7e=z7,X7e=Mue;function Q7e(e){return X7e(Y7e(e).toLowerCase())}var eAe=Q7e,tAe=eAe,nAe=PG,rAe=nAe(function(e,t,n){return t=t.toLowerCase(),e+(n?tAe(t):t)}),iAe=rAe;const oAe=qo(iAe);var sAe=Uue,aAe=Due,cAe=Lue;function lAe(e,t){var n={};return t=cAe(t),aAe(e,function(r,i,o){sAe(n,t(r,i,o),r)}),n}var dAe=lAe;const uAe=qo(dAe);var wT={exports:{}};wT.exports=function(e){return OG(fAe(e),e)};wT.exports.array=OG;function OG(e,t){var n=e.length,r=new Array(n),i={},o=n,s=hAe(t),a=pAe(e);for(t.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});o--;)i[o]||c(e[o],o,new Set);return r;function c(l,d,f){if(f.has(l)){var p;try{p=", node was:"+JSON.stringify(l)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!i[d]){i[d]=!0;var m=s.get(l)||new Set;if(m=Array.from(m),d=m.length){f.add(l);do{var g=m[--d];c(g,a.get(g),f)}while(d);f.delete(l)}r[--n]=l}}}function fAe(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}function hAe(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function pAe(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}var mAe=wT.exports;const gAe=qo(mAe);function yAe(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([s,a])=>`${s}-${a}`));function o(s,a){let c=m3.split(s)[0];r.add(c),i.has(`${a}-${c}`)||n.push([a,c])}for(const s in e)if(T2(e,s)){let a=e[s];r.add(s),Rf.isRef(a)&&a.isSibling?o(a.path,s):yT(a)&&"deps"in a&&a.deps.forEach(c=>o(c,s))}return gAe.array(Array.from(r),n).reverse()}function DB(e,t){let n=1/0;return e.some((r,i)=>{var o;if(((o=t.path)==null?void 0:o.indexOf(r))!==-1)return n=i,!0}),n}function NG(e){return(t,n)=>DB(e,t)-DB(e,n)}function hg(){return hg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hg.apply(this,arguments)}let LB=e=>Object.prototype.toString.call(e)==="[object Object]";function vAe(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const bAe=NG([]);class jG extends Qs{constructor(t){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=bAe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return this.isType(r)?r:null}),t&&this.shape(t)})}_typeCheck(t){return LB(t)||typeof t=="function"}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault();if(!this._typeCheck(i))return i;let o=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=this._nodes.concat(Object.keys(i).filter(f=>this._nodes.indexOf(f)===-1)),c={},l=hg({},n,{parent:c,__validating:n.__validating||!1}),d=!1;for(const f of a){let p=o[f],m=T2(i,f);if(p){let g,y=i[f];l.path=(n.path?`${n.path}.`:"")+f,p=p.resolve({value:y,context:n.context,parent:c});let v="spec"in p?p.spec:void 0,w=v==null?void 0:v.strict;if(v!=null&&v.strip){d=d||f in i;continue}g=!n.__validating||!w?p.cast(i[f],l):i[f],g!==void 0&&(c[f]=g)}else m&&!s&&(c[f]=i[f]);c[f]!==i[f]&&(d=!0)}return d?c:i}_validate(t,n={},r){let i=[],{sync:o,from:s=[],originalValue:a=t,abortEarly:c=this.spec.abortEarly,recursive:l=this.spec.recursive}=n;s=[{schema:this,value:a},...s],n.__validating=!0,n.originalValue=a,n.from=s,super._validate(t,n,(d,f)=>{if(d){if(!Ta.isError(d)||c)return void r(d,f);i.push(d)}if(!l||!LB(f)){r(i[0]||null,f);return}a=a||f;let p=this._nodes.map(m=>(g,y)=>{let v=m.indexOf(".")===-1?(n.path?`${n.path}.`:"")+m:`${n.path||""}["${m}"]`,w=this.fields[m];if(w&&"validate"in w){w.validate(f[m],hg({},n,{path:v,from:s,strict:!0,parent:f,originalValue:a[m]}),y);return}y(null)});R2({sync:o,tests:p,value:f,errors:i,endEarly:c,sort:this._sortErrors,path:n.path},r)})}clone(t){const n=super.clone(t);return n.fields=hg({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,o]of Object.entries(this.fields)){const s=r[i];s===void 0?r[i]=o:s instanceof Qs&&o instanceof Qs&&(r[i]=o.concat(s))}return n.withMutation(()=>n.shape(r,this._excludedEdges))}getDefaultFromShape(){let t={};return this._nodes.forEach(n=>{const r=this.fields[n];t[n]="default"in r?r.getDefault():void 0}),t}_getDefault(){if("default"in this.spec)return super._getDefault();if(this._nodes.length)return this.getDefaultFromShape()}shape(t,n=[]){let r=this.clone(),i=Object.assign(r.fields,t);return r.fields=i,r._sortErrors=NG(Object.keys(i)),n.length&&(Array.isArray(n[0])||(n=[n]),r._excludedEdges=[...r._excludedEdges,...n]),r._nodes=yAe(i,r._excludedEdges),r}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.clone().withMutation(r=>(r.fields={},r.shape(n)))}omit(t){const n=this.clone(),r=n.fields;n.fields={};for(const i of t)delete r[i];return n.withMutation(()=>n.shape(r))}from(t,n,r){let i=m3.getter(t,!0);return this.transform(o=>{if(o==null)return o;let s=o;return T2(o,t)&&(s=hg({},o),r||delete s[t],s[n]=i(o)),s})}noUnknown(t=!0,n=NI.noUnknown){typeof t=="string"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const o=vAe(this.schema,i);return!t||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=NI.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>n&&uAe(n,(r,i)=>t(i)))}camelCase(){return this.transformKeys(oAe)}snakeCase(){return this.transformKeys(MB)}constantCase(){return this.transformKeys(t=>MB(t).toUpperCase())}describe(){let t=super.describe();return t.fields=Dz(this.fields,n=>n.describe()),t}}function Sb(e){return new jG(e)}Sb.prototype=jG.prototype;function N2(){return N2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N2.apply(this,arguments)}function BG(e){return new $G(e)}class $G extends Qs{constructor(t){super({type:"array"}),this.innerType=void 0,this.innerType=t,this.withMutation(()=>{this.transform(function(n){if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}return this.isType(n)?n:null})})}_typeCheck(t){return Array.isArray(t)}get _subType(){return this.innerType}_cast(t,n){const r=super._cast(t,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const o=r.map((s,a)=>{const c=this.innerType.cast(s,N2({},n,{path:`${n.path||""}[${a}]`}));return c!==s&&(i=!0),c});return i?o:r}_validate(t,n={},r){var i,o;let s=[],a=n.sync,c=n.path,l=this.innerType,d=(i=n.abortEarly)!=null?i:this.spec.abortEarly,f=(o=n.recursive)!=null?o:this.spec.recursive,p=n.originalValue!=null?n.originalValue:t;super._validate(t,n,(m,g)=>{if(m){if(!Ta.isError(m)||d)return void r(m,g);s.push(m)}if(!f||!l||!this._typeCheck(g)){r(s[0]||null,g);return}p=p||g;let y=new Array(g.length);for(let v=0;v<g.length;v++){let w=g[v],_=`${n.path||""}[${v}]`,E=N2({},n,{path:_,strict:!0,parent:g,index:v,originalValue:p[v]});y[v]=(C,T)=>l.validate(w,E,T)}R2({sync:a,path:c,value:g,errors:s,endEarly:d,tests:y},r)})}clone(t){const n=super.clone(t);return n.innerType=this.innerType,n}concat(t){let n=super.concat(t);return n.innerType=this.innerType,t.innerType&&(n.innerType=n.innerType?n.innerType.concat(t.innerType):t.innerType),n}of(t){let n=this.clone();if(!yT(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+o0(t));return n.innerType=t,n}length(t,n=jx.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},test(r){return Ks(r)||r.length===this.resolve(t)}})}min(t,n){return n=n||jx.min,this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return Ks(r)||r.length>=this.resolve(t)}})}max(t,n){return n=n||jx.max,this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(r){return Ks(r)||r.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,n)=>this._typeCheck(t)?t:n==null?[]:[].concat(n))}compact(t){let n=t?(r,i,o)=>!t(r,i,o):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(){let t=super.describe();return this.innerType&&(t.innerType=this.innerType.describe()),t}nullable(t=!0){return super.nullable(t)}defined(){return super.defined()}required(t){return super.required(t)}}BG.prototype=$G.prototype;const MG=Sb().shape({alias:gi(),btcWallet:gi(),ckbWallet:gi(),country:gi(),discordNotification:Cv(),dogeWallet:gi(),email:gi(),emailNotification:Cv(),firstName:gi(),jobTitle:gi(),kasWallet:gi(),kdaWallet:gi(),lastName:gi(),ltcWallet:gi(),metadata:Sb(),newsletterNotification:Cv(),phoneNumber:gi(),tShirtSize:gi(),team:gi(),username:gi()});var Do;(function(e){e.ACCOUNT_ALREADY_LINKED="account_already_linked",e.ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE="account_already_linked_to_different_profile",e.INVALID_PROVIDER="invalid_provider",e.NO_ACCOUNT_LINKED="no_account_linked",e.NO_AUTH_CODE="no_auth_code",e.NO_OAUTH_URL="no_oauth_url",e.NO_PROVIDER="no_provider",e.OAUTH_ERROR="oauth_error",e.OAUTH_WINDOW_BLOCKED="oauth_window_blocked",e.OAUTH_WINDOW_CLOSED="oauth_window_closed",e.OAUTH_WINDOW_TIMEOUT="oauth_window_timeout",e.PROVIDER_NOT_ENABLED="provider_not_enabled",e.SESSION_TIMEOUT="session_timeout",e.SIGNIN_ERROR="signin_error",e.SOCIAL_LINKING_NOT_ENABLED="social_linking_not_enabled",e.UNLINK_ERROR="unlink_error",e.VERIFICATION_ERROR="verification_error",e.GENERAL_ERROR="general_error"})(Do||(Do={}));const DG=k.createContext(void 0),LG=({children:e})=>{const{view:t}=dn(),[n,r]=k.useState(!1);k.useEffect(()=>{r(!1)},[t]);const i=k.useMemo(()=>({isFooterExpanded:n,setIsFooterExpanded:r}),[n]);return u.jsx(DG.Provider,{value:i,children:u.jsx("div",{children:e})})},g3=()=>{const e=k.useContext(DG);if(!e)throw new Error("Can only call useFooterAnimationContext inside FooterAnimationContextProvider");return e},UG=(e,t)=>{const[n,r]=k.useState(),i=k.useCallback(o=>{if(!Array.isArray(o))return;const[s]=o;r(s.contentRect)},[t,r]);return k.useLayoutEffect(()=>{if(!e.current)return;let o=new ResizeObserver(i);return o.observe(e.current),()=>{o==null||o.disconnect(),o=null}},[e]),[n]},FG=k.createContext(void 0),wAe=({children:e})=>{const t=k.useRef();return u.jsx(FG.Provider,{value:{selectedPhoneCountry:t},children:e})},_T=()=>{const e=k.useContext(FG);if(!e)throw new Ae("Can only call useFieldsState inside FieldsStateProvider");return e},_Ae=/^(\+[1-9]\d{1,14})?$/,WG=(e,t)=>E1({dialCode:t.dialCode,phone:e}).length>0,zG={checkbox:BG(),select:gi(),text:gi()},y3=()=>{const{t:e}=ut(),{selectedPhoneCountry:t}=_T();return{fieldsConfig:k.useMemo(()=>({alias:{key:"dyn_collect_user_data.fields.alias.label",label:e("dyn_collect_user_data.fields.alias.label"),type:"string",validation:gi().trim()},country:{key:"dyn_collect_user_data.fields.country.label",label:e("dyn_collect_user_data.fields.country.label"),type:"select",validation:gi().oneOf(uT.map(r=>r.code))},email:{autoComplete:"email",key:"dyn_collect_user_data.fields.email.label",label:e("dyn_collect_user_data.fields.email.label"),type:"email",validation:gi().email(e("dyn_collect_user_data.fields.email.validation"))},firstName:{key:"dyn_collect_user_data.fields.first_name.label",label:e("dyn_collect_user_data.fields.first_name.label"),type:"string",validation:gi().trim()},jobTitle:{key:"dyn_collect_user_data.fields.job_title.label",label:e("dyn_collect_user_data.fields.job_title.label"),type:"string",validation:gi().trim()},lastName:{key:"dyn_collect_user_data.fields.last_name.label",label:e("dyn_collect_user_data.fields.last_name.label"),type:"string",validation:gi().trim()},phoneNumber:{key:"dyn_collect_user_data.fields.phone_number.label",label:e("dyn_collect_user_data.fields.phone_number.label"),type:"string",validation:gi().test("length",e("dyn_collect_user_data.fields.phone_number.too_short"),r=>t.current?r===void 0||r.length===0||WG(r,t.current):!0).matches(_Ae,e("dyn_collect_user_data.fields.phone_number.validation"))},policiesConsent:{key:"dyn_collect_user_data.fields.policies_consent.label",label:e("dyn_collect_user_data.fields.policies_consent.label"),type:"boolean",validation:Cv()},tShirtSize:{key:"dyn_collect_user_data.fields.t_shirt_size.label",label:e("dyn_collect_user_data.fields.t_shirt_size.label"),type:"select",validation:gi().oneOf(dT)},team:{key:"dyn_collect_user_data.fields.team.label",label:e("dyn_collect_user_data.fields.team.label"),type:"select",validation:gi().oneOf(fT)},username:{key:"dyn_collect_user_data.fields.username.label",label:e("dyn_collect_user_data.fields.username.label"),type:"string",validation:gi().matches(/^(?!.*([$!#%?])\1)[A-Za-z0-9$!#%?]{3,20}$/,e("dyn_collect_user_data.fields.username.validation"))}}),[t,e])}},un=({children:e,className:t="",color:n,size:r})=>{const i={"brand-primary":"icon--color-brand-primary","success-1":"icon--color-success-1","text-error":"icon--color-text-error","text-primary":"icon--color-text-primary","text-secondary":"icon--color-text-secondary","text-tertiary":"icon--color-text-tertiary"},o={large:"icon--size-large",medium:"icon--size-medium",mini:"icon--size-mini",small:"icon--size-small",xsmall:"icon--size-xsmall"},s=We(t,n?i[n]:"",r?o[r]:"");return k.cloneElement(e,{className:s})},xAe={error:u.jsx(Bp,{})},fd=({children:e,icon:t,variant:n="error",contentDataTestId:r,className:i=""})=>u.jsxs("div",{className:We("alert",{"alert--error":n==="error","alert--info":n==="info","alert--warning":n==="warning"},i),children:[t&&u.jsx(un,{size:"small",className:"alert__icon",children:typeof t=="string"?xAe[t]:t}),u.jsx(ie,{variant:"body_small","data-testid":r,children:e})]}),Vr=k.forwardRef((e,t)=>{var{className:n="",color:r}=e,i=na(e,["className","color"]);return u.jsx("button",Object.assign({},i,{className:We("icon-button",n),ref:t}))});Vr.displayName="IconButton";const kAe=k.forwardRef(({children:e,className:t,dataTestId:n},r)=>u.jsx("div",{ref:r,"data-testid":n,className:We("inline-widget",t),children:e}));kAe.displayName="InlineWidget";const ea=k.forwardRef((e,t)=>{var{className:n="",id:r,label:i,type:o,onChange:s,onBlur:a,name:c,value:l,optional:d,error:f=!1,disabled:p,message:m,placeholder:g,variant:y="dense",suffix:v,containerClassName:w}=e,_=na(e,["className","id","label","type","onChange","onBlur","name","value","optional","error","disabled","message","placeholder","variant","suffix","containerClassName"]);return u.jsxs("div",{className:We("input__container",w,{"input__container--dense":y==="dense","input__container--regular":y==="regular"}),children:[u.jsx("input",Object.assign({},_,{name:c,value:l,onChange:s,onBlur:a,type:o,id:r,placeholder:y==="regular"||!i?g:i,disabled:p,className:We("input",n,{"input--no-label":!i,input__error:f,input__has_trailing:d}),ref:t})),u.jsx("label",{htmlFor:r,className:We("input__label"),children:i}),v&&u.jsx("div",{className:We("input__suffix"),children:v}),d&&u.jsx("span",{className:"input__trailing",children:"Optional"}),!!m&&u.jsx(ie,{variant:"body_mini",className:We("input__message",{input__message__error:f}),children:m})]})});ea.displayName="Input";const UB=k.createContext(!1),$I=({children:e})=>{const t=k.useContext(UB),[n,r]=k.useState(!1);return k.useEffect(()=>{r(!0)},[]),n||t?u.jsx(UB.Provider,{value:!0,children:e}):u.jsx(u.Fragment,{})},SAe={"bottom-left":"popper-content__transform-origin-bottom-left","bottom-right":"popper-content__transform-origin-bottom-right","top-left":"popper-content__transform-origin-top-left","top-right":"popper-content__transform-origin-top-right"},qG=k.forwardRef(({children:e,transformOrigin:t,style:n,className:r},i)=>u.jsx("div",{"data-testid":"popper-content",ref:i,className:We("popper-content",SAe[t],r),style:n,children:e}));qG.displayName="PopperContent";const VG=k.createContext(void 0),v3=({children:e})=>{const{Provider:t}=VG,n=k.useRef(null);return u.jsx(t,{value:{containerRef:n},children:u.jsx("div",{ref:n,style:{position:"relative"},children:e})})},HG=()=>{const e=k.useContext(VG);if(!e)throw new Error("To use popper, use the PopperProvider above in the dom hierarchy");return e},EAe=(e,t)=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{left:r.x-n.x,top:r.y-n.y}},KG=k.forwardRef(({anchorRef:e,anchorOrigin:t="top-left",transformOrigin:n="top-left",children:r,style:i,className:o},s)=>{const{containerRef:a}=HG(),[c,l]=k.useState(),d=a.current;k.useEffect(()=>{const p=a.current,m=e.current;!p||!m||l(EAe(p,m))},[e,a,l]);const f=k.useMemo(()=>{var p;const m=(p=e.current)===null||p===void 0?void 0:p.getBoundingClientRect();if(!(!c||!m))switch(t){case"top-left":return c;case"top-right":return Object.assign(Object.assign({},c),{left:c.left+m.width});case"bottom-left":return Object.assign(Object.assign({},c),{top:c.top+m.height});case"bottom-right":return Object.assign(Object.assign({},c),{left:c.left+m.width,top:c.top+m.height});default:return}},[c,e,t]);return!f||d===null?null:dp.createPortal(u.jsx(qG,{ref:s,transformOrigin:n,style:Object.assign(Object.assign({},f),i),className:o,children:r}),d)});KG.displayName="Popper";const CAe=e=>{const t=e.scrollHeight>e.clientHeight,r=window.getComputedStyle(e).overflowY.indexOf("hidden")!==-1;return t&&!r},IAe=(e,t,n)=>{const r=[];let i=t;for(;i!==null;){const o=i===e;if(CAe(i)&&(i.addEventListener("scroll",n),r.push(i)),i=i.parentElement,o)break}return()=>r.forEach(o=>o.removeEventListener("scroll",n))},AAe=e=>{const t=k.useRef(null);return k.useEffect(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)},[e,t]),t},b3=(e,t)=>{const n=k.useRef(t);n.current=t,k.useEffect(()=>{const r=i=>{i.stopPropagation();const o=i.composedPath().shift();!e.current||e.current.contains(i.currentTarget)||e.current.contains(o)||n.current(i)};return document.addEventListener("touchstart",r),document.addEventListener("click",r),()=>{document.removeEventListener("touchstart",r),document.removeEventListener("click",r)}},[e])},D6=(e,t)=>{const n=performance.now(),r={id:-1},i=()=>{r.id=requestAnimationFrame(o=>{o-n>t?e():i()})};return i(),r},FB=e=>{e.id&&cancelAnimationFrame(e.id)},TAe=()=>{const e=k.useRef(!0);return k.useEffect(()=>{e.current&&(e.current=!1)},[]),e.current},RAe=(e,t)=>{const n=TAe();k.useEffect(()=>{if(!n)return e()},t)},PAe=(e,t)=>{const n={ENTERED:t==null?void 0:t.onEntered,ENTERING:t==null?void 0:t.onEntering,EXITING:t==null?void 0:t.onExiting,UNMOUNT:t==null?void 0:t.onUnmount};return RAe(()=>{var r;return(r=n[e])===null||r===void 0||r.call(n),()=>{var i;e==="EXITING"&&((i=n.UNMOUNT)===null||i===void 0||i.call(n))}},[e])},OAe=100,A1=e=>{var{isShown:t,inDuration:n,outDuration:r,duration:i=OAe,delay:o,inDelay:s,outDelay:a,animateOnMount:c=!0}=e,l=na(e,["isShown","inDuration","outDuration","duration","delay","inDelay","outDelay","animateOnMount"]);const d=c?"UNMOUNT":"ENTERED",f=k.useRef({id:-1}),p=k.useRef({id:-1}),[m,g]=k.useState(d),[y,v]=k.useState(!c),[w,_]=k.useState(i),E=(A,S)=>{S?p.current=D6(A,S):A()},C=k.useCallback(()=>{const A=n||i;_(A),v(!0),g("ENTERING"),f.current=D6(()=>{g("ENTERED")},A)},[i,n]),T=k.useCallback(()=>{const A=r||i;_(A),g("EXITING"),f.current=D6(()=>{v(!1),g("UNMOUNT")},A)},[i,r]);return k.useEffect(()=>(t&&m!=="ENTERED"?E(C,s||o):!t&&m!=="UNMOUNT"&&E(T,a||o),()=>{FB(f.current),FB(p.current)}),[s,a,C,T,t,o,m]),PAe(m,l),{currentDuration:w,mount:y,stage:m}},NAe=e=>({transition:`transform ${e}ms linear, opacity ${e}ms linear`}),jAe={ENTERED:{opacity:"1",transform:"scale(1)"},ENTERING:{opacity:"0",transform:"scale(0.9)"},EXITING:{opacity:"0",transform:"scale(1.1)"}},BAe=e=>{var{children:t,className:n}=e,r=na(e,["children","className"]);const{mount:i,stage:o,currentDuration:s}=A1(r),a=NAe(s),c=jAe[o];return i?u.jsx("div",{className:We(n,"zoom-transition__root"),style:Object.assign(Object.assign({},a),c),children:t}):null};Yr.memo(BAe);const $Ae=(e,t="linear")=>({transition:`transform ${e}ms ${t}, opacity ${e}ms ${t}`}),MAe={ENTERED:{transform:"translateY(0)"},ENTERING:{transform:"translateY(0.625rem)"},EXITING:{transform:"translateY(0.625rem)"}},DAe=e=>{var{children:t,className:n}=e,r=na(e,["children","className"]);const{mount:i,stage:o,currentDuration:s}=A1(r),a=$Ae(s),c=MAe[o];return i?u.jsx("div",{className:n,style:Object.assign(Object.assign({},a),c),children:t}):null},GG=Yr.memo(DAe),LAe=e=>({transition:`opacity ${e}ms linear`}),UAe={ENTERED:{opacity:1},ENTERING:{opacity:0},EXITING:{opacity:0},UNMOUNT:{opacity:0}},FAe=e=>{var{children:t,style:n,className:r}=e,i=na(e,["children","style","className"]);const{mount:o,stage:s,currentDuration:a}=A1(i),c=LAe(a),l=UAe[s];return o?u.jsx("div",{className:r,style:Object.assign(Object.assign(Object.assign({},c),l),n),children:t}):null},Eb=Yr.memo(FAe),ZG=k.createContext(void 0),JG=({children:e})=>{const[t,n]=k.useState(null),[r,i]=k.useState(new Set);return u.jsxs(ZG.Provider,{value:k.useMemo(()=>({closeCard:o=>i(s=>(s.delete(o),new Set(s))),openCard:o=>i(s=>(s.add(o),new Set(s))),portal:t}),[t]),children:[e,r.size>0&&u.jsx("div",{className:"overlay-card-target",ref:n})]})},WAe=e=>{var t;const n=k.useContext(ZG),r=k.useId();return k.useEffect(()=>{if(!(!n||!e))return n.openCard(r),()=>{n.closeCard(r)}},[n,r,e]),(t=n==null?void 0:n.portal)!==null&&t!==void 0?t:void 0},YG=()=>{const[,e]=k.useState(0);return()=>e(t=>t+1)},zAe=e=>{const t=k.useRef();return k.useEffect(()=>{t.current=e},[e]),t.current};var MI="data-focus-lock",XG="data-focus-lock-disabled",qAe="data-no-focus-lock",VAe="data-autofocus-inside",HAe="data-no-autofocus",L6={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},QG=q7({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),eZ=q7(),KAe=q7(),GAe=Fue({async:!0}),ZAe=[],w3=k.forwardRef(function(t,n){var r,i=k.useState(),o=i[0],s=i[1],a=k.useRef(),c=k.useRef(!1),l=k.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,g=t.crossFrame,y=t.autoFocus;t.allowTextSelection;var v=t.group,w=t.className,_=t.whiteList,E=t.hasPositiveIndices,C=t.shards,T=C===void 0?ZAe:C,A=t.as,S=A===void 0?"div":A,O=t.lockProps,D=O===void 0?{}:O,K=t.sideCar,H=t.returnFocus,X=t.focusOptions,U=t.onActivation,I=t.onDeactivation,x=k.useState({}),P=x[0],N=k.useCallback(function(){l.current=l.current||document&&document.activeElement,a.current&&U&&U(a.current),c.current=!0},[U]),$=k.useCallback(function(){c.current=!1,I&&I(a.current)},[I]);k.useEffect(function(){f||(l.current=null)},[]);var L=k.useCallback(function(ce){var ge=l.current;if(ge&&ge.focus){var Ce=typeof H=="function"?H(ge):H;if(Ce){var qe=typeof Ce=="object"?Ce:void 0;l.current=null,ce?Promise.resolve().then(function(){return ge.focus(qe)}):ge.focus(qe)}}},[H]),z=k.useCallback(function(ce){c.current&&QG.useMedium(ce)},[]),q=eZ.useMedium,j=k.useCallback(function(ce){a.current!==ce&&(a.current=ce,s(ce))},[]),W=jv((r={},r[XG]=f&&"disabled",r[MI]=v,r),D),re=p!==!0,de=re&&p!=="tail",te=Wue([n,j]);return k.createElement(k.Fragment,null,re&&[k.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:L6}),E?k.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:L6}):null],!f&&k.createElement(K,{id:P,sideCar:GAe,observed:o,disabled:f,persistentFocus:m,crossFrame:g,autoFocus:y,whiteList:_,shards:T,onActivation:N,onDeactivation:$,returnFocus:L,focusOptions:X}),k.createElement(S,jv({ref:te},W,{className:w,onBlur:q,onFocus:z}),d),de&&k.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:L6}))});w3.propTypes={};w3.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};function JAe(e,t,n){return(t=Bfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YAe(e,t){function n(r){return r.displayName||r.name||"Component"}return function(i){var o=[],s;function a(){s=e(o.map(function(l){return l.props})),t(s)}var c=function(l){Hz(d,l);function d(){return l.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){o.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=o.indexOf(this);o.splice(m,1),a()},f.render=function(){return Yr.createElement(i,this.props)},d}(k.PureComponent);return JAe(c,"displayName","SideEffect("+n(i)+")"),c}}var kd=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},j2=function(e){return Array.isArray(e)?e:[e]},tZ=function(e){return Array.isArray(e)?e[0]:e},XAe=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},nZ=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},rZ=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},QAe=function(e,t){return!e||rZ(e)||!XAe(e)&&t(nZ(e))},iZ=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=QAe(t,iZ.bind(void 0,e));return e.set(t,r),r},eTe=function(e,t){return e&&!rZ(e)?rTe(e)?t(nZ(e)):!1:!0},oZ=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=eTe(t,oZ.bind(void 0,e));return e.set(t,r),r},sZ=function(e){return e.dataset},tTe=function(e){return e.tagName==="BUTTON"},aZ=function(e){return e.tagName==="INPUT"},cZ=function(e){return aZ(e)&&e.type==="radio"},nTe=function(e){return!((aZ(e)||tTe(e))&&(e.type==="hidden"||e.disabled))},rTe=function(e){var t=e.getAttribute(HAe);return![!0,"true",""].includes(t)},xT=function(e){var t;return!!(e&&(!((t=sZ(e))===null||t===void 0)&&t.focusGuard))},B2=function(e){return!xT(e)},iTe=function(e){return!!e},oTe=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},lZ=function(e,t,n){return kd(e).map(function(r,i){return{node:r,index:i,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(oTe)},sTe=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],kT=sTe.join(","),aTe="".concat(kT,", [data-focus-guard]"),dZ=function(e,t){return kd((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?aTe:kT)?[r]:[],dZ(r))},[])},cTe=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?_3([e.contentDocument.body],t):[e]},_3=function(e,t){return e.reduce(function(n,r){var i,o=dZ(r,t),s=(i=[]).concat.apply(i,o.map(function(a){return cTe(a,t)}));return n.concat(s,r.parentNode?kd(r.parentNode.querySelectorAll(kT)).filter(function(a){return a===r}):[])},[])},lTe=function(e){var t=e.querySelectorAll("[".concat(VAe,"]"));return kd(t).map(function(n){return _3([n])}).reduce(function(n,r){return n.concat(r)},[])},ST=function(e,t){return kd(e).filter(function(n){return iZ(t,n)}).filter(function(n){return nTe(n)})},WB=function(e,t){return t===void 0&&(t=new Map),kd(e).filter(function(n){return oZ(t,n)})},DI=function(e,t,n){return lZ(ST(_3(e,n),t),!0,n)},zB=function(e,t){return lZ(ST(_3(e),t),!1)},dTe=function(e,t){return ST(lTe(e),t)},Rg=function(e,t){return e.shadowRoot?Rg(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:kd(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?Rg(i,t):!1}return Rg(n,t)})},uTe=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=e[r].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},uZ=function(e){return e.parentNode?uZ(e.parentNode):e},ET=function(e){var t=j2(e);return t.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(MI);return n.push.apply(n,i?uTe(kd(uZ(r).querySelectorAll("[".concat(MI,'="').concat(i,'"]:not([').concat(XG,'="disabled"])')))):[r]),n},[])},fTe=function(e){try{return e()}catch{return}},Cb=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?Cb(t.shadowRoot):t instanceof HTMLIFrameElement&&fTe(function(){return t.contentWindow.document})?Cb(t.contentWindow.document):t}},hTe=function(e,t){return e===t},pTe=function(e,t){return!!kd(e.querySelectorAll("iframe")).some(function(n){return hTe(n,t)})},fZ=function(e,t){return t===void 0&&(t=Cb(tZ(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:ET(e).some(function(n){return Rg(n,t)||pTe(n,t)})},mTe=function(e){e===void 0&&(e=document);var t=Cb(e);return t?kd(e.querySelectorAll("[".concat(qAe,"]"))).some(function(n){return Rg(n,t)}):!1},gTe=function(e,t){return t.filter(cZ).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},CT=function(e,t){return cZ(e)&&e.name?gTe(e,t):e},yTe=function(e){var t=new Set;return e.forEach(function(n){return t.add(CT(n,e))}),e.filter(function(n){return t.has(n)})},qB=function(e){return e[0]&&e.length>1?CT(e[0],e):e[0]},VB=function(e,t){return e.length>1?e.indexOf(CT(e[t],e)):t},hZ="NEW_FOCUS",vTe=function(e,t,n,r){var i=e.length,o=e[0],s=e[i-1],a=xT(n);if(!(n&&e.indexOf(n)>=0)){var c=n!==void 0?t.indexOf(n):-1,l=r?t.indexOf(r):c,d=r?e.indexOf(r):-1,f=c-l,p=t.indexOf(o),m=t.indexOf(s),g=yTe(t),y=n!==void 0?g.indexOf(n):-1,v=y-(r?g.indexOf(r):c),w=VB(e,0),_=VB(e,i-1);if(c===-1||d===-1)return hZ;if(!f&&d>=0)return d;if(c<=p&&a&&Math.abs(f)>1)return _;if(c>=m&&a&&Math.abs(f)>1)return w;if(f&&Math.abs(v)>1)return d;if(c<=p)return _;if(c>m)return w;if(f)return Math.abs(f)>1?d:(i+d+f)%i}},bTe=function(e){return function(t){var n,r=(n=sZ(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},wTe=function(e,t,n){var r=e.map(function(o){var s=o.node;return s}),i=WB(r.filter(bTe(n)));return i&&i.length?qB(i):qB(WB(t))},LI=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&LI(e.parentNode.host||e.parentNode,t),t},U6=function(e,t){for(var n=LI(e),r=LI(t),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},pZ=function(e,t,n){var r=j2(e),i=j2(t),o=r[0],s=!1;return i.filter(Boolean).forEach(function(a){s=U6(s||a,a)||s,n.filter(Boolean).forEach(function(c){var l=U6(o,c);l&&(!s||Rg(l,s)?s=l:s=U6(l,s))})}),s},_Te=function(e,t){return e.reduce(function(n,r){return n.concat(dTe(r,t))},[])},xTe=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(iTe)},kTe=function(e,t){var n=Cb(j2(e).length>0?document:tZ(e).ownerDocument),r=ET(e).filter(B2),i=pZ(n||e,e,r),o=new Map,s=zB(r,o),a=DI(r,o).filter(function(m){var g=m.node;return B2(g)});if(!(!a[0]&&(a=s,!a[0]))){var c=zB([i],o).map(function(m){var g=m.node;return g}),l=xTe(c,a),d=l.map(function(m){var g=m.node;return g}),f=vTe(d,c,n,t);if(f===hZ){var p=wTe(s,d,_Te(r,o));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:l[f]}},STe=function(e){var t=ET(e).filter(B2),n=pZ(e,e,t),r=new Map,i=DI([n],r,!0),o=DI(t,r).filter(function(s){var a=s.node;return B2(a)}).map(function(s){var a=s.node;return a});return i.map(function(s){var a=s.node,c=s.index;return{node:a,index:c,lockItem:o.indexOf(a)>=0,guard:xT(a)}})},ETe=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},F6=0,W6=!1,mZ=function(e,t,n){n===void 0&&(n={});var r=kTe(e,t);if(!W6&&r){if(F6>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),W6=!0,setTimeout(function(){W6=!1},1);return}F6++,ETe(r.node,n.focusOptions),F6--}};function gZ(e){var t=window,n=t.setImmediate;typeof n<"u"?n(e):setTimeout(e,1)}var CTe=function(){return document&&document.activeElement===document.body},ITe=function(){return CTe()||mTe()},Pg=null,pg=null,Og=null,Ib=!1,ATe=function(){return!0},TTe=function(t){return(Pg.whiteList||ATe)(t)},RTe=function(t,n){Og={observerNode:t,portaledElement:n}},PTe=function(t){return Og&&Og.portaledElement===t};function HB(e,t,n,r){var i=null,o=e;do{var s=r[o];if(s.guard)s.node.dataset.focusAutoGuard&&(i=s);else if(s.lockItem){if(o!==e)return;i=null}else break}while((o+=n)!==t);i&&(i.node.tabIndex=0)}var OTe=function(t){return t&&"current"in t?t.current:t},NTe=function(t){return t?!!Ib:Ib==="meanwhile"},jTe=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},BTe=function(t,n){return n.some(function(r){return jTe(t,r,r)})},$2=function(){var t=!1;if(Pg){var n=Pg,r=n.observed,i=n.persistentFocus,o=n.autoFocus,s=n.shards,a=n.crossFrame,c=n.focusOptions,l=r||Og&&Og.portaledElement,d=document&&document.activeElement;if(l){var f=[l].concat(s.map(OTe).filter(Boolean));if((!d||TTe(d))&&(i||NTe(a)||!ITe()||!pg&&o)&&(l&&!(fZ(f)||d&&BTe(d,f)||PTe(d))&&(document&&!pg&&d&&!o?(d.blur&&d.blur(),document.body.focus()):(t=mZ(f,pg,{focusOptions:c}),Og={})),Ib=!1,pg=document&&document.activeElement),document){var p=document&&document.activeElement,m=STe(f),g=m.map(function(y){var v=y.node;return v}).indexOf(p);g>-1&&(m.filter(function(y){var v=y.guard,w=y.node;return v&&w.dataset.focusAutoGuard}).forEach(function(y){var v=y.node;return v.removeAttribute("tabIndex")}),HB(g,m.length,1,m),HB(g,-1,-1,m))}}}return t},yZ=function(t){$2()&&t&&(t.stopPropagation(),t.preventDefault())},IT=function(){return gZ($2)},$Te=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||RTe(r,n)},MTe=function(){return null},vZ=function(){Ib="just",setTimeout(function(){Ib="meanwhile"},0)},DTe=function(){document.addEventListener("focusin",yZ),document.addEventListener("focusout",IT),window.addEventListener("blur",vZ)},LTe=function(){document.removeEventListener("focusin",yZ),document.removeEventListener("focusout",IT),window.removeEventListener("blur",vZ)};function UTe(e){return e.filter(function(t){var n=t.disabled;return!n})}function FTe(e){var t=e.slice(-1)[0];t&&!Pg&&DTe();var n=Pg,r=n&&t&&t.id===n.id;Pg=t,n&&!r&&(n.onDeactivation(),e.filter(function(i){var o=i.id;return o===n.id}).length||n.returnFocus(!t)),t?(pg=null,(!r||n.observed!==t.observed)&&t.onActivation(),$2(),gZ($2)):(LTe(),pg=null)}QG.assignSyncMedium($Te);eZ.assignMedium(IT);KAe.assignMedium(function(e){return e({moveFocusInside:mZ,focusInside:fZ})});const WTe=YAe(UTe,FTe)(MTe);var bZ=k.forwardRef(function(t,n){return k.createElement(w3,jv({sideCar:WTe,ref:n},t))}),wZ=w3.propTypes||{};wZ.sideCar;Efe(wZ,["sideCar"]);bZ.propTypes={};var q0={},zTe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},_Z={},oc={};let AT;const qTe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];oc.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};oc.getSymbolTotalCodewords=function(t){return qTe[t]};oc.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};oc.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');AT=t};oc.isKanjiModeEnabled=function(){return typeof AT<"u"};oc.toSJIS=function(t){return AT(t)};var x3={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(x3);function xZ(){this.buffer=[],this.length=0}xZ.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var VTe=xZ;function T1(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}T1.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)};T1.prototype.get=function(e,t){return this.data[e*this.size+t]};T1.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};T1.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var HTe=T1,kZ={};(function(e){const t=oc.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=t(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-s;return a.push(6),a.reverse()},e.getPositions=function(r){const i=[],o=e.getRowColCoords(r),s=o.length;for(let a=0;a<s;a++)for(let c=0;c<s;c++)a===0&&c===0||a===0&&c===s-1||a===s-1&&c===0||i.push([o[a],o[c]]);return i}})(kZ);var SZ={};const KTe=oc.getSymbolSize,KB=7;SZ.getPositions=function(t){const n=KTe(t);return[[0,0],[n-KB,0],[0,n-KB]]};var EZ={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,c=0,l=null,d=null;for(let f=0;f<o;f++){a=c=0,l=d=null;for(let p=0;p<o;p++){let m=i.get(f,p);m===l?a++:(a>=5&&(s+=t.N1+(a-5)),l=m,a=1),m=i.get(p,f),m===d?c++:(c>=5&&(s+=t.N1+(c-5)),d=m,c=1)}a>=5&&(s+=t.N1+(a-5)),c>=5&&(s+=t.N1+(c-5))}return s},e.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let c=0;c<o-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&s++}return s*t.N2},e.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,c=0;for(let l=0;l<o;l++){a=c=0;for(let d=0;d<o;d++)a=a<<1&2047|i.get(l,d),d>=10&&(a===1488||a===93)&&s++,c=c<<1&2047|i.get(d,l),d>=10&&(c===1488||c===93)&&s++}return s*t.N3},e.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let c=0;c<s;c++)o+=i.data[c];return Math.abs(Math.ceil(o*100/s/5)-10)*t.N4};function n(r,i,o){switch(r){case e.Patterns.PATTERN000:return(i+o)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return o%3===0;case e.Patterns.PATTERN011:return(i+o)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case e.Patterns.PATTERN101:return i*o%2+i*o%3===0;case e.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case e.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let c=0;c<s;c++)o.isReserved(c,a)||o.xor(c,a,n(i,c,a))},e.getBestMask=function(i,o){const s=Object.keys(e.Patterns).length;let a=0,c=1/0;for(let l=0;l<s;l++){o(l),e.applyMask(l,i);const d=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(l,i),d<c&&(c=d,a=l)}return a}})(EZ);var k3={};const kf=x3,L_=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],U_=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];k3.getBlocksCount=function(t,n){switch(n){case kf.L:return L_[(t-1)*4+0];case kf.M:return L_[(t-1)*4+1];case kf.Q:return L_[(t-1)*4+2];case kf.H:return L_[(t-1)*4+3];default:return}};k3.getTotalCodewordsCount=function(t,n){switch(n){case kf.L:return U_[(t-1)*4+0];case kf.M:return U_[(t-1)*4+1];case kf.Q:return U_[(t-1)*4+2];case kf.H:return U_[(t-1)*4+3];default:return}};var CZ={},S3={};const Iv=new Uint8Array(512),M2=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Iv[n]=t,M2[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Iv[n]=Iv[n-255]})();S3.log=function(t){if(t<1)throw new Error("log("+t+")");return M2[t]};S3.exp=function(t){return Iv[t]};S3.mul=function(t,n){return t===0||n===0?0:Iv[M2[t]+M2[n]]};(function(e){const t=S3;e.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=t.mul(r[s],i[a]);return o},e.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let c=0;c<i.length;c++)o[c]^=t.mul(i[c],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=e.mul(i,new Uint8Array([1,t.exp(o)]));return i}})(CZ);const IZ=CZ;function TT(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}TT.prototype.initialize=function(t){this.degree=t,this.genPoly=IZ.generateECPolynomial(this.degree)};TT.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=IZ.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(r,i),o}return r};var GTe=TT,AZ={},oh={},RT={};RT.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Sd={};const TZ="[0-9]+",ZTe="[A-Z $%*+\\-./:]+";let Ab="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ab=Ab.replace(/u/g,"\\u");const JTe="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ab+`)(?:.|[\r
]))+`;Sd.KANJI=new RegExp(Ab,"g");Sd.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Sd.BYTE=new RegExp(JTe,"g");Sd.NUMERIC=new RegExp(TZ,"g");Sd.ALPHANUMERIC=new RegExp(ZTe,"g");const YTe=new RegExp("^"+Ab+"$"),XTe=new RegExp("^"+TZ+"$"),QTe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Sd.testKanji=function(t){return YTe.test(t)};Sd.testNumeric=function(t){return XTe.test(t)};Sd.testAlphanumeric=function(t){return QTe.test(t)};(function(e){const t=RT,n=Sd;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return n.testNumeric(o)?e.NUMERIC:n.testAlphanumeric(o)?e.ALPHANUMERIC:n.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(o,s){if(e.isValid(o))return o;try{return r(o)}catch{return s}}})(oh);(function(e){const t=oc,n=k3,r=x3,i=oh,o=RT,s=7973,a=t.getBCHDigit(s);function c(p,m,g){for(let y=1;y<=40;y++)if(m<=e.getCapacity(y,g,p))return y}function l(p,m){return i.getCharCountIndicator(p,m)+4}function d(p,m){let g=0;return p.forEach(function(y){const v=l(y.mode,m);g+=v+y.getBitsLength()}),g}function f(p,m){for(let g=1;g<=40;g++)if(d(p,g)<=e.getCapacity(g,m,i.MIXED))return g}e.from=function(m,g){return o.isValid(m)?parseInt(m,10):g},e.getCapacity=function(m,g,y){if(!o.isValid(m))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const v=t.getSymbolTotalCodewords(m),w=n.getTotalCodewordsCount(m,g),_=(v-w)*8;if(y===i.MIXED)return _;const E=_-l(y,m);switch(y){case i.NUMERIC:return Math.floor(E/10*3);case i.ALPHANUMERIC:return Math.floor(E/11*2);case i.KANJI:return Math.floor(E/13);case i.BYTE:default:return Math.floor(E/8)}},e.getBestVersionForData=function(m,g){let y;const v=r.from(g,r.M);if(Array.isArray(m)){if(m.length>1)return f(m,v);if(m.length===0)return 1;y=m[0]}else y=m;return c(y.mode,y.getLength(),v)},e.getEncodedBits=function(m){if(!o.isValid(m)||m<7)throw new Error("Invalid QR Code version");let g=m<<12;for(;t.getBCHDigit(g)-a>=0;)g^=s<<t.getBCHDigit(g)-a;return m<<12|g}})(AZ);var RZ={};const UI=oc,PZ=1335,eRe=21522,GB=UI.getBCHDigit(PZ);RZ.getEncodedBits=function(t,n){const r=t.bit<<3|n;let i=r<<10;for(;UI.getBCHDigit(i)-GB>=0;)i^=PZ<<UI.getBCHDigit(i)-GB;return(r<<10|i)^eRe};var OZ={};const tRe=oh;function s0(e){this.mode=tRe.NUMERIC,this.data=e.toString()}s0.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};s0.prototype.getLength=function(){return this.data.length};s0.prototype.getBitsLength=function(){return s0.getBitsLength(this.data.length)};s0.prototype.write=function(t){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),t.put(i,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),t.put(i,o*3+1))};var nRe=s0;const rRe=oh,z6=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a0(e){this.mode=rRe.ALPHANUMERIC,this.data=e}a0.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};a0.prototype.getLength=function(){return this.data.length};a0.prototype.getBitsLength=function(){return a0.getBitsLength(this.data.length)};a0.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=z6.indexOf(this.data[n])*45;r+=z6.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(z6.indexOf(this.data[n]),6)};var iRe=a0,oRe=function(t){for(var n=[],r=t.length,i=0;i<r;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319&&r>i+1){var s=t.charCodeAt(i+1);s>=56320&&s<=57343&&(o=(o-55296)*1024+s-56320+65536,i+=1)}if(o<128){n.push(o);continue}if(o<2048){n.push(o>>6|192),n.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){n.push(o>>12|224),n.push(o>>6&63|128),n.push(o&63|128);continue}if(o>=65536&&o<=1114111){n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const sRe=oRe,aRe=oh;function c0(e){this.mode=aRe.BYTE,typeof e=="string"&&(e=sRe(e)),this.data=new Uint8Array(e)}c0.getBitsLength=function(t){return t*8};c0.prototype.getLength=function(){return this.data.length};c0.prototype.getBitsLength=function(){return c0.getBitsLength(this.data.length)};c0.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var cRe=c0;const lRe=oh,dRe=oc;function l0(e){this.mode=lRe.KANJI,this.data=e}l0.getBitsLength=function(t){return t*13};l0.prototype.getLength=function(){return this.data.length};l0.prototype.getBitsLength=function(){return l0.getBitsLength(this.data.length)};l0.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=dRe.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var uRe=l0,NZ={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,i){var o={},s={};s[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var c,l,d,f,p,m,g,y,v;!a.empty();){c=a.pop(),l=c.value,f=c.cost,p=n[l]||{};for(d in p)p.hasOwnProperty(d)&&(m=p[d],g=f+m,y=s[d],v=typeof s[d]>"u",(v||y>g)&&(s[d]=g,a.push(d,g),o[d]=l))}if(typeof i<"u"&&typeof s[i]>"u"){var w=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(w)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(NZ);var fRe=NZ.exports;(function(e){const t=oh,n=nRe,r=iRe,i=cRe,o=uRe,s=Sd,a=oc,c=fRe;function l(w){return unescape(encodeURIComponent(w)).length}function d(w,_,E){const C=[];let T;for(;(T=w.exec(E))!==null;)C.push({data:T[0],index:T.index,mode:_,length:T[0].length});return C}function f(w){const _=d(s.NUMERIC,t.NUMERIC,w),E=d(s.ALPHANUMERIC,t.ALPHANUMERIC,w);let C,T;return a.isKanjiModeEnabled()?(C=d(s.BYTE,t.BYTE,w),T=d(s.KANJI,t.KANJI,w)):(C=d(s.BYTE_KANJI,t.BYTE,w),T=[]),_.concat(E,C,T).sort(function(S,O){return S.index-O.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function p(w,_){switch(_){case t.NUMERIC:return n.getBitsLength(w);case t.ALPHANUMERIC:return r.getBitsLength(w);case t.KANJI:return o.getBitsLength(w);case t.BYTE:return i.getBitsLength(w)}}function m(w){return w.reduce(function(_,E){const C=_.length-1>=0?_[_.length-1]:null;return C&&C.mode===E.mode?(_[_.length-1].data+=E.data,_):(_.push(E),_)},[])}function g(w){const _=[];for(let E=0;E<w.length;E++){const C=w[E];switch(C.mode){case t.NUMERIC:_.push([C,{data:C.data,mode:t.ALPHANUMERIC,length:C.length},{data:C.data,mode:t.BYTE,length:C.length}]);break;case t.ALPHANUMERIC:_.push([C,{data:C.data,mode:t.BYTE,length:C.length}]);break;case t.KANJI:_.push([C,{data:C.data,mode:t.BYTE,length:l(C.data)}]);break;case t.BYTE:_.push([{data:C.data,mode:t.BYTE,length:l(C.data)}])}}return _}function y(w,_){const E={},C={start:{}};let T=["start"];for(let A=0;A<w.length;A++){const S=w[A],O=[];for(let D=0;D<S.length;D++){const K=S[D],H=""+A+D;O.push(H),E[H]={node:K,lastCount:0},C[H]={};for(let X=0;X<T.length;X++){const U=T[X];E[U]&&E[U].node.mode===K.mode?(C[U][H]=p(E[U].lastCount+K.length,K.mode)-p(E[U].lastCount,K.mode),E[U].lastCount+=K.length):(E[U]&&(E[U].lastCount=K.length),C[U][H]=p(K.length,K.mode)+4+t.getCharCountIndicator(K.mode,_))}}T=O}for(let A=0;A<T.length;A++)C[T[A]].end=0;return{map:C,table:E}}function v(w,_){let E;const C=t.getBestModeForData(w);if(E=t.from(_,C),E!==t.BYTE&&E.bit<C.bit)throw new Error('"'+w+'" cannot be encoded with mode '+t.toString(E)+`.
 Suggested mode is: `+t.toString(C));switch(E===t.KANJI&&!a.isKanjiModeEnabled()&&(E=t.BYTE),E){case t.NUMERIC:return new n(w);case t.ALPHANUMERIC:return new r(w);case t.KANJI:return new o(w);case t.BYTE:return new i(w)}}e.fromArray=function(_){return _.reduce(function(E,C){return typeof C=="string"?E.push(v(C,null)):C.data&&E.push(v(C.data,C.mode)),E},[])},e.fromString=function(_,E){const C=f(_,a.isKanjiModeEnabled()),T=g(C),A=y(T,E),S=c.find_path(A.map,"start","end"),O=[];for(let D=1;D<S.length-1;D++)O.push(A.table[S[D]].node);return e.fromArray(m(O))},e.rawSplit=function(_){return e.fromArray(f(_,a.isKanjiModeEnabled()))}})(OZ);const E3=oc,q6=x3,hRe=VTe,pRe=HTe,mRe=kZ,gRe=SZ,FI=EZ,WI=k3,yRe=GTe,D2=AZ,vRe=RZ,bRe=oh,V6=OZ;function wRe(e,t){const n=e.size,r=gRe.getPositions(t);for(let i=0;i<r.length;i++){const o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(let c=-1;c<=7;c++)s+c<=-1||n<=s+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?e.set(o+a,s+c,!0,!0):e.set(o+a,s+c,!1,!0))}}function _Re(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function xRe(e,t){const n=mRe.getPositions(t);for(let r=0;r<n.length;r++){const i=n[r][0],o=n[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?e.set(i+s,o+a,!0,!0):e.set(i+s,o+a,!1,!0)}}function kRe(e,t){const n=e.size,r=D2.getEncodedBits(t);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+n-8-3,s=(r>>a&1)===1,e.set(i,o,s,!0),e.set(o,i,s,!0)}function H6(e,t,n){const r=e.size,i=vRe.getEncodedBits(t,n);let o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?e.set(o,8,s,!0):o<8?e.set(o+1,8,s,!0):e.set(r-15+o,8,s,!0),o<8?e.set(8,r-o-1,s,!0):o<9?e.set(8,15-o-1+1,s,!0):e.set(8,15-o-1,s,!0);e.set(r-8,8,1,!0)}function SRe(e,t){const n=e.size;let r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,a-c)){let l=!1;s<t.length&&(l=(t[s]>>>o&1)===1),e.set(i,a-c,l),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function ERe(e,t,n){const r=new hRe;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),bRe.getCharCountIndicator(c.mode,e)),c.write(r)});const i=E3.getSymbolTotalCodewords(e),o=WI.getTotalCodewordsCount(e,t),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(s-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return CRe(r,e,t)}function CRe(e,t,n){const r=E3.getSymbolTotalCodewords(t),i=WI.getTotalCodewordsCount(t,n),o=r-i,s=WI.getBlocksCount(t,n),a=r%s,c=s-a,l=Math.floor(r/s),d=Math.floor(o/s),f=d+1,p=l-d,m=new yRe(p);let g=0;const y=new Array(s),v=new Array(s);let w=0;const _=new Uint8Array(e.buffer);for(let S=0;S<s;S++){const O=S<c?d:f;y[S]=_.slice(g,g+O),v[S]=m.encode(y[S]),g+=O,w=Math.max(w,O)}const E=new Uint8Array(r);let C=0,T,A;for(T=0;T<w;T++)for(A=0;A<s;A++)T<y[A].length&&(E[C++]=y[A][T]);for(T=0;T<p;T++)for(A=0;A<s;A++)E[C++]=v[A][T];return E}function IRe(e,t,n,r){let i;if(Array.isArray(e))i=V6.fromArray(e);else if(typeof e=="string"){let l=t;if(!l){const d=V6.rawSplit(e);l=D2.getBestVersionForData(d,n)}i=V6.fromString(e,l||40)}else throw new Error("Invalid data");const o=D2.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=o;else if(t<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=ERe(t,n,i),a=E3.getSymbolSize(t),c=new pRe(a);return wRe(c,t),_Re(c),xRe(c,t),H6(c,n,0),t>=7&&kRe(c,t),SRe(c,s),isNaN(r)&&(r=FI.getBestMask(c,H6.bind(null,c,n))),FI.applyMask(r,c),H6(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:i}}_Z.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=q6.M,i,o;return typeof n<"u"&&(r=q6.from(n.errorCorrectionLevel,q6.M),i=D2.from(n.version),o=FI.from(n.maskPattern),n.toSJISFunc&&E3.setToSJISFunction(n.toSJISFunc)),IRe(t,i,r,o)};var jZ={},PT={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const o=e.getScale(r,i);return Math.floor((r+i.margin*2)*o)},e.qrToImageData=function(r,i,o){const s=i.modules.size,a=i.modules.data,c=e.getScale(s,o),l=Math.floor((s+o.margin*2)*c),d=o.margin*c,f=[o.color.light,o.color.dark];for(let p=0;p<l;p++)for(let m=0;m<l;m++){let g=(p*l+m)*4,y=o.color.light;if(p>=d&&m>=d&&p<l-d&&m<l-d){const v=Math.floor((p-d)/c),w=Math.floor((m-d)/c);y=f[a[v*s+w]?1:0]}r[g++]=y.r,r[g++]=y.g,r[g++]=y.b,r[g]=y.a}}})(PT);(function(e){const t=PT;function n(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(o,s,a){let c=a,l=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(l=r()),c=t.getOptions(c);const d=t.getImageWidth(o.modules.size,c),f=l.getContext("2d"),p=f.createImageData(d,d);return t.qrToImageData(p.data,o,c),n(f,l,d),f.putImageData(p,0,0),l},e.renderToDataURL=function(o,s,a){let c=a;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const l=e.render(o,s,c),d=c.type||"image/png",f=c.rendererOpts||{};return l.toDataURL(d,f.quality)}})(jZ);var BZ={};const ARe=PT;function ZB(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function K6(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function TRe(e,t,n){let r="",i=0,o=!1,s=0;for(let a=0;a<e.length;a++){const c=Math.floor(a%t),l=Math.floor(a/t);!c&&!o&&(o=!0),e[a]?(s++,a>0&&c>0&&e[a-1]||(r+=o?K6("M",c+n,.5+l+n):K6("m",i,0),i=0,o=!1),c+1<t&&e[a+1]||(r+=K6("h",s),s=0)):i++}return r}BZ.render=function(t,n,r){const i=ARe.getOptions(n),o=t.modules.size,s=t.modules.data,a=o+i.margin*2,c=i.color.light.a?"<path "+ZB(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+ZB(i.color.dark,"stroke")+' d="'+TRe(s,o,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,p),p};const RRe=zTe,zI=_Z,$Z=jZ,PRe=BZ;function OT(e,t,n,r,i){const o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!RRe())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=n,n=t,t=r=void 0):s===3&&(t.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=t,t=r=void 0):s===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(c,l){try{const d=zI.create(n,r);c(e(d,t,r))}catch(d){l(d)}})}try{const c=zI.create(n,r);i(null,e(c,t,r))}catch(c){i(c)}}q0.create=zI.create;q0.toCanvas=OT.bind(null,$Z.render);q0.toDataURL=OT.bind(null,$Z.renderToDataURL);q0.toString=OT.bind(null,function(e,t,n){return PRe.render(e,n)});var JB=Array.isArray,YB=Object.keys,ORe=Object.prototype.hasOwnProperty,NRe=typeof Element<"u";function qI(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=JB(e),r=JB(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!qI(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=e instanceof Date,c=t instanceof Date;if(a!=c)return!1;if(a&&c)return e.getTime()==t.getTime();var l=e instanceof RegExp,d=t instanceof RegExp;if(l!=d)return!1;if(l&&d)return e.toString()==t.toString();var f=YB(e);if(o=f.length,o!==YB(t).length)return!1;for(i=o;i--!==0;)if(!ORe.call(t,f[i]))return!1;if(NRe&&e instanceof Element&&t instanceof Element)return e===t;for(i=o;i--!==0;)if(s=f[i],!(s==="_owner"&&e.$$typeof)&&!qI(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var jRe=function(t,n){try{return qI(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Uh=qo(jRe);var BRe=function(t){return $Re(t)&&!MRe(t)};function $Re(e){return!!e&&typeof e=="object"}function MRe(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||URe(e)}var DRe=typeof Symbol=="function"&&Symbol.for,LRe=DRe?Symbol.for("react.element"):60103;function URe(e){return e.$$typeof===LRe}function FRe(e){return Array.isArray(e)?[]:{}}function L2(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Tb(FRe(e),e,t):e}function WRe(e,t,n){return e.concat(t).map(function(r){return L2(r,n)})}function zRe(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=L2(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=L2(t[i],n):r[i]=Tb(e[i],t[i],n)}),r}function Tb(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||WRe,n.isMergeableObject=n.isMergeableObject||BRe;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):zRe(e,t,n):L2(t,n)}Tb.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return Tb(r,i,n)},{})};var VI=Tb,MZ=typeof global=="object"&&global&&global.Object===Object&&global,qRe=typeof self=="object"&&self&&self.Object===Object&&self,Ed=MZ||qRe||Function("return this")(),zf=Ed.Symbol,DZ=Object.prototype,VRe=DZ.hasOwnProperty,HRe=DZ.toString,zy=zf?zf.toStringTag:void 0;function KRe(e){var t=VRe.call(e,zy),n=e[zy];try{e[zy]=void 0;var r=!0}catch{}var i=HRe.call(e);return r&&(t?e[zy]=n:delete e[zy]),i}var GRe=Object.prototype,ZRe=GRe.toString;function JRe(e){return ZRe.call(e)}var YRe="[object Null]",XRe="[object Undefined]",XB=zf?zf.toStringTag:void 0;function Up(e){return e==null?e===void 0?XRe:YRe:XB&&XB in Object(e)?KRe(e):JRe(e)}function LZ(e,t){return function(n){return e(t(n))}}var NT=LZ(Object.getPrototypeOf,Object);function Fp(e){return e!=null&&typeof e=="object"}var QRe="[object Object]",ePe=Function.prototype,tPe=Object.prototype,UZ=ePe.toString,nPe=tPe.hasOwnProperty,rPe=UZ.call(Object);function QB(e){if(!Fp(e)||Up(e)!=QRe)return!1;var t=NT(e);if(t===null)return!0;var n=nPe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&UZ.call(n)==rPe}function iPe(){this.__data__=[],this.size=0}function FZ(e,t){return e===t||e!==e&&t!==t}function C3(e,t){for(var n=e.length;n--;)if(FZ(e[n][0],t))return n;return-1}var oPe=Array.prototype,sPe=oPe.splice;function aPe(e){var t=this.__data__,n=C3(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():sPe.call(t,n,1),--this.size,!0}function cPe(e){var t=this.__data__,n=C3(t,e);return n<0?void 0:t[n][1]}function lPe(e){return C3(this.__data__,e)>-1}function dPe(e,t){var n=this.__data__,r=C3(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Uu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Uu.prototype.clear=iPe;Uu.prototype.delete=aPe;Uu.prototype.get=cPe;Uu.prototype.has=lPe;Uu.prototype.set=dPe;function uPe(){this.__data__=new Uu,this.size=0}function fPe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function hPe(e){return this.__data__.get(e)}function pPe(e){return this.__data__.has(e)}function R1(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var mPe="[object AsyncFunction]",gPe="[object Function]",yPe="[object GeneratorFunction]",vPe="[object Proxy]";function WZ(e){if(!R1(e))return!1;var t=Up(e);return t==gPe||t==yPe||t==mPe||t==vPe}var G6=Ed["__core-js_shared__"],e$=function(){var e=/[^.]+$/.exec(G6&&G6.keys&&G6.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bPe(e){return!!e$&&e$ in e}var wPe=Function.prototype,_Pe=wPe.toString;function Wp(e){if(e!=null){try{return _Pe.call(e)}catch{}try{return e+""}catch{}}return""}var xPe=/[\\^$.*+?()[\]{}|]/g,kPe=/^\[object .+?Constructor\]$/,SPe=Function.prototype,EPe=Object.prototype,CPe=SPe.toString,IPe=EPe.hasOwnProperty,APe=RegExp("^"+CPe.call(IPe).replace(xPe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TPe(e){if(!R1(e)||bPe(e))return!1;var t=WZ(e)?APe:kPe;return t.test(Wp(e))}function RPe(e,t){return e==null?void 0:e[t]}function zp(e,t){var n=RPe(e,t);return TPe(n)?n:void 0}var Rb=zp(Ed,"Map"),Pb=zp(Object,"create");function PPe(){this.__data__=Pb?Pb(null):{},this.size=0}function OPe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var NPe="__lodash_hash_undefined__",jPe=Object.prototype,BPe=jPe.hasOwnProperty;function $Pe(e){var t=this.__data__;if(Pb){var n=t[e];return n===NPe?void 0:n}return BPe.call(t,e)?t[e]:void 0}var MPe=Object.prototype,DPe=MPe.hasOwnProperty;function LPe(e){var t=this.__data__;return Pb?t[e]!==void 0:DPe.call(t,e)}var UPe="__lodash_hash_undefined__";function FPe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pb&&t===void 0?UPe:t,this}function Ep(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ep.prototype.clear=PPe;Ep.prototype.delete=OPe;Ep.prototype.get=$Pe;Ep.prototype.has=LPe;Ep.prototype.set=FPe;function WPe(){this.size=0,this.__data__={hash:new Ep,map:new(Rb||Uu),string:new Ep}}function zPe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function I3(e,t){var n=e.__data__;return zPe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function qPe(e){var t=I3(this,e).delete(e);return this.size-=t?1:0,t}function VPe(e){return I3(this,e).get(e)}function HPe(e){return I3(this,e).has(e)}function KPe(e,t){var n=I3(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function sh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sh.prototype.clear=WPe;sh.prototype.delete=qPe;sh.prototype.get=VPe;sh.prototype.has=HPe;sh.prototype.set=KPe;var GPe=200;function ZPe(e,t){var n=this.__data__;if(n instanceof Uu){var r=n.__data__;if(!Rb||r.length<GPe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new sh(r)}return n.set(e,t),this.size=n.size,this}function V0(e){var t=this.__data__=new Uu(e);this.size=t.size}V0.prototype.clear=uPe;V0.prototype.delete=fPe;V0.prototype.get=hPe;V0.prototype.has=pPe;V0.prototype.set=ZPe;function JPe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var t$=function(){try{var e=zp(Object,"defineProperty");return e({},"",{}),e}catch{}}();function zZ(e,t,n){t=="__proto__"&&t$?t$(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var YPe=Object.prototype,XPe=YPe.hasOwnProperty;function qZ(e,t,n){var r=e[t];(!(XPe.call(e,t)&&FZ(r,n))||n===void 0&&!(t in e))&&zZ(e,t,n)}function A3(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=void 0;c===void 0&&(c=e[a]),i?zZ(n,a,c):qZ(n,a,c)}return n}function QPe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var eOe="[object Arguments]";function n$(e){return Fp(e)&&Up(e)==eOe}var VZ=Object.prototype,tOe=VZ.hasOwnProperty,nOe=VZ.propertyIsEnumerable,rOe=n$(function(){return arguments}())?n$:function(e){return Fp(e)&&tOe.call(e,"callee")&&!nOe.call(e,"callee")},P1=Array.isArray;function iOe(){return!1}var HZ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,r$=HZ&&typeof module=="object"&&module&&!module.nodeType&&module,oOe=r$&&r$.exports===HZ,i$=oOe?Ed.Buffer:void 0,sOe=i$?i$.isBuffer:void 0,KZ=sOe||iOe,aOe=9007199254740991,cOe=/^(?:0|[1-9]\d*)$/;function lOe(e,t){var n=typeof e;return t=t??aOe,!!t&&(n=="number"||n!="symbol"&&cOe.test(e))&&e>-1&&e%1==0&&e<t}var dOe=9007199254740991;function GZ(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=dOe}var uOe="[object Arguments]",fOe="[object Array]",hOe="[object Boolean]",pOe="[object Date]",mOe="[object Error]",gOe="[object Function]",yOe="[object Map]",vOe="[object Number]",bOe="[object Object]",wOe="[object RegExp]",_Oe="[object Set]",xOe="[object String]",kOe="[object WeakMap]",SOe="[object ArrayBuffer]",EOe="[object DataView]",COe="[object Float32Array]",IOe="[object Float64Array]",AOe="[object Int8Array]",TOe="[object Int16Array]",ROe="[object Int32Array]",POe="[object Uint8Array]",OOe="[object Uint8ClampedArray]",NOe="[object Uint16Array]",jOe="[object Uint32Array]",qi={};qi[COe]=qi[IOe]=qi[AOe]=qi[TOe]=qi[ROe]=qi[POe]=qi[OOe]=qi[NOe]=qi[jOe]=!0;qi[uOe]=qi[fOe]=qi[SOe]=qi[hOe]=qi[EOe]=qi[pOe]=qi[mOe]=qi[gOe]=qi[yOe]=qi[vOe]=qi[bOe]=qi[wOe]=qi[_Oe]=qi[xOe]=qi[kOe]=!1;function BOe(e){return Fp(e)&&GZ(e.length)&&!!qi[Up(e)]}function jT(e){return function(t){return e(t)}}var ZZ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Av=ZZ&&typeof module=="object"&&module&&!module.nodeType&&module,$Oe=Av&&Av.exports===ZZ,Z6=$Oe&&MZ.process,d0=function(){try{var e=Av&&Av.require&&Av.require("util").types;return e||Z6&&Z6.binding&&Z6.binding("util")}catch{}}(),o$=d0&&d0.isTypedArray,MOe=o$?jT(o$):BOe,DOe=Object.prototype,LOe=DOe.hasOwnProperty;function JZ(e,t){var n=P1(e),r=!n&&rOe(e),i=!n&&!r&&KZ(e),o=!n&&!r&&!i&&MOe(e),s=n||r||i||o,a=s?QPe(e.length,String):[],c=a.length;for(var l in e)(t||LOe.call(e,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||lOe(l,c)))&&a.push(l);return a}var UOe=Object.prototype;function BT(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||UOe;return e===n}var FOe=LZ(Object.keys,Object),WOe=Object.prototype,zOe=WOe.hasOwnProperty;function qOe(e){if(!BT(e))return FOe(e);var t=[];for(var n in Object(e))zOe.call(e,n)&&n!="constructor"&&t.push(n);return t}function YZ(e){return e!=null&&GZ(e.length)&&!WZ(e)}function $T(e){return YZ(e)?JZ(e):qOe(e)}function VOe(e,t){return e&&A3(t,$T(t),e)}function HOe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var KOe=Object.prototype,GOe=KOe.hasOwnProperty;function ZOe(e){if(!R1(e))return HOe(e);var t=BT(e),n=[];for(var r in e)r=="constructor"&&(t||!GOe.call(e,r))||n.push(r);return n}function MT(e){return YZ(e)?JZ(e,!0):ZOe(e)}function JOe(e,t){return e&&A3(t,MT(t),e)}var XZ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,s$=XZ&&typeof module=="object"&&module&&!module.nodeType&&module,YOe=s$&&s$.exports===XZ,a$=YOe?Ed.Buffer:void 0,c$=a$?a$.allocUnsafe:void 0;function XOe(e,t){if(t)return e.slice();var n=e.length,r=c$?c$(n):new e.constructor(n);return e.copy(r),r}function QZ(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function QOe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function eJ(){return[]}var eNe=Object.prototype,tNe=eNe.propertyIsEnumerable,l$=Object.getOwnPropertySymbols,DT=l$?function(e){return e==null?[]:(e=Object(e),QOe(l$(e),function(t){return tNe.call(e,t)}))}:eJ;function nNe(e,t){return A3(e,DT(e),t)}function tJ(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var rNe=Object.getOwnPropertySymbols,nJ=rNe?function(e){for(var t=[];e;)tJ(t,DT(e)),e=NT(e);return t}:eJ;function iNe(e,t){return A3(e,nJ(e),t)}function rJ(e,t,n){var r=t(e);return P1(e)?r:tJ(r,n(e))}function oNe(e){return rJ(e,$T,DT)}function sNe(e){return rJ(e,MT,nJ)}var HI=zp(Ed,"DataView"),KI=zp(Ed,"Promise"),GI=zp(Ed,"Set"),ZI=zp(Ed,"WeakMap"),d$="[object Map]",aNe="[object Object]",u$="[object Promise]",f$="[object Set]",h$="[object WeakMap]",p$="[object DataView]",cNe=Wp(HI),lNe=Wp(Rb),dNe=Wp(KI),uNe=Wp(GI),fNe=Wp(ZI),lu=Up;(HI&&lu(new HI(new ArrayBuffer(1)))!=p$||Rb&&lu(new Rb)!=d$||KI&&lu(KI.resolve())!=u$||GI&&lu(new GI)!=f$||ZI&&lu(new ZI)!=h$)&&(lu=function(e){var t=Up(e),n=t==aNe?e.constructor:void 0,r=n?Wp(n):"";if(r)switch(r){case cNe:return p$;case lNe:return d$;case dNe:return u$;case uNe:return f$;case fNe:return h$}return t});var hNe=Object.prototype,pNe=hNe.hasOwnProperty;function mNe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&pNe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var m$=Ed.Uint8Array;function LT(e){var t=new e.constructor(e.byteLength);return new m$(t).set(new m$(e)),t}function gNe(e,t){var n=t?LT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var yNe=/\w*$/;function vNe(e){var t=new e.constructor(e.source,yNe.exec(e));return t.lastIndex=e.lastIndex,t}var g$=zf?zf.prototype:void 0,y$=g$?g$.valueOf:void 0;function bNe(e){return y$?Object(y$.call(e)):{}}function wNe(e,t){var n=t?LT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var _Ne="[object Boolean]",xNe="[object Date]",kNe="[object Map]",SNe="[object Number]",ENe="[object RegExp]",CNe="[object Set]",INe="[object String]",ANe="[object Symbol]",TNe="[object ArrayBuffer]",RNe="[object DataView]",PNe="[object Float32Array]",ONe="[object Float64Array]",NNe="[object Int8Array]",jNe="[object Int16Array]",BNe="[object Int32Array]",$Ne="[object Uint8Array]",MNe="[object Uint8ClampedArray]",DNe="[object Uint16Array]",LNe="[object Uint32Array]";function UNe(e,t,n){var r=e.constructor;switch(t){case TNe:return LT(e);case _Ne:case xNe:return new r(+e);case RNe:return gNe(e,n);case PNe:case ONe:case NNe:case jNe:case BNe:case $Ne:case MNe:case DNe:case LNe:return wNe(e,n);case kNe:return new r;case SNe:case INe:return new r(e);case ENe:return vNe(e);case CNe:return new r;case ANe:return bNe(e)}}var v$=Object.create,FNe=function(){function e(){}return function(t){if(!R1(t))return{};if(v$)return v$(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function WNe(e){return typeof e.constructor=="function"&&!BT(e)?FNe(NT(e)):{}}var zNe="[object Map]";function qNe(e){return Fp(e)&&lu(e)==zNe}var b$=d0&&d0.isMap,VNe=b$?jT(b$):qNe,HNe="[object Set]";function KNe(e){return Fp(e)&&lu(e)==HNe}var w$=d0&&d0.isSet,GNe=w$?jT(w$):KNe,ZNe=1,JNe=2,YNe=4,iJ="[object Arguments]",XNe="[object Array]",QNe="[object Boolean]",e9e="[object Date]",t9e="[object Error]",oJ="[object Function]",n9e="[object GeneratorFunction]",r9e="[object Map]",i9e="[object Number]",sJ="[object Object]",o9e="[object RegExp]",s9e="[object Set]",a9e="[object String]",c9e="[object Symbol]",l9e="[object WeakMap]",d9e="[object ArrayBuffer]",u9e="[object DataView]",f9e="[object Float32Array]",h9e="[object Float64Array]",p9e="[object Int8Array]",m9e="[object Int16Array]",g9e="[object Int32Array]",y9e="[object Uint8Array]",v9e="[object Uint8ClampedArray]",b9e="[object Uint16Array]",w9e="[object Uint32Array]",$i={};$i[iJ]=$i[XNe]=$i[d9e]=$i[u9e]=$i[QNe]=$i[e9e]=$i[f9e]=$i[h9e]=$i[p9e]=$i[m9e]=$i[g9e]=$i[r9e]=$i[i9e]=$i[sJ]=$i[o9e]=$i[s9e]=$i[a9e]=$i[c9e]=$i[y9e]=$i[v9e]=$i[b9e]=$i[w9e]=!0;$i[t9e]=$i[oJ]=$i[l9e]=!1;function Bx(e,t,n,r,i,o){var s,a=t&ZNe,c=t&JNe,l=t&YNe;if(s!==void 0)return s;if(!R1(e))return e;var d=P1(e);if(d){if(s=mNe(e),!a)return QZ(e,s)}else{var f=lu(e),p=f==oJ||f==n9e;if(KZ(e))return XOe(e,a);if(f==sJ||f==iJ||p&&!i){if(s=c||p?{}:WNe(e),!a)return c?iNe(e,JOe(s,e)):nNe(e,VOe(s,e))}else{if(!$i[f])return i?e:{};s=UNe(e,f,a)}}o||(o=new V0);var m=o.get(e);if(m)return m;o.set(e,s),GNe(e)?e.forEach(function(v){s.add(Bx(v,t,n,v,e,o))}):VNe(e)&&e.forEach(function(v,w){s.set(w,Bx(v,t,n,w,e,o))});var g=l?c?sNe:oNe:c?MT:$T,y=d?void 0:g(e);return JPe(y||e,function(v,w){y&&(w=v,v=e[w]),qZ(s,w,Bx(v,t,n,w,e,o))}),s}var _9e=4;function _$(e){return Bx(e,_9e)}function aJ(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var x9e="[object Symbol]";function UT(e){return typeof e=="symbol"||Fp(e)&&Up(e)==x9e}var k9e="Expected a function";function FT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(k9e);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(FT.Cache||sh),n}FT.Cache=sh;var S9e=500;function E9e(e){var t=FT(e,function(r){return n.size===S9e&&n.clear(),r}),n=t.cache;return t}var C9e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I9e=/\\(\\)?/g,A9e=E9e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(C9e,function(n,r,i,o){t.push(i?o.replace(I9e,"$1"):r||n)}),t}),T9e=1/0;function R9e(e){if(typeof e=="string"||UT(e))return e;var t=e+"";return t=="0"&&1/e==-T9e?"-0":t}var P9e=1/0,x$=zf?zf.prototype:void 0,k$=x$?x$.toString:void 0;function cJ(e){if(typeof e=="string")return e;if(P1(e))return aJ(e,cJ)+"";if(UT(e))return k$?k$.call(e):"";var t=e+"";return t=="0"&&1/e==-P9e?"-0":t}function O9e(e){return e==null?"":cJ(e)}function lJ(e){return P1(e)?aJ(e,R9e):UT(e)?[e]:QZ(A9e(O9e(e)))}function ro(){return ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ro.apply(this,arguments)}function mg(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Ka=function(t){return typeof t=="function"},T3=function(t){return t!==null&&typeof t=="object"},N9e=function(t){return String(Math.floor(Number(t)))===t},J6=function(t){return Object.prototype.toString.call(t)==="[object String]"},j9e=function(t){return k.Children.count(t)===0},Y6=function(t){return T3(t)&&Ka(t.then)};function Ac(e,t,n,r){r===void 0&&(r=0);for(var i=lJ(t);e&&r<i.length;)e=e[i[r++]];return e===void 0?n:e}function sp(e,t,n){for(var r=_$(e),i=r,o=0,s=lJ(t);o<s.length-1;o++){var a=s[o],c=Ac(e,s.slice(0,o+1));if(c&&(T3(c)||Array.isArray(c)))i=i[a]=_$(c);else{var l=s[o+1];i=i[a]=N9e(l)&&Number(l)>=0?[]:{}}}return(o===0?e:i)[s[o]]===n?e:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function dJ(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var s=o[i],a=e[s];T3(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},dJ(a,t,n,r[s])):r[s]=t}return r}var R3=k.createContext(void 0);R3.displayName="FormikContext";var B9e=R3.Provider;R3.Consumer;function uJ(){var e=k.useContext(R3);return e}function $9e(e,t){switch(t.type){case"SET_VALUES":return ro({},e,{values:t.payload});case"SET_TOUCHED":return ro({},e,{touched:t.payload});case"SET_ERRORS":return Uh(e.errors,t.payload)?e:ro({},e,{errors:t.payload});case"SET_STATUS":return ro({},e,{status:t.payload});case"SET_ISSUBMITTING":return ro({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return ro({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return ro({},e,{values:sp(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return ro({},e,{touched:sp(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return ro({},e,{errors:sp(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return ro({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return ro({},e,{touched:dJ(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return ro({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ro({},e,{isSubmitting:!1});default:return e}}var Ph={},F_={};function M9e(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,o=e.validateOnMount,s=o===void 0?!1:o,a=e.isInitialValid,c=e.enableReinitialize,l=c===void 0?!1:c,d=e.onSubmit,f=mg(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=ro({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:d},f),m=k.useRef(p.initialValues),g=k.useRef(p.initialErrors||Ph),y=k.useRef(p.initialTouched||F_),v=k.useRef(p.initialStatus),w=k.useRef(!1),_=k.useRef({});k.useEffect(function(){return w.current=!0,function(){w.current=!1}},[]);var E=k.useReducer($9e,{values:p.initialValues,errors:p.initialErrors||Ph,touched:p.initialTouched||F_,status:p.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),C=E[0],T=E[1],A=k.useCallback(function(ve,Ue){return new Promise(function(Qe,Ze){var it=p.validate(ve,Ue);it==null?Qe(Ph):Y6(it)?it.then(function(It){Qe(It||Ph)},function(It){Ze(It)}):Qe(it)})},[p.validate]),S=k.useCallback(function(ve,Ue){var Qe=p.validationSchema,Ze=Ka(Qe)?Qe(Ue):Qe,it=Ue&&Ze.validateAt?Ze.validateAt(Ue,ve):L9e(ve,Ze);return new Promise(function(It,kt){it.then(function(){It(Ph)},function(St){St.name==="ValidationError"?It(D9e(St)):kt(St)})})},[p.validationSchema]),O=k.useCallback(function(ve,Ue){return new Promise(function(Qe){return Qe(_.current[ve].validate(Ue))})},[]),D=k.useCallback(function(ve){var Ue=Object.keys(_.current).filter(function(Ze){return Ka(_.current[Ze].validate)}),Qe=Ue.length>0?Ue.map(function(Ze){return O(Ze,Ac(ve,Ze))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Qe).then(function(Ze){return Ze.reduce(function(it,It,kt){return It==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||It&&(it=sp(it,Ue[kt],It)),it},{})})},[O]),K=k.useCallback(function(ve){return Promise.all([D(ve),p.validationSchema?S(ve):{},p.validate?A(ve):{}]).then(function(Ue){var Qe=Ue[0],Ze=Ue[1],it=Ue[2],It=VI.all([Qe,Ze,it],{arrayMerge:U9e});return It})},[p.validate,p.validationSchema,D,A,S]),H=xc(function(ve){return ve===void 0&&(ve=C.values),T({type:"SET_ISVALIDATING",payload:!0}),K(ve).then(function(Ue){return w.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:Ue})),Ue})});k.useEffect(function(){s&&w.current===!0&&Uh(m.current,p.initialValues)&&H(m.current)},[s,H]);var X=k.useCallback(function(ve){var Ue=ve&&ve.values?ve.values:m.current,Qe=ve&&ve.errors?ve.errors:g.current?g.current:p.initialErrors||{},Ze=ve&&ve.touched?ve.touched:y.current?y.current:p.initialTouched||{},it=ve&&ve.status?ve.status:v.current?v.current:p.initialStatus;m.current=Ue,g.current=Qe,y.current=Ze,v.current=it;var It=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!ve&&!!ve.isSubmitting,errors:Qe,touched:Ze,status:it,values:Ue,isValidating:!!ve&&!!ve.isValidating,submitCount:ve&&ve.submitCount&&typeof ve.submitCount=="number"?ve.submitCount:0}})};if(p.onReset){var kt=p.onReset(C.values,J);Y6(kt)?kt.then(It):It()}else It()},[p.initialErrors,p.initialStatus,p.initialTouched]);k.useEffect(function(){w.current===!0&&!Uh(m.current,p.initialValues)&&(l&&(m.current=p.initialValues,X()),s&&H(m.current))},[l,p.initialValues,X,s,H]),k.useEffect(function(){l&&w.current===!0&&!Uh(g.current,p.initialErrors)&&(g.current=p.initialErrors||Ph,T({type:"SET_ERRORS",payload:p.initialErrors||Ph}))},[l,p.initialErrors]),k.useEffect(function(){l&&w.current===!0&&!Uh(y.current,p.initialTouched)&&(y.current=p.initialTouched||F_,T({type:"SET_TOUCHED",payload:p.initialTouched||F_}))},[l,p.initialTouched]),k.useEffect(function(){l&&w.current===!0&&!Uh(v.current,p.initialStatus)&&(v.current=p.initialStatus,T({type:"SET_STATUS",payload:p.initialStatus}))},[l,p.initialStatus,p.initialTouched]);var U=xc(function(ve){if(_.current[ve]&&Ka(_.current[ve].validate)){var Ue=Ac(C.values,ve),Qe=_.current[ve].validate(Ue);return Y6(Qe)?(T({type:"SET_ISVALIDATING",payload:!0}),Qe.then(function(Ze){return Ze}).then(function(Ze){T({type:"SET_FIELD_ERROR",payload:{field:ve,value:Ze}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:ve,value:Qe}}),Promise.resolve(Qe))}else if(p.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),S(C.values,ve).then(function(Ze){return Ze}).then(function(Ze){T({type:"SET_FIELD_ERROR",payload:{field:ve,value:Ze[ve]}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),I=k.useCallback(function(ve,Ue){var Qe=Ue.validate;_.current[ve]={validate:Qe}},[]),x=k.useCallback(function(ve){delete _.current[ve]},[]),P=xc(function(ve,Ue){T({type:"SET_TOUCHED",payload:ve});var Qe=Ue===void 0?i:Ue;return Qe?H(C.values):Promise.resolve()}),N=k.useCallback(function(ve){T({type:"SET_ERRORS",payload:ve})},[]),$=xc(function(ve,Ue){var Qe=Ka(ve)?ve(C.values):ve;T({type:"SET_VALUES",payload:Qe});var Ze=Ue===void 0?n:Ue;return Ze?H(Qe):Promise.resolve()}),L=k.useCallback(function(ve,Ue){T({type:"SET_FIELD_ERROR",payload:{field:ve,value:Ue}})},[]),z=xc(function(ve,Ue,Qe){T({type:"SET_FIELD_VALUE",payload:{field:ve,value:Ue}});var Ze=Qe===void 0?n:Qe;return Ze?H(sp(C.values,ve,Ue)):Promise.resolve()}),q=k.useCallback(function(ve,Ue){var Qe=Ue,Ze=ve,it;if(!J6(ve)){ve.persist&&ve.persist();var It=ve.target?ve.target:ve.currentTarget,kt=It.type,St=It.name,Dn=It.id,fn=It.value,cn=It.checked,Cr=It.outerHTML,Pn=It.options,jn=It.multiple;Qe=Ue||St||Dn,Ze=/number|range/.test(kt)?(it=parseFloat(fn),isNaN(it)?"":it):/checkbox/.test(kt)?W9e(Ac(C.values,Qe),cn,fn):Pn&&jn?F9e(Pn):fn}Qe&&z(Qe,Ze)},[z,C.values]),j=xc(function(ve){if(J6(ve))return function(Ue){return q(Ue,ve)};q(ve)}),W=xc(function(ve,Ue,Qe){Ue===void 0&&(Ue=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:ve,value:Ue}});var Ze=Qe===void 0?i:Qe;return Ze?H(C.values):Promise.resolve()}),re=k.useCallback(function(ve,Ue){ve.persist&&ve.persist();var Qe=ve.target,Ze=Qe.name,it=Qe.id,It=Qe.outerHTML,kt=Ue||Ze||it;W(kt,!0)},[W]),de=xc(function(ve){if(J6(ve))return function(Ue){return re(Ue,ve)};re(ve)}),te=k.useCallback(function(ve){Ka(ve)?T({type:"SET_FORMIK_STATE",payload:ve}):T({type:"SET_FORMIK_STATE",payload:function(){return ve}})},[]),ce=k.useCallback(function(ve){T({type:"SET_STATUS",payload:ve})},[]),ge=k.useCallback(function(ve){T({type:"SET_ISSUBMITTING",payload:ve})},[]),Ce=xc(function(){return T({type:"SUBMIT_ATTEMPT"}),H().then(function(ve){var Ue=ve instanceof Error,Qe=!Ue&&Object.keys(ve).length===0;if(Qe){var Ze;try{if(Ze=G(),Ze===void 0)return}catch(it){throw it}return Promise.resolve(Ze).then(function(it){return w.current&&T({type:"SUBMIT_SUCCESS"}),it}).catch(function(it){if(w.current)throw T({type:"SUBMIT_FAILURE"}),it})}else if(w.current&&(T({type:"SUBMIT_FAILURE"}),Ue))throw ve})}),qe=xc(function(ve){ve&&ve.preventDefault&&Ka(ve.preventDefault)&&ve.preventDefault(),ve&&ve.stopPropagation&&Ka(ve.stopPropagation)&&ve.stopPropagation(),Ce().catch(function(Ue){console.warn("Warning: An unhandled error was caught from submitForm()",Ue)})}),J={resetForm:X,validateForm:H,validateField:U,setErrors:N,setFieldError:L,setFieldTouched:W,setFieldValue:z,setStatus:ce,setSubmitting:ge,setTouched:P,setValues:$,setFormikState:te,submitForm:Ce},G=xc(function(){return d(C.values,J)}),we=xc(function(ve){ve&&ve.preventDefault&&Ka(ve.preventDefault)&&ve.preventDefault(),ve&&ve.stopPropagation&&Ka(ve.stopPropagation)&&ve.stopPropagation(),X()}),$e=k.useCallback(function(ve){return{value:Ac(C.values,ve),error:Ac(C.errors,ve),touched:!!Ac(C.touched,ve),initialValue:Ac(m.current,ve),initialTouched:!!Ac(y.current,ve),initialError:Ac(g.current,ve)}},[C.errors,C.touched,C.values]),yt=k.useCallback(function(ve){return{setValue:function(Qe,Ze){return z(ve,Qe,Ze)},setTouched:function(Qe,Ze){return W(ve,Qe,Ze)},setError:function(Qe){return L(ve,Qe)}}},[z,W,L]),Gt=k.useCallback(function(ve){var Ue=T3(ve),Qe=Ue?ve.name:ve,Ze=Ac(C.values,Qe),it={name:Qe,value:Ze,onChange:j,onBlur:de};if(Ue){var It=ve.type,kt=ve.value,St=ve.as,Dn=ve.multiple;It==="checkbox"?kt===void 0?it.checked=!!Ze:(it.checked=!!(Array.isArray(Ze)&&~Ze.indexOf(kt)),it.value=kt):It==="radio"?(it.checked=Ze===kt,it.value=kt):St==="select"&&Dn&&(it.value=it.value||[],it.multiple=!0)}return it},[de,j,C.values]),_t=k.useMemo(function(){return!Uh(m.current,C.values)},[m.current,C.values]),Rn=k.useMemo(function(){return typeof a<"u"?_t?C.errors&&Object.keys(C.errors).length===0:a!==!1&&Ka(a)?a(p):a:C.errors&&Object.keys(C.errors).length===0},[a,_t,C.errors,p]),mr=ro({},C,{initialValues:m.current,initialErrors:g.current,initialTouched:y.current,initialStatus:v.current,handleBlur:de,handleChange:j,handleReset:we,handleSubmit:qe,resetForm:X,setErrors:N,setFormikState:te,setFieldTouched:W,setFieldValue:z,setFieldError:L,setStatus:ce,setSubmitting:ge,setTouched:P,setValues:$,submitForm:Ce,validateForm:H,validateField:U,isValid:Rn,dirty:_t,unregisterField:x,registerField:I,getFieldProps:Gt,getFieldMeta:$e,getFieldHelpers:yt,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return mr}function P3(e){var t=M9e(e),n=e.component,r=e.children,i=e.render,o=e.innerRef;return k.useImperativeHandle(o,function(){return t}),k.createElement(B9e,{value:t},n?k.createElement(n,t):i?i(t):r?Ka(r)?r(t):j9e(r)?null:k.Children.only(r):null)}function D9e(e){var t={};if(e.inner){if(e.inner.length===0)return sp(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;Ac(t,s.path)||(t=sp(t,s.path,s.message))}}return t}function L9e(e,t,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var i=JI(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}function JI(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||QB(i)?JI(i):i!==""?i:void 0}):QB(e[r])?t[r]=JI(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function U9e(e,t,n){var r=e.slice();return t.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,c=a&&n.isMergeableObject(o);r[s]=c?VI(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=VI(e[s],o,n):e.indexOf(o)===-1&&r.push(o)}),r}function F9e(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function W9e(e,t,n){if(typeof e=="boolean")return!!t;var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,o=e.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var z9e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k.useLayoutEffect:k.useEffect;function xc(e){var t=k.useRef(e);return z9e(function(){t.current=e}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}function qf(e){var t=e.validate,n=e.name,r=e.render,i=e.children,o=e.as,s=e.component,a=mg(e,["validate","name","render","children","as","component"]),c=uJ(),l=mg(c,["validate","validationSchema"]),d=l.registerField,f=l.unregisterField;k.useEffect(function(){return d(n,{validate:t}),function(){f(n)}},[d,f,n,t]);var p=l.getFieldProps(ro({name:n},a)),m=l.getFieldMeta(n),g={field:p,form:l};if(r)return r(ro({},g,{meta:m}));if(Ka(i))return i(ro({},g,{meta:m}));if(s){if(typeof s=="string"){var y=a.innerRef,v=mg(a,["innerRef"]);return k.createElement(s,ro({ref:y},p,v),i)}return k.createElement(s,ro({field:p,form:l},a),i)}var w=o||"input";if(typeof w=="string"){var _=a.innerRef,E=mg(a,["innerRef"]);return k.createElement(w,ro({ref:_},p,E),i)}return k.createElement(w,ro({},p,a),i)}var O1=k.forwardRef(function(e,t){var n=e.action,r=mg(e,["action"]),i=n??"#",o=uJ(),s=o.handleReset,a=o.handleSubmit;return k.createElement("form",Object.assign({onSubmit:a,ref:t,onReset:s,action:i},r))});O1.displayName="Form";var S$,q9e=["title","titleId"];function YI(){return YI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YI.apply(this,arguments)}function V9e(e,t){if(e==null)return{};var n=H9e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function H9e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var K9e=function(t){var n=t.title,r=t.titleId,i=V9e(t,q9e);return k.createElement("svg",YI({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,S$||(S$=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.667 2.667a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-5.333 4a5.333 5.333 0 1 1 9.546 3.27l3.592 3.592a.667.667 0 0 1-.943.942L9.937 10.88a5.333 5.333 0 0 1-8.604-4.213Z",fill:"currentColor"})))};const G9e=({className:e="",id:t,label:n,type:r,onChange:i,onBlur:o,name:s,value:a,onClickClear:c,copykey:l})=>u.jsxs("label",{htmlFor:t,className:We("search__container",a?"search__container--active":void 0),children:[u.jsx("div",{className:"search-icon__container",children:u.jsx(K9e,{})}),u.jsx("input",{name:s,value:a,onChange:i,onBlur:o,type:r,id:t,placeholder:n,className:We("search__input",e),"data-testid":"Search",copykey:l}),a.length>0&&u.jsx("button",{type:"button",onClick:c,className:"search__button--clear",children:"Clear"})]}),Zc=({count:e=1,className:t,style:n})=>{const r=[];for(let i=0;i<e;i++)r.push(u.jsx("span",{className:`skeleton ${t} `,style:n,children:"‌"}));return u.jsx("span",{"data-testid":"loading-skeleton-container",children:r.map((i,o)=>u.jsx("span",{"data-testid":"loading-skeleton",children:i},`skeleton-${o}`))})},Z9e=(e,t)=>t.reduce((n,r)=>{const i=e.indexOf(r.toLowerCase());return i>n?i:n},-1),J9e=({hasWalletFilter:e,defaultOffset:t,list:n,priorityList:r})=>{const i=Z9e(n,r);return t===RK&&!e&&n.length>t&&i!==-1?i+1:t},WT=e=>{var t;return!!(!((t=e.groupedWallets)===null||t===void 0)&&t.length)},Y9e=(e,t)=>t.findIndex(n=>WT(n)&&n.key===e),X9e=(e,t)=>{const n=[];return t.forEach(r=>{var i;if(!r.group)return n.push(r);const o=Y9e(r.group,n);if(o>-1)return(i=n[o].groupedWallets)===null||i===void 0?void 0:i.push(r);if(!t.some(l=>{var d;const f=r.group===l.group,p=r.key!==l.key,m=((d=l.injectedConfig)===null||d===void 0?void 0:d.length)&&l.injectedConfig.length>1;return f&&(m||p)}))return n.push(r);const a=g1(e,r.group),c={groupedWallets:[r],key:a.key,name:a.name};return n.push(c)}),n},Q9e=({walletOptions:e,userWallets:t})=>{const n=new Set(t.map(r=>r.connector.key));return(n.has("phantom")||n.has("phantomledger"))&&(n.add("phantom"),n.add("phantomledger")),e.filter(r=>!n.has(r.walletConnector.key))},fJ=e=>di()||e.isWalletConnect?"mobile":"browserExtension",eje=(e,t,n)=>t.filter(r=>xke(zo(n,r.key),"accountChanged",fJ(r.walletConnector))?!0:!e.some(i=>i.connector.key===r.key)),tje=({walletOptions:e,userWallets:t})=>t.some(r=>r.connector.isWalletConnect)?e.filter(r=>!r.walletConnector.isWalletConnect):e,nje=({authMode:e,userWallets:t,walletOptions:n,walletBook:r})=>{const i=tje({userWallets:t,walletOptions:n});return e==="connect-only"?Q9e({userWallets:t,walletOptions:i}):eje(t,i,r)},$x=["metamask","coinbase","walletconnect","phantom","argentx","blocto","solflare","braavos","trust","rainbow","dapper","glow","lilico"],rje="Sign In With Email",ije=(e,t)=>{const n=[],r=[],i=[];e.forEach(a=>{const c=t.includes(a.key);c?n.push(a):$x.includes(a.key)&&!c?r.push(a):i.push(a)});const o=r.slice().sort((a,c)=>$x.indexOf(a.key)-$x.indexOf(c.key));return[...n.slice().sort((a,c)=>t.indexOf(a.key)-t.indexOf(c.key)),...o,...i]},hJ=({authMode:e,userWallets:t,multiWallet:n,numberOfWalletsToShow:r,inputList:i,isWalletConnectList:o,lastUsedWalletKey:s,signWithEmailWalletName:a,searchFilter:c,walletsFilter:l,loginWithEmail:d,groupWallets:f,walletBook:p,showMoreWalletsWithFilter:m,recommendedWallets:g})=>{let y=i;o&&(y=i.filter(X=>X.walletConnector.isWalletConnect&&X.key!=="walletconnect")),n&&(y=nje({authMode:e,userWallets:t,walletBook:p,walletOptions:y}));let v;const w=!!l,_=dje(a,y),E=[],C=[],T=[],A=Array.from(new Set((g||[]).map(X=>X.walletKey))),S=oje(y,l,o,A);S.forEach(X=>{const U=A==null?void 0:A.includes(X.key);if(!_1(X.walletConnector)){if(X.key==="unknown"||!X.walletConnector.isAvailable)return;U?E.push(X):s===X.key?v=X:X.isInstalledOnBrowser?C.push(X):T.push(X)}});const O=[..._?[_]:[],...v?[v]:[]],D=[...E,...O,...C,...T],K=f?X9e(p,D):D,H=m&&w?lje(S,O.concat(C),r):r;return{numberOfWallets:D.length,walletsList:cje(K,c,o,H,w,d)}},oje=(e,t,n,r)=>{const i=ije(e,r);return!n&&t?t(i):i},sje=["walletconnect","bitcoin.com wallet"],aje=(e,t)=>{const n=e.trim().toLowerCase(),r=i=>{const o=i.trim().toLowerCase();return sje.includes(o)?o:o.replace("wallet","").replace("evm","").replace("starknet","").replace("solana","").replace("flow","").replace("bitcoin","")};return t.filter(i=>{var o;return r(i.name).includes(n)||((o=i.groupedWallets)===null||o===void 0?void 0:o.some(s=>r(s.name).includes(n)))})},cje=(e,t,n,r,i,o)=>{if(t)return aje(t,e);if(n)return e;if(o)return e.slice(0,r);{const s=e.map(c=>c.name.toLowerCase()),a=J9e({defaultOffset:r,hasWalletFilter:i,list:s,priorityList:$x});return e.slice(0,a)}},lje=(e,t,n)=>{const r=e.slice(0,n),i=t.filter(o=>!r.includes(o)).length;return n+i},dje=(e,t)=>{let n;if(e){const r=t.find(i=>i.name===e&&i.walletConnector.canConnectViaCustodialService);r&&(n=Object.assign({},r),n.name=rje)}return n};var E$,C$,I$,A$,uje=["title","titleId"];function XI(){return XI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XI.apply(this,arguments)}function fje(e,t){if(e==null)return{};var n=hje(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hje(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var pje=function(t){var n=t.title,r=t.titleId,i=fje(t,uje);return k.createElement("svg",XI({width:121,height:81,viewBox:"0 0 121 81",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,E$||(E$=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M99.064 34.016c-6.654 0-12.048 5.394-12.048 12.048 0 6.653 5.394 12.047 12.048 12.047 6.653 0 12.047-5.394 12.047-12.047 0-6.654-5.394-12.048-12.047-12.048ZM83 46.064C83 37.192 90.192 30 99.064 30c8.871 0 16.063 7.192 16.063 16.064 0 3.712-1.259 7.13-3.373 9.85l8.658 8.658a2.008 2.008 0 0 1-2.84 2.84l-8.658-8.658a15.994 15.994 0 0 1-9.85 3.373C90.192 62.127 83 54.935 83 46.064Z",fill:"currentColor",fillOpacity:.35})),C$||(C$=k.createElement("rect",{y:8,width:121,height:16,rx:4,fill:"currentColor",fillOpacity:.3})),I$||(I$=k.createElement("rect",{y:30,width:75,height:16,rx:4,fill:"currentColor",fillOpacity:.3})),A$||(A$=k.createElement("rect",{y:52,width:75,height:16,rx:4,fill:"currentColor",fillOpacity:.3})))};const O3=(e,t)=>{const n=e==null?void 0:e.verifiedCredentials.find(r=>r.id===t);return e==null?void 0:e.verifiedCredentials.find(r=>r.id===(n==null?void 0:n.refId))},Te=()=>{const e=k.useContext(sP);if(e===void 0)throw new Error("useInternalDynamicContext must be used within a DynamicContextProvider");return e},T$="missing_address",R$="session_active",mje="error_sending_code",QI="error_processing_reveal_request",gje="invalid_request",cv="invalid_wallet",yje="secure_enclave_provider_not_enabled",li="user_not_logged_in",vje="code_sent",bje="session_created",wje="session_restored",P$=451,_je=(e,t,n,r,i,o)=>ae(void 0,void 0,void 0,function*(){if(e===void 0)throw new Ae("Unable to fetch the public address from the wallet");if(!t.connectedChain)throw new Ae("Wallet is not connected");let s=yield t.getNetwork();s===void 0&&(t.key==="bloctoevm"?s=137:t.connectedChain==="EVM"&&(s=1));const a=oIe({blockchain:t.connectedChain,chainId:s,domain:window.location.host,nonce:n,publicKey:e,requestId:r,resources:t.providerResources,statement:i?o.replace(/(\r\n|\n|\r)/gm," ").trim():void 0,uri:window.location.href}),c=yield t.proveOwnership(a);if(!c)throw new Ae("Unable to sign the message");return{messageToSign:a,signedMessage:c}}),zT=e=>ae(void 0,[e],void 0,function*({walletConnector:t,nonce:n,walletProvider:r,environmentId:i,displaySiweStatement:o,skipEmptyAccountCheck:s,siweStatement:a,publicWalletAddress:c,signedMessageOverride:l,messageToSignOverride:d}){const f=t.connectedChain;if(l&&d){const[v,w]=yield Promise.all([t.getNetwork(),t.getAdditionalAddresses(c)]);return{additionalWalletAddresses:w,chain:f,messageToSign:d,network:String(v),publicWalletAddress:c,signedMessage:l,skipEmptyAccountCheck:s,walletName:t.key,walletProvider:r}}const{messageToSign:p,signedMessage:m}=yield _je(c,t,n,i,o,a),[g,y]=yield Promise.all([t.getNetwork(),t.getAdditionalAddresses(c)]);return{additionalWalletAddresses:y,chain:f,messageToSign:p,network:String(g),publicWalletAddress:c,signedMessage:m,skipEmptyAccountCheck:s,walletName:t.key,walletProvider:r}}),qT=()=>{if(typeof window>"u")return;const e=Ft.getFromLS(cT,!0);if(!(!e||TIe(e)))return e},N3=()=>{var e;return(e=Ft.getFromLS(OK))!==null&&e!==void 0?e:!1},zn=()=>{const e={basePath:Vc.getBaseUrl(),headers:{"Content-Type":"application/json"}},t=qT();t&&(e.headers.Authorization=`Bearer ${t}`);const n=N3()?"include":void 0;return e.headers["x-dyn-version"]=`WalletKit/${LA}`,e.headers["x-dyn-api-version"]=`API/${N2e}`,new FCe(new tT(Object.assign(Object.assign({},e),{credentials:n,fetchApi:xf.fetch})))},pJ=e=>e.verifiedCredentials.find(t=>t.id===e.lastVerifiedCredentialId),VT=e=>{var t,n,r,i,o,s,a,c,l,d,f,p,m,g,y,v,w,_,E,C,T,A;const S=pJ(e),O={alias:(t=e.alias)!==null&&t!==void 0?t:void 0,btcWallet:(n=e.btcWallet)!==null&&n!==void 0?n:void 0,ckbWallet:(r=e.ckbWallet)!==null&&r!==void 0?r:void 0,country:(i=e.country)!==null&&i!==void 0?i:void 0,discordNotification:(o=e.discordNotification)!==null&&o!==void 0?o:void 0,dogeWallet:(s=e.dogeWallet)!==null&&s!==void 0?s:void 0,email:(a=e.email)!==null&&a!==void 0?a:void 0,emailNotification:(c=e.emailNotification)!==null&&c!==void 0?c:void 0,firstName:(l=e.firstName)!==null&&l!==void 0?l:void 0,jobTitle:(d=e.jobTitle)!==null&&d!==void 0?d:void 0,kasWallet:(f=e.kasWallet)!==null&&f!==void 0?f:void 0,kdaWallet:(p=e.kdaWallet)!==null&&p!==void 0?p:void 0,lastName:(m=e.lastName)!==null&&m!==void 0?m:void 0,ltcWallet:(g=e.ltcWallet)!==null&&g!==void 0?g:void 0,newsletterNotification:(y=e.newsletterNotification)!==null&&y!==void 0?y:void 0,phoneNumber:(v=e.phoneNumber)!==null&&v!==void 0?v:void 0,policiesConsent:(w=e.policiesConsent)!==null&&w!==void 0?w:void 0,tShirtSize:(_=e.tShirtSize)!==null&&_!==void 0?_:void 0,team:(E=e.team)!==null&&E!==void 0?E:void 0,username:(C=e.username)!==null&&C!==void 0?C:void 0};return Object.assign({chain:S==null?void 0:S.chain,ens:S==null?void 0:S.nameService,environmentId:e.projectEnvironmentId,isAuthenticatedWithAWallet:(S==null?void 0:S.format)==="blockchain",lastVerifiedCredentialId:(T=e.lastVerifiedCredentialId)!==null&&T!==void 0?T:void 0,lists:e.lists,metadata:e.metadata,missingFields:e.missingFields,newUser:e.newUser,scope:e.scope,sessionId:(A=e.sessionId)!==null&&A!==void 0?A:"missing-sessionId",userId:e.id,verifiedCredentials:e.verifiedCredentials||[],wallet:S==null?void 0:S.walletName},O)},xje=(e,t)=>{Ft.setToLS(c3,e,!0),Ft.setToLS(cT,t,!0)},O$="dynamic_authenticated_user",kje=e=>{const t=Ft.getFromLS(O$);return t&&!e.getState().user&&(e.setState({user:t}),Ft.removeFromLS(O$)),e},Sje=e=>{const{projectSettings:t,networkConfigurations:n,user:r}=e.getState(),[i]=Ft.getFromLS(NK)||[],o=!r&&!i;return(t&&t.expiresAt<Date.now()||o)&&e.setState({projectSettings:void 0}),(n&&n.expiresAt<Date.now()||o)&&e.setState({networkConfigurations:void 0}),e};let U2;const Pl=()=>{if(!U2)throw new Error("Store not initialized");return U2},Eje=({storageSuffix:e,environmentId:t})=>{if(U2)return;const n=e?`${hB}_${e}`:hB,r=A8e({name:n,storage:Cje()});U2=Sje(kje(r(C8e(()=>({environmentId:t,networkConfigurations:void 0,projectSettings:void 0,user:void 0})))))},Cje=()=>typeof localStorage>"u"?{getItem:()=>null,setItem:()=>{}}:window.localStorage,mJ=e=>Pl().setState({user:e}),gJ=()=>Pl().getState().user,Ije=e=>{Ft.setToLS(lT,e)},To=({user:e,jwt:t,minifiedJwt:n,expiresAt:r})=>{if(Ije(r),t&&n&&(xje(t,n),N3())){const o=new Date(r*1e3).toUTCString(),s=`${PK}=${n}; expires=${o}; path=/; SameSite=Lax`;document.cookie=s}const i=VT(e);return mJ(i),i},Aje=e=>ae(void 0,[e],void 0,function*({environmentId:t,walletId:n}){try{const r=yield zn().selectUserWallet({environmentId:t,userWalletSelectionRequest:{walletId:n}});return To(r)}catch(r){Ne.error("error storing selected wallet",r);return}}),yJ=(e,t)=>ae(void 0,[e,t],void 0,function*(n,{messageToSign:r,network:i,signedMessage:o,publicWalletAddress:s,chain:a,walletName:c,walletProvider:l,additionalWalletAddresses:d,backup:f,password:p,passwordSource:m}){const g=CK({additionalWalletAddresses:d,backup:f,chain:a,messageToSign:r,network:i,password:p,passwordSource:m,publicWalletAddress:s,signedMessage:o,walletName:c,walletProvider:l});try{const y=yield zn().verifyLink({environmentId:n,verifyRequest:g});return To(y),y}catch(y){Ne.error(y);const v=yield y.json();throw v.code==="reassign_wallet_confirm"||v.code==="reassign_wallet_error"?new WH(v.code):v.code==="merge_accounts_confirmation"?new qH({code:v.code,mergeConflicts:v.payload.mergeConflicts,walletAddress:s}):new Ae(v.error)}}),Tje=e=>ae(void 0,[e],void 0,function*({environmentId:t,primaryWalletId:n,walletId:r,onSuccess:i}){try{const o=yield zn().verifyUnlink({environmentId:t,verifyUnlinkRequest:{primaryWalletId:n,walletId:r}});return i==null||i(),To(o)}catch{return}}),Rje=(e,t)=>ae(void 0,[e,t],void 0,function*(n,{network:r,messageToSign:i,signedMessage:o,publicWalletAddress:s,chain:a,walletName:c,walletProvider:l,skipEmptyAccountCheck:d=!1}){const f={chain:a,messageToSign:i,network:r,publicWalletAddress:s,signedMessage:o,skipEmptyAccountCheck:d,walletName:c,walletProvider:l};try{const p=yield zn().verifyTransfer({environmentId:n,verifyRequest:f});return To(p)}catch(p){Ne.error("error transferring wallet",p);return}}),Pje=(e,t)=>ae(void 0,[e,t],void 0,function*(n,{messageToSign:r,signedMessage:i,publicWalletAddress:o,chain:s,walletName:a,walletProvider:c,captchaToken:l,network:d,oauth:f,additionalWalletAddresses:p}){const m=CK({additionalWalletAddresses:p,captchaToken:l,chain:s,messageToSign:r,network:d,oauth:f,publicWalletAddress:o,signedMessage:i,walletName:a,walletProvider:c});try{return yield zn().verify({environmentId:n,verifyRequest:m})}catch(g){Ne.error(g);const y=yield g.json();if(y.code==="wallet_not_deployed")throw new Cke;if(y.error.code==="chainalysis_blocked_wallet")throw new DH(y.payload.walletPublicKey);if(y.error.code==="gate_blocked")throw new r3(y.payload.walletPublicKey);if(y.error.code==="missing_from_list")throw new Np({walletPublicKey:y.payload.walletPublicKey});if(y.code==="email_associated_with_different_provider")throw new y1(y.error,y.payload);return}}),j3=({appName:e,siweStatement:t})=>{const n=`Welcome to ${e}. Signing is the only way we can truly know that you are the owner of the wallet you are connecting. Signing is a safe, gas-less transaction that does not in any way give ${e} permission to perform any transactions with your wallet.`;return t||n},u0=e=>e.isEmbeddedWallet?"embeddedWallet":e.canConnectViaCustodialService?"custodialService":e.isInstalledOnBrowser()?"browserExtension":di()?"deepLink":"qrCode",vJ=e=>ae(void 0,[e],void 0,function*({environmentId:t}){try{const{devices:n}=yield zn().getUserMfaDevices({environmentId:t});return n}catch(n){const r=yield n.json();return Ne.error(r.error),[]}}),Oje=e=>ae(void 0,[e],void 0,function*({environmentId:t,type:n}){try{if(n===_u.Totp)return yield zn().registerTotpMfaDevice({environmentId:t});throw new Error("Unsupported MFA device type")}catch(r){const i=r instanceof Error?r.message:(yield r.json()).error;throw Ne.error(i),new Error(i)}}),Nje=e=>ae(void 0,[e],void 0,function*({environmentId:t,mfaDeviceId:n}){try{yield zn().updateUserMfaDevice({environmentId:t,mfaDeviceId:n})}catch(r){const i=yield r.json();Ne.error(i.error)}}),jje=e=>ae(void 0,[e],void 0,function*({environmentId:t,mfaDeviceId:n}){try{yield zn().deleteMfaDevice({environmentId:t,mfaDeviceId:n})}catch(r){const i=yield r.json();Ne.error(i.error)}}),Bje=e=>ae(void 0,[e],void 0,function*({environmentId:t,type:n,code:r}){try{if(n===_u.Totp){const i={code:r,type:n};return yield zn().registerTotpMfaDeviceVerify({environmentId:t,mFARegisterTotpDevicePostRequest:i})}throw new Error("Unsupported MFA device type")}catch(i){const o=i instanceof Error?i.message:(yield i.json()).error;Ne.error(o);return}}),$je=e=>ae(void 0,[e],void 0,function*({environmentId:t,type:n,code:r,createMfaToken:i}){try{if(n===_u.Totp){const o={code:r,createMfaToken:i};return yield zn().authMfaTotpDevice({environmentId:t,mFAAuthTotpDevicePostRequest:o})}throw new Error("Unsupported MFA device type")}catch(o){throw Ne.error(o),o instanceof Response&&(yield o.json()).code==="mfa_invalid_code"?new HH:o}}),Mje=e=>ae(void 0,[e],void 0,function*({environmentId:t}){try{const{recoveryCodes:n}=yield zn().getRecoveryCodes({environmentId:t});return n}catch(n){const r=yield n.json();return Ne.error(r.error),[]}}),Dje=e=>ae(void 0,[e],void 0,function*({environmentId:t}){try{const{recoveryCodes:n}=yield zn().createNewRecoveryCodes({environmentId:t});return n}catch(n){const r=yield n.json();return Ne.error(r.error),[]}}),Lje=e=>ae(void 0,[e],void 0,function*({environmentId:t,code:n}){try{const r={code:n};return yield zn().authMfaRecovery({environmentId:t,mFAAuthRecoveryDevicePostRequest:r})}catch(r){const i=yield r.json();Ne.error(i.error);return}}),fa=(e,t)=>e.some(n=>{const r=n.provider===t&&!!n.enabledAt;return n.provider===br.MagicLink?r&&!!n.providerProjectId:r}),Vf=e=>{var t;return fa((t=e==null?void 0:e.providers)!==null&&t!==void 0?t:[],br.Turnkey)},F2=e=>{var t;return fa((t=e==null?void 0:e.providers)!==null&&t!==void 0?t:[],br.CoinbaseWaas)},HT=(e,t)=>{var n;return!!(e&&(!((n=e.verifiedCredentials)===null||n===void 0)&&n.some(({walletProvider:r,walletName:i})=>r===kp.EmbeddedWallet&&(!t||(i==null?void 0:i.startsWith(t))))))},Uje=(e,t)=>{var n,r;const{connector:i}=e;if(!Ox(i))throw new Error("Wallet is not an account abstraction wallet");const o=i.getEOAConnector();if(!o)throw new Error("EOA connector not found");const s=t.find(l=>l.address===e.address);if(!s)throw new Error("Account Abstraction Account not found");const a=t.find(l=>l.id===s.signerRefId);if(!a||!a.address||!a.chain)throw new Error("Owner Account not found");const c=!((n=a.walletName)===null||n===void 0)&&n.startsWith("turnkey")?!!(!((r=a.walletProperties)===null||r===void 0)&&r.isAuthenticatorAttached):!0;return{address:a.address,authenticated:c,chain:a.chain,connected:!1,connector:o,id:a.id,key:a.walletName||o.key}},Ou=(e,t)=>{if(!e)return e;try{return Uje(e,t)}catch{return e}},B3=(e,t)=>{var n,r,i;if(!e)return;if(t)return(r=(n=e.verifiedCredentials)===null||n===void 0?void 0:n.find(s=>s.format===t))===null||r===void 0?void 0:r.format;const o=(i=e.verifiedCredentials)===null||i===void 0?void 0:i.find(s=>s.id===e.lastVerifiedCredentialId);return o==null?void 0:o.format},Fje={algorand:$2e,bitcoin:M2e,cosmos:D2e,evm:L2e,flow:U2e,solana:F2e,starknet:W2e},Cd=e=>{var t,n,r;const i=(n=(t=w1(e))===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:"";return(r=Fje[i])!==null&&r!==void 0?r:Bp},bJ=e=>{if(!e.groupedWallets.length)throw new Error("Wallet group must have at least one wallet");const[t]=e.groupedWallets;if(t.chainGroup)return"multi-chain";if(t.walletGroup)return"multi-wallet"},wJ=Yr.createContext(void 0),KT=()=>{const e=Yr.useContext(wJ);if(e===void 0)throw new Error("usage of useWalletGroupContext not wrapped in `WalletGroupContextProvider`.");return e},Wje=({children:e})=>{const[t,n]=Yr.useState(),{setView:r}=dn(),o={navigateToWalletGroup:Yr.useCallback(s=>{n(s);const a=bJ(s),c={"multi-chain":"wallet-group","multi-wallet":"select-wallet-in-wallet-group"},l=a?c[a]:c["multi-chain"];r(l)},[n,r]),selectedWalletGroup:t};return u.jsx(wJ.Provider,{value:o,children:e})},_J=k.createContext(void 0),zje=({children:e})=>{const[t,n]=k.useState(),r=k.useMemo(()=>({deviceSettings:t,setDeviceSettings:n}),[t]);return u.jsx(_J.Provider,{value:r,children:e})},xJ=()=>{const e=k.useContext(_J);if(e===void 0)throw new Error("usage of useMfaSettingsContext not wrapped in `MfaSettingsContextProvider`.");return e},qje=e=>{var t;return(t=e==null?void 0:e.filter(({enabled:n})=>!!n))!==null&&t!==void 0?t:[]},kJ=["social"],Vje=(e,t)=>Object.entries(e).reduce((r,[i,o])=>{if(o){const s=t.find(a=>a.name===i);s&&!s.enabled&&r.push(Object.assign({},s))}return r},[]),SJ=e=>qje(e).filter(({name:t,type:n})=>n===yl.Custom||!kJ.includes(t)),Hje=({projectSettingsKyc:e=[],user:t})=>t?Vje(t,e).filter(({name:r})=>!kJ.includes(r)):[],$3=({projectSettingsKyc:e=[],customFields:t=[],user:n})=>{var r;const i=SJ([...e,...t]),o=Hje({projectSettingsKyc:e,user:n});let s=[...i,...o];const a=(r=n==null?void 0:n.verifiedCredentials)===null||r===void 0?void 0:r.find(({walletProvider:d})=>d===kp.EmbeddedWallet),c=!!(n!=null&&n.email),l=!!(n!=null&&n.phoneNumber);return a&&(s=s.map(d=>d.name==="email"&&c||d.name==="phoneNumber"&&l?Object.assign(Object.assign({},d),{enabled:!1}):d)),s.sort((d,f)=>{const p=e.findIndex(g=>g.name===d.name),m=e.findIndex(g=>g.name===f.name);return p-m})},GT=e=>{var t;return!!(!((t=e==null?void 0:e.kyc.find(({name:n})=>n==="social"))===null||t===void 0)&&t.enabled)};function Kje(e){return Object.entries(e).filter(function(t){t[0];var n=t[1];return n||n===!1}).map(function(t){var n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)}).join("&")}var N$="hcaptcha-api-script-id",j$="hcaptchaOnLoad",EJ,CJ,B$=new Promise(function(e,t){EJ=e,CJ=t}),Gje=function(t){if(t===void 0&&(t={}),document.getElementById(N$))return B$;window[j$]=EJ;var n=t.apihost||"https://js.hcaptcha.com";delete t.apihost;var r=document.createElement("script");r.id=N$,r.src=n+"/1/api.js?render=explicit&onload="+j$,r.async=!0,r.onerror=function(o){return CJ("script-error")};var i=Kje(t);return r.src+=i!==""?"&"+i:"",document.head.appendChild(r),B$},Zje=function(e){Hz(t,e);function t(r){var i;i=e.call(this,r)||this,i.renderCaptcha=i.renderCaptcha.bind(bc(i)),i.resetCaptcha=i.resetCaptcha.bind(bc(i)),i.removeCaptcha=i.removeCaptcha.bind(bc(i)),i.isReady=i.isReady.bind(bc(i)),i.loadCaptcha=i.loadCaptcha.bind(bc(i)),i.handleOnLoad=i.handleOnLoad.bind(bc(i)),i.handleSubmit=i.handleSubmit.bind(bc(i)),i.handleExpire=i.handleExpire.bind(bc(i)),i.handleError=i.handleError.bind(bc(i)),i.handleOpen=i.handleOpen.bind(bc(i)),i.handleClose=i.handleClose.bind(bc(i)),i.handleChallengeExpired=i.handleChallengeExpired.bind(bc(i));var o=typeof hcaptcha<"u";return i.ref=k.createRef(),i.apiScriptRequested=!1,i.state={isApiReady:o,isRemoved:!1,elementId:r.id,captchaId:""},i}var n=t.prototype;return n.componentDidMount=function(){var i=this.state.isApiReady;if(i){this.renderCaptcha();return}this.loadCaptcha()},n.componentWillUnmount=function(){var i=this.state.captchaId;this.isReady()&&(hcaptcha.reset(i),hcaptcha.remove(i))},n.shouldComponentUpdate=function(i,o){return!(this.state.isApiReady!==o.isApiReady||this.state.isRemoved!==o.isRemoved)},n.componentDidUpdate=function(i){var o=this,s=["sitekey","size","theme","tabindex","languageOverride","endpoint"],a=s.every(function(c){return i[c]===o.props[c]});a||this.removeCaptcha(function(){o.renderCaptcha()})},n.loadCaptcha=function(){if(!this.apiScriptRequested){var i=this.props,o=i.apihost,s=i.assethost,a=i.endpoint,c=i.host,l=i.imghost,d=i.languageOverride,f=i.reCaptchaCompat,p=i.reportapi,m=i.sentry,g=i.custom,y={apihost:o,assethost:s,endpoint:a,hl:d,host:c,imghost:l,recaptchacompat:f===!1?"off":null,reportapi:p,sentry:m,custom:g};Gje(y).then(this.handleOnLoad).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(i){var o=this.state.isApiReady;if(o){var s=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),a=hcaptcha.render(this.ref.current,s);this.setState({isRemoved:!1,captchaId:a},function(){i&&i()})}},n.resetCaptcha=function(){var i=this.state.captchaId;this.isReady()&&hcaptcha.reset(i)},n.removeCaptcha=function(i){var o=this.state.captchaId;this.isReady()&&this.setState({isRemoved:!0},function(){hcaptcha.remove(o),i&&i()})},n.handleOnLoad=function(){var i=this;this.setState({isApiReady:!0},function(){i.renderCaptcha(function(){var o=i.props.onLoad;o&&o()})})},n.handleSubmit=function(i){var o=this.props.onVerify,s=this.state,a=s.isRemoved,c=s.captchaId;if(!(typeof hcaptcha>"u"||a)){var l=hcaptcha.getResponse(c),d=hcaptcha.getRespKey(c);o(l,d)}},n.handleExpire=function(){var i=this.props.onExpire,o=this.state.captchaId;this.isReady()&&(hcaptcha.reset(o),i&&i())},n.handleError=function(i){var o=this.props.onError,s=this.state.captchaId;this.isReady()&&hcaptcha.reset(s),o&&o(i)},n.isReady=function(){var i=this.state,o=i.isApiReady,s=i.isRemoved;return o&&!s},n.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},n.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},n.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},n.execute=function(i){i===void 0&&(i=null);var o=this.state.captchaId;if(this.isReady())return i&&typeof i!="object"&&(i=null),hcaptcha.execute(o,i)},n.setData=function(i){var o=this.state.captchaId;this.isReady()&&(i&&typeof i!="object"&&(i=null),hcaptcha.setData(o,i))},n.getResponse=function(){return hcaptcha.getResponse(this.state.captchaId)},n.getRespKey=function(){return hcaptcha.getRespKey(this.state.captchaId)},n.render=function(){var i=this.state.elementId;return k.createElement("div",{ref:this.ref,id:i})},t}(k.Component);const Jje=e=>{const[t,n]=k.useState(null);return{goToInitialView:()=>n(null),setView:n,view:t||e}},IJ=k.createContext(void 0),Yje=({children:e})=>{const[t,n]=k.useState(null),r=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){if(t)return t;try{const s=yield fetch("http://ip-api.com/json");if(!s.ok)return;const a=yield s.json();if(a.status!=="success")return;const{country:c,countryCode:l}=a,d={country:c,countryCode:l};return n(d),d}catch(s){Jr.warn("Error fetching IP configuration",s);return}}),[t,n]),i=()=>{n(null)},o=k.useMemo(()=>({getIpConfiguration:r,removeIpConfiguration:i}),[r]);return u.jsx(IJ.Provider,{value:o,children:e})},Xje=()=>{const e=k.useContext(IJ);if(e===void 0)throw new Error("usage of useIpConfigurationContext not wrapped in `IpConfigurationContextProvider`.");return e},Qje=e=>ae(void 0,[e],void 0,function*({attestation:t,challenge:n,environmentId:r,chains:i=[Oi.Evm],passkeyAlias:o}){const s=[{chains:i,embeddedWalletProvider:hI.Turnkeyhd,isAuthenticatorAttached:!1,passkeyAlias:o}];t&&n&&(s[0]=Object.assign(Object.assign({},s[0]),{embeddedWalletSpecificOpts:{attestation:t,challenge:n},isAuthenticatorAttached:!0}));try{const a=yield zn().createEmbeddedWallets({createEmbeddedWalletsRequest:{embeddedWallets:s},environmentId:r});return To(a)}catch(a){Ne.error("Error creating embedded wallet: ",a);return}}),ZT=e=>ae(void 0,[e],void 0,function*({authenticatorType:t,walletId:n,publicKey:r,environmentId:i}){return t==="passkey"?zn().initPasskeyRecovery({environmentId:i,initPasskeyRecoveryRequest:{turnkeyRecoveryTargetPublicKey:r,walletId:n}}):zn().initEmailAuth({environmentId:i,initEmailAuthRequest:{turnkeyEmailAuthTargetPublicKey:r,walletId:n}})}),AJ=e=>ae(void 0,[e],void 0,function*({walletId:t,attestation:n,challenge:r,environmentId:i}){try{const o=yield zn().completePasskeyRecovery({completePasskeyRecoveryRequest:{attestation:n,challenge:r,walletId:t},environmentId:i});return To(o)}catch(o){Ne.error("Error completing passkey recovery: ",o);return}}),eBe=e=>ae(void 0,[e],void 0,function*({environmentId:t,updateRecoveryEmailRequest:n}){try{yield zn().updateEmbeddedWalletRecoveryEmail({environmentId:t,updateRecoveryEmailRequest:n})}catch(r){throw Ne.error("Error while trying to update recovery email: ",r),new Ae("Error updating recovery email")}}),TJ=e=>ae(void 0,[e],void 0,function*({environmentId:t}){try{return yield zn().getUserPasskeys({environmentId:t})}catch(n){return Ne.error(n),{count:0,passkeys:[]}}}),tBe=e=>ae(void 0,[e],void 0,function*({environmentId:t,id:n,alias:r}){try{return yield zn().updatePasskey({environmentId:t,updateUserPasskeyRequest:{alias:r,id:n}})}catch(i){Ne.error(i);return}}),nBe=e=>ae(void 0,[e],void 0,function*({environmentId:t,walletId:n,activityId:r}){try{return yield zn().embeddedWalletExport({activityId:r,environmentId:t,walletId:n})}catch(i){return Ne.error(i),{exportBundle:""}}}),rBe=e=>ae(void 0,[e],void 0,function*({environmentId:t,type:n}){try{return(yield zn().getAuthToken({environmentId:t,type:n})).token}catch{return}}),iBe=e=>ae(void 0,[e],void 0,function*({environmentId:t}){try{return(yield zn().getEmbeddedWalletBackups({environmentId:t})).secret}catch{return}}),oBe=e=>ae(void 0,[e],void 0,function*({environmentId:t}){try{return(yield zn().getEmbeddedWalletPasscode({environmentId:t})).secret}catch{return}}),sBe=e=>ae(void 0,[e],void 0,function*({environmentId:t,walletId:n}){var r,i;try{const o=yield zn().claimEmbeddedWallet({embeddedWalletPasscodeClaimRequest:{walletId:n},environmentId:t});return To(o),o}catch(o){Ne.error(o);const s=yield(r=o==null?void 0:o.json)===null||r===void 0?void 0:r.call(o);if(!(!((i=s==null?void 0:s.error)===null||i===void 0)&&i.code))return{code:"unknown_error"};throw o}}),aBe=e=>e instanceof Promise,cBe=(e,t,n)=>ae(void 0,[e,t,n],void 0,function*(r,{retries:i},o){const s=i?i+1:1;let a=0,c,l;for(;a<s;){a=a+1;try{const d=r();if(aBe(d)?c=yield d:c=d,l=void 0,c)break}catch(d){l=d}}o(l,c)}),lBe=()=>(e,t)=>{switch(t.type){case"SET_DATA":return Object.assign(Object.assign({},e),{data:t.payload,isLoading:!1});case"SET_ERROR":return Object.assign(Object.assign({},e),{error:t.payload,isLoading:!1});case"SET_LOADING":return Object.assign(Object.assign({},e),{isLoading:t.payload});default:return e}},Ki=(e,t)=>{const n=k.useRef(new Date().getTime()),{deps:r=[],initialData:i=void 0,enabled:o=!0,retries:s=0,onReject:a=()=>{},onResolve:c=()=>{}}=t||{},[l,d]=k.useReducer(lBe(),{data:i,isLoading:o}),f=k.useCallback(()=>{const p=new Date().getTime();p-n.current<5&&Ne.warn("usePromise: Fetcher function was called too soon. Please make sure you are not calling the fetcher function inside a loop or a synchronous function.",r),n.current=p,l.isLoading||d({payload:!0,type:"SET_LOADING"}),cBe(e,{retries:s},(g,y)=>{if(p===n.current){if(g){Ne.error(g),d({payload:g,type:"SET_ERROR"}),a==null||a(g);return}d({payload:y,type:"SET_DATA"}),c==null||c(y),d({payload:!1,type:"SET_LOADING"})}})},r);return k.useEffect(()=>{o&&f()},[f,o]),l};function Ps(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}const dBe=({getAccounts:e,onPersonalSign:t,onSendTransaction:n,onSignTypedData:r,transport:i})=>o=>{const s=i(o);return eb({request:a=>Ps(void 0,void 0,void 0,function*(){var c;const{method:l,params:d}=a;if(e&&l==="eth_accounts")return e({provider:s});if(t&&l==="personal_sign"){const[f]=d;return t({args:a,message:f,provider:s})}if(n&&l==="eth_sendTransaction"){const[f]=d;return n({args:a,provider:s,transaction:f})}if(r&&l==="eth_signTypedData_v4"){const[,f]=(c=d)!==null&&c!==void 0?c:[];return r({args:a,message:f,provider:s})}return s.request(a)})})(o)},uBe=e=>Object.assign(Object.assign({},e),{gas:typeof e.gas<"u"?ni(e.gas):void 0,gasPrice:typeof e.gasPrice<"u"?ni(e.gasPrice):void 0,maxFeePerGas:typeof e.maxFeePerGas<"u"?ni(e.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof e.maxPriorityFeePerGas<"u"?ni(e.maxPriorityFeePerGas):void 0,nonce:typeof e.nonce<"u"?ni(e.nonce):void 0,value:typeof e.value<"u"?ni(e.value):void 0});function JT(e){if(typeof e=="string"){if(!Hi(e,{strict:!1}))throw new Jo({address:e});return{address:e,type:"json-rpc"}}if(!Hi(e.address,{strict:!1}))throw new Jo({address:e.address});return{address:e.address,nonceManager:e.nonceManager,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}const fBe=new Cl("viem-utils");class hBe{constructor({publicClient:t,initialGasLimit:n,initialMaxFeePerGas:r}){this.fee={gas:BigInt(0)},this.publicClient=t,this.initialGasLimit=n,this.initialMaxFeePerGas=r}fetchFee(){return Ps(this,void 0,void 0,function*(){try{const t=yield this.estimateL1Fee();if(this.initialGasLimit&&this.initialMaxFeePerGas){this.fee.gas=this.initialGasLimit*this.initialMaxFeePerGas+t;return}const n=yield this.estimateGas();if(this.initialMaxFeePerGas){this.fee.gas=n*this.initialMaxFeePerGas+t;return}const r=yield this.publicClient.estimateFeesPerGas();if(!r||!r.maxFeePerGas)return;this.fee.gas=n*r.maxFeePerGas+t,this.maxFeePerGas=r.maxFeePerGas,this.maxPriorityFeePerGas=r.maxPriorityFeePerGas}catch(t){fBe.debug(t);return}})}}const pBe="0x420000000000000000000000000000000000000F",mBe=[{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"getL1Fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],gBe=(e,t)=>Ps(void 0,void 0,void 0,function*(){const n=Kk(Object.assign(Object.assign({chainId:e.chain.id},t),{type:t.type?t.type:"eip1559"}));return e.readContract({abi:mBe,address:pBe,args:[n],functionName:"getL1Fee"})}),RJ=[ZV.id,JV.id,YV.id,UV.id,FV.id,WV.id],yBe=(e,t)=>Ps(void 0,void 0,void 0,function*(){const{chain:n}=e;if(!n)throw new Error("Chain is not defined");const r=e;if(RJ.includes(n.id))return gBe(r,t);throw new Error("Chain is not supported")}),vBe=[...RJ],bBe=e=>vBe.includes(e),wBe=e=>/^0x[0-9a-fA-F]{40}$/.test(e),_Be=e=>n0e(e,"wei"),xBe=(e,{precision:t}={})=>JH(N0(e),{precision:t});class PJ extends hBe{constructor({transaction:t,onSubmit:n,publicClient:r,account:i}){super({initialGasLimit:t.gas,initialMaxFeePerGas:t.maxFeePerGas,publicClient:r}),this.chain="EVM",this.validateAddressFormat=wBe,this.parse=_Be,this.format=xBe,this.transaction=t,this.onSubmit=n,this.publicClient=r,this.address=i}get to(){return this.transaction.to||void 0}set to(t){this.transaction.to=t}get from(){return this.address}get value(){return this.transaction.value}set value(t){this.transaction.value=t}get data(){return this.transaction.data}submit(){return Ps(this,void 0,void 0,function*(){return this.onSubmit(this.transaction).catch(t=>{throw t instanceof zH?new Rq(new tt(t.message),this.transaction):t})})}getBalance(){return this.publicClient.getBalance({address:this.address})}estimateGas(){return Ps(this,void 0,void 0,function*(){const t=yield this.publicClient.transport.request({method:"eth_estimateGas",params:[{data:this.data,to:this.to,value:this.convertBigIntToHex(this.value)}]});return ni(t)})}convertBigIntToHex(t){return t?hn(t):void 0}estimateL1Fee(){return Ps(this,void 0,void 0,function*(){var t;return bBe(((t=this.publicClient.chain)===null||t===void 0?void 0:t.id)||0)?yBe(this.publicClient,{data:this.transaction.data,to:this.transaction.to,value:this.transaction.value}):BigInt(0)})}set maxFeePerGas(t){this.transaction.maxFeePerGas=t}set maxPriorityFeePerGas(t){this.transaction.maxPriorityFeePerGas=t}}const kBe=({address:e,account:t,provider:n,walletConnector:r,walletUiUtils:i})=>JT({address:e,signMessage:(...o)=>Ps(void 0,void 0,void 0,function*(){return i.signMessage({handler:()=>Ps(void 0,void 0,void 0,function*(){return(yield t()).signMessage(...o)}),message:(()=>{var s;const a=(s=o[0])===null||s===void 0?void 0:s.message;return a&&!(typeof a=="string"&&Array.isArray(a))?JSON.stringify(a):a==null?void 0:a.toString()})()})}),signTransaction:(...o)=>Ps(void 0,void 0,void 0,function*(){const s=new PJ({account:e,onSubmit:a=>Ps(void 0,void 0,void 0,function*(){return(yield t()).signTransaction(a)}),publicClient:n,transaction:o[0]});return i.sendTransaction(r,s)}),signTypedData:(...o)=>i.signMessage({handler:()=>Ps(void 0,void 0,void 0,function*(){return(yield t()).signTypedData(...o)}),message:JSON.stringify(o[0])})}),SBe=({address:e,account:t,chain:n,transport:r,walletConnector:i,walletUiUtils:o})=>{let s=null;const a=NA({chain:n,transport:r}),c=kBe({account:t,address:e,provider:a,walletConnector:i,walletUiUtils:o}),l=dBe({getAccounts:()=>Ps(void 0,void 0,void 0,function*(){return[e]}),onPersonalSign:d=>Ps(void 0,[d],void 0,function*({message:f}){if(!s)throw new Error("Client not initialized");return s.signMessage({message:{raw:f}})}),onSendTransaction:d=>Ps(void 0,[d],void 0,function*({transaction:f}){if(!s)throw new Error("Client not initialized");const p=uBe(f);return s.sendTransaction(p)}),onSignTypedData:d=>Ps(void 0,[d],void 0,function*({message:f}){if(!s)throw new Error("Client not initialized");return s.signTypedData(JSON.parse(f))}),transport:r});return s=nb({account:c,chain:n,transport:l}),s},EBe=e=>e!=null&&typeof e=="object"&&"walk"in e&&typeof e.walk=="function",CBe=({from:e,publicClient:t,walletClient:n})=>new PJ({account:e,onSubmit:r=>Ps(void 0,void 0,void 0,function*(){return n.sendTransaction({account:e,maxFeePerGas:r.maxFeePerGas,maxPriorityFeePerGas:r.maxPriorityFeePerGas,to:r.to,value:r.value})}),publicClient:t,transaction:{}}),YT=Object.values(XV).reduce((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t}),{}),OJ=-32603,W_={"-32002":"Insufficient funds for this transaction.",0:"The operation either timed out or was not allowed.",16:"Invalid Passkey signature. Select the passkey for this account and device.",3:"You reached the limit of passkeys for this account.",5:"Invalid Passkey signature.",INSUFFICIENT_FUNDS:"Insufficient funds for this transaction.",[OJ.toString()]:"A network error has occurred. Please try again later"},$$={"provided ENS name resolves to null":"Invalid address. Please check that the entered address is correct."},NJ=e=>{var t;const n=e;return(n==null?void 0:n.code)||((t=n==null?void 0:n.cause)===null||t===void 0?void 0:t.code)},IBe=e=>{const t=e;return t==null?void 0:t.message},ABe=e=>"reason"in e&&e.reason!==void 0,TBe=e=>{let t=e;if(EBe(e)&&(t=e.walk()),Ne.debug("transaction error:",t),vp.isInstance(t))return;if(ab.isInstance(t)||RBe(t))return W_.INSUFFICIENT_FUNDS;const n=NJ(t);return n!==void 0&&W_[n]?W_[n]:ABe(t)&&$$[t.reason]?$$[t.reason]:"Something went wrong."},RBe=e=>{const t=NJ(e),n=IBe(e);return t===OJ&&!!(n!=null&&n.includes("insufficient funds for gas * price + value"))};var M$,PBe=["title","titleId"];function e8(){return e8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e8.apply(this,arguments)}function OBe(e,t){if(e==null)return{};var n=NBe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NBe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var jBe=function(t){var n=t.title,r=t.titleId,i=OBe(t,PBe);return k.createElement("svg",e8({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,M$||(M$=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2a1.333 1.333 0 1 1 0 2.667A1.333 1.333 0 0 1 8 2Zm0 4.667a1.333 1.333 0 1 1 0 2.666 1.333 1.333 0 0 1 0-2.666Zm0 4.666A1.333 1.333 0 1 1 8 14a1.333 1.333 0 0 1 0-2.667Z",fill:"currentColor"})))};const hd=({className:e="",dot:t,text:n,copykey:r,variant:i="secondary"})=>u.jsxs("div",{className:We("badge__container",`badge__container__${i}`,e),children:[t&&u.jsx("span",{"data-testid":"badge__dot",className:"badge__dot"}),u.jsx("span",{copykey:r,children:n})]}),BBe=({options:e,setShowMenu:t})=>u.jsx("div",{className:"dots-menu-dropdown__container",style:{zIndex:DK},children:e.map(n=>n.hide?null:u.jsxs("div",{className:"dots-menu-dropdown__item",onClick:()=>{n.callback(),t(!1)},children:[n.Icon&&u.jsx(un,{color:"text-tertiary",children:n.Icon}),u.jsxs(ie,{className:"dots-menu-dropdown__item-text",color:n.fontColor?n.fontColor:"secondary",weight:n.fontWeight,children:[n.text," ",n.badge?u.jsx(hd,{text:n.badge}):null]}),n.endSlot&&u.jsx("div",{className:"dots-menu-dropdown__item__end-slot",children:n.endSlot})]},n.text))}),H0=({options:e,buttonClassName:t,buttonClassNameWithOpenMenu:n,direction:r="right",iconOverride:i})=>{const o=k.useRef(null),s=k.useRef(null),[a,c]=k.useState(!1);return b3(s,()=>c(!1)),u.jsxs(u.Fragment,{children:[u.jsx(Vr,{ref:o,onClick:()=>c(!0),"data-testid":"dotsMenu",className:a?n:t,children:i||u.jsx(un,{children:u.jsx(jBe,{})})}),u.jsx(TR,{isOpen:a,onClickOutside:()=>c(!1),onScroll:()=>c(!1),anchorRef:o,ref:s,anchorOrigin:r==="right"?"bottom-left":"top-right",transformOrigin:r==="right"?"top-left":"bottom-right",children:u.jsx(BBe,{options:e,setShowMenu:c})})]})},$Be=12,MBe=4,DBe=4,D$=(e,t,n)=>e.replace(e.substring(t,n),"..."),Cp=(e,t)=>{if(!e)return"";const n=(t==null?void 0:t.breakpoint)||$Be,r=(t==null?void 0:t.cutStart)||DBe,i=(t==null?void 0:t.cutEnd)||MBe;let[o,s]=e.split("@");return(o==null?void 0:o.length)>n&&(o=D$(o,r,o.length-i)),(s==null?void 0:s.length)>n&&(s=D$(s,r,s.length-i)),`${o}@${s}`},jJ=e=>{const t=e||navigator.userAgent;if(t.match(/brave/i))return"brave";if(t.match(/edg/i))return"edge";if(t.match(/chrome|chromium|crios/i))return"chrome";if(t.match(/firefox|fxios/i))return"firefox";if(t.match(/safari/i))return"safari"},L$=e=>e.match(/iPhone/i)?"iPhone":e.match(/Android/i)?"android":jJ(e),LBe=e=>{const{t}=no.getInstance(),r=Date.now()-e.getTime(),i=60*1e3,o=60*i,s=24*o,a=30*s,c=365*s;if(r>=c){const d=Math.floor(r/c);return{unit:t(d===1?"dyn_time_since.year":"dyn_time_since.years"),value:d}}if(r>=a){const d=Math.floor(r/a);return{unit:t(d===1?"dyn_time_since.month":"dyn_time_since.months"),value:d}}if(r>=s){const d=Math.floor(r/s);return{unit:t(d===1?"dyn_time_since.day":"dyn_time_since.days"),value:d}}if(r>=o){const d=Math.floor(r/o);return{unit:t(d===1?"dyn_time_since.hour":"dyn_time_since.hours"),value:d}}if(r>=i){const d=Math.floor(r/i);return{unit:t(d===1?"dyn_time_since.minute":"dyn_time_since.minutes"),value:d}}const l=Math.floor(r/1e3);return{unit:t(l===1?"dyn_time_since.second":"dyn_time_since.seconds"),value:l}},UBe={android:u.jsx(EH,{}),brave:u.jsx(bH,{}),chrome:u.jsx(wH,{}),edge:u.jsx(_H,{}),firefox:u.jsx(xH,{}),iPhone:u.jsx(SH,{}),opera:u.jsx(B2e,{}),safari:u.jsx(kH,{})},FBe=({passkey:e})=>{var t;const{t:n}=ut(),{setShowAuthFlow:r}=Te(),{setView:i}=dn(),{setPasskey:o,setPasskeyIcon:s}=ah(),a=[{Icon:null,callback:()=>{r(!0),o(e),s(()=>{var y;return(y=p())!==null&&y!==void 0?y:void 0}),i("rename-passkey")},text:"Rename"}],[c,l]=k.useState(!1),{value:d,unit:f}=LBe(e.createdAt),p=()=>{if(!e.userAgent)return null;const y=L$(e.userAgent);return y?UBe[y]:null},m=()=>{if(!e.userAgent)return null;const y=L$(e.userAgent);return y?n(`dyn_manage_passkeys.passkey_providers.${y}`):null},g=()=>{l(!0),setTimeout(()=>{l(!1)},2e3)};return u.jsxs("div",{className:"passkey-card",children:[u.jsx("div",{className:"passkey-card__info",children:u.jsxs("div",{className:"passkey-card__info__text",children:[u.jsxs(ie,{"data-testid":"passkey-alias",variant:"body_normal",color:"primary",title:e.alias,onClick:g,children:[u.jsxs("div",{className:"passkey-card__body",children:[u.jsxs("div",{className:"passkey-card__left",children:[u.jsx("div",{className:"passkey-card__info__icon","data-testid":"provider-icon",children:u.jsx(p,{})}),!((t=e.alias)===null||t===void 0)&&t.includes("@")?Cp(e.alias,{breakpoint:12,cutEnd:4,cutStart:4}):e.alias]}),u.jsx(H0,{options:a})]}),u.jsx("span",{className:We("passkey-card__info__tooltip",{"passkey-card__info__tooltip--visible":c}),children:e.alias})]}),m()&&u.jsxs(ie,{variant:"body_small",color:"secondary",children:[n("dyn_manage_passkeys.passkey_from")," ",m()]})]})}),u.jsx("div",{className:"passkey-card__date",children:u.jsxs(ie,{variant:"body_small",color:"secondary",copykey:"dyn_time_since.created",children:[n("dyn_time_since.created")," ",`${d} ${f} ${n("dyn_time_since.ago")}`]})})]})},XT=k.createContext(void 0),WBe=({children:e})=>{var t,n,r,i,o,s,a,c;const{userHasEmbeddedWallet:l}=Z0(),{isTurnkeyWallet:d,isTurnkeyWalletWithoutAuthenticator:f,hasRecoveryEmail:p}=Ns(),{environmentId:m,projectSettings:g,user:y}=Te(),[v,w]=k.useState(!1),[_,E]=k.useState(void 0),[C,T]=k.useState(void 0),[A,S]=Wf($K,!0),O=k.useMemo(()=>{var I,x,P,N;const $=!!(!((N=(P=(x=(I=g==null?void 0:g.sdk)===null||I===void 0?void 0:I.embeddedWallets)===null||x===void 0?void 0:x.supportedSecurityMethods)===null||P===void 0?void 0:P.passkey)===null||N===void 0)&&N.isEnabled);return A!==!1&&f&&$},[f,A,(i=(r=(n=(t=g==null?void 0:g.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.supportedSecurityMethods)===null||r===void 0?void 0:r.passkey)===null||i===void 0?void 0:i.isEnabled]),D=k.useCallback(()=>{var I,x,P,N;const $=!!(!((N=(P=(x=(I=g==null?void 0:g.sdk)===null||I===void 0?void 0:I.embeddedWallets)===null||x===void 0?void 0:x.supportedSecurityMethods)===null||P===void 0?void 0:P.passkey)===null||N===void 0)&&N.isEnabled);return!O&&f&&$||d&&!p},[(c=(a=(s=(o=g==null?void 0:g.sdk)===null||o===void 0?void 0:o.embeddedWallets)===null||s===void 0?void 0:s.supportedSecurityMethods)===null||a===void 0?void 0:a.passkey)===null||c===void 0?void 0:c.isEnabled,O,d,f,p]),K=Ki(()=>ae(void 0,void 0,void 0,function*(){return(yield TJ({environmentId:m})).passkeys}),{deps:[m,y,l(),v],enabled:!!(m&&y&&l())}),H=k.useMemo(()=>{if(typeof window>"u")return!1;const I=Uo.getHostname();return K.data?K.data.some(x=>{if(!x.origin)return!1;try{const P=new URL(x.origin).hostname;return P===bp()||P===I}catch(P){return Ne.error(P),!1}}):!1},[K.data]),X=!f&&!H,U=k.useMemo(()=>{var I;return{passkey:_,passkeyEdited:v,passkeyIcon:C,setPasskey:E,setPasskeyEdited:w,setPasskeyIcon:T,setShowSecureAccountBanner:S,showAlert:D,showSecureAccountBanner:O,userHasPasskeysForCurrentOrigin:H,userNeedsCrossDomainPasskey:X,userPasskeys:(I=K.data)!==null&&I!==void 0?I:[],userPasskeysLoading:K.isLoading}},[_,v,C,H,K.data,K.isLoading,X,D,S,O]);return u.jsx(XT.Provider,{value:U,children:e})},zBe=({children:e})=>u.jsx(WBe,{children:e}),ah=()=>{const e=k.useContext(XT);if(e===void 0)throw new Error("usage of PasskeyContext not wrapped in `PasskeyContextProvider`.");return e},BJ=k.createContext(void 0),qBe=({children:e})=>{const t=k.useRef(null),n=k.useRef(null),r=k.useRef(null),{setShowDynamicUserProfile:i,showDynamicUserProfile:o,multiWallet:s}=Te(),a=M3(),{view:c,setView:l,goToInitialView:d}=Jje(a&&!s?"profile":"wallets"),f=k.useCallback(()=>{if(a)return l("profile");l("wallets")},[a,s]);Lo("logout",()=>d());const p=k.useMemo(()=>({availableWalletsContainerRef:r,dynamicWidgetView:c,goToInitialDynamicWidgetView:d,goToProfileView:f,inlineControlsRef:n,isOpen:o,setDynamicWidgetView:l,setIsOpen:i,widgetRef:t}),[c,d,f,o,l,i]);return u.jsx(BJ.Provider,{value:p,children:e})},sc=()=>{const e=k.useContext(BJ);if(e===void 0)throw new Error("usage of useWidgetContext not wrapped in `DynamicWidgetContextProvider`.");return e},VBe=()=>{const{authMode:e,user:t}=Te();return e==="connect-only"&&!t},M3=()=>{const e=VBe(),{projectSettings:t,user:n}=Te();return e?!1:$3({customFields:t==null?void 0:t.customFields,projectSettingsKyc:t==null?void 0:t.kyc,user:n}).length>0||GT(t)},HBe=({onChange:e,value:t,options:n,rootClassName:r,activeButtonClassName:i,buttonClassName:o})=>{const s=f=>f!==void 0&&f===t,a=k.useRef(null),[c,l]=k.useState(0),d=f=>f.label||f.key;return k.useLayoutEffect(()=>{if(!a.current)return;const f=n==null?void 0:n.find(({key:v})=>v===t);if(!f)return;const p=d(f),m=a.current.querySelector(`[data-options-switcher-label=${p}]`);if(!m)return;const g=a.current.getBoundingClientRect(),y=m.getBoundingClientRect();l(y.x-g.x)},[n,t]),u.jsxs("div",{ref:a,"data-testid":"OptionsSwitcher",className:We("options-switcher",r),children:[u.jsx("div",{className:"options-switcher__active-rail",style:{left:c,width:`${100/((n==null?void 0:n.length)||1)}%`}}),n==null?void 0:n.map(f=>u.jsx("button",{type:"button",className:We("options-switcher__button",o,{"options-switcher__button--active":s(f.key)},s(f.key)&&i),onClick:()=>e==null?void 0:e(f.key),"data-options-switcher-label":d(f),children:d(f)},f.key))]})};var U$,KBe=["title","titleId"];function t8(){return t8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t8.apply(this,arguments)}function GBe(e,t){if(e==null)return{};var n=ZBe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZBe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Hf=function(t){var n=t.title,r=t.titleId,i=GBe(t,KBe);return k.createElement("svg",t8({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,U$||(U$=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2c.368 0 .667.298.667.667v4.666h4.666a.667.667 0 1 1 0 1.334H8.667v4.666a.667.667 0 1 1-1.334 0V8.667H2.667a.667.667 0 0 1 0-1.334h4.666V2.667C7.333 2.298 7.632 2 8 2Z",fill:"currentColor",fillOpacity:.4})))},F$,JBe=["title","titleId"];function n8(){return n8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n8.apply(this,arguments)}function YBe(e,t){if(e==null)return{};var n=XBe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XBe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var QBe=function(t){var n=t.title,r=t.titleId,i=YBe(t,JBe);return k.createElement("svg",n8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,F$||(F$=k.createElement("g",{clipPath:"url(#send_svg__clip0_6894_96)"},k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m3.846 9.3.03-.01 14.64-5.728c.199-.078.399-.156.567-.205.156-.046.465-.126.794-.02.374.123.664.413.786.787.107.33.027.638-.019.794-.049.168-.127.368-.205.567L14.702 20.15c-.08.204-.16.408-.239.568-.073.147-.226.436-.537.614a1.277 1.277 0 0 1-1.136.072c-.323-.137-.496-.405-.58-.542-.09-.149-.184-.342-.278-.535l-2.693-5.52-5.546-2.724-.027-.014c-.193-.094-.385-.189-.533-.28-.137-.082-.403-.256-.54-.578a1.277 1.277 0 0 1 .074-1.136c.178-.31.466-.463.612-.536.16-.079.363-.158.567-.238Zm.972 1.425 4.88 2.396 2.912-2.913a.848.848 0 0 1 1.2-.017.848.848 0 0 1-.017 1.2l-2.898 2.898 2.384 4.888 5.433-13.888-13.894 5.436Z",fill:"currentColor",fillOpacity:.4}))))};const e$e=e=>{var t;return(t=e==null?void 0:e.verifiedCredentials)===null||t===void 0?void 0:t.find(n=>n.format==="oauth"&&n.id===e.lastVerifiedCredentialId)},QT=e=>{const t=$p.map(Is).map(n=>(n.iso2==="br"&&(n.format="(..) .....-...."),n.iso2==="fr"&&(n.format="(.) .. .. .. .."),c8e(n)));return e?t.filter(([,n])=>e.includes(n)):t},D3=e=>{var t;const{country:n}=u3({countries:QT(),phone:e});if(!n)return e;const r=E1({dialCode:n.dialCode,phone:e}),i=nG({country:n,phone:e}),o=/\./g;if(((t=i.match(o))!==null&&t!==void 0?t:[]).length!==t$e(r).length)return e;let s=0;const a=i.replace(o,()=>r[s++]);return`+${n.dialCode} ${a}`},t$e=e=>e.replace(/\D+/g,""),$J=e=>{const t=e$e(e);return t!=null&&t.publicIdentifier?t.publicIdentifier:e!=null&&e.email?Cp(e.email):e!=null&&e.phoneNumber?D3(e.phoneNumber):"My Profile"};var W$,z$,n$e=["title","titleId"];function r8(){return r8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r8.apply(this,arguments)}function r$e(e,t){if(e==null)return{};var n=i$e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function i$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var o$e=function(t){var n=t.title,r=t.titleId,i=r$e(t,n$e);return k.createElement("svg",r8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,k.createElement("circle",{cx:12,cy:12,r:11,stroke:"currentColor",strokeWidth:2,style:{opacity:.1}}),k.createElement("mask",{id:"spinner_svg__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24},W$||(W$=k.createElement("circle",{cx:12,cy:12,r:11,stroke:"currentColor",strokeWidth:2}))),z$||(z$=k.createElement("g",{mask:"url(#spinner_svg__a)"},k.createElement("path",{fill:"currentColor",d:"M12-16.5h27v27H12z"}))))};const Kf=({className:e=""})=>u.jsx(o$e,{className:We("spinner",e)}),eR=({buttonClassName:e="",buttonPadding:t="medium",buttonVariant:n="primary",children:r,feedback:i,expanded:o,dataTestId:s,disabled:a=!1,showInternalLoading:c=!0,loading:l=!1,onClick:d,type:f,startSlot:p,endSlot:m})=>{const[g,y]=k.useState(!1),[v,w]=k.useState(!1),_={"brand-primary":"button--brand-primary",primary:"button--primary",secondary:"button--secondary",tertiary:"button--tertiary"},C=We("button",{"button--expanded":!!o,"button--loading":!!l},t?{default:"button--padding-default",large:"button--padding-large","login-screen-height":"button--padding-login-screen-height",medium:"button--padding-medium",none:"button--padding-none",small:"button--padding-small"}[t]:"",n?_[n]:"",e),T=S=>ae(void 0,void 0,void 0,function*(){if(d){const O=d(S);if(O instanceof Promise){c&&y(!0);try{yield O}finally{y(!1)}}}i&&(w(!0),setTimeout(()=>{w(!1)},2e3))}),A=u.jsxs(u.Fragment,{children:[p&&u.jsx("div",{className:"button__start-slot",children:p}),(i||r)&&(v&&i?i:r),m&&u.jsx("div",{className:"button__end-slot",children:m})]});return u.jsxs("button",{type:f,onClick:T,className:C,disabled:a||g||l,"data-testid":s,children:[(g||l)&&u.jsx("div",{className:"button__spinner-container","data-testid":"button__spinner",children:u.jsx(Kf,{className:"button__spinner"})}),A]})},Qt=e=>{var{children:t,typographyProps:n={variant:"button_primary"},copykey:r}=e,i=na(e,["children","typographyProps","copykey"]);return u.jsx(eR,Object.assign({},i,{children:u.jsx(ie,Object.assign({variant:"button_primary",color:"primary",as:"span"},n,{copykey:r,children:t}))}))},tR=({src:e,alt:t="",fallback:n,className:r,dataTestId:i})=>{const[o,s]=k.useState(!1),a=()=>{s(!0)};return e&&!o?u.jsx("img",{src:e,alt:t,onError:a,className:r,"data-testid":i}):u.jsx(u.Fragment,{children:n})},MJ=({user:e,containerClassName:t,renderWithFallback:n=!0})=>{const i=(()=>{var o,s,a;return(a=(s=(o=e==null?void 0:e.verifiedCredentials)===null||o===void 0?void 0:o.find(l=>{var d;return e.lastVerifiedCredentialId===l.id&&((d=l.oauthAccountPhotos)===null||d===void 0?void 0:d.length)}))===null||s===void 0?void 0:s.oauthAccountPhotos)===null||a===void 0?void 0:a[0]})();return!i&&!n?null:u.jsx("div",{className:We("user-profile-social-account__connected-avatar",t),children:u.jsx(tR,{className:"user-profile-social-account__image",src:i,alt:"User avatar",dataTestId:"user-avatar",fallback:u.jsx(e3,{})})})};var q$,s$e=["title","titleId"];function i8(){return i8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i8.apply(this,arguments)}function a$e(e,t){if(e==null)return{};var n=c$e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function c$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var vo=function(t){var n=t.title,r=t.titleId,i=a$e(t,s$e);return k.createElement("svg",i8({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,q$||(q$=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.41 4.41a.833.833 0 0 1 1.18 0L10 8.822l4.41-4.41a.833.833 0 1 1 1.18 1.178L11.178 10l4.41 4.41a.833.833 0 1 1-1.178 1.18L10 11.177 5.588 15.59a.833.833 0 1 1-1.178-1.178L8.82 10l-4.41-4.41a.833.833 0 0 1 0-1.18Z",fill:"currentcolor"})))};const nR=e=>{if(!e||!Object.keys(e).length)return{};const t={};return Object.keys(e).filter(n=>{var r;return(r=e[n])===null||r===void 0?void 0:r.isEnabled}).forEach(n=>t[n]=e[n]),t},rR=(e,t)=>ae(void 0,void 0,void 0,function*(){try{const n=yield zn().updateSelf({environmentId:e,userFields:t}),r=yield To(n);return Object.assign(Object.assign({},n),{userProfile:r})}catch(n){if(Ne.error(n),n instanceof Response){const r=yield n.json();if(r.code==="email_already_exists")throw new WA;if(r.code==="custom_field_data_not_unique")throw new KA;if(r.code==="username_already_exists")throw new qA;if(r.code==="too_many_verification_attempts")throw new VA;if(r.code==="invalid_phone"||r.code==="invalid_sms_verification")throw new HA(r.error)}throw n}}),l$e=e=>ae(void 0,void 0,void 0,function*(){try{const t=yield zn().mergeUsers({environmentId:e});return To(t)}catch(t){throw Ne.error(t),t}}),d$e=(e,t)=>ae(void 0,void 0,void 0,function*(){try{const n=yield zn().verifyMergeUsers({environmentId:e,mergeUserConflictResolutions:{mergeUserResolutions:t}});return To(n)}catch(n){throw Ne.error(n),n}}),DJ=e=>ae(void 0,[e],void 0,function*({environmentId:t}){try{const n=yield zn().refreshAuth({environmentId:t});return To(n)}catch{return}}),u$e=e=>ae(void 0,[e],void 0,function*({environmentId:t}){try{return yield zn().getAuthenticatedUser({environmentId:t})}catch(n){if(n.status===401)throw Ne.error("No valid auth for getAuthenticatedUser",n),new VH;Ne.error("Other error getting authenticated user",n);return}}),f$e={days:86400,hours:3600,minutes:60},o8=e=>{if(!e)return 0;const{unit:t,amount:n}=e,r=n||0,i=f$e[t]||0;return r*i},qp=()=>{const e=k.useRef(null);return{createRootElement:(n="dynamic-modal",r)=>{if(typeof window>"u")return e;const i=window.document.getElementById(n);if(i)return e.current=i,e;const o=r?window.document.getElementById(r):void 0;return e.current=window.document.createElement("div"),e.current.setAttribute("id",n),e.current.setAttribute("class",n),e.current.setAttribute("data-testid",n),e.current.style.pointerEvents="auto",o?o.appendChild(e.current):window.document.body.appendChild(e.current),e}}},Gf=(e,t)=>{var n;const r=(n=e==null?void 0:e.verifiedCredentials)===null||n===void 0?void 0:n.filter(({walletProvider:i})=>i===kp.EmbeddedWallet);return r!=null&&r.length&&(t!=null&&t.length)?r.find(({chain:i})=>i&&t.includes(a3[i])):r==null?void 0:r.shift()},h$e=e=>{let t;if(typeof window<"u"){t=window.document.getElementById(e);const n=t==null?void 0:t.parentElement;if(!t||!n)return;n.removeChild(t)}},iR="dyn-passkey-recovery-id",oR="dyn-passkey-recovery-element-id",p$e=e=>ae(void 0,[e],void 0,function*({authenticatorType:t,iframeContainer:n,iframeElementId:r,environmentId:i,user:o,wallet:s,sessionExpiration:a}){var c;if(!o)throw new Ae(li);if(!(s!=null&&s.connector)||!(s!=null&&s.id)||!Rl(s==null?void 0:s.connector))throw new Ae("Connector is missing. Please make sure you added EthereumWalletConnectors and/or SolanaWalletConnectors to DynamicProvider settings");const l=(c=s.connector)===null||c===void 0?void 0:c.getAuthenticatorHandler();if(t==="passkey"&&l.isSessionActive())return LJ({environmentId:i,user:o,wallet:s});const d=yield l.initRecovery(t,n,r,a);if(!d)throw new Ae("Something went wrong");const f=yield ZT({authenticatorType:t,environmentId:i,publicKey:d,walletId:s.id});l.recoveryUserId=t==="passkey"?f.turnkeyRecoveryUserId:f.turnkeyUserId}),m$e=e=>ae(void 0,[e],void 0,function*({user:t,bundleInput:n,wallet:r}){var i,o,s,a;if(!n)throw new Ae("Code must be informed");if(!(r!=null&&r.connector)||!(r!=null&&r.id)||!Rl(r==null?void 0:r.connector))throw new Ae("Connector is missing. Please make sure you added EthereumWalletConnectors and/or SolanaWalletConnectors to DynamicProvider settings");if(!t)throw new Ae(li);const c=(s=(o=(i=t.verifiedCredentials)===null||i===void 0?void 0:i.find(({walletName:f})=>f==null?void 0:f.startsWith("turnkey")))===null||o===void 0?void 0:o.walletProperties)===null||s===void 0?void 0:s.turnkeySubOrganizationId,l=(a=r.connector)===null||a===void 0?void 0:a.getAuthenticatorHandler();yield l.verifyRecoveryCode(n,c);const d={createdAt:new Date().getTime(),emailCode:n,userId:l.recoveryUserId};Ft.setToLS(i0,d)}),g$e=e=>ae(void 0,[e],void 0,function*({authenticatorType:t,user:n,environmentId:r,wallet:i}){var o;if(!n)throw new Ae(li);if(!(i!=null&&i.connector)||!(i!=null&&i.id)||!Rl(i==null?void 0:i.connector))throw new Ae("Connector is missing. Please make sure you added EthereumWalletConnectors and/or SolanaWalletConnectors to DynamicProvider settings");const s=(o=i.connector)===null||o===void 0?void 0:o.getAuthenticatorHandler().publicKey;if(!s)throw new Ae("Could not proceed with your request. Please restart the process.");return ZT({authenticatorType:t,environmentId:r,publicKey:s,walletId:i==null?void 0:i.id})}),y$e=e=>ae(void 0,[e],void 0,function*({user:t,environmentId:n,wallet:r}){const{connector:i,user:o}=yield UJ({addPasskeyAuthenticator:!1,environmentId:n,user:t,wallet:r});return i.getAuthenticatorHandler().clear(),h$e(oR),o}),LJ=e=>ae(void 0,[e],void 0,function*({user:t,environmentId:n,wallet:r}){const{user:i}=yield UJ({addPasskeyAuthenticator:!0,environmentId:n,user:t,wallet:r});return i}),UJ=e=>ae(void 0,[e],void 0,function*({wallet:t,user:n,environmentId:r,addPasskeyAuthenticator:i}){var o,s,a;if(!n)throw new Ae(li);if(!t||!t.connector||!t.id||!Rl(t.connector))throw new Ae("Connector is missing. Please make sure you added EthereumWalletConnectors and/or SolanaWalletConnectors to DynamicProvider settings");const c=t.connector;c.setEmail(n.email);const l=(a=(s=(o=n.verifiedCredentials)===null||o===void 0?void 0:o.find(({walletName:v})=>v==null?void 0:v.startsWith("turnkey")))===null||s===void 0?void 0:s.walletProperties)===null||a===void 0?void 0:a.turnkeySubOrganizationId;if(!l)throw new Ae("The authentication token is invalid - turnkeySubOrganizationId is missing");const d=t.connector.getAuthenticatorHandler(),{attestation:f,challenge:p}=yield c.getWebAuthnAttestation();i?yield d.addPasskeyAuthenticator({attestation:f,challenge:p,turnkeySubOrganizationId:l}):yield d.completeRecovery({attestation:f,challenge:p,turnkeySubOrganizationId:l});const m=yield AJ({attestation:f,challenge:p,environmentId:r,walletId:t.id});if(!m)throw new Ae("No user returned from passkey recovery");const g=c.connectedChain;if(!Gf(m,[g]))throw new Ae("EmbeddedWalletVerifiedCredential not found");return c.setVerifiedCredentials(m.verifiedCredentials),{connector:c,user:m}}),FJ=e=>{if(!(e!=null&&e.amount))return!1;const t=Ft.getFromLS(i0);if(!t)return!1;const n=e.amount*(e.unit==="minutes"?60:3600),r=(t==null?void 0:t.createdAt)+n*1e3,i=new Date(r);return new Date>=i?(Ft.removeFromLS(i0),!1):!0},WJ=e=>ae(void 0,[e],void 0,function*({user:t,iframeContainer:n,iframeElementId:r,wallet:i,sessionExpiration:o}){var s,a,c,l;if(!t)throw new Ae(li);if(!(i!=null&&i.connector)||!(i!=null&&i.id)||!Rl(i==null?void 0:i.connector))throw new Ae("Connector is missing. Please make sure you added EthereumWalletConnectors and/or SolanaWalletConnectors to DynamicProvider settings");const d=Ft.getFromLS(i0),f=(s=i.connector)===null||s===void 0?void 0:s.getAuthenticatorHandler();if(!d||f.recoveryUserId)return!1;if(!(yield f.initRecovery("email",n,r,o)))throw new Ae("Could not open embedded wallet connection communication");f.recoveryUserId=d.userId;const m=(l=(c=(a=t.verifiedCredentials)===null||a===void 0?void 0:a.find(({walletName:g})=>g==null?void 0:g.startsWith("turnkey")))===null||c===void 0?void 0:c.walletProperties)===null||l===void 0?void 0:l.turnkeySubOrganizationId;return yield f.verifyRecoveryCode(d.emailCode,m),!0}),v$e=e=>ae(void 0,[e],void 0,function*({user:t,environmentId:n,wallet:r}){var i,o;if(!(t!=null&&t.email))throw new Ae(li);if(!(r!=null&&r.connector)||!(r!=null&&r.id)||!Rl(r==null?void 0:r.connector)||!Tl(r==null?void 0:r.connector))throw new Ae("Connector is missing. Please make sure you added EthereumWalletConnectors and/or SolanaWalletConnectors to DynamicProvider settings");const{turnkeySubOrganizationId:s,turnkeyUserId:a}=(o=(i=t.verifiedCredentials)===null||i===void 0?void 0:i.find(({walletName:d})=>d==null?void 0:d.startsWith("turnkey")))===null||o===void 0?void 0:o.walletProperties;if(!s||!a)throw new Ae("The authentication token is invalid - turnkeySubOrganizationId or turnkeyUserID is missing");const c=r.connector.getAuthenticatorHandler(),{signedRequest:l}=yield c.addEmailRecovery({email:t.email,organizationId:s,turnkeyUserId:a});return yield eBe({environmentId:n,updateRecoveryEmailRequest:{turnkeySignedRequest:l}}),r.connector.setEmail(t.email),DJ({environmentId:n})}),sR=()=>{const{primaryWallet:e,environmentId:t,user:n,projectSettings:r,setShowAuthFlow:i}=Te(),{setView:o}=dn(),[s,a]=k.useState(!1),[c,l]=k.useState();return{error:c,initAuthMethod:f=>ae(void 0,[f],void 0,function*({authenticatorType:p,iframeContainer:m,currentAction:g}){var y,v,w,_;a(!0);const E=Ou(e,(n==null?void 0:n.verifiedCredentials)||[]),C=((v=(y=r==null?void 0:r.sdk.embeddedWallets)===null||y===void 0?void 0:y.sessionKeyDuration)===null||v===void 0?void 0:v.amount)||0,T=((_=(w=r==null?void 0:r.sdk.embeddedWallets)===null||w===void 0?void 0:w.sessionKeyDuration)===null||_===void 0?void 0:_.unit)==="minutes"?60:3600,A=p==="email"||!(E==null?void 0:E.connector).getAuthenticatorHandler().isSessionActive();try{yield p$e({authenticatorType:p,environmentId:t,iframeContainer:m,iframeElementId:oR,sessionExpiration:C*T||void 0,user:n,wallet:E}),A?(o("passkey-recovery-bundle",{authenticatorType:p,currentAction:g}),i(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1})):i(!1)}catch(S){l(S),Ne.error("Failed to create embedded wallet",S),Kt.emit("passkeyRecoveryFailed",S)}finally{a(!1)}}),isLoading:s}},Id=()=>{var e,t;const{environmentId:n,primaryWallet:r,projectSettings:i,setShowAuthFlow:o,user:s}=Te(),{createRootElement:a}=qp(),c=a(iR),{userHasEmbeddedWallet:l}=Z0(),{isTurnkeyWalletWithoutAuthenticator:d,hasRecoveryEmail:f}=Ns(),{initAuthMethod:p}=sR(),{setDisplayedDestination:m,setVerificationUUID:g}=Ll(),{setView:y}=dn(),v=Ou(r,(s==null?void 0:s.verifiedCredentials)||[]),w=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){var A,S;if(!(!((A=i==null?void 0:i.sdk.embeddedWallets)===null||A===void 0)&&A.sessionKeyDuration)||!FJ((S=i==null?void 0:i.sdk.embeddedWallets)===null||S===void 0?void 0:S.sessionKeyDuration))return!1;const O=o8(i.sdk.embeddedWallets.sessionKeyDuration);try{return yield WJ({iframeContainer:c.current,iframeElementId:oR,sessionExpiration:O,user:s,wallet:r})}catch(D){Ne.error("Failed to restore embedded wallet",D)}return!1}),[s,c,r,(t=(e=i==null?void 0:i.sdk)===null||e===void 0?void 0:e.embeddedWallets)===null||t===void 0?void 0:t.sessionKeyDuration]),_=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){if(!v||!Rl(v.connector))return!1;const A=v.connector.getAuthenticatorHandler();return!(!d||A.isSessionActive()||(yield w()))}),[v,d,w]),E=k.useCallback((A,S)=>ae(void 0,void 0,void 0,function*(){var O;(()=>{if(!s)throw new Error(li);if(!Vf(i))throw new Error("Dynamic embedded wallet is not enabled. Go to the dashboard and make sure to have both Dynamic embedded wallet and at least one EVM network enabled. Also, check if EthereumWalletConnectors is in the  DynamicContextProvider > settings > walletConnectors.");if(!l())throw new Error("Dynamic embedded wallet not found");if(v&&!Rl(v.connector))throw new Error("Dynamic embedded wallet not found.")})();const K=(v==null?void 0:v.connector).getAuthenticatorHandler();if(A==="passkey"&&K.isSessionActive())return yield LJ({environmentId:n,user:s,wallet:v}),o(!1),v;const H=nR((O=i==null?void 0:i.sdk.embeddedWallets)===null||O===void 0?void 0:O.supportedSecurityMethods),X=H?Object.keys(H):[];if(!f)y("passkey-recovery-add-email",{shouldInitRecovery:!0}),o(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1});else if(!A&&X.length>1)y("embedded-wallet-auth-choice",{currentAction:S}),o(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1});else{const[U]=X;A&&!X.includes(A)&&(A=U),yield p({authenticatorType:A||U,currentAction:S,iframeContainer:c.current})}return new Promise((U,I)=>{Kt.once("passkeyRecoveryCompleted",x=>U(x)),Kt.once("passkeyRecoveryFailed",x=>I(x))})}),[v,i,f,l,n,s,o,y,p,c]),C=A=>ae(void 0,void 0,void 0,function*(){try{let S=s;s!=null&&s.email||(S=yield T(A)),yield v$e({environmentId:n,user:S,wallet:r}),Kt.emit("embeddedWalletRecoveryEmailCompleted","")}catch(S){Ne.error("Failed to add recovery email",S),Kt.emit("embeddedWalletRecoveryEmailFailed",S)}}),T=A=>ae(void 0,void 0,void 0,function*(){try{const{nextView:S,emailVerification:O,userProfile:D}=yield rR(n,{email:A});return S===_b.Done?D:(y("verify-email",{isEmailRecoveryFlow:!0}),m(A),g(O==null?void 0:O.verificationUUID),new Promise((K,H)=>{Kt.once("emailVerificationResult",X=>{X&&K(D),H("Failed to verify email")})}))}catch(S){throw Ne.error("Failed to update user email",S),S}});return{addRecoveryEmail:C,initPasskeyRecoveryProcess:E,shouldInitRecovery:_}},b$e=({className:e})=>{const{t}=ut(),{initPasskeyRecoveryProcess:n}=Id(),{showSecureAccountBanner:r,setShowSecureAccountBanner:i}=ah();return r?u.jsxs("div",{className:We("secure-embedded-wallet-card",e),children:[u.jsxs("div",{className:"secure-embedded-wallet-card__text-content","data-testid":"secure-wallet-button",onClick:()=>n(),children:[u.jsx(ie,{variant:"body_small",color:"primary",copykey:"dyn_secure_pregenerated_wallet.description",children:t("dyn_secure_pregenerated_wallet.description")}),u.jsx(ie,{variant:"body_small",weight:"bold",color:"brand-primary",copykey:"dyn_secure_pregenerated_wallet.action",className:"secure-embedded-wallet-card__link",children:t("dyn_secure_pregenerated_wallet.action")})]}),u.jsx("div",{children:u.jsx(Vr,{color:"text-secondary",onClick:()=>i(!1),children:u.jsx(vo,{width:16,height:16})})})]}):null},w$e=["banxa"],_$e=e=>w$e.includes(e.provider),s8=(e,t)=>{var n,r;return(r=(n=t==null?void 0:t.additionalAddresses)===null||n===void 0?void 0:n.find(i=>i.type===e))===null||r===void 0?void 0:r.address},x$e=e=>ae(void 0,[e],void 0,function*({chain:t,environmentId:n,networkId:r,token:i,walletAddress:o}){const{onramps:s}=yield zn().getSupportedOnramps({chain:t,environmentId:n,networkId:r?String(r):void 0,token:i,walletAddress:o});if(!s||s.length===0)throw new Error("No onramps");return s}),zJ=k.createContext(void 0),k$e=({children:e})=>{var t,n;const r=k.useRef(null),[i,o]=k.useState(!1),[s,a]=k.useState(!1),[c,l]=k.useState(""),{environmentId:d,network:f,primaryWallet:p,projectSettings:m}=Te(),g=(n=(t=m==null?void 0:m.providers)===null||t===void 0?void 0:t.some(w=>_$e(w)&&!!w.enabledAt))!==null&&n!==void 0?n:!1,y=k.useCallback((...w)=>ae(void 0,[...w],void 0,function*({address:_,token:E}={}){var C;if(!g||!p)return;const T=(C=w1(p.chain))===null||C===void 0?void 0:C.name;if(!T)return;const A=fK(p.connector)&&s8(wb.Payment,p),S=f&&T==="evm";try{const[{url:O}]=yield x$e({chain:T,environmentId:d,networkId:S?f.toString():void 0,token:E,walletAddress:_||A||p.address});if(!O)throw new Error("No onramp url found");l(O),a(!0)}catch{a(!1)}}),[d,g,f,p]),v=k.useMemo(()=>({fundingEnabled:g,fundingRef:r,fundingUrl:c,setShowFunding:o,showFunding:i,supportsFunding:s,updateSupportsFunding:y}),[g,c,i,s,y]);return k.useEffect(()=>{y()},[d,g,f,p==null?void 0:p.address]),u.jsx(zJ.Provider,{value:v,children:e})},aR=()=>{const e=k.useContext(zJ);if(e===void 0)throw new Error("usage of useFundingContext not wrapped in `FundingContextProvider`.");return e},gg=({elementId:e})=>{const{createRootElement:t}=qp(),n=t(e),[r,i]=k.useState(null),o=k.useCallback(s=>ae(void 0,void 0,void 0,function*(){return new Promise((c,l)=>{try{i(s(c,l))}catch(d){l(d)}}).finally(()=>{i(void 0)})}),[i]);return{modal:r?u.jsx("div",{children:dp.createPortal(r,n.current)}):void 0,open:o}},Ip=e=>{var{style:t,children:n,className:r}=e,i=na(e,["style","children","className"]);const o=k.useRef(null),s=k.useRef(null),[a]=UG(s),c=k.useMemo(()=>a==null?void 0:a.height,[a]),{mount:l,stage:d,currentDuration:f}=A1(Object.assign({animateOnMount:!1},i)),p=k.useMemo(()=>!l||d==="EXITING"||d==="UNMOUNT"?0:c,[d,c,l]);return u.jsx("div",{ref:o,className:We(r,"vertical-drawer-animation"),style:Object.assign(Object.assign({},t),{maxHeight:p,transitionDuration:`${f}ms`}),children:u.jsx("div",{ref:s,children:l&&n})})},K0=({children:e,className:t,isShown:n=!0,transitionProps:r})=>u.jsx("div",{className:We("modal",t),children:u.jsx(GG,Object.assign({},r,{isShown:n,children:u.jsx("div",{className:"modal__items",children:e})}))}),Nu=({children:e,borderRadius:t="default",border:n=!1,sharpBottomRadiusOnMobile:r=!0,dataTestId:i})=>u.jsx("div",{"data-testid":i,className:We("modal-card",{"modal-card--sharp-mobile-bottom-radius":r,"modal-card--with-border":n},`modal-card--radius-${t}`),children:e}),S$e=({disabled:e,inputKey:t,onKeyPressed:n})=>{k.useEffect(()=>{const r=i=>{e||i.key!==t||n(i)};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[e,t,n])},E$e=({children:e,handleClose:t,withBackdrop:n=!0,zIndex:r,whiteList:i})=>{const{view:o}=dn(),s=(o==null?void 0:o.type)&&o.type!=="collect-user-data"&&o.type!=="login-with-email-verification"&&o.type!=="login-with-sms-verification"&&o.type!=="verify-sms"&&o.type!=="verify-email"&&o.type!=="mfa-verification"&&o.type!=="mfa-display-backup-codes",a=c=>{s&&(c.stopPropagation(),t(c))};return S$e({disabled:!s,inputKey:"Escape",onKeyPressed:t}),u.jsxs(bZ,{className:"portal__container",whiteList:i,children:[n&&u.jsx("div",{"data-testid":"portal-backdrop",role:"button",onClick:c=>{a(c)},tabIndex:0,"aria-label":"Close modal",style:{zIndex:r?r-2:void 0},className:"portal__backdrop"}),u.jsx("div",{style:{zIndex:r},children:e})]})},G0=({children:e,isShown:t,handleClose:n,withBackdrop:r,zIndex:i,transitionEvents:o,elementId:s="dynamic-modal"})=>{const{createRootElement:a}=qp(),c=a(s);return dp.createPortal(u.jsx(dh,{zIndex:i,dataTestId:"dynamic-modal-shadow",children:u.jsx(Eb,Object.assign({isShown:t},o,{children:u.jsx(E$e,{handleClose:n,withBackdrop:r,whiteList:l=>c.current.contains(l),children:e})}))}),c.current)},Gi=(e,t=6,n=4)=>e?e.replace(e.substring(t,Number(e.length)-n),"..."):"",ch=e=>{k.useEffect(e,[])},Mx=({chain:e,chainName:t})=>{const n=Cd(t);return u.jsx(un,{size:"small",children:e!=null&&e.icon?u.jsx("img",{src:e.icon,alt:`${e.name} icon`}):u.jsx(n,{})})},cR=e=>{const t=()=>ae(void 0,void 0,void 0,function*(){var i;if(!e)return{name:"",symbol:void 0};const o=yield e.getNetwork(),{connectedChain:s}=e,a=Al(s||""),c={name:a==null?void 0:a.displayName,symbol:a==null?void 0:a.symbol};if(o&&e.evmNetworks){const l=e.evmNetworks.find(d=>d.chainId===o);c.name=(i=l==null?void 0:l.vanityName)!==null&&i!==void 0?i:c.name,c.icon=l==null?void 0:l.iconUrls[0]}return c}),{data:n,isLoading:r}=Ki(t,{deps:[e]});return{chain:n,isLoading:r}};var V$,C$e=["title","titleId"];function a8(){return a8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a8.apply(this,arguments)}function I$e(e,t){if(e==null)return{};var n=A$e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var nc=function(t){var n=t.title,r=t.titleId,i=I$e(t,C$e);return k.createElement("svg",a8({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,V$||(V$=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.09 3.577a.833.833 0 0 1 0 1.179L7.844 10l5.244 5.244a.833.833 0 0 1-1.178 1.179l-5.834-5.834a.833.833 0 0 1 0-1.178l5.834-5.834a.833.833 0 0 1 1.178 0Z",fill:"currentcolor"})))};const ji=({alignContent:e,children:t,leading:n,displayLeading:r=!0,trailing:i,displayTrailing:o=!0,style:s,displayBorder:a})=>{const c=r&&n&&k.Children.count(n),l=o&&i&&k.Children.count(i);return u.jsxs("div",{className:We("modal-header",{"modal-header--align-content-bottom":e==="bottom","modal-header--border":a,"modal-header--empty":!c&&!t&&!l}),style:s,children:[r&&u.jsx("div",{className:We("modal-header__leading",{"modal-header__leading--empty":!c}),children:n}),t,o&&u.jsx("div",{className:We("modal-header__trailing",{"modal-header__trailing--empty":!l}),children:i})]})};var H$,K$,T$e=["title","titleId"];function c8(){return c8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c8.apply(this,arguments)}function R$e(e,t){if(e==null)return{};var n=P$e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function P$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var O$e=function(t){var n=t.title,r=t.titleId,i=R$e(t,T$e);return k.createElement("svg",c8({fill:"none",viewBox:"0 0 114 21",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,H$||(H$=k.createElement("g",{clipPath:"url(#dynamic-logo_svg__a)",fill:"currentColor"},k.createElement("path",{d:"M10.053 2.002c-.43.4-.85.793-1.273 1.184-1.959 1.818-3.918 3.638-5.879 5.453-.45.417-.915.817-1.48 1.061C.75 9.99.365 9.81.15 9.085-.153 8.072.009 7.128.59 6.258 1.087 5.517 1.71 4.9 2.354 4.3A178.857 178.857 0 0 1 5.45 1.47c.457-.408.957-.78 1.567-.905 1.828-.368 2.994 1.384 3.038 1.436l-.002.001zM1.259 11.254c1.112-.32 1.946-1.026 2.758-1.768 2.59-2.363 5.176-4.728 7.777-7.078A16.823 16.823 0 0 1 13.609.96C14.42.408 15.303.33 16.173.855c.314.189.623.409.878.672a106.565 106.565 0 0 1 5.28 5.866c.298.358.542.774.744 1.196.375.785.279 1.561-.178 2.293-.409.655-.956 1.192-1.52 1.702a699.92 699.92 0 0 1-6.653 5.96c-.6.53-1.26 1.004-1.94 1.422-1.282.791-2.568.693-3.737-.244A16.245 16.245 0 0 1 7.14 17.92c-1.883-2.087-3.73-4.203-5.592-6.31-.094-.106-.18-.22-.29-.358v.002zM39.574.915h2.808V16.14h-2.808v-1.284c-.827 1.06-2.003 1.587-3.526 1.587-1.522 0-2.717-.555-3.755-1.664s-1.556-2.469-1.556-4.078c0-1.609.518-2.968 1.556-4.077s2.288-1.665 3.755-1.665 2.7.53 3.526 1.587V.913v.002zm-5.17 11.996c.573.572 1.294.859 2.166.859s1.589-.287 2.155-.86c.566-.572.849-1.309.849-2.207 0-.898-.283-1.635-.85-2.207-.565-.572-1.283-.859-2.154-.859s-1.593.287-2.166.86c-.574.571-.86 1.308-.86 2.206 0 .898.286 1.635.86 2.208zM51.766 5.264h3.004l-3.968 10.894c-.566 1.554-1.315 2.682-2.251 3.385-.934.704-2.098 1.02-3.489.947v-2.61c.755.015 1.352-.144 1.796-.477.442-.334.796-.87 1.057-1.61L43.453 5.268h3.069l2.837 7.308 2.409-7.308-.002-.002zM61.908 4.959c1.19 0 2.174.398 2.949 1.196.777.798 1.163 1.9 1.163 3.305v6.678h-2.808v-6.33c0-.723-.196-1.279-.588-1.664-.392-.383-.914-.576-1.567-.576-.725 0-1.306.224-1.74.674s-.654 1.124-.654 2.022v5.872h-2.808V5.261h2.808v1.218c.683-1.014 1.763-1.522 3.243-1.522l.002.002zM76.243 5.264h2.808V16.14h-2.808v-1.283c-.842 1.06-2.024 1.587-3.548 1.587s-2.695-.555-3.733-1.665-1.556-2.468-1.556-4.077c0-1.61.518-2.968 1.556-4.078C70 5.514 71.242 4.96 72.695 4.96c1.524 0 2.706.53 3.548 1.587V5.262v.002zm-5.182 7.646c.566.572 1.284.86 2.156.86s1.592-.288 2.166-.86c.573-.572.86-1.309.86-2.207 0-.898-.287-1.635-.86-2.207-.574-.572-1.295-.86-2.166-.86s-1.59.288-2.156.86c-.566.572-.849 1.309-.849 2.207 0 .898.283 1.635.85 2.207zM92.864 4.959c1.249 0 2.246.406 2.993 1.218.748.813 1.121 1.9 1.121 3.263v6.7H94.17V9.637c0-.652-.16-1.16-.48-1.523s-.769-.544-1.35-.544c-.638 0-1.135.211-1.49.631-.356.42-.533 1.03-.533 1.828v6.113h-2.808V9.638c0-.651-.16-1.159-.48-1.522-.32-.363-.77-.544-1.35-.544-.623 0-1.121.21-1.491.631-.37.42-.555 1.03-.555 1.828v6.113h-2.808V5.269h2.808v1.153c.653-.972 1.661-1.457 3.027-1.457 1.365 0 2.321.522 2.96 1.566.724-1.044 1.807-1.566 3.242-1.566l.002-.006zM100.15 3.959c-.464 0-.868-.17-1.208-.511a1.653 1.653 0 0 1-.512-1.207c0-.465.17-.87.512-1.219.34-.348.744-.522 1.208-.522.464 0 .888.174 1.23.522.341.348.511.754.511 1.219 0 .464-.17.866-.511 1.207-.34.34-.751.511-1.23.511zM98.757 16.14V5.265h2.808V16.14h-2.808zM108.69 16.443c-1.641 0-3.008-.55-4.103-1.654-1.095-1.101-1.643-2.464-1.643-4.088s.548-2.987 1.643-4.089 2.464-1.653 4.103-1.653c1.06 0 2.024.253 2.895.76.871.508 1.532 1.19 1.981 2.045l-2.416 1.413a2.464 2.464 0 0 0-.989-1.067 2.878 2.878 0 0 0-1.491-.39c-.842 0-1.539.28-2.091.837-.551.559-.827 1.272-.827 2.142 0 .87.276 1.563.827 2.12.552.56 1.249.837 2.091.837.566 0 1.069-.126 1.513-.381.442-.254.773-.606.99-1.056l2.438 1.393a5.463 5.463 0 0 1-2.024 2.055c-.871.515-1.835.772-2.895.772l-.002.004z"}))),K$||(K$=k.createElement("defs",null,k.createElement("clipPath",{id:"dynamic-logo_svg__a"},k.createElement("path",{transform:"translate(0 .5)",fill:"#fff",d:"M0 0h113.61v20H0z"})))))};const L3=({children:e})=>u.jsx("div",{className:"dynamic-widget-footer","data-testid":"dynamic-widget-footer",children:e}),N$e="https://dynamic.xyz",j$e={center:"powered-by-dynamic--center",right:"powered-by-dynamic--right"},Ad=({align:e="center",classNameLogo:t,classNameRoot:n,classNameText:r,asFooter:i})=>{var o;const{projectSettings:s}=Te();if(((o=s==null?void 0:s.sdk)===null||o===void 0?void 0:o.displayDynamicMessaging)===!1)return null;const a=u.jsxs("a",{target:"_blank",href:N$e,className:We("powered-by-dynamic",j$e[e],n),rel:"noreferrer",children:[u.jsx(ie,{as:"span",color:"tertiary",weight:"regular",variant:"body_mini",className:We("powered-by-dynamic__text",r),children:"Powered by"}),u.jsx(O$e,{className:We("powered-by-dynamic__logo",t)})]});return i?u.jsx(L3,{children:a}):a},B$e=e=>e<1?"":e%10===1&&e%100!==11?`${e}st`:e%10===2&&e%100!==12?`${e}nd`:e%10===3&&e%100!==13?`${e}rd`:`${e}th`,$$e={amount:"",recipient:""},G$=(e,t,n,r)=>{const i={amount:{invalidDecimals:t("dyn_send_transaction.validation.amount.invalid_decimals",{decimals:r}),invalidFormat:t("dyn_send_transaction.validation.amount.invalid_decimals",{decimals:r}),overBalance:t("dyn_send_transaction.validation.amount.over_balance"),required:t("dyn_send_transaction.validation.amount.required")},recipient:{invalidFormat:t("dyn_send_transaction.validation.recipient.invalid_format"),required:t("dyn_send_transaction.validation.recipient.required")}},o=e[n];return o?i[n][o].replace("{decimals}",B$e(r??0)):""},M$e=({initialValues:e,onSubmit:t,decimals:n=18,validateAddress:r=()=>!0,validateAmount:i=()=>!0})=>{const{t:o}=ut(),s=k.useMemo(()=>{const a=new RegExp(`^\\d*(\\.\\d{1,${n}})?$`);return Sb().shape({amount:gi().required("required").matches(/^\d*(\.\d+)?$/,"invalidFormat").matches(a,"invalidDecimals").test({message:"overBalance",test:c=>i(c)}),recipient:gi().required("required").test({message:"invalidFormat",test:c=>r(c)})})},[n,r,i]);return u.jsx(P3,{initialValues:e||$$e,validationSchema:s,onSubmit:a=>t(a),validateOnChange:!1,validateOnBlur:!1,children:({errors:a,touched:c})=>u.jsxs(O1,{className:"send-balance-form",children:[u.jsx(qf,{variant:"regular",className:"send-balance-form__field",name:"amount",label:o("dyn_send_transaction.data.amount.label"),placeholder:o("dyn_send_transaction.data.amount.placeholder"),as:ea,error:a.amount,copykey:"dyn_send_transaction.data.amount.label",message:c.amount&&G$(a,o,"amount",n)}),u.jsx(qf,{variant:"regular",className:"send-balance-form__field",placeholder:o("dyn_send_transaction.data.recipient.placeholder"),label:o("dyn_send_transaction.data.recipient.label"),id:"recipient",name:"recipient",as:ea,error:a.recipient,copykey:"dyn_send_transaction.data.recipient.label",message:c.recipient&&G$(a,o,"recipient")}),u.jsx(Qt,{dataTestId:"sendBalanceFormSubmitButton",expanded:!0,type:"submit",buttonVariant:"primary",buttonPadding:"medium",buttonClassName:"send-balance-form__button",copykey:"dyn_send_transaction.send_button",children:o("dyn_send_transaction.send_button")})]})})},D$e=({children:e,icon:t,className:n})=>u.jsxs("div",{className:We("chip",n,{"chip__with-icon":!!t}),children:[!!t&&u.jsx("div",{className:"chip--icon",children:t}),u.jsx(ie,{variant:"body_small",children:e})]}),L$e=({children:e,htmlFor:t,className:n,divider:r})=>u.jsx("label",{className:We("form-field-label",{"form-field-label__with-divider":r},n),htmlFor:t,children:e}),U$e=({chainIcon:e,currencySymbol:t,balance:n})=>{const{t:r}=ut();return u.jsxs("div",{className:"token-balance-card",children:[u.jsxs("div",{className:"token-balance-card__chain",children:[!!e&&u.jsx("div",{className:"token-balance-card__chain__icon",children:e}),u.jsx(ie,{variant:"body_normal",color:"primary",children:t})]}),n!==void 0&&u.jsxs("div",{className:"token-balance-card__balance-container",children:[u.jsx(ie,{variant:"body_small",color:"tertiary",copykey:"dyn_send_transaction.data.balance.label",children:r("dyn_send_transaction.data.balance.label")}),u.jsxs("div",{className:"token-balance-card__balance",children:[u.jsx(ie,{variant:"body_small",color:"secondary","data-testid":"current-balance",children:n}),u.jsx(ie,{variant:"body_small",color:"tertiary",children:t})]})]})]})},F$e=({error:e,walletAddress:t,onClickClose:n,onClickBack:r,walletKey:i,onSubmit:o,displayPoweredByDynamicFooter:s=!1,transaction:a,currencySymbol:c,networkName:l,networkIcon:d,networkCurrencyDecimals:f})=>{var p;const{t:m}=ut(),g=n&&u.jsx(Vr,{type:"button",onClick:n,"data-testid":"close-button",children:u.jsx(vo,{})}),y=r&&u.jsx(Vr,{type:"button",onClick:r,"data-testid":"back-button",children:u.jsx(nc,{})}),{data:v}=Ki(()=>a.getBalance(),{deps:[a]});return u.jsxs(u.Fragment,{children:[u.jsx(ji,{leading:y,trailing:g,children:u.jsxs("div",{className:"send-balance-page-layout__header-content",children:[u.jsx(ie,{variant:"body_normal",color:"primary",as:"p",copykey:"dyn_send_transaction.data.from",children:m("dyn_send_transaction.data.from")}),i&&u.jsx(un,{size:"small",children:u.jsx(bi,{walletKey:i})}),u.jsx(ie,{variant:"body_normal",color:"primary",as:"p",children:Gi(t,3,3)})]})}),u.jsxs("div",{className:"send-balance-page-layout__body",children:[u.jsx(sd,{animationComponent:u.jsx(Ip,{}),children:e&&u.jsx("div",{className:"send-balance-page-layout__error",children:u.jsx(fd,{icon:"error",variant:"error",children:e})})}),l&&d&&u.jsx("div",{className:"send-balance-page-layout__network-container",children:u.jsx(D$e,{icon:d,children:l})}),u.jsxs("div",{className:"send-balance-page-layout__balance-container",children:[u.jsx(L$e,{divider:!0,children:"Token"}),u.jsx(U$e,{chainIcon:d,currencySymbol:c,balance:v?a.format(v,{precision:6}):void 0})]}),u.jsx(M$e,{onSubmit:({amount:w,recipient:_})=>{a.value=a.parse(w),a.to=_,o()},initialValues:{amount:a.value?a.format(a.value):"",recipient:(p=a.to)!==null&&p!==void 0?p:""},decimals:f,validateAddress:w=>w?a.validateAddressFormat(w):!0,validateAmount:w=>!w||!v?!1:a.parse(w)<=v}),s&&u.jsx(Ad,{classNameRoot:"send-balance-page-layout__footer"})]})]})},W$e=()=>{if(typeof window<"u")return window.location.origin},qJ=typeof window<"u"?k.useLayoutEffect:k.useEffect,z$e=(e,t)=>{const n=k.useRef(e);qJ(()=>{n.current=e},[e]),k.useEffect(()=>{if(!t&&t!==0)return;const r=setInterval(()=>n.current(),t);return()=>clearInterval(r)},[t])},ac=(e,t={})=>{const[n,r]=k.useState({isLoading:!1}),i=k.useCallback(o=>ae(void 0,void 0,void 0,function*(){var s,a;let c;r({isLoading:!0});try{const l=e(o);l instanceof Promise?c=yield l:c=l,r({data:c,isLoading:!1});try{(s=t==null?void 0:t.onSuccess)===null||s===void 0||s.call(t,c,o)}catch(d){Jr.error(d)}return c}catch(l){r({error:l,isLoading:!1}),Jr.error(l);try{(a=t==null?void 0:t.onFailure)===null||a===void 0||a.call(t,l,o)}catch(d){Jr.error(d)}}}),[e,t]);return Object.assign(Object.assign({},n),{hasData:!!n.data,hasError:!!n.error,mutate:i})},VJ=(e,t)=>{const n=()=>ae(void 0,void 0,void 0,function*(){var o,s,a,c;if(!e)return null;const l=yield e.getNetwork(),d=Al((o=e.connectedChain)!==null&&o!==void 0?o:"");if(!l)return d==null?void 0:d.symbol;const f=e.connectedChain==="STARK"?"starknetNetworks":"evmNetworks",p=(s=e[f])===null||s===void 0?void 0:s.find(m=>m.chainId===l);return(c=(a=p==null?void 0:p.nativeCurrency)===null||a===void 0?void 0:a.symbol)!==null&&c!==void 0?c:d==null?void 0:d.symbol}),{data:r,isLoading:i}=Ki(n,{deps:[t]});return{currency:r,isLoading:i}},En=e=>`${e/16}rem`,q$e="#4779FF",HJ=({className:e="",size:t=16,customSpinnerColor:n=""})=>{const{theme:r}=Lu(),i=n||r.customColor||q$e;return u.jsxs("svg",{style:{height:En(t),width:En(t)},viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,"data-testid":"spinner",children:[u.jsx("mask",{id:"path-1-inside-1_1433_60360",fill:"white",children:u.jsx("path",{d:"M40.53 42C41.3419 42 42.0027 41.3416 41.9743 40.5303C41.7987 35.5162 40.726 30.5699 38.8029 25.9273C36.6922 20.8316 33.5985 16.2016 29.6985 12.3015C25.7984 8.40145 21.1684 5.30776 16.0727 3.19706C11.4301 1.27403 6.48384 0.201284 1.46972 0.0257219C0.658363 -0.00268681 0 0.658141 0 1.47C0 2.28186 0.658382 2.93711 1.46967 2.96766C6.09758 3.1419 10.6617 4.138 14.9476 5.91326C19.6866 7.87621 23.9925 10.7534 27.6196 14.3804C31.2467 18.0075 34.1238 22.3134 36.0867 27.0524C37.862 31.3383 38.8581 35.9024 39.0323 40.5303C39.0629 41.3416 39.7181 42 40.53 42Z"})}),u.jsx("path",{d:"M40.53 42C41.3419 42 42.0027 41.3416 41.9743 40.5303C41.7987 35.5162 40.726 30.5699 38.8029 25.9273C36.6922 20.8316 33.5985 16.2016 29.6985 12.3015C25.7984 8.40145 21.1684 5.30776 16.0727 3.19706C11.4301 1.27403 6.48384 0.201284 1.46972 0.0257219C0.658363 -0.00268681 0 0.658141 0 1.47C0 2.28186 0.658382 2.93711 1.46967 2.96766C6.09758 3.1419 10.6617 4.138 14.9476 5.91326C19.6866 7.87621 23.9925 10.7534 27.6196 14.3804C31.2467 18.0075 34.1238 22.3134 36.0867 27.0524C37.862 31.3383 38.8581 35.9024 39.0323 40.5303C39.0629 41.3416 39.7181 42 40.53 42Z",stroke:"url(#paint0_linear_1433_60360)",strokeWidth:"4",mask:"url(#path-1-inside-1_1433_60360)"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"paint0_linear_1433_60360",x1:"41",y1:"42",x2:"1.5",y2:"-1.82007e-07",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{stopColor:i}),u.jsx("stop",{offset:"1",stopColor:i,stopOpacity:"0"})]})})]})};var Z$,V$e=["title","titleId"];function l8(){return l8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l8.apply(this,arguments)}function H$e(e,t){if(e==null)return{};var n=K$e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function K$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var G$e=function(t){var n=t.title,r=t.titleId,i=H$e(t,V$e);return k.createElement("svg",l8({width:17,height:12,viewBox:"0 0 17 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,Z$||(Z$=k.createElement("path",{d:"M3.84 2.345c2.573-3.127 6.747-3.127 9.32 0l.31.376a.463.463 0 0 1 0 .566l-1.06 1.287a.145.145 0 0 1-.232 0l-.427-.518c-1.795-2.18-4.707-2.18-6.502 0l-.457.555a.145.145 0 0 1-.233 0L3.5 3.324a.463.463 0 0 1 0-.566l.34-.413Zm11.512 2.661.943 1.146a.463.463 0 0 1 0 .566l-4.252 5.165a.29.29 0 0 1-.466 0L8.558 8.217a.073.073 0 0 0-.116 0l-3.018 3.666a.29.29 0 0 1-.466 0L.705 6.718a.463.463 0 0 1 0-.566l.943-1.146a.29.29 0 0 1 .466 0l3.018 3.666c.032.04.085.04.117 0l3.018-3.666a.29.29 0 0 1 .466 0l3.018 3.666c.033.04.085.04.117 0l3.018-3.666a.29.29 0 0 1 .466 0Z",fill:"currentColor"})))};const Z$e=({indicator:e,iconSize:t})=>{const n={container:t*4/15,icon:t*3/15},r={container:t/6,icon:t/9};return e==="walletConnect"?u.jsx("div",{className:"indicator__wallet-connect",style:{height:En(n.container),width:En(n.container)},children:u.jsx(G$e,{style:{height:En(n.icon),width:En(n.icon)}})}):u.jsx("div",{className:"indicator__container indicator__container--connected",style:{height:En(r.container),width:En(r.container)},"data-testid":"connected-indicator",children:u.jsx("div",{className:"indicator__icon",style:{height:En(r.icon),width:En(r.icon)}})})},Ol=7/11,bo=({iconSize:e=24,Icon:t,isSpinning:n=!1,className:r="",indicator:i,customSpinnerColor:o,treatAsFunctionComponent:s})=>{const a=e*Ol,c=e/2,l=We("icon-with-spinner__container",r),d=t;return u.jsxs("div",{className:l,style:{height:En(e),width:En(e)},children:[t&&u.jsxs("div",{style:{height:En(a),width:En(a)},className:"icon-with-spinner__icon-container",children:[s||typeof t=="function"?u.jsx(d,{height:a,width:a}):t,i&&u.jsx(Z$e,{indicator:i,iconSize:e})]}),n&&!iI()&&u.jsx("div",{className:"icon-with-spinner__spinner-container icon-with-spinner__animation","data-chromatic":"ignore",style:{height:En(e),width:En(e)},children:u.jsx(HJ,{className:"icon-with-spinner__spinner",customSpinnerColor:o,size:c})})]})};var J$,Y$,J$e=["title","titleId"];function d8(){return d8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d8.apply(this,arguments)}function Y$e(e,t){if(e==null)return{};var n=X$e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function X$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var lR=function(t){var n=t.title,r=t.titleId,i=Y$e(t,J$e);return k.createElement("svg",d8({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,J$||(J$=k.createElement("circle",{cx:32,cy:32,r:32,fill:"currentColor"})),Y$||(Y$=k.createElement("path",{d:"M34.048 17.611a5.5 5.5 0 1 1 7.779 7.779l-.611.61.193.193a4.5 4.5 0 0 1 0 6.364l-3.238 3.239a1.125 1.125 0 0 1-1.592-1.591l3.239-3.239a2.25 2.25 0 0 0 0-3.182l-.193-.193-12.704 12.705a1.123 1.123 0 0 1-.523.296l-9 2.25a1.125 1.125 0 0 1-1.34-1.447l2.812-8.438c.055-.166.148-.316.272-.44l14.906-14.906Zm6.188 1.591a3.25 3.25 0 0 0-4.597 0L20.921 33.92l-2.08 6.242 6.709-1.678 14.686-14.686a3.25 3.25 0 0 0 0-4.596ZM24.925 47.375c-2.779 0-4.967-1.275-6.424-2.49l2.89-.723c1.003.562 2.19.963 3.534.963.912 0 1.853-.369 2.856-1.028 1.005-.66 1.976-1.546 2.956-2.465l.255-.24c.865-.812 1.764-1.658 2.624-2.242.918-.624 2.135-1.191 3.413-.7.844.325 1.393.925 1.78 1.658.362.687.612 1.548.855 2.485.111.427.3.841.515 1.12.105.137.196.214.26.253.055.034.08.034.086.034.274 0 .745-.185 1.417-.643.417-.284.774-.568 1.13-.852.221-.177.443-.354.679-.53.628-.47 1.171-.785 1.57-.986a6.86 6.86 0 0 1 .625-.28l.045-.016.016-.006.006-.002h.003s.002-.002.359 1.065l-.357-1.067a1.125 1.125 0 0 1 .721 2.132l-.008.003a4.59 4.59 0 0 0-.394.178 8.472 8.472 0 0 0-1.238.78c-.132.098-.304.235-.5.391-.409.324-.921.73-1.39 1.05-.7.476-1.67 1.033-2.684 1.033-.98 0-1.69-.595-2.127-1.162-.447-.578-.746-1.29-.912-1.93-.247-.95-.442-1.573-.667-2-.201-.38-.383-.525-.598-.608-.184-.07-.552-.075-1.34.46-.704.48-1.472 1.2-2.38 2.053l-.225.211c-.97.91-2.071 1.922-3.26 2.703-1.19.783-2.566 1.398-4.091 1.398Z",fill:"#fff"})))};const KJ=({appLogoUrl:e,appName:t,appOrigin:n})=>{const r=k.useRef(null),[i,o]=k.useState(!1);return k.useLayoutEffect(()=>{if(r.current){const{width:s,height:a}=r.current.getBoundingClientRect();s<a*2?o(!0):o(!1)}},[r,o]),u.jsxs("div",{className:"app-origin-tile",children:[!!t&&u.jsx("div",{className:"app-origin-tile__title",children:e?u.jsxs(u.Fragment,{children:[u.jsx("img",{alt:"app_logo",src:e,className:"app-origin-tile__logo",ref:r}),i&&u.jsx(ie,{color:"primary",variant:"body_normal",children:t})]}):u.jsx(ie,{"data-testid":"app-name",color:"primary",variant:"body_normal",children:t})}),u.jsx(ie,{color:"secondary",variant:"body_normal",weight:"regular",children:n})]})},Q$e=({onClickClose:e,isLoading:t,onClickBack:n,copykey:r,title:i,error:o,appOrigin:s,appLogoUrl:a,appName:c,onClickSend:l,disableSendButton:d,displayPoweredByDynamicFooter:f=!1,alert:p,children:m,hideModal:g,onSuccess:y})=>{const{t:v}=ut(),{isTurnkeyWallet:w}=Ns(),{setShowAuthFlow:_}=Te(),{setView:E}=dn(),{userNeedsCrossDomainPasskey:C}=ah(),{initPasskeyRecoveryProcess:T,shouldInitRecovery:A}=Id(),S=()=>ae(void 0,void 0,void 0,function*(){(yield A())&&(yield T("email","sendTransaction")),y==null||y("callHandlerOutsideModal")});ch(()=>{g&&S()});const O=e&&u.jsx(Vr,{type:"button",onClick:e,"data-testid":"close",disabled:t,children:u.jsx(vo,{})}),D=n&&u.jsx(Vr,{type:"button",onClick:n,"data-testid":"back-button",children:u.jsx(nc,{})}),K=H=>ae(void 0,void 0,void 0,function*(){if((yield A())&&(yield T("email","sendTransaction")),w&&C){E("passkey-new-domain-detected"),_(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),Kt.once("passkeyRecoveryCompleted",()=>{l(H)});return}l(H)});return g?null:u.jsxs(u.Fragment,{children:[u.jsx(ji,{trailing:O,leading:D,alignContent:"bottom",children:u.jsx(bo,{Icon:H=>u.jsx(un,{color:"brand-primary",children:u.jsx(lR,Object.assign({},H))}),iconSize:64,isSpinning:!0})}),u.jsx(V3,{}),u.jsxs("div",{className:"transaction-confirmation__body",children:[u.jsx(ie,{variant:"title",color:"primary",className:"transaction-confirmation__title",copykey:r,children:i}),u.jsx(sd,{animationComponent:u.jsx(Ip,{}),children:o&&u.jsx("div",{className:"transaction-confirmation__error",children:u.jsx(fd,{icon:"error",variant:"error",children:o})})}),u.jsxs("div",{className:"transaction-confirmation__content",children:[u.jsx("div",{className:"transaction-confirmation__app-origin-tile",children:u.jsx(KJ,{appLogoUrl:a,appName:c,appOrigin:s})}),u.jsx("div",{className:"transaction-confirmation__rows",children:m})]}),u.jsx(sd,{animationComponent:u.jsx(Ip,{}),children:p&&u.jsx("div",{className:"transaction-confirmation__warning",children:p})}),u.jsxs("div",{className:"transaction-confirmation__actions",children:[e&&u.jsx(Qt,{buttonVariant:"secondary",onClick:e,expanded:!0,buttonPadding:"large",disabled:t,copykey:"dyn_send_transaction.confirmation.cancel_button",children:v("dyn_send_transaction.confirmation.cancel_button")}),u.jsx(Qt,{buttonVariant:"primary",buttonPadding:"large",onClick:K,expanded:!0,loading:t,disabled:d,copykey:"dyn_send_transaction.confirmation.confirm_button",children:v("dyn_send_transaction.confirmation.confirm_button")})]}),f&&u.jsx(Ad,{classNameRoot:"transaction-confirmation__footer"})]})]})},_f=({label:e,title:t,children:n,isEmpty:r=!1,isLoading:i=!1,suffix:o,dataTestId:s,icon:a,copykey:c})=>u.jsxs("div",{className:"transaction-row",children:[u.jsx(ie,{color:"secondary",variant:"body_normal",weight:"regular",className:"transaction-row__label",copykey:c,children:e}),u.jsxs("div",{className:"transaction-row__content","data-testid":s,children:[i&&u.jsx(Zc,{count:1,className:"transaction-row__skeleton"}),i===!1&&n!==void 0&&u.jsxs(u.Fragment,{children:[u.jsx(ie,{title:t,color:r?"secondary":"primary",variant:"body_normal",weight:r?"regular":"medium",truncate:!0,children:n}),o&&u.jsx(ie,{as:"span",color:"secondary",weight:"regular",children:o}),a]})]})]}),eMe=({transactionValue:e,gasTotalPrice:t,isGasSponsored:n=!1})=>k.useMemo(()=>n?e!==void 0?e:BigInt(0):t!==void 0&&e!==void 0?t+e:e||t,[t,e,n]),X6=10,tMe=2e4,GJ=({transaction:e,onError:t,onSuccess:n,mutation:r,onClickBack:i,walletConnector:o,onClickClose:s,title:a,displayPoweredByDynamicFooter:c=!1,copykey:l,hideModal:d})=>{const{appName:f,appLogoUrl:p}=Te(),m=W$e(),[g,y]=k.useState(!1),v=YG(),{t:w}=ut(),{currency:_}=VJ(o),E=()=>{e.fetchFee().finally(v)},{isLoading:C}=Ki(()=>Ox(o)?o.canSponsorTransactionGas(e):!1,{onReject:Ne.error,onResolve:N=>{y(N),!N&&Ox(o)&&o.disableGasSponsorshipOnce()}}),{mutate:T,isLoading:A,error:S}=ac(r,{onFailure:N=>{E(),vp.isInstance(N)&&(Ne.debug(N),y(!1),Ox(o)&&o.disableGasSponsorshipOnce()),Ne.error(N),t==null||t(N)},onSuccess:N=>n==null?void 0:n(N)});z$e(E,A?null:tMe),ch(E);const O=eMe({gasTotalPrice:e.fee.gas,isGasSponsored:g,transactionValue:e.value}),{chain:D}=cR(o),K=(D==null?void 0:D.name)||o.connectedChain,H=S&&TBe(S),{data:X,isLoading:U}=Ki(()=>e.getBalance()),I=k.useMemo(()=>!O||!X?!1:X<O,[X,O]),x=k.useMemo(()=>{if(!(!O||!X))return O-X},[O,X]),P=k.useMemo(()=>{if(H)return null;if(vp.isInstance(S))return u.jsx(fd,{icon:"error",variant:"error",copykey:"dyn_send_transaction.error_message.gas_not_sponsored",children:w("dyn_send_transaction.error_message.gas_not_sponsored")});if(!(I&&x))return;const $=e.format(x,{precision:5});return u.jsx(fd,{icon:"error",variant:"warning",contentDataTestId:"warning_content",copykey:"dyn_send_transaction.warning_message.insufficient_funds",children:w("dyn_send_transaction.warning_message.insufficient_funds",{amountLeft:$,currencySymbol:_})})},[H,S,I,x,e,w,_]);return u.jsxs(Q$e,{onClickBack:i,onClickClose:s,copykey:l,title:a,appOrigin:m,appName:f,appLogoUrl:p,hideModal:d,isLoading:A,onClickSend:()=>T(),onSuccess:N=>n==null?void 0:n(N),displayPoweredByDynamicFooter:c,disableSendButton:U,error:H,alert:P,children:[u.jsx(_f,{copykey:"dyn_send_transaction.confirmation.data.from",label:w("dyn_send_transaction.confirmation.data.from"),title:e.from,children:Gi(e.from,4,4)}),u.jsx(_f,{copykey:"dyn_send_transaction.confirmation.data.to",label:w("dyn_send_transaction.confirmation.data.to"),title:e.to,children:e.to&&e.to==="dyn_send_transaction.multiple_recipients"?w("dyn_send_transaction.multiple_recipients"):Gi(e.to,4,4)}),u.jsx(_f,{copykey:"dyn_send_transaction.confirmation.data.amount",label:w("dyn_send_transaction.confirmation.data.amount"),isEmpty:!e.value,title:e.value?e.format(e.value):void 0,suffix:_,icon:D&&u.jsx(Mx,{chain:D,chainName:K}),dataTestId:"transaction-amount",children:e.value?e.format(e.value,{precision:X6}):0}),!g&&u.jsxs(u.Fragment,{children:[u.jsx(_f,{copykey:"dyn_send_transaction.confirmation.data.gas_estimate",label:w("dyn_send_transaction.confirmation.data.gas_estimate"),isEmpty:!e.fee.gas,isLoading:C,title:e.fee.gas?e.format(e.fee.gas):void 0,suffix:e.fee.gas?_:void 0,icon:e.fee.gas?D&&u.jsx(Mx,{chain:D,chainName:K}):void 0,dataTestId:"transaction-estimated-gas-fee",children:e.fee.gas?e.format(e.fee.gas,{precision:X6}):"--"}),u.jsx(_f,{copykey:"dyn_send_transaction.confirmation.data.total",label:w("dyn_send_transaction.confirmation.data.total"),isEmpty:!O,title:O?e.format(O):void 0,suffix:O?_:void 0,icon:O?D&&u.jsx(Mx,{chain:D,chainName:K}):void 0,dataTestId:"transaction-total",children:O?e.format(O,{precision:X6}):w("dyn_send_transaction.confirmation.not_applied")})]})]})};var X$,nMe=["title","titleId"];function u8(){return u8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u8.apply(this,arguments)}function rMe(e,t){if(e==null)return{};var n=iMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function iMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Td=function(t){var n=t.title,r=t.titleId,i=rMe(t,nMe);return k.createElement("svg",u8({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,X$||(X$=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.496 3.67a.583.583 0 0 1 0 .826l-5.834 5.833a.583.583 0 0 1-.824 0L2.504 7.996a.583.583 0 1 1 .825-.825L5.25 9.09l5.42-5.42a.583.583 0 0 1 .826 0Z",fill:"currentColor"})))};const N1=({variant:e,containerClassName:t})=>u.jsx("div",{"data-testid":"status-dot-container",className:We("status-dot__container",t||""),children:u.jsx("div",{"data-testid":"status-dot",className:We("status-dot",`status-dot--${e}`)})}),Vp=({Icon:e,InnerIcon:t,primaryWalletKey:n,containerClassName:r,iconSize:i=16,variant:o="green"})=>{const s=n?u.jsx("div",{className:"inner-icon__container",children:u.jsx("div",{className:We("inner-icon"),children:u.jsx(un,{size:"medium",children:u.jsx(bi,{walletKey:n})})})}):u.jsx("div",{className:"inner-icon__container",children:u.jsx("div",{className:We("inner-icon",`inner-icon--${o}`),children:t&&u.jsx(t,{})})});return u.jsxs("div",{className:We("icon-with-status__container",r||""),children:[typeof e=="string"?u.jsx("img",{style:{height:En(i),width:En(i)},src:e,alt:"",className:"icon"}):u.jsx(e,{style:{height:En(i),width:En(i)}}),t||n?s:u.jsx(N1,{variant:o,containerClassName:"icon-with-status__status-dot"})]})},oMe=({destinationAddress:e,amount:t,networkName:n,networkCurrency:r,NetworkIcon:i,onDone:o,displayPoweredByDynamicFooter:s=!0,onClickClose:a})=>{const{t:c}=ut(),l=a&&u.jsx(Vr,{type:"button",onClick:a,"data-testid":"close",children:u.jsx(vo,{})}),d=u.jsx("span",{className:"transaction-status-layout__network-icon",children:i});return u.jsxs("div",{className:"transaction-status-layout",children:[u.jsx(ji,{trailing:l,alignContent:"bottom",children:u.jsx(Vp,{containerClassName:"transaction-status-layout__status-icon",iconSize:50,Icon:lR,InnerIcon:Td})}),u.jsxs("div",{className:"transaction-status-layout__body",children:[u.jsx(ie,{weight:"medium",variant:"title",color:"primary",className:"transaction-status-layout__title",copykey:"dyn_send_transaction.succeeded.title",children:c("dyn_send_transaction.succeeded.title")}),u.jsx("div",{className:"transaction-status-layout__content",children:u.jsxs("div",{className:"transaction-status-layout__rows",children:[u.jsx(_f,{copykey:"dyn_send_transaction.succeeded.recipient.label",label:c("dyn_send_transaction.succeeded.recipient.label"),children:Gi(e,3,3)}),u.jsxs(_f,{copykey:"dyn_send_transaction.succeeded.network.label",label:c("dyn_send_transaction.succeeded.network.label"),children:[d,u.jsx("span",{className:"transaction-status-layout__network-name",children:n})]}),u.jsxs(_f,{copykey:"dyn_send_transaction.succeeded.total_amount.label",label:c("dyn_send_transaction.succeeded.total_amount.label"),children:[t,u.jsx(ie,{as:"span",color:"secondary",className:"transaction-status-layout__network-currency",children:r})]})]})}),u.jsx("div",{className:"transaction-status-layout__actions",children:u.jsx(Qt,{buttonVariant:"primary",buttonPadding:"large",expanded:!0,onClick:o,loading:!1,copykey:"dyn_send_transaction.succeeded.continue_button",children:c("dyn_send_transaction.succeeded.continue_button")})}),s&&u.jsx(Ad,{classNameRoot:"transaction-status-layout__footer"})]})]})},sMe=e=>{var t,n;const{data:r}=Ki(()=>e==null?void 0:e.connector.getNetwork(),{enabled:!!e}),{networkConfigurations:i}=Te();if(!(!e||!r))return e.chain==="solana"?(t=i==null?void 0:i.solana)===null||t===void 0?void 0:t[0]:(n=i==null?void 0:i[e.connector.connectedChain.toLowerCase()])===null||n===void 0?void 0:n.find(o=>o.chainId===r)},ZJ=({initialRecipientAddress:e="",initialValue:t,onClickBack:n,onClickClose:r,onError:i,onSuccess:o,onDone:s,displayPoweredByDynamicFooter:a=!1})=>{const[c,l]=k.useState("form"),{primaryWallet:d,walletUiUtils:f}=Te(),{t:p}=ut();if(!d)throw new Ae("Primary wallet is not available, send balance cannot be displayed");const m=d.connector;if(!eT(m))throw new Ae("Primary wallet is not eligible for this operation. It must implement ISendBalanceWalletConnector");const{chain:g}=cR(m),y=(g==null?void 0:g.name)||m.connectedChain,[v,w]=k.useState(null);ch(()=>{m.createUiTransaction(d.address).then(D=>{e&&(D.to=e),t&&(D.value=t),w(D)}).catch(D=>{i==null||i(D)})});const _=sMe(d);if(!v||!_)return u.jsx("div",{className:"send-balance-widget-view__spinner","data-testid":"send-balance-spinner",children:u.jsx(Kf,{})});const E=_.nativeCurrency.symbol,C=g&&u.jsx(Mx,{chain:g,chainName:y}),T=()=>u.jsx(F$e,{transaction:v,onClickBack:n,networkName:_.vanityName||_.name,networkIcon:C,networkCurrencyDecimals:_.nativeCurrency.decimals,currencySymbol:E,walletAddress:Gi(d.address,3,3),walletKey:d.connector.key,onClickClose:r,displayPoweredByDynamicFooter:a,onSubmit:()=>l("confirmation")}),A=()=>u.jsx(GJ,{walletConnector:d.connector,transaction:v,mutation:()=>(f.disabledConfirmationOnce(),v.submit()),copykey:"dyn_send_transaction.confirmation.title",title:p("dyn_send_transaction.confirmation.title"),onClickBack:()=>l("form"),onError:i,displayPoweredByDynamicFooter:a,onSuccess:D=>{o==null||o(D),l("success")}}),S=()=>{var D;return u.jsx(oMe,{amount:v.value?v.format(v.value):"0",destinationAddress:(D=v.to)!==null&&D!==void 0?D:"",networkCurrency:E,networkName:y||"",NetworkIcon:C,onClickClose:r,onDone:()=>s==null?void 0:s(),displayPoweredByDynamicFooter:a})};return(()=>{switch(c){case"form":return T();case"confirmation":return A();case"success":return S()}})()},aMe=({initialRecipientAddress:e,initialValue:t,onReject:n,onSuccess:r})=>{W0(!0);const[i,o]=k.useState(!0),s=k.useRef(null),a=k.useRef(null),c=k.useCallback(()=>{if(a.current){r(a.current);return}n(s.current||new Error("user rejected transaction"))},[n,r]),l=()=>{o(!1)};return u.jsx(G0,{handleClose:l,isShown:i,zIndex:U0,withBackdrop:!0,elementId:"dynamic-send-balance",transitionEvents:{onUnmount:c},children:u.jsx(K0,{children:u.jsx(Nu,{children:u.jsx(Ip,{isShown:!0,children:u.jsx(ZJ,{initialRecipientAddress:e,initialValue:t,onError:d=>s.current=d,onClickClose:l,onDone:l,displayPoweredByDynamicFooter:!0,onSuccess:d=>{s.current=null,a.current=d}})})})})})},cMe=new Ae("No wallet connected"),lMe=new Ae("Primary wallet must use embedded wallet"),JJ=k.createContext(void 0),dMe=({children:e})=>{const{primaryWallet:t}=Te(),{open:n,modal:r}=gg({elementId:"dynamic-send-balance"}),i=k.useCallback(o=>ae(void 0,void 0,void 0,function*(){return n((s,a)=>{if(!t)throw cMe;if(!eT(t.connector))throw lMe;return u.jsx(aMe,{onReject:a,onSuccess:s,initialRecipientAddress:o==null?void 0:o.recipientAddress,initialValue:o==null?void 0:o.value})})}),[n,t]);return u.jsxs(JJ.Provider,{value:{open:i},children:[r,e]})},uMe=()=>{const e=k.useContext(JJ);if(e===void 0)throw new Error("usage of useSendBalance not wrapped in `SendBalanceContextProvider`.");if(k.useContext(XT)===void 0)throw new Error("usage of useSendBalance not wrapped in `PasskeyContextProvider`.");return e};var Q$,fMe=["title","titleId"];function f8(){return f8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f8.apply(this,arguments)}function hMe(e,t){if(e==null)return{};var n=pMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var YJ=function(t){var n=t.title,r=t.titleId,i=hMe(t,fMe);return k.createElement("svg",f8({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,Q$||(Q$=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.862 5.529c.26-.26.682-.26.943 0L8 9.724l4.195-4.195a.667.667 0 1 1 .943.943L8.47 11.138a.667.667 0 0 1-.943 0L2.862 6.472a.667.667 0 0 1 0-.943Z",fill:"#7B7D86"})))};const mMe=e=>ae(void 0,void 0,void 0,function*(){var t,n;return e!=null&&e.connector&&((n=(t=yield e.connector.getPublicClient())===null||t===void 0?void 0:t.chain)===null||n===void 0?void 0:n.testnet)||!1}),gMe=(e,t,n)=>{const r=new RegExp(t,"g");return e.replace(r,n)},W2=e=>{navigator.clipboard.writeText(e)},yMe=e=>Math.floor(ZH(e,13)),vMe=1e3,eM=1e6,tM=1e4,bMe=(e,t=4)=>{const n=parseFloat(gMe(e,'"',""));if(n>eM){const s=Math.floor(n);return`${Math.floor(s/eM*tM)/tM}M`}if(n>vMe)return String(Math.floor(n));const r=Math.pow(10,t),i=1/r;if(n<i&&n>0)return`< ${i}`;const o=yMe(n*r)/r;return o===0?"0.0":String(o)},wMe=e=>e.charAt(0).toUpperCase()+e.slice(1),XJ=(e,t)=>{var n;if(!e||!(t!=null&&t.length)||!PSe(e))return;const r=(n=t.find(i=>i.provider===br.MagicLink))===null||n===void 0?void 0:n.keyExportUrl;if(r)return()=>{window.open(r,"_blank")}};var nM,_Me=["title","titleId"];function h8(){return h8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h8.apply(this,arguments)}function xMe(e,t){if(e==null)return{};var n=kMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var dR=function(t){var n=t.title,r=t.titleId,i=xMe(t,_Me);return k.createElement("svg",h8({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,nM||(nM=k.createElement("g",{"data-testid":"wallet-icon-embedded",fill:"#4779FF"},k.createElement("path",{d:"M17.5 2.333a2.333 2.333 0 0 1 2.334 2.334h-14a4.654 4.654 0 0 0-3.426 1.497A4.668 4.668 0 0 1 7 2.334h10.5ZM25.666 11.667A4.667 4.667 0 0 0 21 7H7a4.667 4.667 0 0 0-4.667 4.667V21A4.667 4.667 0 0 0 7 25.667h14A4.667 4.667 0 0 0 25.666 21v-9.333Z"}))))};const SMe=e=>{const t=o=>typeof window<"u"?window.matchMedia(o).matches:!1,[n,r]=k.useState(t(e)),i=()=>r(t(e));return k.useEffect(()=>{const o=window.matchMedia(e);return i(),o.addEventListener("change",i),()=>{o.removeEventListener("change",i)}},[e]),n},EMe=()=>SMe("(prefers-color-scheme: dark)")?"dark":"light",U3=()=>{const{theme:{theme:{name:e}}}=Lu(),t=EMe();return e==="auto"?t:e},F3=()=>{const e=U3();return k.useCallback(t=>PH(t,e),[e])},CMe=({iconSize:e=24,walletKey:t,connected:n,variant:r="primary"})=>u.jsxs("div",{className:"wallet-icon-with-status__container",children:[u.jsx(bi,{walletKey:t,style:{height:En(e),width:En(e)}},t),u.jsx("div",{"data-testid":"status-dot-container",className:We("wallet-icon-with-status__dot-container",r==="secondary"?"wallet-icon-with-status__dot-container--secondary":""),children:u.jsx(N1,{variant:n?"green":"red"})})]}),rM=({iconSize:e=24,chainName:t,Icon:n,showNetwork:r=!0})=>{const i=t?Cd(t):void 0;return u.jsxs("div",{className:"wallet-icon-with-network__container",children:[u.jsx(n,{style:{height:En(e),width:En(e)}}),i&&r&&u.jsx("div",{"data-testid":"network-container",className:We("wallet-icon-with-network__network-container"),children:u.jsx(i,{})})]})},IMe=({findSocialIcon:e,wallet:t,user:n})=>{if(D0(t.connector))return yp;if(L0(t.connector)){const r=O3(n,t.id);if(!r||!r.oauthProvider)return yp;const{oauthProvider:i}=r;try{return e(i)}catch(o){Ne.error(o)}}return _1(t.connector)||QA(t.connector)?dR:null},j1=({iconSize:e=64,showStatus:t,wallet:n})=>{var r,i;const{primaryWallet:o,selectedWalletConnector:s,user:a,userWithMissingInfo:c}=Te(),{deniedOauthProvider:l,deniedAddress:d}=h3(),{isLoadingEmbeddedWallet:f}=Q0(),p=F3();if(l){const v=p(l);return v?u.jsx(v,{style:{height:En(e),width:En(e)}}):null}if(d)return u.jsx(bi,{walletKey:s==null?void 0:s.key,style:{height:En(e),width:En(e)}});const m=n||o;if(!m)return f?u.jsx(rM,{iconSize:e,Icon:dR,chainName:"eip155",showNetwork:!1}):null;const g=IMe({findSocialIcon:p,user:a??c,wallet:m});if(((i=(r=m==null?void 0:m.connector)===null||r===void 0?void 0:r.key)===null||i===void 0?void 0:i.startsWith("turnkey"))&&g){const v=m==null?void 0:m.chain,w=a3[v];return u.jsx(rM,{iconSize:e,Icon:g,chainName:w,showNetwork:t})}return g?t?u.jsx(Vp,{iconSize:e,Icon:g,variant:m.connected?"green":"red"}):u.jsx(g,{style:{height:En(e),width:En(e)}}):t?u.jsx(CMe,{iconSize:e,walletKey:m.key,connected:m.connected,variant:"secondary"}):u.jsx(bi,{walletKey:m.key,style:{height:En(e),width:En(e)}})},AMe=e=>ae(void 0,[e],void 0,function*({environmentId:t,chainName:n=Oi.Evm,networkId:r,accountAddress:i,includeNative:o=!1,includePrices:s=!1}){try{return yield zn().getAccountBalances({accountAddress:i,chainName:n,environmentId:t,includeNative:o,includePrices:s,networkId:r})}catch(a){Ne.error(a);return}}),TMe=({accountAddress:e,networkId:t,chainName:n=Oi.Evm,tokenAddresses:r,includeFiat:i=!1,includeNativeBalance:o=!1}={})=>{const[s,a]=k.useState(void 0),[c,l]=k.useState(!1),[d,f]=k.useState(void 0),{primaryWallet:p,environmentId:m,network:g,walletConnector:y,user:v}=Te(),w=n??(y==null?void 0:y.connectedChain),_=e??(p==null?void 0:p.address),E=t??g,C=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){if(!v){f(li);return}if(![Oi.Evm,Oi.Sol].includes(w)){f(`Chain ${w} is not supported for token balances`);return}!c&&_&&(n===Oi.Evm&&E&&Object.values(x2).includes(E)||n===Oi.Sol)&&(l(!0),AMe({accountAddress:_,chainName:w,environmentId:m,includeNative:o,includePrices:i,networkId:n===Oi.Evm?Number(E):0}).then(A=>{A&&(a(A),f(void 0))}).catch(A=>{f(A.message)}).finally(()=>{l(!1)}))}),[v,w,c,_,E,m]);k.useEffect(()=>{C()},[_,E]);let T=s;if(r){const A=r==null?void 0:r.map(S=>S.toLowerCase());T=s==null?void 0:s.filter(S=>A==null?void 0:A.includes(S.address.toLowerCase()))}return{error:d,isError:!!d,isLoading:c,tokenBalances:T}},RMe=(e,t)=>!(t!=null&&t.find(n=>e&&n.chainId===a2(e))),QJ=({isOpen:e,children:t,onClickOverlay:n,style:r,className:i})=>{const o=WAe(e);W0(e&&!o);const s=k.useRef(null);b3(s,()=>n==null?void 0:n());const a=u.jsxs("div",{className:We("overlay-card",{"overlay-card--disabled":!e}),style:{position:o===void 0?"fixed":"absolute"},children:[u.jsx(sd,{animationComponent:u.jsx(Eb,{className:"overlay-card__animation"}),children:e&&u.jsx("div",{onClick:n,className:"overlay-card__overlay"})}),u.jsx(sd,{animationComponent:u.jsx(GG,{className:"overlay-card__animation overlay-card__animation--limit-height"}),children:e&&u.jsx(sd,{animationComponent:u.jsx(Eb,{className:"overlay-card__animation"}),children:e&&u.jsx("div",{ref:s,className:We(i,"overlay-card__content"),style:r,children:t})})})]});return o?dp.createPortal(a,o):dp.createPortal(u.jsx(dh,{children:a}),document.body)},eY=({isOpen:e,onClickClose:t,popperProps:n,dropdownClassName:r,dropdownStyle:i,overlayCardClassName:o,overlayCardStyle:s,className:a,style:c,children:l,mobileTitle:d})=>{const f=u.jsx(Vr,{onClick:t,type:"button",children:u.jsx(vo,{})});return di()?u.jsxs(QJ,{isOpen:e,onClickOverlay:t,className:We(o,a),style:Object.assign(Object.assign({},c),s),children:[u.jsx(ji,{trailing:f,children:u.jsx(ie,{as:"h1",variant:"title",color:"primary",children:d})}),u.jsx("div",{className:"menu-list__overlay-card__container",children:l})]}):u.jsx(TR,Object.assign({isOpen:e,onClickOutside:t,onScroll:t,className:We(r,a),style:Object.assign(Object.assign({},c),i)},n,{children:l}))},PMe=({iconUrl:e,isActive:t,networkName:n,className:r,checkboxClassName:i="",isChanging:o,notSupported:s=!1})=>u.jsxs("div",{className:We("network",r,{"network--not-supported":s}),children:[u.jsxs("div",{className:"network__container",children:[e?u.jsx("img",{src:e,className:"network__title-icon",alt:`${n} icon`}):u.jsx(Bp,{}),u.jsxs("div",{className:"network__title-container",children:[u.jsx(ie,{variant:"button_primary",className:"network__title-copy",as:"span",weight:"medium",color:s?"secondary":"primary",children:n}),s&&u.jsx(ie,{variant:"body_mini",className:"network__title-copy",as:"span",weight:"medium",color:s?"secondary":"primary","data-testid":"network-not-supported",children:"Switch network in your wallet"})]})]}),u.jsxs("div",{className:We("network__status-container",{"network__status-container--active":t},i),"data-testid":"single-network-checkbox",children:[t&&u.jsx(Td,{className:"network__status-icon"}),o&&u.jsx(HJ,{className:"network__status-spinner-icon",size:12})]})]}),OMe=({iconUrl:e,networkId:t,network:n,onClick:r,networkName:i,checkboxClassName:o="",newNetworkId:s,notSupported:a})=>u.jsx("div",{className:We("network-action",{"network--not-supported":a}),onClick:()=>{!a&&r(t)},"data-testid":"network-action",children:u.jsx(PMe,{iconUrl:e,isActive:t===n,networkName:i,checkboxClassName:o,isChanging:s===t,notSupported:a})});var iM,NMe=["title","titleId"];function p8(){return p8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p8.apply(this,arguments)}function jMe(e,t){if(e==null)return{};var n=BMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function BMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var f0=function(t){var n=t.title,r=t.titleId,i=jMe(t,NMe);return k.createElement("svg",p8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,iM||(iM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.293 19.707a1 1 0 0 1 0-1.414L14.586 12 8.293 5.707a1 1 0 0 1 1.414-1.414l7 7a1 1 0 0 1 0 1.414l-7 7a1 1 0 0 1-1.414 0Z",fill:"currentColor"})))};const uR=({className:e})=>u.jsxs("div",{className:We("network-control-skeleton",e),"data-testid":"network-control-loading",children:[u.jsx("div",{className:"network-control-skeleton__icon"}),u.jsx(Zc,{className:"network-control-skeleton__skeleton"})]}),Q6=({showMsg:e})=>{const{t}=ut();return u.jsxs(u.Fragment,{children:[u.jsx(un,{size:"small",children:u.jsx(Bp,{})}),e&&u.jsx(ie,{className:"evm-network-control__network-name",as:"span",color:"error-1",variant:"body_small",copykey:"dyn_network_not_supported.button",children:t("dyn_network_not_supported.button")})]})},$Me=({evmNetworks:e,className:t="",activeClassName:n="",network:r,walletConnector:i,isOpen:o,setIsOpen:s,showNetworkName:a=!1})=>{var c;const l=e==null?void 0:e.find(d=>r&&d.chainId===a2(r));if(e&&!e.length)return u.jsx("div",{"data-testid":"EvmNetworkControl",className:We("evm-network-control__container evm-network-control__container--error",t),children:u.jsx(Q6,{showMsg:a})});if(!r)return u.jsx("div",{"data-testid":"EvmNetworkControl",className:We("evm-network-control__container",t),children:u.jsx(uR,{})});if((e==null?void 0:e.length)===1){const d=We(t,"evm-network-control__container","evm-network-control__container--error",{[n]:o,"evm-network-control__container":!!(i!=null&&i.supportsNetworkSwitching())});return l?u.jsxs("div",{"data-testid":"EvmNetworkControl",onClick:()=>r&&s(!o),className:We("evm-network-control__container",{[n]:o},t),children:[l.iconUrls.length>0&&u.jsx(un,{size:"small",children:u.jsx("img",{src:l.iconUrls[0],alt:`${l.name} icon`})}),a&&u.jsx(ie,{className:"evm-network-control__network-name",as:"span",variant:"body_small",children:l.vanityName||l.name})]}):u.jsxs("button",{"data-testid":"EvmNetworkControl",type:"button",onClick:()=>s(!o),className:d,children:[u.jsx(Q6,{showMsg:a}),u.jsx(un,{color:"text-primary",size:"small",className:We("evm-network-control__arrow-icon",{"evm-network-control__arrow-icon--active":o}),children:u.jsx(f0,{})})]})}return u.jsxs("button",{"data-testid":"EvmNetworkControl",type:"button",onClick:d=>{d.stopPropagation(),r&&s(!o)},className:We(t,{[n]:o,"evm-network-control__container":!!(i!=null&&i.supportsNetworkSwitching()),"evm-network-control__container--error":!(l!=null&&l.name)}),children:[l!=null&&l.name?u.jsxs(u.Fragment,{children:[((c=l==null?void 0:l.iconUrls)===null||c===void 0?void 0:c[0])&&u.jsx(un,{size:"small",children:u.jsx("img",{src:l.iconUrls[0],alt:`${l.name} icon`})}),a&&u.jsx(ie,{className:"evm-network-control__network-name",as:"span",variant:"body_small",children:l.vanityName||l.name})]}):u.jsx(Q6,{showMsg:a}),e&&e.length>1&&u.jsx(un,{color:"text-primary",size:"small",className:We("evm-network-control__arrow-icon",{"evm-network-control__arrow-icon--active":o}),children:u.jsx(f0,{})})]})},xu=e=>{var t;return((t=e[0])===null||t===void 0?void 0:t.toUpperCase())+e.slice(1).toLowerCase()},MMe=({walletConnector:e,className:t,showNetworkName:n=!1})=>{const{chain:r,isLoading:i}=cR(e),o=(r==null?void 0:r.name)||"",s=Cd(e.connectedChain||"");return i?u.jsx(uR,{className:t}):u.jsxs("div",{"data-testid":"NonNetworkSwitchingSupportedControl",className:We("non-network-switching-supported-control",t),children:[u.jsx(un,{size:"small",children:r!=null&&r.icon?u.jsx("img",{src:r.icon,alt:`${r.name} icon`}):u.jsx(s,{})}),n&&u.jsx(ie,{className:We("non-network-switching-supported-control__network-name"),as:"span",variant:"body_small",children:xu(o)}),u.jsx("span",{})]})},DMe=({loading:e,walletConnector:t,buttonClassName:n,network:r,evmNetworks:i,activeClassName:o,isOpen:s,setIsOpen:a,showNetworkName:c})=>{const l=(t==null?void 0:t.connectedChain)===Oi.Evm&&typeof r=="string";return e||l?u.jsx(uR,{className:n}):t!=null&&t.connectedChain&&!t.supportsNetworkSwitching()?u.jsx(MMe,{className:n,showNetworkName:c,walletConnector:t}):u.jsx($Me,{showNetworkName:c,evmNetworks:i,activeClassName:o,className:n,network:r,loading:e,isOpen:s,walletConnector:t,setIsOpen:a})},fR=({activeClassName:e="",buttonClassName:t="",checkboxClassName:n="",connector:r,evmNetworks:i,isNetworkPickerOpen:o,listClassName:s="",mainClassName:a="",setIsNetworkPickerOpen:c,showNetworkName:l,customCallbackOnSuccess:d,currentNetwork:f,isLoading:p=!1})=>{const m=k.useRef(null),[g,y]=k.useState(void 0),{loadingNetwork:v}=Te(),{data:w}=Ki(()=>NSe(r)?r.getSupportedNetworks():Promise.resolve(i.map(({networkId:T})=>`${T}`)),{deps:[r,i,o]}),_=RMe(f,i)||(i==null?void 0:i.length)>1,E=k.useRef(null),C=T=>ae(void 0,void 0,void 0,function*(){y(T);try{yield r==null?void 0:r.switchNetwork({networkChainId:T}),d==null||d()}catch(A){Ne.debug(A)}finally{y(void 0),c(!1)}});return u.jsxs("div",{className:We("non-widget-network-picker",a),ref:m,"data-testid":"network-picker",children:[u.jsxs("div",{className:"network-picker-network-control",children:[u.jsx(DMe,{evmNetworks:i,activeClassName:e,network:f,loading:v||p,isOpen:o,setIsOpen:c,walletConnector:r,showNetworkName:l,buttonClassName:t}),u.jsx("div",{ref:E,className:"network-picker-network-control__anchor"})]}),_&&u.jsx(eY,{className:s,isOpen:o,onClickClose:()=>c(!1),popperProps:{anchorOrigin:"bottom-left",anchorRef:E},mobileTitle:"Select network",children:i.map(({name:T,networkId:A,vanityName:S,iconUrls:O})=>u.jsx(OMe,{iconUrl:O==null?void 0:O[0],networkId:A,networkName:S||T,network:f,onClick:C,checkboxClassName:n,newNetworkId:g,notSupported:w&&!w.includes(`${A}`)},A))})]})},W3=e=>{const{getNameService:t,network:n}=Te(),{data:r}=Ki(()=>t(e),{deps:[e,n,t]});return r},Uc=(e,t,n)=>{const r=k.useRef(n);r.current=n,k.useEffect(()=>{if(!e)return;const i=Array.isArray(e)?e:[e];i.forEach(a=>a.initEventListener());const s=Array.from(new Set(i)).map(a=>{const c=(...l)=>{r.current(...l,a)};return a.on(t,c),()=>a.off(t,c)});return()=>s.forEach(a=>a())},[e,t])},tY=e=>ae(void 0,[e],void 0,function*({address:t,chain:n,connector:r}){return(yield r.getConnectedAccounts()).some(o=>Af(o,t,n))}),LMe=({connector:e,chain:t,address:n,network:r})=>{const[i,o]=k.useState("0.0"),s=!t||!n||e.supportsNetworkSwitching()&&!r,a=()=>ae(void 0,void 0,void 0,function*(){if(s)return;if(yield tY({address:n,chain:t,connector:e})){const d=yield e.getBalance();o(d)}}),{isLoading:c}=Ki(a,{deps:[n,r==null?void 0:r.toString(),t],enabled:!s});return Uc(e,"accountChange",a),{balance:i,isLoading:c}},hR=({connector:e,address:t,network:n,className:r})=>{const{currency:i,isLoading:o}=VJ(e,n),{balance:s,isLoading:a}=LMe({address:t,chain:i,connector:e,network:n});return s?u.jsxs(ie,{className:r,variant:"body_normal",color:"primary",children:[a?u.jsx(Zc,{className:"balance-skeleton"}):bMe(s)," ",!o&&u.jsx(ie,{as:"span",variant:"body_normal",color:"secondary",children:i})]}):null},UMe=Object.values(x2),FMe=(e,t)=>!!((e==null?void 0:e.connectedChain)===Oi.Sol||(e==null?void 0:e.connectedChain)===Oi.Evm&&typeof t=="number"&&UMe.includes(t));var oM,sM,WMe=["title","titleId"];function m8(){return m8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m8.apply(this,arguments)}function zMe(e,t){if(e==null)return{};var n=qMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Zf=function(t){var n=t.title,r=t.titleId,i=zMe(t,WMe);return k.createElement("svg",m8({width:18,height:18,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,oM||(oM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.333 1.667a2.5 2.5 0 0 0-2.5 2.5v1.666H7.5V4.167c0-.46.373-.834.833-.834h7.5c.46 0 .833.373.833.834v7.5c0 .46-.373.833-.833.833h-1.667v1.667h1.667a2.5 2.5 0 0 0 2.5-2.5v-7.5a2.5 2.5 0 0 0-2.5-2.5h-7.5Z",fill:"currentColor"})),sM||(sM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.667 8.333a2.5 2.5 0 0 1 2.5-2.5h7.5a2.5 2.5 0 0 1 2.5 2.5v7.5a2.5 2.5 0 0 1-2.5 2.5h-7.5a2.5 2.5 0 0 1-2.5-2.5v-7.5Zm2.5-.833a.833.833 0 0 0-.833.833v7.5c0 .46.373.834.833.834h7.5c.46 0 .833-.373.833-.834v-7.5a.833.833 0 0 0-.833-.833h-7.5Z",fill:"currentColor"})))};const Ma=e=>{var{className:t=""}=e,n=na(e,["className"]);return u.jsx("button",Object.assign({className:We("text-button",t)},n))};var aM,VMe=["title","titleId"];function g8(){return g8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g8.apply(this,arguments)}function HMe(e,t){if(e==null)return{};var n=KMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var GMe=function(t){var n=t.title,r=t.titleId,i=HMe(t,VMe);return k.createElement("svg",g8({width:8,height:4,viewBox:"0 0 8 4",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,aM||(aM=k.createElement("path",{d:"M4 3.75 7.031 0H.97L4 3.75Z",fill:"currentColor"})))};const ZMe=(e,t)=>{let n;const r=()=>{e()};return()=>{clearTimeout(n),n=window.setTimeout(r,t)}},JMe=({initialValue:e=!1,falseOnClick:t=!1,onHover:n,onHoverOff:r})=>{const[i,o]=k.useState(e);return[i,{onMouseDown:()=>o(!0),onMouseEnter:()=>{n==null||n(),o(!0)},onMouseLeave:()=>{r==null||r(),o(!1)},onMouseUp:()=>o(t)}]},B1=({children:e,content:t,className:n,as:r="span",copykey:i})=>{const{createRootElement:o}=qp(),s=o("dynamic-tooltips"),[a,c]=k.useState([0,0]),l=k.useRef(null),[d,f]=k.useState(!1),p=k.useCallback(()=>{if(l.current){const g=l.current.getBoundingClientRect();c([g.left+g.width/2,g.top-6])}},[]),[,m]=JMe({falseOnClick:!0,initialValue:!1,onHover:()=>{p(),f(!0)},onHoverOff:()=>{f(!1)}});return k.useEffect(()=>{p();const g=ZMe(()=>{p()},3);return window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g)}},[p]),u.jsxs(u.Fragment,{children:[dp.createPortal(u.jsx(dh,{zIndex:DK,children:u.jsxs("div",{"data-testid":"dynamicTooltip",className:We("dynamic-tooltip",{"dynamic-tooltip--visible":d},n),style:{left:a[0],top:a[1]},copykey:i,children:[t,u.jsx(GMe,{className:"dynamic-tooltip__arrow"})]})}),s.current),u.jsx(r,Object.assign({ref:l},m,{children:e}))]})},Jf=({children:e,className:t="",textToCopy:n,onClick:r,variant:i="text",copykey:o,buttonPadding:s="small",buttonVariant:a="primary",buttonClassName:c="",startSlot:l,disabled:d})=>{const[f,p]=k.useState(!1),m=()=>{navigator.clipboard.writeText(n),p(!0),r==null||r()},g=()=>u.jsx(B1,{className:"copy-button__tooltip",content:f?"Copied":"Copy",children:e});return i==="text"?u.jsx(Ma,{className:We("copy-button__container",t),onClick:()=>m(),onMouseLeave:()=>p(!1),copykey:o,disabled:d,children:u.jsx(g,{})}):u.jsx(Qt,{expanded:!0,buttonPadding:s,buttonVariant:a,buttonClassName:c,onClick:()=>m(),copykey:o,startSlot:l,disabled:d,children:u.jsx(g,{})})},YMe=({menuOption:e,wallet:t})=>{var n,r;const{t:i}=ut(),o=(n=s8(wb.Ordinals,t))!==null&&n!==void 0?n:t==null?void 0:t.address,s=(r=s8(wb.Payment,t))!==null&&r!==void 0?r:t==null?void 0:t.address;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"active-wallet-information__address-container",children:[u.jsxs("div",{children:[u.jsx(ie,{className:"active-wallet-information__address",weight:"regular",variant:"body_small",color:"secondary",children:i("dyn_active_wallet_info.ordinals_address")}),u.jsx(ie,{className:"active-wallet-information__address",weight:"medium",variant:"body_normal",color:"primary",children:Gi(o,4,4)})]}),u.jsx(H0,{"data-testid":"dots-menu",options:e,buttonClassName:"active-wallet-information__dots-menu",buttonClassNameWithOpenMenu:"active-wallet-information__dots-menu"})]}),u.jsxs("div",{className:"active-wallet-information__address-container",children:[u.jsxs("div",{children:[u.jsx(ie,{className:"active-wallet-information__address",weight:"regular",variant:"body_small",color:"secondary",children:i("dyn_active_wallet_info.payment_address")}),u.jsx(ie,{className:"active-wallet-information__address",weight:"regular",variant:"body_small",color:"primary",children:Gi(s,4,4)})]}),u.jsx(Jf,{textToCopy:s??"",children:u.jsx(un,{size:"xsmall",children:u.jsx(Zf,{})})})]})]})};var cM,XMe=["title","titleId"];function y8(){return y8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y8.apply(this,arguments)}function QMe(e,t){if(e==null)return{};var n=eDe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eDe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var lM=function(t){var n=t.title,r=t.titleId,i=QMe(t,XMe);return k.createElement("svg",y8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,cM||(cM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.353 4.081c.674-2.775 4.62-2.775 5.294 0a.724.724 0 0 0 1.08.448c2.44-1.486 5.23 1.305 3.744 3.744a.724.724 0 0 0 .448 1.08c2.775.674 2.775 4.62 0 5.294a.724.724 0 0 0-.448 1.08c1.486 2.44-1.305 5.23-3.744 3.744a.724.724 0 0 0-1.08.448c-.674 2.775-4.62 2.775-5.294 0a.724.724 0 0 0-1.08-.448c-2.44 1.486-5.23-1.305-3.744-3.744a.724.724 0 0 0-.448-1.08c-2.775-.674-2.775-4.62 0-5.294a.724.724 0 0 0 .448-1.08c-1.486-2.44 1.305-5.23 3.744-3.744a.724.724 0 0 0 1.08-.448Zm3.35.472c-.178-.737-1.227-.737-1.407 0a2.724 2.724 0 0 1-4.064 1.684c-.648-.395-1.39.347-.995.995.96 1.575.109 3.63-1.684 4.064-.737.18-.737 1.229 0 1.408a2.724 2.724 0 0 1 1.684 4.064c-.395.648.347 1.39.995.995a2.724 2.724 0 0 1 4.064 1.684c.18.737 1.229.737 1.408 0a2.724 2.724 0 0 1 4.064-1.684c.648.395 1.39-.347.995-.995a2.724 2.724 0 0 1 1.684-4.064c.737-.18.737-1.229 0-1.408a2.724 2.724 0 0 1-1.684-4.064c.395-.648-.347-1.39-.995-.995-1.575.96-3.63.109-4.064-1.684ZM12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z",fill:"#ABACB2"})))};const tDe=({address:e,nameServiceName:t,menuOption:n,fullWidth:r=!1,isLoading:i=!1})=>{const{showAlert:o}=ah();return u.jsxs("div",{className:"active-wallet-information__address-container",children:[u.jsxs("div",{children:[u.jsx(ie,{className:r?"active-wallet-information__handle--full-width":"active-wallet-information__handle",color:"primary",variant:"body_normal",children:t}),u.jsx(ie,{className:"active-wallet-information__address",weight:t?"regular":"medium",variant:t?"body_small":"body_normal",color:t?"secondary":"primary",children:i?u.jsx(Zc,{className:"active-wallet-information__address-skeleton"}):Gi(e,4,4)})]}),u.jsx(H0,{"data-testid":"dots-menu",options:n,buttonClassName:"active-wallet-information__dots-menu",buttonClassNameWithOpenMenu:"active-wallet-information__dots-menu",iconOverride:o()?u.jsx(Vp,{Icon:()=>u.jsx(lM,{width:16,height:16}),variant:"yellow"}):u.jsx(lM,{width:16,height:16})})]})},nDe=new Intl.NumberFormat("en-US",{currency:"USD",style:"currency"}),rDe=({tokenBalance:e})=>{const{projectSettings:t}=Te(),n=t==null?void 0:t.sdk.showFiat,r=o=>{const s=Math.round(o*1e6)/1e6;return s===0?"<0.000001":s},i=()=>{var o;return e.marketValue!==0&&!e.marketValue?"$-":e.marketValue>=.01?nDe.format(parseFloat((o=e.marketValue)===null||o===void 0?void 0:o.toFixed(2))):"<$0.01"};return u.jsxs("div",{className:"token-balance-item",children:[u.jsxs("div",{className:"token-balance-item__name",children:[e.logoURI?u.jsx(tR,{src:e.logoURI,alt:e.symbol,className:"token-balance-item__icon",dataTestId:"token-balance-item-icon"}):u.jsx("div",{className:"token-balance-item__skeleton-icon","data-testid":"token-balance-item__skeleton-icon"}),u.jsx("div",{children:u.jsx(ie,{variant:"body_small",className:"token-balance-item__title",color:"primary",children:e.name})})]}),u.jsxs("div",{className:"flex",children:[n?u.jsx(ie,{variant:"body_small",weight:"bold",color:"primary",style:{textAlign:"right"},children:i()}):null,u.jsx("div",{className:"token-balance-item__value",children:u.jsxs("div",{className:"token-balance-item__value__balance","data-testid":"token-balance-item-balance",children:[u.jsx(ie,{variant:"body_small",color:"secondary",style:{marginRight:"2px"},children:r(e.balance)}),u.jsx(ie,{variant:"body_small",color:"secondary",children:e.symbol})]})})]})]},e.address)},Ul=({text:e,className:t,style:n,fullWidth:r=!1})=>u.jsxs("div",{className:We("divider",t,{"divider__full-width":r}),style:n,children:[u.jsx("div",{className:"divider__dash"}),!!e&&u.jsxs(u.Fragment,{children:[u.jsx(ie,{className:"divider__text",variant:"body_small",color:"secondary",children:e}),u.jsx("div",{className:"divider__dash"})]})]}),iDe=({tokenBalances:e})=>{const{t}=ut();return u.jsx("ul",{className:"token-balance-list",children:(e==null?void 0:e.length)===0?u.jsx("div",{className:"token-balance-list__empty",children:u.jsx(ie,{variant:"body_small",color:"secondary",children:t("dyn_wallet_information.multi_asset.empty_state")})}):e==null?void 0:e.map((n,r)=>u.jsxs(Yr.Fragment,{children:[u.jsx(rDe,{tokenBalance:n}),e.length!==r+1?u.jsx(Ul,{className:"token-balance-list__divider"}):null]},r))})},oDe=28,sDe=({isLoading:e=!1})=>{var t,n,r,i;const{t:o}=ut(),[s,a]=k.useState(!1),[c,l]=k.useState(!1),[d,f]=k.useState(!1),p=k.useRef(null),{primaryWallet:m,network:g,projectSettings:y,handleLogOut:v,user:w,walletConnector:_}=Te(),{setDynamicWidgetView:E}=sc(),{isTurnkeyWalletWithoutAuthenticator:C}=Ns(),{isLoading:T,tokenBalances:A}=TMe({chainName:m==null?void 0:m.connector.connectedChain,includeFiat:y==null?void 0:y.sdk.showFiat,includeNativeBalance:!0}),S=(A==null?void 0:A.filter(qe=>qe.name))||[],O=m==null?void 0:m.address,D=W3(O),{data:K}=Ki(()=>mMe(m),{deps:[g]}),H=XJ(m==null?void 0:m.connector,y==null?void 0:y.providers),{showAlert:X}=ah(),U=Ou(m,(w==null?void 0:w.verifiedCredentials)||[]),I=m&&fK(m==null?void 0:m.connector),x=!!(U&&(!((n=(t=U==null?void 0:U.connector)===null||t===void 0?void 0:t.key)===null||n===void 0)&&n.startsWith("turnkey")||!((i=(r=U==null?void 0:U.connector)===null||r===void 0?void 0:r.key)===null||i===void 0)&&i.startsWith("coinbasempc"))),P=[{Icon:null,callback:()=>(D==null?void 0:D.name)&&navigator.clipboard.writeText(D==null?void 0:D.name),hide:!(D!=null&&D.name),text:"Copy ENS"},{Icon:null,callback:()=>O&&navigator.clipboard.writeText(O),hide:!O,text:"Copy wallet address"},{Icon:null,callback:()=>E("wallet-settings"),endSlot:X()?u.jsx(N1,{variant:"yellow"}):void 0,hide:!x,text:"Wallet settings"},{Icon:null,callback:H||(()=>Ne.info("No option to export private keys")),hide:!H,text:"Export private keys"},{Icon:null,callback:v,hide:x,text:"Disconnect"}],N=(m==null?void 0:m.connector)&&(m==null?void 0:m.connector).evmNetworks||[],$=K&&!C,L=y==null?void 0:y.sdk.hideNetworkInDynamicWidget,z=()=>I?u.jsx(YMe,{wallet:m,menuOption:P}):u.jsx(tDe,{address:O,nameServiceName:(D==null?void 0:D.name)||(w==null?void 0:w.email),menuOption:P,isLoading:e,fullWidth:L}),q=y==null?void 0:y.sdk.enableMultiAsset,j=y==null?void 0:y.sdk.showFiat,re=FMe(_,g)&&q;S.sort((qe,J)=>((J==null?void 0:J.marketValue)||0)-((qe==null?void 0:qe.marketValue)||0));const de=S.reduce((qe,J)=>qe+((J==null?void 0:J.marketValue)||0),0),te=new Intl.NumberFormat("en-US",{currency:"USD",style:"currency"}),ce=()=>m?u.jsx(hR,{className:"balance-header__balance",connector:m.connector,address:m.address,network:g}):u.jsx(Zc,{className:"balance-header__skeleton"}),ge=()=>{p.current&&f(p.current.scrollTop>0)},Ce=()=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`${d?"shadow":""}`,children:u.jsxs("button",{onClick:()=>{T||l(!c)},className:"balance-header",children:[u.jsxs("div",{className:"balance-header__title",children:[u.jsx(ie,{color:"secondary",variant:"body_small",style:{marginRight:"8px"},children:"Balance:"}),j?u.jsx(ie,{variant:"body_normal",color:"primary",children:de===0||de>=.01?te.format(parseFloat(de.toFixed(2))):"<$0.01"}):ce()]}),u.jsx("div",{className:c?"balance-header__chevron":"",children:u.jsx(YJ,{})})]})}),u.jsx(q2,{isOpen:c,className:`multi-asset-balance-container__accordion ${"multi-asset-balance-container__accordion"+(c?"--expanded":"--collapsed")}`,handleScroll:ge,ref:p,children:u.jsx(iDe,{tokenBalances:S})})]});return e?u.jsx(Zc,{}):u.jsxs("div",{className:"active-wallet-information-container","data-testid":"active-wallet-information",children:[u.jsxs("div",{className:"active-wallet-information",children:[u.jsxs("div",{className:"active-wallet-information__header",children:[u.jsx("div",{className:"active-wallet-information__avatar",children:D!=null&&D.avatar?u.jsx("div",{className:"active-wallet-information__avatar__name-service",children:u.jsx("img",{src:D==null?void 0:D.avatar,alt:""})}):u.jsx("div",{className:"active-wallet-information__wallet-img",children:u.jsx(j1,{iconSize:oDe,showStatus:!x})})}),u.jsxs("div",{className:"active-wallet-information__details",children:[u.jsx("div",{className:We("active-wallet-information__addresses-container",{"active-wallet-information__addresses-container--centered":!(D!=null&&D.name)}),children:z()}),!L&&u.jsx(fR,{currentNetwork:g,connector:m==null?void 0:m.connector,isNetworkPickerOpen:s,setIsNetworkPickerOpen:a,mainClassName:"active-wallet-information__network-picker",buttonClassName:"active-wallet-information__network-picker-button",evmNetworks:N,showNetworkName:!0,isLoading:e})]})]}),$&&u.jsx(fd,{variant:"warning",copykey:"dyn_active_wallet_info.testnet_warning",children:o("dyn_active_wallet_info.testnet_warning")})]}),re?u.jsx("div",{className:"multi-asset-balance-container",children:Ce()}):u.jsxs("div",{className:"balance-container",children:[u.jsx(ie,{color:"secondary",variant:"body_small",children:"Balance"}),ce()]})]})},aDe=({address:e})=>{const{handleLogOut:t}=Te(),n=[{Icon:null,callback:()=>e&&navigator.clipboard.writeText(e),hide:!e,text:"Copy wallet address"},{Icon:null,callback:t,text:"Disconnect"}];return u.jsx("div",{className:"unknown-wallet-information-container",children:u.jsx("div",{className:"unknown-wallet-information",children:u.jsx("div",{className:"unknown-wallet-information__header",children:u.jsx("div",{className:"unknown-wallet-information__details",children:u.jsxs("div",{className:"unknown-wallet-information__actions-container",children:[u.jsx("div",{children:u.jsx(ie,{className:"unknown-wallet-information__address",weight:"medium",variant:"body_normal",color:"primary",children:Gi(e,4,4)})}),u.jsx(H0,{options:n,buttonClassName:"unknown-wallet-information__dots-menu",buttonClassNameWithOpenMenu:"unknown-wallet-information__dots-menu"})]})})})})})},nY=({variant:e})=>{const{primaryWallet:t,user:n}=Te(),{open:r}=uMe(),{supportsFunding:i,setShowFunding:o,fundingEnabled:s}=aR(),{setDynamicWidgetView:a,setIsOpen:c}=sc(),{isLoadingEmbeddedWallet:l}=Q0(),{t:d}=ut(),f=k.useMemo(()=>{const y=t==null?void 0:t.connector;return y?eT(y):!1},[t]),p=()=>{e==="dropdown"?(c(!1),r().catch(y=>Ne.error(y))):a("send-balance")},m=()=>{const y=n==null?void 0:n.verifiedCredentials.find(v=>v.walletName==="unknown");return t||l?u.jsx(sDe,{isLoading:l}):y?u.jsx(aDe,{address:y.address}):u.jsx("div",{className:"dynamic-widget-wallet-header__icon-container",children:u.jsx(MJ,{user:n})})},g=f||s;return u.jsxs("div",{className:"dynamic-widget-wallet-header","data-testid":"dynamic-widget-wallet-header",children:[m(),l&&u.jsx("div",{className:"dynamic-widget-wallet-header__wallet-info",children:u.jsx("div",{className:"dynamic-widget-wallet-header__wallet-loading",children:u.jsx(fd,{variant:"info",icon:u.jsx(Kf,{className:"button__spinner"}),children:d("dyn_creating_wallet.loading_message")})})}),t?u.jsxs("div",{"data-testid":"primaryWalletStatus",className:"dynamic-widget-wallet-header__wallet-info",children:[u.jsx(b$e,{className:"dynamic-widget-wallet-header__wallet-info__secure-wallet"}),g&&u.jsxs("div",{className:"dynamic-widget-wallet-header__wallet-actions",children:[s&&u.jsx(Qt,{expanded:!0,dataTestId:"buy-crypto-button",buttonPadding:"small",buttonVariant:"primary",onClick:()=>o(!0),disabled:!i,startSlot:u.jsx(un,{size:"small",color:"text-secondary",children:u.jsx(Hf,{})}),children:"Buy"}),f&&u.jsx(Qt,{expanded:!0,dataTestId:"send-balance-button",buttonPadding:"small",buttonVariant:"primary",onClick:p,startSlot:u.jsx(un,{size:"small",color:"text-secondary",children:u.jsx(QBe,{})}),children:"Send"})]})]}):u.jsx(ie,{className:"dynamic-widget-wallet-header__email",variant:"body_normal",weight:"regular",children:!l&&$J(n)})]})};Yr.memo(nY);const cDe=[{key:"wallets",label:"Wallets"},{key:"profile",label:"Profile"}],lDe=({variant:e})=>{const{dynamicWidgetView:t,setDynamicWidgetView:n}=sc(),{multiWallet:r}=Te(),i=M3(),o=k.useMemo(()=>!i&&!r?"wallets":t==="edit-profile"?"profile":t,[t,i,r]);return u.jsxs("div",{className:"dynamic-widget-header",children:[i&&r&&u.jsx(HBe,{rootClassName:"dynamic-widget-header__switcher",value:o,options:cDe,onChange:s=>n(s)}),u.jsx(V3,{className:"dynamic-widget-header__passkey-success"}),(o==="wallets"||o==="profile"&&!r)&&u.jsx(nY,{variant:e})]})},dDe=Yr.memo(lDe),rY=({className:e,networkIcon:t,networkName:n,children:r})=>{const{t:i}=ut();return u.jsxs("div",{className:We("dynamic-bridge-wallet-card",e),children:[u.jsxs("div",{className:"dynamic-bridge-wallet-card__network",children:[t&&Yr.cloneElement(t,{className:"dynamic-bridge-wallet-card__network-icon"}),n&&u.jsx(ie,{className:"dynamic-bridge-wallet-card__network-name",variant:"body_small",color:"primary",weight:"medium",as:"span",copykey:"dyn_bridge.widget.wallet_network",children:i("dyn_bridge.widget.wallet_network",{networkName:n})})]}),r]})},uDe=({address:e,ens:t,balance:n,icon:r,network:i,menu:o})=>{const{t:s}=ut(),a=k.useMemo(()=>{const c=Gi(e,4,4);return t?u.jsxs(u.Fragment,{children:[u.jsx(ie,{color:"primary",variant:"body_normal",truncate:!0,children:t}),u.jsx(ie,{weight:"regular",variant:"body_small",color:"secondary",children:c})]}):u.jsx(ie,{weight:"medium",variant:"body_normal",color:"primary",children:c})},[t,e]);return u.jsxs("div",{className:"wallet-information-card",children:[u.jsxs("div",{className:"wallet-information-card__header",children:[u.jsxs("div",{className:"wallet-information-card__details-container",children:[r&&u.jsx(un,{className:"wallet-information-card__icon",children:r}),u.jsx("div",{className:"wallet-information-card__details",children:a}),u.jsx("div",{className:"wallet-information-card__menu",children:o})]}),i]}),u.jsxs("div",{className:"wallet-information-card__balance-container",children:[u.jsx(ie,{color:"secondary",variant:"body_small",copykey:"dyn_wallet_information.balance",children:s("dyn_wallet_information.balance")}),n]})]})},iY=({walletAddress:e,walletBalance:t,walletKey:n,onDisconnectClick:r})=>{const{t:i}=ut(),o=W3(e),s=[{Icon:null,callback:()=>(o==null?void 0:o.name)&&navigator.clipboard.writeText(o==null?void 0:o.name),hide:!(o!=null&&o.name),text:i("dyn_bridge.widget.copy.ens")},{Icon:null,callback:()=>e&&navigator.clipboard.writeText(e),hide:!e,text:i("dyn_bridge.widget.copy.address")},{Icon:null,callback:()=>r==null?void 0:r(),hide:!r,text:i("dyn_bridge.widget.disconnect")}];return u.jsx(uDe,{ens:o==null?void 0:o.name,address:e,icon:u.jsx(bi,{walletKey:n}),balance:t,menu:u.jsx(H0,{options:s}),copykey:"dyn_bridge.widget"})},fDe=({chain:e})=>{const{t}=ut(),{bridgeChainsToConnect:n,setShowAuthFlow:r,setShowBridgeWidget:i}=Te();if(!(n!=null&&n.length)||!e)return null;const o=Al(e),s=Cd(e);return u.jsxs("div",{role:"button",className:"dynamic-bridge-widget-empty-card",onClick:()=>{i(!1),r(!0)},children:[u.jsx(s,{className:"dynamic-bridge-widget-empty-card__icon"}),u.jsx(ie,{variant:"body_normal",weight:"medium",as:"span",color:"primary",className:"dynamic-bridge-widget-empty-card__text",copykey:"dyn_bridge.widget.connect_with_network",children:t("dyn_bridge.widget.connect_with_network",{blockchainName:o==null?void 0:o.blockchainName})})]})},hDe=({hideUnlinkAction:e=!1})=>{const{disconnectWallet:t,getConnectedWalletById:n,bridgeChains:r}=Te(),i=n("connect-wallet-1"),o=i&&Cd(i==null?void 0:i.chain),s=i&&Al(i==null?void 0:i.chain);return u.jsxs(u.Fragment,{children:[!i&&u.jsx(fDe,{chain:r==null?void 0:r[1].chain}),i&&o&&u.jsx(rY,{networkIcon:u.jsx(o,{}),networkName:s==null?void 0:s.displayName,children:u.jsx(iY,{walletKey:i.connector.key,walletAddress:i.address,walletBalance:u.jsx(hR,{address:i.address,connector:i.connector,network:i.chain}),onDisconnectClick:e?void 0:()=>t(i.id)},i.id)})]})},pDe=Yr.memo(hDe),Ns=()=>{var e;const{primaryWallet:t,user:n}=Te(),r=Ou(t,(n==null?void 0:n.verifiedCredentials)||[]),i=()=>{if(!r||!n||!r.connector.key.startsWith("turnkey"))return;const g=r.id,y=n.verifiedCredentials.find(v=>v.id===g);if(y)return y},o=()=>{if(!r||!n)return!1;const m=n.verifiedCredentials.find(y=>{var v,w;return((v=y.walletName)===null||v===void 0?void 0:v.startsWith("turnkey"))&&((w=y.walletProperties)===null||w===void 0?void 0:w.isAuthenticatorAttached)===!1});return n.verifiedCredentials.find(y=>m&&y.signerRefId===m.id)},s=i(),c=!!o(),l=!!(s||c),d=!!(!((e=s==null?void 0:s.walletProperties)===null||e===void 0)&&e.isAuthenticatorAttached),f=l&&!d||c;return{hasRecoveryEmail:l&&!!B3(n,od.Email),hasTurnkeyVerifiedCredentialAuthenticator:d,isTurnkeyWallet:l,isTurnkeyWalletWithoutAuthenticator:f,turnkeyVerifiedCredential:s}},oY=(e,t)=>{const n=t?a3[t]:void 0;return e==null?void 0:e.find(({key:r,walletConnector:i})=>r.startsWith("turnkey")&&(i==null?void 0:i.connectedChain)===n)},eE=(e,t,n)=>{var r;const i=((r=t==null?void 0:t.find(a=>a.primary))===null||r===void 0?void 0:r.name)||Oi.Evm,o=oY(e,fB[i]),s=n==null?void 0:n.find(({walletName:a,chain:c})=>(a==null?void 0:a.startsWith("turnkey"))&&c===fB[i]);if(o)return Object.assign(Object.assign({},s),o)},pR=e=>{var t;return(t=e.verifiedCredentials)===null||t===void 0?void 0:t.filter(({walletProvider:n})=>n)},sY=(e,t)=>{var n;const r=(t==null?void 0:t.phoneNumber)||((n=t==null?void 0:t.verifiedCredentials.find(i=>i.oauthDisplayName))===null||n===void 0?void 0:n.oauthDisplayName)||"";e.setPasskeyIdentifier(r)},z_=e=>{if(!e||!("getAuthenticatorHandler"in e))throw new Ae("Invalid connector type");return e.getAuthenticatorHandler()},dM=e=>{const t=Vf(e);if(!t)throw new Ae("No embedded wallet is enabled. Go to the dashboard and make sure to have both Embedded wallets and at least one EVM network enabled. Also, check if EthereumWalletConnectors is in the DynamicContextProvider > settings > walletConnectors.",yje);return t},aY=e=>ae(void 0,[e],void 0,function*({iframeContainer:t,iframeElementId:n,wallet:r}){var i;if(!(r!=null&&r.connector)||!(r!=null&&r.id)||!Rl(r==null?void 0:r.connector))throw new Ae("Connector is missing. Please make sure you added EthereumWalletConnectors and/or SolanaWalletConnectors to DynamicProvider settings",cv);const o=(i=r.connector)===null||i===void 0?void 0:i.getExportHandler();if(!(yield o.initExport(t,n)))throw new Ae("Something went wrong",QI);return o}),mDe=({user:e,wallet:t})=>{var n,r;if(!e)throw new Ae(li);if(!(t!=null&&t.connector)||!(t!=null&&t.id)||!Rl(t==null?void 0:t.connector))throw new Ae("Connector is missing. Please make sure you added EthereumWalletConnectors and/or SolanaWalletConnectors to DynamicProvider settings");const i=t.connector;i.setEmail(e.email);const o=(r=(n=e.verifiedCredentials)===null||n===void 0?void 0:n.find(({walletName:l})=>l==null?void 0:l.startsWith("turnkey")))===null||r===void 0?void 0:r.walletProperties,s=o==null?void 0:o.turnkeyHDWalletId,a=o==null?void 0:o.turnkeyPrivateKeyId,c=o==null?void 0:o.turnkeySubOrganizationId;if(!c||s===void 0&&a===void 0)throw new Ae("Invalid token!");return{connector:i,organizationId:c,privateKeyId:a,turnkeyHDWalletId:s}},gDe=({address:e,privateKeyId:t,activity:n})=>{var r,i,o;const s=e?(r=n.result)===null||r===void 0?void 0:r.exportWalletAccountResult:(i=n.result)===null||i===void 0?void 0:i.exportWalletResult,a=t?(o=n.result)===null||o===void 0?void 0:o.exportPrivateKeyResult:s;return a==null?void 0:a.exportBundle},cY=e=>ae(void 0,[e],void 0,function*({user:t,wallet:n,environmentId:r,address:i}){const{connector:o,turnkeyHDWalletId:s,privateKeyId:a,organizationId:c}=mDe({user:t,wallet:n}),l=o.getExportHandler();if(!l.publicKey)throw new Ae("Must initialize export first",QI);let f;s?f=yield l.exportWallet({address:i,organizationId:c,walletId:s}):a&&(f=yield l.exportPrivateKey({organizationId:c,privateKeyId:a}));const p=f.id,m=f.status;let g;if(m==="ACTIVITY_STATUS_COMPLETED")g=gDe({activity:f,address:i,privateKeyId:a});else{const y=yield nBe({activityId:p,environmentId:r,walletId:(n==null?void 0:n.id)||""});g=y==null?void 0:y.exportBundle}if(!g)throw new Ae("Invalid export response",QI);return i||a?l.verifyExportPrivateKey({chain:n==null?void 0:n.chain,exportBundle:g,organizationId:c}):l.verifyExportWallet({exportBundle:g,organizationId:c})}),lY=e=>ae(void 0,[e],void 0,function*({wallet:t}){var n;const r=t==null?void 0:t.connector;(n=r==null?void 0:r.getExportHandler())===null||n===void 0||n.clear()}),yDe=e=>ae(void 0,[e],void 0,function*({user:t,walletConnector:n,environmentId:r,chains:i,webAuthnAttestation:o,withAuthenticator:s}){if(!n)throw new Ae("Connector is missing. Please make sure you added EthereumWalletConnectors and/or SolanaWalletConnectors to DynamicProvider settings");if(!t)throw new Ae("User is not defined");n.setEmail(t.email);let a;if(s||o!==void 0){t.email||sY(n,t);const{attestation:f,challenge:p,displayName:m}=o||(yield n.getWebAuthnAttestation());a={attestation:f,challenge:p,passkeyAlias:m}}const c=yield Qje(Object.assign({chains:i,environmentId:r},a));if(!c)throw new Ae("Failed to create embedded wallet");const l=n.connectedChain,d=Gf(c,[l]);if(!d)throw new Ae("EmbeddedWalletVerifiedCredential not found");return n.setVerifiedCredentials(c.verifiedCredentials),{embeddedWalletVerifiedCredential:d,updatedUser:c,walletConnector:n}}),dY=(e,t)=>e.map(({walletConnector:r})=>r).find(r=>Rl(r)&&Tl(r)&&r.connectedChain===t),v8=(e,t)=>{var n;const r=e.walletName;if(r==="turnkeyhd"){const i=e.chain?a3[e.chain]:void 0;return t.find(o=>r===o.key&&o.walletConnector.connectedChain===i)}return(n=t.find(i=>r===i.key))!==null&&n!==void 0?n:t.find(i=>i.key==="fallbackconnector")},vDe=(e,t)=>t.find(n=>n.id===e.signerRefId),mR=(e,t)=>t.find(n=>n.signerRefId===e.id),bDe=(e,t)=>!!mR(e,t),gR=e=>ae(void 0,[e],void 0,function*({account:t,verifiedCredentials:n,walletConnectorOptions:r}){const i=vDe(t,n);if(!i)throw new Error("could not find associated eoa account for smart wallet");const o=v8(i,r);if(!o)throw new Error("could not find owner wallet from wallet options");const s=v8(t,r);if(!s)throw new Error("could not find smart wallet from wallet options");const a=s.walletConnector;if(!QA(a))throw new Error("could not initialize smart wallet");yield a.setEoaConnector(o.walletConnector)}),uY=e=>{var t,n,r;return((r=(((n=(t=e==null?void 0:e.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.chainConfigurations)||[]).find(o=>o.primary))===null||r===void 0?void 0:r.name)==="SOL"?Oi.Sol:Oi.Evm},fY=()=>{var e,t;const{setPrimaryWalletId:n,user:r,setShowAuthFlow:i,projectSettings:o}=Te(),[s,a]=k.useState(!1),[c,l]=k.useState(),d=((t=(e=o==null?void 0:o.sdk)===null||e===void 0?void 0:e.embeddedWallets)===null||t===void 0?void 0:t.chainConfigurations)||[],f=uY(o),p=d.filter(g=>g.enabled).map(g=>g.name==="SOL"?Oi.Sol:Oi.Evm);return{createDynamicEmbeddedWalletMutation:k.useCallback(g=>ae(void 0,[g],void 0,function*({environmentId:y,walletConnectorOptions:v,withAuthenticator:w,options:_,chains:E}){var C,T;if(a(!0),!r)throw new Ae(li);try{const{embeddedWalletVerifiedCredential:A,updatedUser:S,walletConnector:O}=yield yDe({chains:E??p,environmentId:y,user:r,walletConnector:dY(v,f),webAuthnAttestation:_==null?void 0:_.webAuthnAttestation,withAuthenticator:w}),D=(C=S.verifiedCredentials)===null||C===void 0?void 0:C.find(({walletName:U})=>U==null?void 0:U.startsWith("turnkey")),K=!!(!((T=D==null?void 0:D.walletProperties)===null||T===void 0)&&T.isAuthenticatorAttached),H={address:(yield O.getAddress())||"",authenticated:K,chain:O.connectedChain||"",connected:!0,connector:O,id:A.id,key:A.walletName||O.key},X=mR(A,S.verifiedCredentials);X?(yield gR({account:X,verifiedCredentials:S.verifiedCredentials,walletConnectorOptions:v}),n(X.id)):n(A.id),Kt.emit("embeddedWalletCreated",H,D,F0(),S),i(!1,{performMultiWalletChecks:!1})}catch(A){Ne.error("Failed to create embedded wallet",A),l(A),Kt.emit("embeddedWalletFailed",A)}finally{a(!1)}}),[p,f,n,i,r]),error:c,isLoading:s}},wDe=()=>{const{projectSettings:e,setPrimaryWalletId:t,walletConnectorOptions:n,setShowAuthFlow:r,environmentId:i,user:o}=Te(),{setView:s}=dn(),{createDynamicEmbeddedWalletMutation:a}=fY(),c=k.useCallback((p,m)=>ae(void 0,void 0,void 0,function*(){return yield a({chains:p,environmentId:i,options:m,walletConnectorOptions:n,withAuthenticator:!1}),r(!1,{performMultiWalletChecks:!1}),new Promise((g,y)=>{Kt.once("embeddedWalletCreated",v=>g(v)),Kt.once("embeddedWalletFailed",v=>y(v))})}),[a,i,n,r]),l=k.useCallback(p=>ae(void 0,void 0,void 0,function*(){return r(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),s("passkey-intro",{chains:p}),new Promise((m,g)=>{Kt.once("embeddedWalletCreated",y=>m(y)),Kt.once("embeddedWalletFailed",y=>{if(y instanceof DOMException&&y.name==="NotAllowedError"){Ne.error("User cancelled the passkey creation.",y);return}g(y)})})}),[r,s]),d=k.useCallback(p=>ae(void 0,void 0,void 0,function*(){var m,g,y,v;const{chain:w}=p,_=oY(n,w);if(o){(m=_==null?void 0:_.walletConnector)===null||m===void 0||m.setVerifiedCredentials(o.verifiedCredentials);const T=mR(p,o.verifiedCredentials);T?(yield gR({account:T,verifiedCredentials:o.verifiedCredentials,walletConnectorOptions:n}),t(T.id)):t(p.id)}const E=!!(!((g=p.walletProperties)===null||g===void 0)&&g.isAuthenticatorAttached),C={address:(yield(y=_==null?void 0:_.walletConnector)===null||y===void 0?void 0:y.getAddress())||"",authenticated:E,chain:((v=_==null?void 0:_.walletConnector)===null||v===void 0?void 0:v.connectedChain)||"",connected:!0,connector:(_==null?void 0:_.walletConnector)||{},id:p.id,key:p.walletName||(_==null?void 0:_.walletConnector.key)||""};return Promise.resolve(C)}),[t,n,o]);return{createTurnkeyWallet:k.useCallback((p,m)=>ae(void 0,void 0,void 0,function*(){var g,y,v,w,_;if(!o)throw new Error(li);const E=((g=e==null?void 0:e.sdk.embeddedWallets)===null||g===void 0?void 0:g.automaticEmbeddedWalletCreation)===!1,C=Gf(o,p),T=pR(o);if(!(T!=null&&T.length)||!C&&E){const A=B3(o,od.Email);return!(!((y=e==null?void 0:e.sdk.embeddedWallets)===null||y===void 0)&&y.forceAuthenticatorAtSignup)&&A||m!=null&&m.webAuthnAttestation?c(p,m):l(p)}else if(C&&o.newUser&&(!((v=e==null?void 0:e.sdk.embeddedWallets)===null||v===void 0)&&v.automaticEmbeddedWalletCreation)){const A=dY(n,uY(e));if(!A)throw new Error("Could not find the Embedded wallet connector");const S={address:(yield A.getAddress())||"",authenticated:!!(!((w=C==null?void 0:C.walletProperties)===null||w===void 0)&&w.isAuthenticatorAttached),chain:A.connectedChain||"",connected:!0,connector:A,id:C.id,key:(_=C.walletName)!==null&&_!==void 0?_:A.key};t(C.id),Kt.emit("embeddedWalletCreated",S,C,F0(),o)}if(r(!1,{performMultiWalletChecks:!1}),!C)throw new Error("Primary wallet is not an embedded wallet");return d(C)}),[o,e,d,t,r,c,l,n])}},uM="dyn-secure-enclave-container-id",fM="dyn-secure-enclave-element-id",_De="dyn-secure-enclave-export-container-id",hM="dyn-secure-enclave-export-element-id",xDe=()=>{var e,t,n,r;const{projectSettings:i,primaryWallet:o,user:s,environmentId:a,walletConnectorOptions:c}=Te(),{createTurnkeyWallet:l}=wDe(),{hasRecoveryEmail:d}=Ns(),{createRootElement:f}=qp(),{isLoadingEmbeddedWallet:p,setIsLoadingEmbeddedWallet:m}=Q0(),g=Ou(o,(s==null?void 0:s.verifiedCredentials)||[]),y=k.useCallback(()=>HT(s,"turnkey"),[s]),v=k.useCallback((S,O)=>ae(void 0,void 0,void 0,function*(){var D;if(!s)throw new Ae(li);const K=pR(s),H=Gf(s,S),X=((D=i==null?void 0:i.sdk.embeddedWallets)===null||D===void 0?void 0:D.automaticEmbeddedWalletCreation)===!1;if(K!=null&&K.length&&!H&&!X)throw new GA("User already has a linked branded wallet, and manual mode creation is not enabled.");return dM(i),m(!1),l(S,O)}),[l,i,m,s]),w=k.useCallback(S=>ae(void 0,void 0,void 0,function*(){var O,D,K,H,X,U;if(!s)throw new Ae(li);const I=z_(g==null?void 0:g.connector);if(I.isSessionActive())return R$;const x=f(uM);if(FJ((O=i==null?void 0:i.sdk.embeddedWallets)===null||O===void 0?void 0:O.sessionKeyDuration))try{if(yield WJ({iframeContainer:x.current,iframeElementId:fM,sessionExpiration:o8((K=(D=i==null?void 0:i.sdk)===null||D===void 0?void 0:D.embeddedWallets)===null||K===void 0?void 0:K.sessionKeyDuration),user:s,wallet:o}))return wje}catch($){Ne.error("Failed to restore embedded wallet",$)}if(!(S!=null&&S.oneTimeCode))throw new Ae("One-time code is required to create a session.",gje);if(!y()||!d)throw new Ae("User does not have a secure enclave wallet or a verified email",cv);const P=(U=(X=(H=s==null?void 0:s.verifiedCredentials)===null||H===void 0?void 0:H.find(({walletName:$})=>$==null?void 0:$.startsWith("turnkey")))===null||X===void 0?void 0:X.walletProperties)===null||U===void 0?void 0:U.turnkeySubOrganizationId;yield I.verifyRecoveryCode(S.oneTimeCode,P);const N={createdAt:new Date().getTime(),emailCode:S.oneTimeCode,userId:I.recoveryUserId};return Ft.setToLS(i0,N),bje}),[f,s,d,o,(t=(e=i==null?void 0:i.sdk)===null||e===void 0?void 0:e.embeddedWallets)===null||t===void 0?void 0:t.sessionKeyDuration,y,g==null?void 0:g.connector]),_=k.useCallback(S=>ae(void 0,void 0,void 0,function*(){var O,D;if(!s)throw new Ae(li);dM(i);const K=eE(c,(O=i==null?void 0:i.sdk.embeddedWallets)===null||O===void 0?void 0:O.chainConfigurations,s.verifiedCredentials);if(!(K!=null&&K.walletConnector))throw new Ae("Wallet connector not found",cv);const H=K.walletConnector;H.setEmail(s==null?void 0:s.email),s&&!(s!=null&&s.email)&&sY(H,s);const X=B3(s,od.Email);if(!("id"in K)||!X)return H.getWebAuthnAttestation();const U=(D=K==null?void 0:K.walletProperties)===null||D===void 0?void 0:D.turnkeySubOrganizationId;if(!U)throw new Ae("No sub organization id found for the wallet",cv);const I=z_(H);yield w(S);const{attestation:x,challenge:P,displayName:N}=yield H.getWebAuthnAttestation();if(yield I.addPasskeyAuthenticator({attestation:x,challenge:P,turnkeySubOrganizationId:U}),!(yield AJ({attestation:x,challenge:P,environmentId:a,walletId:K==null?void 0:K.id})))throw new Ae("Error completing passkey recovery");return{attestation:x,challenge:P,displayName:N}}),[w,a,i,s,c]),E=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){if(!s)throw new Ae(li);return(yield TJ({environmentId:a})).passkeys}),[s,a]),C=(r=(g==null?void 0:g.connector)&&"getAuthenticatorHandler"in g.connector&&((n=z_(g.connector))===null||n===void 0?void 0:n.isSessionActive()))!==null&&r!==void 0?r:!1,T=S=>ae(void 0,[S],void 0,function*({type:O,htmlContainerId:D}){var K,H;if(!s)throw new Ae(li);yield lY({wallet:g});const X=eE(c,(K=i==null?void 0:i.sdk.embeddedWallets)===null||K===void 0?void 0:K.chainConfigurations,s==null?void 0:s.verifiedCredentials),U=(H=X==null?void 0:X.walletProperties)===null||H===void 0?void 0:H.turnkeyHDWalletId;O==="recoveryPhrase"&&!U&&(O="privateKey");const I=f(hM,D||_De);return I.current.style.display="none",yield aY({iframeContainer:I.current,iframeElementId:hM,wallet:g}),yield cY({address:O==="privateKey"?g==null?void 0:g.address:void 0,environmentId:a,user:s,wallet:g}),I.current.style.display="block",!0}),A=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){var S,O;if(!s)throw new Ae(li);const D=eE(c,(S=i==null?void 0:i.sdk.embeddedWallets)===null||S===void 0?void 0:S.chainConfigurations,s.verifiedCredentials);if(!D||!("id"in D))throw new Ae("User does not have a valid secure enclave wallet",cv);const K=z_(D==null?void 0:D.walletConnector),H=D.id;if(K.isSessionActive())throw new Ae("Session is active. No need to create a new one",R$);const U=f(uM),I=yield K.initRecovery("email",U.current,fM,o8((O=i==null?void 0:i.sdk.embeddedWallets)===null||O===void 0?void 0:O.sessionKeyDuration));if(!I)throw new Ae(mje);const x=yield ZT({authenticatorType:"email",environmentId:a,publicKey:I,walletId:H});return K.recoveryUserId=x.turnkeyUserId,vje}),[f,s,a,i,c]);return{createEmbeddedWallet:v,createOrRestoreSession:w,createPasskey:_,getPasskeys:E,isLoadingEmbeddedWallet:p,isSessionActive:C,revealEmbeddedWalletKey:T,sendOneTimeCode:A,userHasEmbeddedWallet:y}},yR=e=>e==null?void 0:e.find(({key:t})=>t==="coinbasempc"),vR=e=>{var t,n;const r=(n=(t=e==null?void 0:e.sdk.embeddedWallets)===null||t===void 0?void 0:t.supportedSecurityMethods)===null||n===void 0?void 0:n.password;return r?r.isEnabled&&r.isDefault:!1},kDe=e=>{const t=e==null?void 0:e.sdk.embeddedWallets;return t?vR(e)&&!!t.forceAuthenticatorAtSignup:!1},SDe=e=>{if(!e)throw new Error("Project settings are missing");if(!F2(e))throw new Error("No embedded wallet is enabled. Go to the dashboard and make sure to have both Embedded wallets and at least one EVM network enabled. Also, check if EthereumWalletConnectors is in the DynamicContextProvider > settings > walletConnectors.")},hY=()=>{const{primaryWallet:e,setShowAuthFlow:t,environmentId:n}=Te(),{setView:r}=dn(),i=k.useCallback((s,a)=>ae(void 0,void 0,void 0,function*(){return t(!0,{ignoreIfIsEmbeddedWidget:!1}),s?r("wallet-claim-intro"):r("create-password-view",{isSignUp:a,notCalledFromWalletUtils:!0}),new Promise((c,l)=>{Kt.once("embeddedWalletCreatePasswordCompleted",d=>c(d)),Kt.once("embeddedWalletCreatePasswordFailed",d=>l(d))})}),[t,r]);return{claimWallet:k.useCallback(()=>ae(void 0,void 0,void 0,function*(){try{if(!e)throw new Error("No primary wallet");if("code"in(yield sBe({environmentId:n,walletId:e.id}))){Ne.error("Error updating jwt after claiming wallet");return}}catch(s){throw Ne.error("Error claiming wallet",s),new Error("Error claiming wallet")}}),[n,e]),createPassword:i}},EDe=(e=20)=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()";let n="";for(let r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},pY=({environmentId:e})=>({fetchAuthToken:()=>ae(void 0,void 0,void 0,function*(){return(yield rBe({environmentId:e,type:mI.Mpc}))||""}),fetchBackupCode:()=>ae(void 0,void 0,void 0,function*(){return(yield iBe({environmentId:e}))||""}),fetchPasscode:()=>ae(void 0,void 0,void 0,function*(){return(yield oBe({environmentId:e}))||""})}),CDe=20,IDe=()=>{const{user:e,setPrimaryWalletId:t,walletConnectorOptions:n,environmentId:r,consumeNonce:i,displaySiweStatement:o,appName:s,siweStatement:a,handleLogOut:c,setShowAuthFlow:l}=Te(),{setError:d}=Po(),f=k.useCallback((y,v,w)=>ae(void 0,void 0,void 0,function*(){var _;return v.setVerifiedCredentials(y.verifiedCredentials),t(w.id),{address:(yield v==null?void 0:v.getAddress())||"",authenticated:!0,chain:(v==null?void 0:v.connectedChain)||"",connected:!0,connector:v,id:w.id,key:(_=w.walletName)!==null&&_!==void 0?_:v.key}}),[t]),p=k.useCallback(y=>ae(void 0,[y],void 0,function*({connector:v,backupCode:w,password:_,source:E}){const C=i();if(C===void 0)throw new Ae("Missing nonce");const T=yield v.getAddress();if(!T)throw new Ae("Missing address");const A=yield zT({displaySiweStatement:o,environmentId:r,nonce:C,publicWalletAddress:T,siweStatement:j3({appName:s,siweStatement:a}),walletConnector:v,walletProvider:"embeddedWallet"}),S=E===Ev.Dynamic?{password:_,passwordSource:E}:{},O=yield yJ(r,Object.assign(Object.assign(Object.assign({},S),A),{backup:w}));if(!O)throw new Ae("Unable to link wallet");const D=VT(O.user),K=D.verifiedCredentials.find(H=>H.id===D.lastVerifiedCredentialId&&H.format==="blockchain");if(!K)throw new Ae("No primary wallet found");return t(K.id),v.setVerifiedCredentials(D.verifiedCredentials),{newSelectedCredentialWallet:K,updatedUser:D}}),[s,i,o,r,t,a]),m=k.useCallback((y,v)=>ae(void 0,void 0,void 0,function*(){var w;const _=v||EDe(CDe),E=v?Ev.User:Ev.Dynamic;try{const C=yield y.generateWallet(E,_),{updatedUser:T,newSelectedCredentialWallet:A}=yield p({backupCode:C,connector:y,password:_,source:E}),S={address:(yield y==null?void 0:y.getAddress())||"",authenticated:!0,chain:(y==null?void 0:y.connectedChain)||"",connected:!0,connector:y,id:A.id,key:(w=A.walletName)!==null&&w!==void 0?w:y.key};return Kt.emit("embeddedWalletCreated",S,A,F0(),T),S}catch(C){Ne.error(C),C instanceof Ae&&C.code==="create_embedded_wallet_error"&&(yield c(),d(C.message))}}),[p,c,d]);return{createCoinbaseMPCWallet:k.useCallback((...y)=>ae(void 0,[...y],void 0,function*(v=[Oi.Evm],w){var _;if(!e)throw new Ae(li);const E=(_=yR(n))===null||_===void 0?void 0:_.walletConnector;if(!E||!ih(E)){const A=new Ae("CoinbaseWaaSWalletConnectors not found");throw Ne.error("Failed to create embedded wallet",A),Kt.emit("embeddedWalletFailed",A),d(A.message),A}l(!1);const{fetchAuthToken:C}=pY({environmentId:r});C&&E.setAuthTokenFetcher(C);const T=Gf(e,v);return T?f(e,E,T):m(E,w)}),[e,n,l,r,m,d,f])}},ADe=()=>{const{projectSettings:e,walletConnectorOptions:t,user:n}=Te(),{createPassword:r}=hY(),{createCoinbaseMPCWallet:i}=IDe(),{isLoadingEmbeddedWallet:o,setIsLoadingEmbeddedWallet:s}=Q0(),a=()=>HT(n,"coinbase"),c=k.useCallback(m=>ae(void 0,void 0,void 0,function*(){return r(m)}),[r]),l=k.useCallback(m=>ae(void 0,void 0,void 0,function*(){var g,y,v;if(!n)throw new Ae(li);const w=pR(n),_=Gf(n,m),E=((g=e==null?void 0:e.sdk.embeddedWallets)===null||g===void 0?void 0:g.automaticEmbeddedWalletCreation)===!1;if(w!=null&&w.length&&!_&&!E)throw new GA("User already has a linked branded wallet, and manual mode creation is not enabled.");SDe(e);const C=(y=yR(t))===null||y===void 0?void 0:y.walletConnector;if(!ih(C))throw new Error("Coinbase MPC wallet connector not found");C.setRequiredPassword((v=vR(e))!==null&&v!==void 0?v:!1)}),[n,e,t]),d=k.useCallback(m=>ae(void 0,void 0,void 0,function*(){try{return yield l(m),!0}catch{return!1}}),[l]),f=k.useCallback(m=>ae(void 0,void 0,void 0,function*(){if(!n)throw new Ae(li);yield l(m),s(!0);let g;!Gf(n,m)&&kDe(e)&&(g=yield r(!1,!0));const v=yield i(m,g);return s(!1),v}),[n,i,r,l,e,s]);return{canCreateMPCWallet:d,createEmbeddedWallet:f,createPassword:c,isLoadingEmbeddedWallet:o,revealEmbeddedWalletKey:()=>ae(void 0,void 0,void 0,function*(){throw new Ae("Coinbase MPC wallet does not support headless reveal yet")}),userHasEmbeddedWallet:a}},Z0=()=>{const{user:e,projectSettings:t}=Te(),{isTurnkeyWallet:n}=Ns(),{createEmbeddedWallet:r,canCreateMPCWallet:i,createPassword:o,revealEmbeddedWalletKey:s}=ADe(),{createEmbeddedWallet:a,createOrRestoreSession:c,createPasskey:l,revealEmbeddedWalletKey:d,getPasskeys:f,isSessionActive:p,sendOneTimeCode:m}=xDe(),{isLoadingEmbeddedWallet:g}=Q0(),y=()=>HT(e),v=k.useCallback((E,C)=>ae(void 0,void 0,void 0,function*(){return(yield i(E))?yield r(E):yield a(E,C)}),[i,r,a]),w=E=>ae(void 0,void 0,void 0,function*(){if(!e)throw new Ae(li);if(!y())throw new Ae("Embedded wallet not found");return n?d(E):s()}),_=k.useCallback(()=>{var E,C;const T=Ft.getFromLS(l3);return!(!(Vf(t)||F2(t))||T||!F2(t)&&Vf(t)&&!(!((C=(E=t==null?void 0:t.sdk)===null||E===void 0?void 0:E.embeddedWallets)===null||C===void 0)&&C.automaticEmbeddedWalletCreation))},[t]);return{createEmbeddedWallet:v,createOrRestoreSession:c,createPasskey:l,createPassword:o,getPasskeys:f,isLoadingEmbeddedWallet:g,isSessionActive:p,revealWalletKey:w,sendOneTimeCode:m,shouldAutoCreateEmbeddedWallet:_,userHasEmbeddedWallet:y}},mY=()=>{const{handlers:e}=Te(),{handleVerifiedUser:t}=e??{};return n=>ae(void 0,void 0,void 0,function*(){t&&(yield r3e(()=>t==null?void 0:t({user:n})))})},TDe=()=>o3(1500),Hp=({authMethod:e})=>{const{handleLogOut:t,setShowAuthFlow:n,setCallback:r,setMultiWalletWidgetState:i,environmentId:o,walletConnectorOptions:s}=Te(),{view:a,setView:c,goToInitialView:l}=dn(),{setLoading:d}=X0(),{setErrorMessage:f,setError:p}=Po(),{setExistentAccountData:m}=C1(),g=mY(),{shouldAutoCreateEmbeddedWallet:y}=Z0(),v=A=>A.user,w=A=>ae(void 0,[A],void 0,function*({isSignIn:S=!0,verifyFunction:O,onVerifySuccess:D,onSettled:K,onError:H,showSuccessMessage:X=!1,skipDefaultErrorHandling:U=!1}){var I,x;Ne.debug("initAuth",{authMethod:e,isSignIn:S});try{const P=yield O();if(!P)throw yield T(),new Ae("No user returned from verify function");let N;if(v(P)?N=To(P):N=P,D==null||D(N),s.forEach(L=>{L.walletConnector.setVerifiedCredentials(N.verifiedCredentials)}),!((I=N.scope)===null||I===void 0)&&I.includes("requiresAdditionalAuth")){(yield vJ({environmentId:o})).length===0?c("mfa-choose-device"):c("mfa-verification");return}if(S&&(!((x=N.missingFields)===null||x===void 0)&&x.length))return;i("idle"),yield g(N),X&&(yield TDe()),S&&r("authSuccess"),y()||n(!1),K==null||K()}catch(P){if(Ne.debug(P),U){H==null||H(P);return}_(P,{onError:H})}finally{d(!1),K==null||K()}}),_=(A,{options:S={},onError:O})=>{if(A instanceof HH||A instanceof WA||A instanceof KA||A instanceof qA||A instanceof VA||A instanceof HA)throw A;if(A instanceof Np){c("no-access");return}if(A instanceof y1){m(A.errorPayload),c("account-exists");return}if(A instanceof FH){c("merge-user-accounts-with-same-email",{returnToView:"isEmailRecoveryFlow"in S&&S.isEmailRecoveryFlow?"passkey-recovery-add-email":void 0});return}if(O){O==null||O(A);return}A.code?f(A.code):p(A.message)},E=A=>ae(void 0,[A],void 0,function*({missingFields:S,isEmailVerificationRequired:O,isSmsVerificationRequired:D}){if(O&&S.find(K=>K.name==="email")){c("verify-email");return}if(D&&S.find(K=>K.name==="phoneNumber")){c("verify-sms");return}c(a.type)}),C=A=>ae(void 0,[A],void 0,function*({completeSignInFlow:S,updateJwtFunction:O,onValidUpdatedJwt:D,options:K={}}){Ne.debug("completeAuth",{authMethod:e});try{const{updateUserProfileResponse:H,isSmsVerificationRequired:X,isEmailVerificationRequired:U,missingFields:I}=yield O();D==null||D();const x=To({expiresAt:H.expiresAt,jwt:H.jwt,minifiedJwt:H.minifiedJwt,user:H.user});if(I.length>0){yield E({isEmailVerificationRequired:U,isSmsVerificationRequired:X,missingFields:I});return}if(yield g(x),r("authSuccess"),S&&(yield S(H)))return;y()||n(!1)}catch(H){Ne.debug(H),_(H,{options:K})}finally{d(!1)}}),T=()=>ae(void 0,void 0,void 0,function*(){Ne.debug("cancelAuth",{authMethod:e}),yield t(),l()});return{cancelAuth:T,completeAuth:C,handleAuthError:_,initAuth:w}},z3=({consumeNonce:e,displaySiweStatement:t,environmentId:n,projectSettings:r,setIsSingleWalletAccount:i})=>{const{setExistentAccountData:o}=C1(),{setDeniedAddress:s,setDeniedOauthProvider:a}=h3(),{setView:c,goToInitialView:l}=dn(),{setErrorMessage:d,setError:f}=Po(),{multiWalletWidgetState:p,debugError:m,multiWallet:g,appName:y,primaryWalletId:v,setShowAuthFlow:w,setPrimaryWalletId:_,siweStatement:E,connectedWallets:C,authMode:T,user:A,setAuthMode:S,removeConnectedWalletsInfo:O,events:D,primaryWallet:K,enableConnectOnlyFallback:H,selectedWalletConnector:X}=Te(),{addedWalletsIds:U}=Dp(),{initAuth:I}=Hp({authMethod:"wallet"}),x=!A,P=H&&(x||!g),N=(j,W,re,de,te,ce,ge,Ce)=>ae(void 0,void 0,void 0,function*(){const qe=e();if(qe===void 0)throw new Ae("Missing nonce");const J=yield zT({displaySiweStatement:t,environmentId:n,getAddressOpts:re,messageToSignOverride:Ce,nonce:qe,publicWalletAddress:de,signedMessageOverride:ge,siweStatement:j3({appName:y,siweStatement:E}),walletConnector:j,walletProvider:W});let G;return!A||!g?G=Pje(n,Object.assign(Object.assign({},J),{captchaToken:te,oauth:ce})):G=yJ(n,J),{verifyArgs:J,verifyFunction:()=>G}}),$=({walletConnector:j,verifiedCredentials:W,lastVerifiedCredentialId:re})=>{const de=W.find(te=>te.id===re&&te.format==="blockchain");if(de){const te=W.find(ce=>ce.id===v);(x||!K||p==="awaiting_signature"&&de.walletName===(te==null?void 0:te.walletName)||(te==null?void 0:te.chain)==="flow"&&j.connectedChain==="FLOW")&&_(de.id)}},L=j=>{var W;w(!0),c("wallet-used"),i(!1),j.code==="reassign_wallet_error"&&(!((W=r==null?void 0:r.sdk)===null||W===void 0)&&W.preventOrphanedAccounts&&c("wallet-cannot-be-transferred"),i(!0))},z=({walletConnector:j,endSession:W=!0})=>{O(),W&&(j==null||j.endSession())},q=(j,W,re,de)=>{var te;if(j.message==="ignore")return;if(X&&X.key===W.key&&Kt.emit("authFailure",{address:re,connectorName:W.name,option:W.name,type:"wallet"},{error:j}),j instanceof WH)return z({endSession:!1,walletConnector:W}),L(j);if(j instanceof qH){c("merge-user-accounts",Object.assign({},j)),w(!0);return}if(j instanceof DH){z({walletConnector:W}),s(re),c("chainalysis-blocked-wallet");return}if(j instanceof r3){z({walletConnector:W}),s(re),c("gate-blocked-wallet");return}if(j instanceof Np){z({walletConnector:W}),s(re),L0(W)&&a(de==null?void 0:de.provider),c("no-access");return}if(j instanceof y1){z({walletConnector:W}),o(j.errorPayload),c("account-exists");return}if(C.length&&T==="connect-only")throw new Ae(j.message);const ce=(te=j==null?void 0:j.message)===null||te===void 0?void 0:te.includes("User rejected the request");if(P&&!ce){Ne.warn("Verification failed, changing to connect-only"),S("connect-only"),c("wallet-list");return}else z({walletConnector:W}),l();Ne.error(j),m?f(`${j.message}
 ${j.stack}`):d(j.code)};return j=>ae(void 0,[j],void 0,function*({walletConnector:W,getAddressOpts:re,publicWalletAddress:de,captchaToken:te,oauth:ce,signedMessageOverride:ge,messageToSignOverride:Ce}){const qe=u0(W);Kt.emit("authInit",{address:de,connectorName:W.name,option:W.name,type:"wallet"});try{const{verifyFunction:J,verifyArgs:G}=yield N(W,qe,re,de,te,ce,ge,Ce);yield I({isSignIn:x,onError:we=>{q(we,W,de,ce)},onVerifySuccess:we=>{var $e;if(!we)throw new Ae(li);try{($e=D==null?void 0:D.onSignedMessage)===null||$e===void 0||$e.call(D,{messageToSign:G.messageToSign,signedMessage:G.signedMessage})}catch{Ne.warn("Error calling onSignedMessage callback")}Ft.setToLS(jp,W.key),S("connect-and-sign"),$({lastVerifiedCredentialId:we.lastVerifiedCredentialId,verifiedCredentials:we.verifiedCredentials,walletConnector:W});const yt=we.lastVerifiedCredentialId;yt&&U.current.push(yt)},options:{address:de,connectorName:W.name},skipDefaultErrorHandling:!0,verifyFunction:J})}catch(J){q(J,W,de,ce)}})},RDe=(e,t)=>{const n=k.useRef(!1),r=k.useRef(e);r.current=e,k.useEffect(()=>{t&&!n.current&&(r.current(),n.current=!0)},[t])},bR=e=>{if(!e)return;const t=Object.values(t0);for(const n of t)if(n===e)return n},Ob="dynamic_social_storage",PDe=e=>{var t;const n=Ft.getFromLS(Ob);if(!n)return;const r=Object.entries(n),[i]=(t=r.find(([,{state:o}])=>o===e))!==null&&t!==void 0?t:[];if(i)return n[i]},ODe=(e,t)=>{var n;const r=(n=Ft.getFromLS(Ob))!==null&&n!==void 0?n:{};r[e]=Object.assign({provider:e},t),Ft.setToLS(Ob,r)},NDe=e=>{var t;const n=(t=Ft.getFromLS(Ob))!==null&&t!==void 0?t:{};delete n[e],Ft.setToLS(Ob,n)},jDe=e=>{const n=new TextEncoder().encode(e);return window.crypto.subtle.digest("SHA-256",n)},BDe=e=>{const t=[];return new Uint8Array(e).forEach(n=>t.push(n)),btoa(String.fromCharCode.apply(null,t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},b8=e=>{const t=[];for(const n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},wR=(e,t)=>e.find(n=>n.provider===t),$De={apple:{customMobileUrl:!0,response_mode:"form_post",response_type:["code","id_token"],scope:["name","email"],url:"https://appleid.apple.com/auth/authorize"},coinbasesocial:{scope:["wallet:accounts:read","wallet:user:email"],url:"https://www.coinbase.com/oauth/authorize"},discord:{scope:["identify","email"],url:"https://discord.com/api/oauth2/authorize"},facebook:{scope:["email","public_profile"],url:"https://www.facebook.com/v3.2/dialog/oauth"},github:{scope:["user:email","read:user"],url:"https://github.com/login/oauth/authorize"},google:{scope:["profile","email"],url:"https://accounts.google.com/o/oauth2/v2/auth"},instagram:{scope:["user_profile","user_media"],url:"https://api.instagram.com/oauth/authorize"},twitch:{scope:["user_read"],url:"https://id.twitch.tv/oauth2/authorize"},twitter:{scope:["users.read","tweet.read"],url:"https://twitter.com/i/oauth2/authorize"}},MDe=e=>{const t=Object.entries($De);for(const[n,r]of t)if(n===e)return r;return null},DDe=(e,t)=>{if(!(!t.customMobileUrl||!di()||!e.redirectUrl))return e.redirectUrl.replace("redirect","authorizeHtml")},LDe=(e,t)=>{var n;const r=wR(e,t);if(!(r!=null&&r.clientId))return"";const i=MDe(t);if(!i)return"";const o=DDe(r,i),s={client_id:r.clientId,redirect_uri:(n=r.redirectUrl)!==null&&n!==void 0?n:"",response_type:"code"};i.scope&&(s.scope=i.scope.join(" ")),i.prompt&&(s.prompt=i.prompt.join(" ")),i.response_mode&&(s.response_mode=i.response_mode),i.response_type&&(s.response_type=i.response_type.join(" "));const a=b8(s);return`${o??i.url}?${a}`},pM=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";let n="";for(let r=e;r>0;--r)n+=t[Math.floor(Math.random()*t.length)];return n},mM=(e,t,n)=>ae(void 0,void 0,void 0,function*(){try{yield zn().initAuth({environmentId:e,oauthInitAuthRequest:n,providerType:t})}catch(r){Ne.error(r)}}),UDe=(e,t,n)=>ae(void 0,[e,t,n],void 0,function*(r,i,{code:o,codeVerifier:s,state:a}){const c={code:o,codeVerifier:s,state:a};try{const l=yield zn().oauthVerify({environmentId:r,oauthRequest:c,providerType:i});return To(l)}catch(l){if(Ne.error(l),(yield l.json()).code==="social_account_already_exists")throw new zA;return}}),FDe=e=>ae(void 0,[e],void 0,function*({environmentId:t,primaryWalletId:n,verifiedCrentialId:r}){try{const i=yield zn().verifyUnlink({environmentId:t,verifyUnlinkRequest:{primaryWalletId:n,verifiedCrentialId:r}});return To(i)}catch{return}}),WDe=(e,t,n)=>ae(void 0,[e,t,n],void 0,function*(r,i,{code:o,codeVerifier:s,state:a,captchaToken:c}){var l;const d={captchaToken:c,code:o,codeVerifier:s,state:a};try{const f=yield zn().oauthSignIn({environmentId:r,oauthRequest:d,providerType:i});return To(f)}catch(f){Ne.error(f);const p=yield f.json();if(p.error.code==="gate_blocked")throw new r3(p.payload.walletPublicKey);if(p.error.code==="missing_from_list")throw new Np({walletPublicKey:(l=p==null?void 0:p.payload)===null||l===void 0?void 0:l.walletPublicKey});if(p.code==="email_associated_with_different_provider")throw new y1(p.error,p.payload);return}}),zDe=(e,t)=>ae(void 0,void 0,void 0,function*(){try{const n=yield zn().farcasterSignIn({environmentId:e,farcasterSignInRequest:t});return To(n)}catch(n){Ne.error(n);const r=yield n.json();if(r.error.code==="gate_blocked")throw new r3(r.payload.walletPublicKey);if(r.error.code==="missing_from_list")throw new Np({walletPublicKey:r.payload.walletPublicKey});return}}),qDe=e=>ae(void 0,void 0,void 0,function*(){try{const t=yield zn().farcasterVerify(e);return To(t)}catch(t){if(t.status===422)throw new zA;return}}),VDe="https://relay.farcaster.xyz/v1/channel",HDe="https://relay.farcaster.xyz/v1/channel/status",gM=3e5,KDe=1e3,GDe=e=>ae(void 0,void 0,void 0,function*(){try{const t=yield xf.fetch(VDe,{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},method:"POST"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return yield t.json()}catch(t){Ne.error("Error connecting with farcaster:",t);return}}),ZDe=e=>ae(void 0,void 0,void 0,function*(){try{const t=yield xf.fetch(HDe,{headers:{Authorization:`Bearer ${e.channelToken}`,"Content-Type":"application/json"},method:"GET"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return yield t.json()}catch(t){Ne.error("Error fetching farcaster connect status:",t);return}}),JDe=(e,...t)=>ae(void 0,[e,...t],void 0,function*(n,{timeout:r=gM,interval:i=KDe}={}){const o=Date.now()+r;let s=!0,a;Kt.on("farcasterConnectCancelled",()=>{s=!1,a==null||a(),a=void 0});const c=l=>{a=l,setTimeout(l,i)};for(;s&&Date.now()<o;){const l=yield ZDe(n);if(!l)return"rejected";if(l.state==="completed")return l;yield new Promise(c)}return s?(Ne.error(`Polling farcaster connect status timed out after ${gM}ms`),"timeout"):"cancelled"}),YDe="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",XDe=()=>new Promise((e,t)=>{const n=document.querySelector("script[data-apple-sdk]");if(n)n.hasAttribute("data-loaded")?e():(n.addEventListener("load",()=>e()),n.addEventListener("error",()=>t(new Error("Failed to load Apple SDK"))));else{const r=document.createElement("script");r.type="text/javascript",r.src=YDe,r.setAttribute("data-apple-sdk","true"),r.onload=()=>{r==null||r.setAttribute("data-loaded","true"),e()},r.onerror=()=>t(new Error("Failed to load Apple SDK")),window.document.head.appendChild(r)}}),QDe=e=>ae(void 0,[e],void 0,function*({clientId:t,oauthLoginUrl:n,state:r}){yield XDe(),AppleID.auth.init({clientId:t,redirectURI:n.searchParams.get("redirect_uri"),scope:"name email",state:r,usePopup:!1}),AppleID.auth.signIn()}),yM=["apple","coinbasesocial","discord","facebook","farcaster","github","google","instagram","twitch","twitter"],eLe=["twitter","github"],q3=({sessionTimeout:e,onSettled:t,onError:n,onFarcasterUrl:r})=>{const{environmentId:i,setShowAuthFlow:o,projectSettings:s,consumeNonce:a,socialSettings:c,redirectUrl:l}=Te(),d=k.useMemo(()=>(c==null?void 0:c.strategy)||"popup",[c]),{setErrorMessage:f,setError:p}=Po(),{initAuth:m}=Hp({authMethod:"social"}),[g,y]=k.useState(!1),[v,w]=k.useState(),_=k.useRef({}),E=k.useRef(),C=()=>{w(void 0),p(void 0)},T=(U,I,x)=>{n==null||n(),t==null||t(),U&&(x!=null&&x.raiseAuthFailure)&&Kt.emit("authFailure",{option:U,provider:U,type:"social"},I)},A=(U,I,x,P)=>{const N={code:I,message:x};Ne.error(x),y(!1),w(N),f(I),T(U,{error:N},P)},S=(U,I)=>U?yM.includes(U)?!0:(A(U,Do.INVALID_PROVIDER,`Invalid social provider. Valid providers are: ${yM.join(", ")}`,{raiseAuthFailure:I==="signin"}),!1):(A(U,Do.NO_PROVIDER,"Provider is required",{raiseAuthFailure:I==="signin"}),!1),O=(U,I)=>ae(void 0,void 0,void 0,function*(){try{if(!(yield I())){A(U,Do.VERIFICATION_ERROR,`Failed to link social account: ${U}`,{raiseAuthFailure:!1});return}t==null||t()}catch(x){x instanceof zA&&A(U,Do.ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE,`Social account already linked to a different profile: ${U}`,{raiseAuthFailure:!1})}}),D=(U,I)=>ae(void 0,void 0,void 0,function*(){yield m({onError:()=>A(U,Do.SIGNIN_ERROR,`Failed to sign-in with social account: ${U}`,{raiseAuthFailure:!0}),onSettled:t,options:{provider:U},verifyFunction:()=>I()})}),K=U=>ae(void 0,[U],void 0,function*({authMode:I,provider:x,validator:P,captchaToken:N}){var $,L,z;if(clearInterval(E.current),C(),y(!0),!I){Ne.error('Auth mode is required. Please use either "link" or "signin"');return}if(!S(x,I)||P&&!P(x))return;if(Kt.emit("authInit",{option:x,provider:x,type:"social"}),x===br.Farcaster)return X(I,{captchaToken:N});let q=null;const j=pM(32),W=pM(43),re=wR(($=s==null?void 0:s.providers)!==null&&$!==void 0?$:[],x),de=LDe((L=s==null?void 0:s.providers)!==null&&L!==void 0?L:[],x),te=eLe.includes(x);if(ODe(x,{captchaToken:N,codeVerifier:W,state:j}),x===br.Apple&&(Pke()||ZA()||d==="redirect")){yield mM(i,x,{redirectUrl:vM(l||window.location.href),state:j}),yield QDe({clientId:re==null?void 0:re.clientId,oauthLoginUrl:new URL(de),state:j});return}const ce=()=>{window.removeEventListener("message",ge),_.current=Object.assign(Object.assign({},_.current),{[x]:!1})},ge=J=>ae(void 0,void 0,void 0,function*(){var G;const we=J.data;if(!(re!=null&&re.redirectUrl))return;let $e=window.location.origin;try{$e=new URL(re.redirectUrl).origin}catch(Ue){Ne.error("Failed to parse social provider redirect url",{error:Ue});return}if((we==null?void 0:we.type)==="origin_check"&&q){Ne.debug("Origin check message received. Sending response now.",{data:we,expectedOrigin:$e}),q.postMessage("origin_check_response",$e);return}const yt=(we==null?void 0:we.type)==="authorization_response";yt&&Ne.debug("Message received",{data:we});const Gt=J.origin===$e;if(!(yt&&(we==null?void 0:we.provider)===x&&Gt))return;if(y(!0),!(!((G=_.current)===null||G===void 0)&&G[x])){A(x,Do.SESSION_TIMEOUT,`Connecting ${x} account session timeout.`,{raiseAuthFailure:I==="signin"});return}ce();const{code:Rn,error:mr,state:ve}=we;if(mr&&mr!=="undefined"){A(x,Do.OAUTH_ERROR,`Failed to connect ${x} social account: ${mr}`,{raiseAuthFailure:I==="signin"});return}if(j!==ve){A(x,Do.OAUTH_ERROR,`Failed to connect ${x} social account: Invalid random state`,{raiseAuthFailure:I==="signin"});return}if(!Rn){A(x,Do.NO_AUTH_CODE,`Failed to connect ${x} social account: no authorization code`,{raiseAuthFailure:I==="signin"});return}yield H({authCode:Rn,authMode:I,captchaToken:N,provider:x,state:j,verifier:W})});if(!de){A(x,Do.NO_OAUTH_URL,`Failed to get login url to connect social account: ${x}`,{raiseAuthFailure:I==="signin"});return}!((z=_.current)===null||z===void 0)&&z[x]||(window.addEventListener("message",ge),_.current=Object.assign(Object.assign({},_.current),{[x]:!0}));const Ce=b8({state:j});let qe=`${de}&${Ce}`;if(te){const J=yield jDe(W),G=b8({code_challenge:BDe(J),code_challenge_method:"S256"});qe=`${qe}&${G}`}if(yield mM(i,x,{redirectUrl:d==="redirect"?vM(l||window.location.href):void 0,state:j}),d==="redirect"){window.location.assign(qe);return}q=window.open("","_blank","width=500,height=600"),q==null||q.location.assign(qe),E.current=setInterval(()=>{var J;q!=null&&q.closed&&(clearInterval(E.current),y(!1),!((J=_.current)===null||J===void 0)&&J[x]&&T(x,"user-cancelled"))},2e3)}),H=U=>ae(void 0,[U],void 0,function*({authMode:I,provider:x,state:P,authCode:N,verifier:$,captchaToken:L}){I==="signin"?yield D(x,()=>WDe(i,x,{captchaToken:L,code:N,codeVerifier:$,state:P})):yield O(x,()=>UDe(i,x,{code:N,codeVerifier:$,state:P})),y(!1)}),X=(U,I)=>ae(void 0,[U,I],void 0,function*(x,{captchaToken:P}){const N=a(),$=Uo.getHost(),L=yield GDe({domain:$,nonce:N,redirectUrl:l,siweUri:Uo.getOrigin()});if(!(L!=null&&L.url)||!(L!=null&&L.channelToken)){A(br.Farcaster,Do.GENERAL_ERROR,"Farcaster didn't return a valid url.",{raiseAuthFailure:x==="signin"});return}di()?yield Uo.openURL(L.url):(o(!0),r==null||r(L.url));const z=yield JDe({channelToken:L.channelToken});if(z==="cancelled"){y(!1);return}if(z==="timeout"||z==="rejected"||!(z!=null&&z.message)||!(z!=null&&z.custody)||!(z!=null&&z.signature)||!(z!=null&&z.nonce)){A(br.Farcaster,Do.GENERAL_ERROR,"Farcaster didn't return valid data.",{raiseAuthFailure:x==="signin"});return}const{custody:q,message:j,signature:W,nonce:re}=z;if(x==="signin"){const de=()=>zDe(i,{address:q,captchaToken:P,domain:$,message:j,nonce:re,signature:W});yield D(br.Farcaster,de)}else{const de=()=>qDe({environmentId:i,farcasterSignInRequest:{address:q,captchaToken:P,domain:$,message:j,nonce:re,signature:W}});yield O(br.Farcaster,de),o(!1,{clearErrors:!1})}y(!1)});return{checkValidProvider:S,completeConnection:H,connectSocialAccount:K,error:v,handleError:A,isProcessing:g,setError:w,setIsProcessing:y}},vM=e=>{const t=new URL(e);return t.searchParams.delete("dynamicOauthState"),t.searchParams.delete("dynamicOauthCode"),t.toString()},tLe=({setSocialProvider:e})=>{const{setView:t}=dn(),{setDynamicWidgetView:n}=sc(),[r,i]=k.useState(null),{sdkHasLoaded:o,user:s,setShowAuthFlow:a,isRenderingEmbeddedAuthFlow:c,setShowDynamicUserProfile:l}=Te(),{completeConnection:d}=q3({sessionTimeout:1e4}),f=k.useCallback(m=>{const g=bR(m.provider);e(g),t("social-redirect-view"),c.current||a(!0)},[e,t,c,a]),p=k.useCallback(()=>{n("profile"),l(!0)},[n,l]);ch(()=>{if(z0())return;const m=new URL(window.location.href),g=m.searchParams.get("dynamicOauthState"),y=m.searchParams.get("dynamicOauthCode");if(!g||!y)return;const v=PDe(g);v&&(v.code=y,i(v),NDe(v.provider))}),RDe(()=>ae(void 0,void 0,void 0,function*(){if(!r)return;const m=s?"link":"signin";m==="signin"?f(r):m==="link"&&p(),yield d({authCode:r.code,authMode:m,captchaToken:r.captchaToken,provider:r.provider,state:r.state,verifier:r.codeVerifier})}),!!r&&o)},gY=k.createContext(void 0),nLe=({children:e})=>{var t,n,r,i;const{setShowAuthFlow:o,walletConnectorOptions:s,setSelectedWalletConnectorKey:a,walletUiUtils:c,consumeNonce:l,displaySiweStatement:d,environmentId:f,projectSettings:p,setIsSingleWalletAccount:m,setShowDynamicUserProfile:g,isAuthenticated:y,setPrimaryWalletId:v,secondaryWallets:w,sdkHasLoaded:_,user:E,connectWallet:C,primaryWallet:T,socialProvidersFilter:A=W=>W}=Te(),{setErrorMessage:S}=Po(),{setView:O}=dn(),{getCaptchaToken:D}=Du(),K=z3({consumeNonce:l,displaySiweStatement:d,environmentId:f,projectSettings:p,setIsSingleWalletAccount:m}),H=(t=p==null?void 0:p.sdk.socialSignIn)===null||t===void 0?void 0:t.signInProvider,X=(r=(n=p==null?void 0:p.sdk.socialSignIn)===null||n===void 0?void 0:n.providers)!==null&&r!==void 0?r:[],U=(i=A(X.filter(W=>W.enabled).map(W=>W.provider)))!==null&&i!==void 0?i:[],I=s.map(({walletConnector:W})=>W).find(L0),[x,P]=k.useState("idle"),[N,$]=k.useState(),z=(T?[T,...w]:w).find(W=>W.connector.key===(I==null?void 0:I.key)),q=k.useMemo(()=>z?O3(E,z.id):void 0,[E,z]);Lo("logout",()=>$(void 0));const j=k.useCallback(W=>{Ne.error(W),y?(o(!1,{emitCancelAuth:!0}),g(!0)):(o(!0),O("wallet-list"),S("-1"))},[y,S,o,g,O]);return k.useEffect(()=>{var W,re;if(!p||!I||!_){new URLSearchParams(window.location.search).has("magic_oauth_request_id")&&(O("social-redirect-view"),o(!0));return}const de=new URLSearchParams(window.location.search);if(de.has("error")&&de.has("provider")){const te=de.get("error_description");j(te??"Unknown error"),(W=I.getSession)===null||W===void 0||W.call(I);return}if(de.has("magic_oauth_request_id")){const te=de.get("provider");$(te),P("loading"),O("social-redirect-view"),o(!0),y||a(I.key),(re=I.getSession)===null||re===void 0||re.call(I).then(ce=>ae(void 0,void 0,void 0,function*(){if(y){if(!q)throw new Error("Social account not found");q.oauthAccountId===ce.oauthId?(z==null?void 0:z.id)!==(T==null?void 0:T.id)&&(v(z.id),o(!1),g(!0)):(yield I.endSession(),O("social-wrong-account"))}else{yield C(I);const ge=yield I.getAddress();c.disabledConfirmationOnce(),yield K({captchaToken:D(),oauth:{accessToken:ce.accessToken,didToken:ce.didToken,provider:te},publicWalletAddress:ge,walletConnector:I})}$(void 0),P("success")})).catch(ce=>{$(void 0),P("error"),j(ce)})}},[q,E,y,p,_,w,v,a,o,g,O,I,K,c,z,j,C,T==null?void 0:T.id,D]),tLe({setSocialProvider:$}),u.jsx(gY.Provider,{value:{enabledSocialProviders:U,redirectStatus:x,setSocialProvider:$,signInProvider:H,socialAccount:q,socialProvider:N,socialWalletConnector:I},children:e})},Fu=()=>{const e=k.useContext(gY);if(e===void 0)throw new Error("useSocialRedirectContext must be used within a SocialRedirectContextProvider");return e},yY=({hideBorder:e})=>u.jsx("div",{className:We("default-footer__footer",{"default-footer__footer--hidden":e}),"data-testid":"default-footer"}),bM=(e,t,n)=>(e==null?void 0:e.verifiedCredentials)!==void 0&&t==="multi-wallet-wallet-list"&&!n,_R=({view:e,authMode:t})=>{const{t:n}=ut(),{isTurnkeyWalletWithoutAuthenticator:r}=Ns();if(e==="no-access")return{headerData:{copykey:"dyn_no_access.title",heading:n("dyn_no_access.title")}};if(e==="access-blocked")return{headerData:{copykey:"dyn_access_blocked.title",heading:n("dyn_access_blocked.title")}};const i={"login-with-email-or-wallet-full-wallet-list":{copykey:"dyn_login.helper.all_wallet_list",heading:n("dyn_login.helper.all_wallet_list")},"login-with-wallet-only":{copykey:"dyn_login.helper.wallet_only",heading:n("dyn_login.helper.wallet_only")},"passkey-intro":{copykey:"dyn_passkey_intro.helper.title",heading:n("dyn_passkey_intro.helper.title")},"pending-connect":{copykey:"dyn_login.helper.pending_connect.title",heading:n("dyn_login.helper.pending_connect.title")},"pending-signature":{copykey:"dyn_login.helper.pending_signature.title",heading:n("dyn_login.helper.pending_signature.title")},"pending-signature-without-back-button":{copykey:"dyn_login.helper.pending_signature_without_back_button.title",heading:n("dyn_login.helper.pending_signature_without_back_button.title")},"qr-code":{copykey:"dyn_login.helper.qr_code.title",heading:n("dyn_login.helper.qr_code.title")},"wallet-connect-mobile-wallets-list":{copykey:"dyn_wallet_conect.mobile.wallet_list.helper",heading:n("dyn_wallet_conect.mobile.wallet_list.helper")},"wallet-list":{copykey:"dyn_wallet_list.helper",heading:n("dyn_wallet_list.helper")}},o={"account-exists":{copykey:"dyn_account_exists.title",heading:n("dyn_account_exists.title")},"chainalysis-blocked-wallet":{copykey:"dyn_chainalysis_blocked_wallet.title",heading:n("dyn_chainalysis_blocked_wallet.title")},"farcaster-connect-view":{copykey:"dyn_login.qr_code.title",heading:n("dyn_login.qr_code.title")},"login-with-email-or-wallet":{copykey:"dyn_login.title.all",heading:n("dyn_login.title.all")},"login-with-email-or-wallet-full-wallet-list":{copykey:"dyn_login.title.all_wallet_list",heading:n("dyn_login.title.all_wallet_list")},"login-with-email-verification":{copykey:"dyn_otp_verification.confirm_code",heading:n("dyn_otp_verification.confirm_code")},"login-with-sms-verification":{copykey:"dyn_otp_verification.confirm_code",heading:n("dyn_otp_verification.confirm_code")},"login-with-wallet-only":{copykey:"dyn_login.title.wallet_only",heading:n("dyn_login.title.wallet_only")},"merge-user-accounts":{copykey:"dyn_merge_user_accounts.wallet.title",heading:n("dyn_merge_user_accounts.wallet.title")},"merge-user-accounts-conflicts":{copykey:"dyn_merge_user_accounts_conflicts.title",heading:n("dyn_merge_user_accounts_conflicts.title")},"mfa-choose-device":{copykey:"dyn_mfa.choose_device_view.title",heading:n("dyn_mfa.choose_device_view.title")},"mfa-display-backup-codes":{copykey:"dyn_mfa.display_backup_codes_view.title",heading:n("dyn_mfa.display_backup_codes_view.title")},"mfa-recovery":{copykey:"dyn_mfa.recovery_view.title",heading:n("dyn_mfa.recovery_view.title")},"mfa-secure-device":{copykey:"dyn_mfa.secure_device_view.title",heading:n("dyn_mfa.secure_device_view.title")},"mfa-verification":{copykey:"dyn_mfa.otp_verification_view.title",heading:n("dyn_mfa.otp_verification_view.title")},"multi-wallet-wallet-list":{copykey:t==="connect-only"?"dyn_wallet_list.title.connect":"dyn_wallet_list.title.link",heading:n(t==="connect-only"?"dyn_wallet_list.title.connect":"dyn_wallet_list.title.link")},"network-not-supported":{copykey:"dyn_network_not_supported.title",heading:n("dyn_network_not_supported.title")},"passkey-recovery-complete":{copykey:r?"dyn_passkey_secure_modal.complete.title":"dyn_passkey_recovery.complete.title",heading:n(r?"dyn_passkey_secure_modal.complete.title":"dyn_passkey_recovery.complete.title")},"passkey-recovery-start":{copykey:r?"dyn_passkey_secure_modal.start.title":"dyn_passkey_recovery.start.title",heading:n(r?"dyn_passkey_secure_modal.start.title":"dyn_passkey_recovery.start.title")},"pending-connect":{copykey:"dyn_login.connect_wallet.title",heading:n("dyn_login.connect_wallet.title")},"pending-signature":{copykey:"dyn_login.sign_wallet.title",heading:n("dyn_login.sign_wallet.title")},"qr-code":{copykey:"dyn_login.qr_code.title",heading:n("dyn_login.qr_code.title")},"select-hardware-wallet":{copykey:"dyn_select_hardware_wallet.title",heading:n("dyn_select_hardware_wallet.title")},"select-wallet-in-wallet-group":{copykey:"dyn_login.select_wallet_in_wallet_group.title",heading:n("dyn_login.select_wallet_in_wallet_group.title")},"verify-email":{copykey:"dyn_otp_verification.confirm_code",heading:n("dyn_otp_verification.confirm_code")},"verify-sms":{copykey:"dyn_otp_verification.confirm_code",heading:n("dyn_otp_verification.confirm_code")},"wallet-connect-mobile-wallets-list":{copykey:"dyn_wallet_conect.mobile.wallet_list.title",heading:u.jsxs(u.Fragment,{children:[u.jsx(z2e,{style:{height:"1.5rem",width:"1.5rem"}})," ",n("dyn_wallet_conect.mobile.wallet_list.title")]})},"wallet-group":{copykey:"dyn_login.wallet_group.title",heading:n("dyn_login.wallet_group.title")},"wallet-list":{copykey:"dyn_wallet_list.title.select",heading:n("dyn_wallet_list.title.select")},"wallet-sign":{copykey:"dyn_wallet_transfer.sign.title",heading:n("dyn_wallet_transfer.sign.title")},"wallet-used":{copykey:"dyn_wallet_link.title",heading:n("dyn_wallet_link.title")}},s=i[e];return{headerData:o[e],helpHeaderData:s}},lh=()=>{var e;const{view:t}=dn(),{user:n,customPrivacyPolicy:r,customTermsOfServices:i,privacyPolicyUrl:o,termsOfServiceUrl:s,isBridgeFlow:a,authMode:c,projectSettings:l}=Te(),{isFooterExpanded:d}=g3(),{mockedSDK:f}=PR(),{helpHeaderData:p}=_R({authMode:c,view:t.type}),m=t.type!=="wallet-list"&&t.type!=="login-with-email-or-wallet-full-wallet-list"&&t.type!=="multi-wallet-wallet-list"&&t.type!=="login-with-wallet-only"||d,g=t.type==="wallet-connect-mobile-wallets-list"||t.type==="wallet-list"||t.type==="login-with-email-or-wallet-full-wallet-list"||t.type==="login-with-wallet-only",y=!!(p&&!(t.type==="qr-code"||t.type==="no-qr-not-installed"||t.type==="wallet-used"||t.type==="chainalysis-blocked-wallet"||t.type==="wallet-sign"||t.type==="collect-user-data"||t.type==="passkey-new-domain-detected"||bM(n,t.type,f))),v=t.type!=="collect-user-data"&&t.type!=="no-access"&&t.type!=="chainalysis-blocked-wallet"&&t.type!=="wallet-locked-view"&&t.type!=="gate-blocked-wallet"&&t.type!=="email-wallet-otp-verification-view"&&t.type!=="bridge-welcome"&&t.type!=="bridge-summary"&&t.type!=="bridge-next-wallet-connection"&&t.type!=="passkey-intro"&&t.type!=="passkey-new-domain-detected"&&t.type!=="social-redirect-view"&&t.type!=="collect-user-data-login-no-wallet"&&t.type!=="passkey-recovery-bundle"&&t.type!=="passkey-recovery-start"&&t.type!=="embedded-reveal-view"&&t.type!=="embedded-reveal-account-view"&&t.type!=="rename-passkey"&&t.type!=="create-password-view"&&t.type!=="embedded-wallet-auth-choice"&&t.type!=="wallet-claim-intro"&&t.type!=="passkey-recovery-add-email",w=a&&(t.type==="wallet-list"||t.type==="qr-code"||t.type==="wallet-connect-mobile-wallets-list"||t.type==="pending-connect"||t.type==="pending-signature"||t.type==="pending-signature-without-back-button"||t.type==="bridge-next-wallet-connection"||t.type==="bridge-summary"),_=!!(!bM(n,t.type,f)&&(t.type==="wallet-list"||t.type==="wallet-connect-mobile-wallets-list"||(t.type==="login-with-email-or-wallet"||t.type==="login-with-email-or-wallet-full-wallet-list"||t.type==="login-with-wallet-only"||t.type==="multi-wallet-wallet-list")&&(s||o||r||i))),E=!!(!((e=l==null?void 0:l.sdk)===null||e===void 0)&&e.displayDynamicMessaging)&&(t.type==="login-with-email-or-wallet"||t.type==="login-with-email-or-wallet-full-wallet-list"||t.type==="login-with-wallet-only"||t.type==="login-with-email-verification"||t.type==="login-with-sms-verification"||t.type==="verify-email"||t.type==="verify-sms"||t.type==="pending-connect"||t.type==="wallet-group"||t.type==="select-wallet-in-wallet-group"||t.type==="select-hardware-wallet"||t.type==="pending-signature"||t.type==="qr-code"||t.type==="wallet-used"||t.type==="email-wallet-otp-verification-view"||t.type==="farcaster-connect-view"||t.type==="merge-user-accounts"||t.type==="merge-user-accounts-conflicts"||t.type==="mfa-verification"||t.type==="mfa-display-backup-codes"||t.type==="mfa-recovery"),C=t.type!=="login-with-email-or-wallet-full-wallet-list"&&t.type!=="login-with-email-verification"&&t.type!=="login-with-sms-verification"&&t.type!=="network-not-supported"&&t.type!=="passkey-recovery-complete"&&t.type!=="passkey-recovery-start"&&t.type!=="passkey-recovery-bundle"&&t.type!=="rename-passkey"&&t.type!=="qr-code"&&t.type!=="mfa-verification"&&t.type!=="mfa-display-backup-codes"&&t.type!=="mfa-recovery",T=t.type==="pending-signature"||t.type==="no-qr-not-installed"||t.type==="wallet-connect-mobile-wallets-list"||t.type==="login-with-email-verification"||t.type==="login-with-sms-verification"||t.type==="login-with-email-or-wallet-full-wallet-list"||t.type==="wallet-group"||t.type==="select-wallet-in-wallet-group"||t.type==="select-hardware-wallet"||t.type==="pending-connect"||t.type==="account-exists"||t.type==="passkey-intro"||t.type==="qr-code"||t.type==="farcaster-connect-view"||t.type==="mfa-verification"||t.type==="merge-user-accounts-conflicts"||t.type==="mfa-recovery"||t.type==="merge-user-accounts-with-same-email"&&!n;return{displayBorderBelowHeader:m,isWalletListTypeView:g,shouldHideDynamicFooterSeparator:E&&_,showBackButton:T,showCloseButton:C,showConnectedWalletProgress:w,showDefaultFooter:!w&&!E&&!_,showDynamicFooter:E,showHeader:v,showHelpContent:y,showToSFooter:_}},vY=()=>Ft.getFromLS(jp),rLe=(e,t)=>{const n=t==null?void 0:t.find(s=>e.groupedWallets.some(a=>s.walletKey===a.walletConnector.key));if(n)return{isRecommended:!0,label:n.label||"Recommended"};const r=vY();if(e.groupedWallets.some(s=>s.walletConnector.key===r))return{label:"Last used"};if(e.groupedWallets.some(s=>s.isInstalledOnBrowser))return{label:"Installed"};if(bJ(e)==="multi-chain")return{label:"Multichain"}},iLe=(e,t)=>{const n=vY(),{key:r}=e.walletConnector,i=t==null?void 0:t.find(s=>s.walletKey===r);if(i)return{isRecommended:!0,label:i.label||"Recommended"};if(r===n)return{label:"Last used"};if(e.isInstalledOnBrowser)return{label:"Installed"}},xR=({wallet:e,recommendedWallets:t})=>WT(e)?rLe(e,t):iLe(e,t),kR=e=>{const n=new URLSearchParams(window.location.search).get("dev_isProgrammableNetworkSwitchSupported");return n?n==="true":e.switchNetworkOnlyFromWallet!==!0},bY=()=>{const{bridgeChainsToConnect:e,setShowAuthFlow:t,bridgeOnboardingCompleted:n,setBridgeOnboardingCompleted:r}=Te(),{setView:i,goToInitialView:o}=dn();return{handleWalletsToConnect:({walletConnector:a})=>{if(!e){r(!0),t(!1);return}if(e.length===0||!a||!a.connectedChain)return t(!1),o();if(e.filter(d=>d.chain!==(a==null?void 0:a.connectedChain)).length===0){n?(t(!1),o()):(r(!0),i("bridge-summary"));return}i("bridge-next-wallet-connection")}}},oLe=["bloctoevm","perawallet"],wY=(e,t)=>ae(void 0,void 0,void 0,function*(){const n=u0(e);if(n==="walletConnect"||n==="qrCode")return;oLe.forEach(i=>{e.key===i&&t("pending-connect")}),(yield e.getConnectedAccounts()).length===0&&t("pending-connect")}),SR=({shouldUpdateWallets:e=!0,shouldCallCallback:t=!0}={})=>{const{setView:n,goToInitialView:r}=dn(),{engageCaptcha:i,getCaptchaToken:o}=Du(),{setErrorMessage:s}=Po(),{authMode:a,connectWallet:c,consumeNonce:l,displaySiweStatement:d,environmentId:f,projectSettings:p,networkValidationMode:m,setIsSingleWalletAccount:g,user:y,walletUiUtils:v}=Te(),{handleWalletsToConnect:w}=bY(),_=z3({consumeNonce:l,displaySiweStatement:d,environmentId:f,projectSettings:p,setIsSingleWalletAccount:g}),E=(T,A,S)=>ae(void 0,void 0,void 0,function*(){!Tl(T)||Fj(T)?n("pending-signature"):v.disabledConfirmationOnce(),yield _({captchaToken:S,publicWalletAddress:A,walletConnector:T})}),C=T=>{var A;(T==null?void 0:T.code)==="user-cancelled"||Ne.debug(T),s((A=T==null?void 0:T.code)===null||A===void 0?void 0:A.toString()),r()};return T=>ae(void 0,[T],void 0,function*({walletConnector:A,getAddressOpts:S=void 0}){var O;try{yield wY(A,n),Tl(A)&&(D0(A)?n("email-wallet-otp-verification-view"):Fj(A)||n("wait-for-email-confirmation-view"));const D=yield c(A,S,{applyHandleConnectedWallet:t});if(!(D!=null&&D.address))return;const{address:K}=D,H=yield A.getNetwork();if(!Mp({network:H,walletConnector:A})&&(m==="always"||m==="sign-in"))return kR(A)?n("network-not-supported"):n("network-not-supported-manual");if(I1(y,a)){Ft.setToLS(jp,A.key),e&&w({walletConnector:A});return}if(!((O=p==null?void 0:p.security.hCaptcha)===null||O===void 0)&&O.enabled){i({authMethod:"wallet",onCaptchaSuccess:I=>ae(void 0,void 0,void 0,function*(){try{yield E(A,K,I)}catch(x){C(x)}})});return}yield E(A,K,o())}catch(D){C(D)}})},sLe=["dapper"],ER=e=>di()&&!(e!=null&&e.canConnectViaCustodialService)||sLe.includes((e==null?void 0:e.key)||""),Ss=(e,...t)=>{Ne.log(-1,e,...t)},CR=()=>{const{setView:e,goToInitialView:t}=dn(),{setErrorMessage:n}=Po(),{getCaptchaToken:r,engageCaptcha:i}=Du(),{connectWallet:o,consumeNonce:s,displaySiweStatement:a,projectSettings:c,environmentId:l,networkValidationMode:d,setIsSingleWalletAccount:f,setShowAuthFlow:p,user:m,authMode:g}=Te(),{handleWalletsToConnect:y}=bY(),v=z3({consumeNonce:s,displaySiweStatement:a,environmentId:l,projectSettings:c,setIsSingleWalletAccount:f}),w=C=>{var T;Ne.debug(C),t(),C instanceof LH&&di()||n((T=C.code)!==null&&T!==void 0?T:C.toString())};return{onlyConnectUser:C=>ae(void 0,[C],void 0,function*({walletConnector:T,getAddressOpts:A=void 0}){var S;yield wY(T,e);try{if(yield o(T,A),I1(m,g)){Ft.setToLS(jp,T.key),y({walletConnector:T});return}if(!((S=c==null?void 0:c.security.hCaptcha)===null||S===void 0)&&S.enabled){i({authMethod:"wallet",onCaptchaSuccess:O=>ae(void 0,void 0,void 0,function*(){p(!0),e("pending-signature")})});return}p(!0),e("pending-signature")}catch(O){w(O);return}}),signAlreadyConnectedUser:C=>ae(void 0,[C],void 0,function*({walletConnector:T,getAddressOpts:A=void 0}){try{const S=yield o(T,A);if(!(S!=null&&S.address))return;const O=yield T.getNetwork();if(!Mp({network:O,walletConnector:T})&&(d==="always"||d==="sign-in"))return kR(T)?e("network-not-supported"):e("network-not-supported-manual");yield v({captchaToken:r(),publicWalletAddress:S.address,walletConnector:T})}catch(S){w(S);return}})}},_Y=(e,t,n)=>n?e.map(({connector:r})=>r.key).includes(t.key):!1,J0=()=>{const{setMultiWalletWidgetState:e,setShowAuthFlow:t,setSelectedWalletConnectorKey:n,walletConnectorOptions:r,setQrcodeUri:i,setDesktopUri:o,user:s,linkedWallets:a,setLegacyIsVerifying:c}=Te(),{mockedSDK:l}=PR(),{setError:d}=Po(),{setView:f}=dn(),{onlyConnectUser:p}=CR(),m=SR(),g=T=>ae(void 0,void 0,void 0,function*(){Ne.debug("handleCustodialWalletClick",T);const A=ER(T);Ss("[handleCustodialWalletClick]",{twoStepAuthentication:A}),A?(n(T.key),yield p({walletConnector:T})):(n(T.key),e("awaiting_signature",void 0,"linking_new_wallet")),f("pending-signature")}),y=T=>ae(void 0,void 0,void 0,function*(){var A;if(Ne.debug("handleMobileWalletClick",T),n(T.key),T.key==="phantom"){const S=Ft.getFromLS(Sp);Ft.setToLS(Sp,{loseOriginalAccountOnTransfer:(A=S==null?void 0:S.loseOriginalAccountOnTransfer)!==null&&A!==void 0?A:!1,submittedAtTimestamp:new Date().toString(),verificationType:"awaiting_verification"})}p({walletConnector:T})}),v=T=>ae(void 0,void 0,void 0,function*(){Ne.debug("handleInstalledExtensionClick",T),n(T.key),e("awaiting_signature",void 0,"linking_new_wallet")}),w=T=>ae(void 0,void 0,void 0,function*(){Ne.debug("handleUninstalledClick",T),n(T.key),T.canConnectViaQrCode?(m({getAddressOpts:{onDesktopUri:A=>ae(void 0,void 0,void 0,function*(){o(A)}),onDisplayUri:A=>ae(void 0,void 0,void 0,function*(){i(A)})},walletConnector:T}),f("qr-code")):f("no-qr-not-installed"),d(void 0)}),_=T=>ae(void 0,void 0,void 0,function*(){Ne.debug("handleAlreadyConnectedWallet",T);const A=yield T.getConnectedAccounts(),S=a.find(O=>{var D;return O.address.toLowerCase()===((D=A[0])===null||D===void 0?void 0:D.toLowerCase())});Ss("[handleAlreadyConnectedWallet]",{activeAccountAlreadyLinked:S,connectedAccounts:A,linkedWallets:a}),S?e("awaiting_account_switch","linking_new_wallet"):e("awaiting_signature",void 0,"linking_new_wallet"),t(!1),n(T.key)});return{handleAlreadyConnectedWallet:_,handleCustodialWalletClick:g,handleInstalledExtensionClick:v,handleMobileWalletClick:y,handleUninstalledClick:w,handleWalletItemClick:T=>ae(void 0,void 0,void 0,function*(){const{walletConnector:A,isInstalledOnBrowser:S}=T,O=A.connectedChain==="FLOW"||pK(A);Ss("[handleWalletItemClick]",{mockedSDK:l,shouldEndWalletConnectorSession:O,wallet:T}),!l&&(O&&(yield A.endSession()),c(!1),_Y(a,A,s)&&A.connectedChain!=="FLOW"?_(A):A.canConnectViaCustodialService?g(A):di()?A.key==="walletconnect"?f("wallet-connect-mobile-wallets-list"):y(A):S?v(A):w(A))}),openWallet:(T,A)=>{var S;const{openMobileWallet:O=y,openCustodialWallet:D=g,openExtensionWallet:K=v}=A||{},H=(S=r.find(X=>X.key===T))===null||S===void 0?void 0:S.walletConnector;H&&(di()?O(H):H.canConnectViaCustodialService?D(H):H.isInstalledOnBrowser()&&K(H))}}},IR=({hoverElement:e,children:t})=>u.jsx("div",{children:u.jsxs("div",{className:"list-tile-animated-trailing",children:[u.jsx("div",{className:"list-tile-animated-trailing__child",children:t}),u.jsx("div",{className:"list-tile-animated-trailing__hover-element",children:e})]})}),Y0=({children:e,onClick:t,leading:n,disabled:r=!1,trailing:i,style:o,className:s="",dataTestId:a,copykey:c})=>u.jsxs("button",{"data-testid":a,type:"button",className:We(s,"list-tile"),onClick:t,style:o,disabled:r,children:[n,u.jsx("div",{className:"list-tile__children",children:u.jsx(ie,{weight:"medium",variant:"body_normal",color:"primary",as:"span",copykey:c,children:e})}),i]}),AR=({disabled:e=!1,wallet:t,onResetSearchValue:n,recommendedWallets:r,tile:i=({leading:o,name:s,onClick:a,trailing:c})=>u.jsx(Y0,{leading:o,trailing:c,onClick:a,className:"wallet-list-item__tile",dataTestId:"ListTile",children:s})})=>{const{navigateToWalletGroup:o}=KT(),{setView:s}=dn(),a=WT(t),{walletBook:c}=$a(),{handleWalletItemClick:l}=J0(),d=xR({recommendedWallets:r,wallet:t}),f=i,p=()=>ae(void 0,void 0,void 0,function*(){if(!e){if(n==null||n(""),a)return o(t);if(x1(t.walletConnector)&&t.walletConnector.canConnectWithHardwareWallet()){s("select-hardware-wallet",{onSelectWallet:l,wallet:t});return}yield l(t)}}),m=a?g1(c,t.key).name:rc(c,t.key).name,g=u.jsx(bi,{className:"wallet-list-item__leading",walletKey:t.key,style:{height:En(28),width:En(28)}}),y=u.jsx(IR,{hoverElement:u.jsx(un,{color:"text-tertiary",size:"mini",children:u.jsx(f0,{})}),children:d&&u.jsx(hd,{dot:!d.isRecommended,variant:d.isRecommended?"primary":"secondary",text:u.jsx(ie,{variant:"body_small",children:d.label})})});return u.jsx(f,{leading:g,trailing:y,name:m,onClick:p})},aLe=e=>t=>t.filter(n=>n.walletConnector.supportedChains.includes(e)),wM=({title:e,subtitle:t,image:n})=>{const{t:r}=ut();return u.jsxs("div",{className:"search-instead__container",children:[n&&u.jsx(un,{className:"search-instead__container__image",color:"text-tertiary",children:n}),u.jsx(ie,{color:"secondary",variant:"body_small",weight:"regular",copykey:"dyn_wallet_list.wallet_missing.title",children:e||r("dyn_wallet_list.wallet_missing.title")}),u.jsx(ie,{color:"primary",variant:"button_primary",weight:"regular",copykey:"dyn_wallet_list.wallet_missing.description",children:t||r("dyn_wallet_list.wallet_missing.description")})]})},cLe=({items:e,onSelect:t,value:n})=>u.jsx("div",{className:"wallet-list-grid-tabs",children:e.map((r,i)=>{const o=n===i,{icon:s,text:a}=r.label,c=`${a}-${s}-${e.indexOf(r)}`,l=typeof s=="string"?u.jsx("img",{src:s,alt:a}):s;return u.jsxs("button",{type:"button",className:We("wallet-list-grid-tabs__button",{"wallet-list-grid-tabs__button--selected":o,"wallet-list-grid-tabs__button--text":!!a}),tabIndex:-1,"aria-label":a,onClick:()=>t(i),children:[l&&u.jsx(un,{size:"small",className:We({"wallet-list-grid-tabs__icon--selected":!o}),children:l}),a&&u.jsx(ie,{as:"span",variant:"body_small",weight:o?"bold":"medium",color:o?"primary":"secondary",children:a})]},c)})}),lLe=(e,t)=>e&&(e!=null&&e.walletsFilter)?e.walletsFilter:t,dLe=(e,t)=>e&&(e!=null&&e.recommendedWallets)?e.recommendedWallets:t;Ft.setToLS(r0,"");const lv=({isWalletConnectList:e=!1})=>{var t;const{walletsFilter:n,signWithEmailWalletName:r,walletConnectorOptions:i,projectSettings:o,defaultNumberOfWalletsToShow:s,bridgeChainsToConnect:a,authMode:c,multiWallet:l,recommendedWallets:d,selectedTabIndex:f,setSelectedTabIndex:p,selectedTabSettings:m,tabsItems:g}=Te(),y=p3(),{walletBook:v}=$a(),{error:w}=Po(),{showDefaultFooter:_}=lh(),[E,C]=k.useState(!0),{t:T}=ut(),[A,S]=k.useState((t=Ft.getFromLS(r0))!==null&&t!==void 0?t:""),O=(a==null?void 0:a.length)&&aLe(a[0].chain),D=O&&O(i),K=dLe(m,d),{numberOfWallets:H,walletsList:X}=hJ({authMode:c,groupWallets:!0,inputList:D||i,isWalletConnectList:e,lastUsedWalletKey:Ft.getFromLS(jp),multiWallet:l,numberOfWalletsToShow:s,recommendedWallets:K,searchFilter:A,showMoreWalletsWithFilter:!0,signWithEmailWalletName:r,userWallets:y,walletBook:v,walletsFilter:lLe(m,n)}),U=!!A||H>s&&X.length!==H,I=!!(g!=null&&g.length),x=k.useRef(null),P=()=>{const L=x.current;L&&((L==null?void 0:L.scrollTop)>(L==null?void 0:L.clientHeight)*1.25?C(!1):C(!0))},N=L=>{Ft.setToLS(r0,L),S(L)},$=o?U&&u.jsx("div",{className:We("wallet-list__search-container",{"wallet-list__search-container--scroll":!w}),children:u.jsx(G9e,{copykey:"dyn_wallet_list.search.label",label:T("dyn_wallet_list.search.label",{numberOfWallets:H}),value:A,onChange:({target:{value:L}})=>N(L),onClickClear:()=>N("")})}):u.jsx(Zc,{className:"wallet-list__search-skeleton"});return u.jsxs(u.Fragment,{children:[I&&u.jsx("div",{className:"wallet-list__tabs-container",children:u.jsx(cLe,{items:g,value:f||0,onSelect:p})}),$,!!w&&u.jsx(Ao,{className:"wallet-list__error-container",withIcon:!1,children:w}),u.jsx("div",{className:"wallet-list__container",children:u.jsxs("div",{className:We("wallet-list__scroll-container",{"wallet-list__scroll-container--error":!!w,"wallet-list__scroll-container--fixed-height":I}),"data-testid":"wallet-list-scroll-container",ref:x,onScroll:P,children:[o?u.jsxs(u.Fragment,{children:[i.length===0&&u.jsx(Ao,{copykey:"dyn_wallet_list.configuration_mismatch",children:T("dyn_wallet_list.configuration_mismatch")}),i.length&&X.length===0?u.jsx(wM,{title:T("dyn_wallet_list.search.not_found.title"),subtitle:T("dyn_wallet_list.search.not_found.description"),image:u.jsx(pje,{})}):X.map((L,z)=>u.jsx(AR,{wallet:L,onResetSearchValue:()=>N(""),recommendedWallets:K},`${L.key}_${z}`))]}):u.jsx(Zc,{count:10,className:"wallet-list__tile-skeleton"}),U&&!A&&o&&u.jsx(wM,{})]})}),_&&u.jsx(yY,{hideBorder:!E})]})},sd=({children:e,animationComponent:t})=>{const[n,r]=k.useState(!0),i=YG(),o=k.useRef(null),s=k.useMemo(()=>!!e,[e]),a=zAe(s),c=k.useCallback(()=>{o.current=null,i()},[i]);return k.useEffect(()=>{k.isValidElement(e)&&(o.current=k.Children.map(e,l=>k.cloneElement(l)))},[e]),k.useEffect(()=>{s&&!a&&r(!0),a&&!s&&r(!1)},[s,a]),k.cloneElement(t,{children:e||o.current,isShown:n,onUnmount:c})};var h0;(function(e){e[e.CREATED=0]="CREATED",e[e.EDITED=1]="EDITED"})(h0||(h0={}));const V3=({className:e})=>{const{passkeySuccessPopup:t}=Te(),{t:n}=ut();return u.jsxs(sd,{animationComponent:u.jsx(Eb,{}),children:[t===h0.EDITED&&u.jsx(Ao,{variant:"success",className:e,copykey:"dyn_passkey_success.edited",children:n("dyn_passkey_success.edited")}),t===h0.CREATED&&u.jsx(Ao,{variant:"success",className:e,copykey:"dyn_passkey_success.created",children:n("dyn_passkey_success.created")})]})},uLe=300,fLe=300,TR=k.forwardRef((e,t)=>{var{children:n,isOpen:r,onClickOutside:i,onScroll:o,className:s,style:a,maxHeight:c=300}=e,l=na(e,["children","isOpen","onClickOutside","onScroll","className","style","maxHeight"]);const{containerRef:d}=HG(),f=AAe(t);b3(f,()=>i==null?void 0:i()),k.useEffect(()=>{if(!(!d.current||!l.anchorRef.current))return IAe(d.current,l.anchorRef.current,()=>o==null?void 0:o())},[d,l.anchorRef,o]);const{mount:p,stage:m,currentDuration:g}=A1({inDuration:uLe,isShown:r,outDuration:fLe}),y=We({"dropdown--entering":m==="ENTERING","dropdown--exiting":m==="EXITING"});return p?u.jsx(KG,Object.assign({},l,{ref:f,children:u.jsx("div",{className:We("dropdown",y,s),style:Object.assign({"--max-height":`${c}px`,animationDuration:`${g}ms`},a),children:n})})):null});TR.displayName="Dropdown";var xY='@layer shadow-reset{.dynamic-shadow-dom-content{all:initial}}@layer preflight{a,hr{color:inherit}progress,sub,sup{vertical-align:baseline}blockquote,body,dd,dl,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,menu,ol,p,pre,ul{margin:0}fieldset,legend,menu,ol,ul{padding:0}*,:after,:before{border:0 solid;box-sizing:border-box}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit}hr{border-top-width:1px;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;-moz-appearance:button;appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none;appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;appearance:button;font:inherit}summary{display:list-item}menu,ol,ul{list-style:none}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}}.accordion-item{overflow:hidden;position:relative;transition-duration:.15s;transition-property:max-height;transition-timing-function:ease-out}.accordion-item--full-height{height:100vh}.accordion-item__curtain{background-color:var(--dynamic-overlay);left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity 50ms ease-in;z-index:1}.accordion-item__curtain--dimmed{bottom:0;opacity:1}.vertical-accordion__container{display:flex;flex-direction:column}.alert{align-items:center;border-radius:calc(var(--dynamic-border-radius)/3);display:flex;gap:.75rem;padding:.75rem}.alert--error{background-color:var(--dynamic-error-2);color:var(--dynamic-error-1)}.alert--warning{background-color:var(--dynamic-alert-2);color:var(--dynamic-alert-1)}.alert--info{background-color:var(--dynamic-brand-secondary-color);color:var(--dynamic-brand-primary-color)}.alert__icon{flex-shrink:0}.badge__container{align-items:center;border-radius:9999px;display:flex;font-size:.625rem;font-weight:500;gap:.25rem;padding:.25rem .5rem;position:relative;transition:color .3s,background-color .3s;white-space:nowrap}.badge__container__primary{background-color:var(--dynamic-badge-primary-background);color:var(--dynamic-badge-primary-color)}.badge__container__secondary{background-color:var(--dynamic-badge-background);color:var(--dynamic-badge-color)}.badge__dot{background-color:var(--dynamic-badge-dot-background);border-radius:9999px;height:.375rem;transition:color .3s,background-color .3s;width:.375rem}.button{align-items:center;cursor:pointer;display:flex;gap:.375rem;justify-content:center;position:relative;transition:all .2s ease}.button:disabled:not(.button--loading){cursor:default;opacity:.5}.button--expanded{width:100%}.button--brand-primary{background:var(--dynamic-brand-primary-color);border:var(--dynamic-button-primary-border);box-shadow:var(--dynamic-shadow-down-1);color:#fff;padding:var(--dynamic-button-primary-padding)}.button--brand-primary .typography{font-size:var(--dynamic-button-primary-font-size)}.button--brand-primary:hover:enabled{box-shadow:var(--dynamic-button-shadow)}.button--brand-primary:active:enabled,.button--primary{box-shadow:var(--dynamic-shadow-down-1)}.button--primary{background:var(--dynamic-button-primary-background);border:var(--dynamic-button-primary-border);padding:var(--dynamic-button-primary-padding)}.button--primary .typography{font-size:var(--dynamic-button-primary-font-size)}.button--primary:hover:enabled{box-shadow:var(--dynamic-button-shadow)}.button--primary:active:enabled,.button--secondary{box-shadow:var(--dynamic-shadow-down-1)}.button--secondary{background:var(--dynamic-button-secondary-background);border:var(--dynamic-button-secondary-border);padding:var(--dynamic-button-secondary-padding)}.button--secondary .typography{font-size:var(--dynamic-button-primary-font-size)}.button--secondary:hover:enabled{background:var(--dynamic-hover)}.button--secondary:active:enabled{background:var(--dynamic-base-3)}.button--tertiary,.button--tertiary .typography{color:var(--dynamic-text-secondary)}.button--tertiary:hover:enabled,.button--tertiary:hover:enabled .typography{color:var(--dynamic-text-primary)}.button--padding-default{border-radius:calc(var(--dynamic-border-radius)/2);padding:.625rem 1rem}.button--padding-large{border-radius:var(--dynamic-button-border-radius);padding:.875rem 1.25rem}.button--padding-medium{border-radius:calc(var(--dynamic-button-border-radius)/1.5);padding:.625rem 1rem}.button--padding-small{border-radius:calc(var(--dynamic-button-border-radius)/2);padding:.5rem .75rem}.button--padding-none{padding:0}.button--padding-login-screen-height{border-radius:calc(var(--dynamic-border-radius)/2);height:2.5rem;padding:0 1rem}.button__spinner{margin-left:auto;margin-right:auto}.button__end-slot,.button__start-slot{display:inline-flex}.button__spinner-container{align-items:center;bottom:0;color:var(--dynamic-text-primary);display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.button--loading>:not(.button__spinner-container){opacity:0}.checkbox--hidden{cursor:pointer;display:block;height:1rem;opacity:0;position:absolute;width:1rem;z-index:10}.checkbox--hidden:checked+.checkbox--visible{background:var(--dynamic-brand-primary-color);border-style:none}.checkbox--hidden:checked+.checkbox--visible>.checkbox__icon{opacity:1}.checkbox--hidden:disabled{pointer-events:none}.checkbox--visible{align-items:center;background:var(--dynamic-base-3);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/4);display:flex;height:1rem;justify-content:center;position:absolute;transition-duration:.2s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);width:1rem;z-index:0}.checkbox__container{height:1rem;position:relative;width:1rem}.checkbox__icon{color:#fff;height:.75rem;opacity:0;transition-duration:.2s;transition-property:opacity;width:.75rem}.connect-button{background:var(--dynamic-connect-button-background);border:var(--dynamic-connect-button-border);border-radius:calc(var(--dynamic-connect-button-radius, var(--dynamic-border-radius))/2);box-shadow:var(--dynamic-connect-button-shadow)}.connect-button:hover:enabled{background:var(--dynamic-connect-button-background-hover);border:var(--dynamic-connect-button-border-hover);box-shadow:var(--dynamic-connect-button-shadow-hover)}.connect-button:hover:enabled .typography{color:var(--dynamic-connect-button-color-hover)}.connect-button .typography{color:var(--dynamic-connect-button-color)}.copy-button__container{position:relative}.copy-button__tooltip{background-color:var(--dynamic-text-primary);color:var(--dynamic-base-2);font-size:.75rem}@keyframes enter-tile{0%{opacity:0;transform:translateY(.5rem)}to{opacity:1;transform:translateY(0)}}.enter-list-tile-animation{animation-duration:.2s;animation-fill-mode:both;animation-iteration-count:1;animation-name:enter-tile;animation-timing-function:ease-out}.error-container{align-items:center;display:flex;justify-content:center;margin-bottom:.5rem;padding:.5rem .75rem}.error-container img,.error-container svg{height:1.25rem;width:1.25rem}.error-container--error{background:var(--dynamic-error-2);color:var(--dynamic-error-1)}.error-container--info{background:var(--dynamic-base-3);color:var(--dynamic-text-primary)}.error-container--success{background:var(--dynamic-success-2);color:var(--dynamic-success-1)}.error-container--multi-wallet{margin-bottom:.75rem}.error--with-icon{margin-left:.875rem}.icon--color-brand-primary{color:var(--dynamic-brand-primary-color)}.icon--color-text-primary{color:var(--dynamic-text-primary)}.icon--color-text-secondary{color:var(--dynamic-text-secondary)}.icon--color-text-tertiary{color:var(--dynamic-text-tertiary)}.icon--color-text-error{color:var(--dynamic-error-1)}.icon--color-success-1{color:var(--dynamic-success-1)}.icon--size-xsmall{height:.75rem;width:.75rem}.icon--size-small{height:1rem;width:1rem}.icon--size-mini{height:1.25rem;width:1.25rem}.icon--size-medium{height:1.5rem;width:1.5rem}.icon--size-large{height:2.375rem;width:2.375rem}.icon-button{align-items:center;border-radius:100%;color:var(--dynamic-text-tertiary);display:flex;justify-content:center}.icon-button svg:hover{color:var(--dynamic-text-secondary)}.icon-button svg:active{color:var(--dynamic-text-primary)}.indicator__container{align-items:center;background:var(--dynamic-base-1);border-radius:100%;bottom:0;display:flex;justify-content:center;position:absolute;right:0}.indicator__icon{background:var(--dynamic-success-1);border-radius:100%}.indicator__wallet-connect{background:#4084ed;bottom:0;color:#fff;position:absolute;right:-.125rem}.icon-with-spinner__container,.indicator__wallet-connect{align-items:center;border-radius:9999px;display:flex;justify-content:center}.icon-with-spinner__container{position:relative}.icon-with-spinner__container img{height:100%;width:100%}.icon-with-spinner__icon-container{align-items:center;display:flex;justify-content:center;position:relative}.icon-with-spinner__spinner-container{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));grid-template-rows:repeat(2,minmax(0,1fr));position:absolute;right:0;top:0}.icon-with-spinner__spinner{grid-column-start:2;grid-row-start:1;height:100%;width:100%}.icon-with-spinner__animation{animation:spin 1.4s linear infinite}.icon-with-status__container{margin-bottom:12px;max-width:-moz-fit-content;max-width:fit-content;position:relative}.icon-with-status__container .icon{border-radius:100%}.icon-with-status__status-dot{bottom:-.125rem;position:absolute;right:-.25rem}.icon-with-status__container .inner-icon__container{background:var(--dynamic-base-1);border-radius:100%;bottom:-.125rem;padding:.1875rem;position:absolute;right:-.1875rem}.icon-with-status__container .inner-icon{border-radius:100%}.icon-with-status__container .inner-icon svg{height:1rem;width:1rem}.icon-with-status__container .inner-icon--green{background:var(--dynamic-success-1)}.icon-with-status__container .inner-icon--red{background:var(--dynamic-error-1)}.icon-with-status__container .inner-icon path{fill:var(--dynamic-base-1)}.icon-with-status__container .status-dot__container{align-items:center;background:var(--dynamic-base-1);border-radius:100%;bottom:-.125rem;display:flex;height:.625rem;justify-content:center;position:absolute;right:-.25rem;width:.625rem}.icon-with-status__container .status-dot{border-radius:100%;height:.375rem;width:.375rem}.icon-with-status__container .status-dot--green{background:var(--dynamic-success-1)}.icon-with-status__container .status-dot--red{background:var(--dynamic-error-1)}.info-item__container{color:var(--dynamic-text-tertiary);display:flex}.info-item__container a{text-decoration:underline}.info-item__container .info-item__icon-container{border-radius:calc(var(--dynamic-border-radius)/3);color:var(--dynamic-text-tertiary);display:flex;margin-right:1.125rem}.info-item__container .info-item__icon-container svg{height:1.5rem;width:1.5rem}.info-item__container .info-item__secondary-text{margin-top:.25rem}.phone-number-field{display:flex;flex-direction:column}.phone-number-field__fields{align-items:stretch;display:flex;position:relative;width:100%}.phone-number-field__fields__country-code{align-items:center;background-color:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*.4) 0 0 calc(var(--dynamic-border-radius)*.4);border-right:none;cursor:pointer;display:flex;padding-left:.75rem;position:relative;transition:all .2s ease;width:6.25rem}.phone-number-field__fields__country-code--disabled{background-color:var(--dynamic-base-3);pointer-events:none}.phone-number-field__fields__country-code__flag{margin-right:.5rem}.phone-number-field__fields__country-code__plus{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.phone-number-field__fields__country-code__container{align-items:center;display:flex;flex:1;pointer-events:none}.phone-number-field__fields__country-code .phone-number-field__fields__country-code__container .phone-number-field__fields__country-code__container__input{border:none;flex:1;padding:0;width:100%}.phone-number-field__fields__country-code__chevron{cursor:pointer;position:absolute;right:.5rem;width:1rem}.phone-number-field__fields__phone-number{align-items:center;display:flex;flex:1;position:relative}.phone-number-field__fields .phone-number-field__fields__phone-number .phone-number-field__fields__phone-number__input{border-radius:0 calc(var(--dynamic-border-radius)*.4) calc(var(--dynamic-border-radius)*.4) 0;padding-left:.75rem}.phone-number-field__fields__placeholder{align-self:center;color:var(--dynamic-text-secondary);left:7.0625rem;pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.phone-number-field__fields__inline-submit{align-self:center;position:absolute;right:.75rem}.phone-number-field__dropdown{width:calc(var(--dynamic-modal-width) - 3rem)}.phone-number-field__dropdown__items{display:flex;flex-direction:column}.phone-number-field__dropdown__items__country{align-items:center;cursor:pointer;display:flex;gap:.375rem;padding:.375rem .75rem}.phone-number-field__dropdown__items__country__flag{width:1.5rem}.phone-number-field__dropdown__items__country__name{font-size:var(--dynamic-text-size-body-small)}.phone-number-field__dropdown__items__country__code{color:var(--dynamic-text-secondary);font-size:var(--dynamic-text-size-body-small)}.phone-number-field__dropdown__items__country:hover{background-color:var(--dynamic-base-4)}.phone-number-field__dropdown__items__country--selected{background-color:var(--dynamic-base-3)}.phone-number-field__error-message{color:var(--dynamic-error-1);padding:.5rem 0}.phone-number-field input::-webkit-inner-spin-button,.phone-number-field input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.phone-number-field input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.inline-submit-button{--icon-arrow:var(--dynamic-text-tertiary);--icon-background:var(--dynamic-base-3);transition:all .2s}.inline-submit-button path,.inline-submit-button rect{transition:all .2s}.inline-submit-button--active,.inline-submit-button:hover{--icon-arrow:var(--dynamic-text-secondary);--icon-background:var(--dynamic-hover)}.inline-submit-button--ready,.inline-submit-button--ready:hover{--icon-arrow:var(--dynamic-base-2);--icon-background:var(--dynamic-brand-primary-color)}.input__container{position:relative}.input__container .input__suffix{position:absolute;right:1rem;top:1rem}.input__container .input{background:var(--dynamic-base-2);border-color:var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*.4);border-width:.0625rem;color:var(--dynamic-text-primary);font-size:.9375rem;font-weight:400;margin:0;outline:none;transition:all .2s ease;width:100%}.input__container .input:disabled{background:var(--dynamic-base-3);border-color:var(--dynamic-base-4)}.input__container .input:disabled .input__label{color:var(--dynamic-text-tertiary)}.input__container .input__label{color:var(--dynamic-text-secondary);cursor:text;font-size:.625rem;pointer-events:none}.input__container .input:not(.input__error):focus,.input__container .input:not(.input__error):hover{background:var(--dynamic-base-2);border-color:var(--dynamic-base-4)}.input__container .input__error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.input__container .input__error~.input__label,.input__container .input__error~.input__trailing{color:var(--dynamic-error-1)}.input__container .input__has_trailing{padding-right:4rem}.input__container .input__trailing{color:var(--dynamic-text-secondary);font-size:.75rem;font-weight:500;position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}.input__container--dense .input{padding:1.125rem .75rem .375rem}.input__container--dense .input::-moz-placeholder{color:transparent}.input__container--dense .input::placeholder{color:transparent}.input__container--dense .input--no-label{padding-block:.75rem}.input__container--dense .input__label{left:.75rem;position:absolute;top:.4375rem;transition:all .2s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none}.input__container--dense .input:-moz-placeholder-shown~.input__label{font-size:.9375rem;top:.75rem}.input__container--dense .input:placeholder-shown~.input__label{font-size:.9375rem;top:.75rem}.input__container--dense .input:focus~.input__label{font-size:.625rem;top:.4375rem}.input__container--regular{display:flex;flex-direction:column}.input__container--regular .input{padding:.75rem}.input__container--regular .input__label{align-items:center;display:inline-flex;font-size:.75rem;line-height:1rem;margin-bottom:.5rem;order:-1}.input__container--regular .input__label:after{background:var(--dynamic-base-4);content:"";flex:1;height:1px;margin-left:.75rem;right:0}.input__container--regular .input__suffix{top:2.375rem}.input__message{color:var(--dynamic-text-primary);padding:.5rem 0}.input__message__error{color:var(--dynamic-error-1)}.list-tile{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;gap:.625rem;padding:var(--dynamic-wallet-list-tile-padding);transition-duration:var(--dynamic-wallet-list-tile-animation-duration);transition-property:all;transition-timing-function:ease-out;width:100%}.list-tile:not(:disabled):active{transform:scale(.95)}.list-tile:not(:disabled):hover{background-color:var(--dynamic-wallet-list-tile-background-hover);border:var(--dynamic-wallet-list-tile-border-hover);box-shadow:var(--dynamic-wallet-list-tile-shadow-hover)}.list-tile__children{flex-grow:1;text-align:left}.modal-header{align-items:center;background:var(--dynamic-header-background);display:flex;justify-content:center;padding:var(--dynamic-header-padding);width:100%}.modal-header--border{border-bottom:var(--dynamic-header-border-bottom)}.modal-header--align-content-bottom{align-items:start}.modal-header--empty{padding-bottom:0}.modal-header__leading,.modal-header__trailing{align-items:center;display:flex;flex:1;gap:.25rem;height:1.5rem;justify-content:flex-start;margin-right:auto}.modal-header__leading--empty{height:0}.modal-header__trailing{justify-content:flex-end;margin-left:auto;margin-right:0}.modal-header__trailing--empty{height:0}.evm-network-control__container{align-items:center;background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);bottom:0;color:var(--dynamic-text-primary);display:flex;gap:.375rem;max-width:100%;padding:.25rem;position:absolute;right:0;transform:translateX(50%)}.evm-network-control__container--error{border:1px solid var(--dynamic-error-1);color:var(--dynamic-error-1);cursor:auto}.evm-network-control__network-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.evm-network-control__arrow-icon{min-width:1rem;transform:rotate(90deg);transition:transform .15s linear}.evm-network-control__arrow-icon--active{transform:rotate(-90deg)}@keyframes spinner-animation{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.network{color:var(--dynamic-text-primary);display:flex;justify-content:space-between;width:100%}.network .network__container{align-items:flex-start;display:flex}.network .network__title-icon{height:1rem;margin-right:.5rem;margin-top:.0625rem;width:1rem}.network .network__title-container{display:flex;flex-direction:column;gap:.25rem}.network .network__title-copy{white-space:nowrap}.network .network__status-container{align-items:center;border-radius:100%;display:flex;height:1rem;justify-content:center;width:1rem}.network .network__status-container .network__status-icon{color:#fff;height:.75rem;width:.75rem}.network .network__status-container .network__status-icon svg path{fill:currentcolor}.network .network__status-container .network__status-spinner-icon{animation:spinner-animation 2s linear infinite;height:.75rem;margin-right:-.9375rem;margin-top:-.75rem;transform-origin:0 100%;width:.75rem}.network .network__status-container--active{background-color:var(--dynamic-brand-primary-color)}.network-action{align-items:center;display:flex;padding:.5rem 1rem}@media (pointer:coarse){.network-action{padding:.5rem 1.5rem}}.network-action:not(.network--not-supported){cursor:pointer}.network-action:not(.network--not-supported):hover{background-color:var(--dynamic-hover)}.network-control-skeleton{align-items:center;border-radius:calc(var(--dynamic-border-radius)/2);display:flex;gap:.375rem;justify-content:center;padding:.1875rem .25rem}.network-control-skeleton__icon{background-color:var(--dynamic-base-3);border:1px solid var(--dynamic-base-4);border-radius:100%;height:1.125rem;width:1.125rem}.network-control-skeleton__skeleton{width:1.875rem}.non-network-switching-supported-control{align-items:center;background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);bottom:0;color:var(--dynamic-text-primary);display:flex;gap:.375rem;justify-content:center;padding:.25rem;position:absolute;right:0;transform:translateX(50%)}.non-network-switching-supported-control--error{background-color:var(--dynamic-error-2);cursor:auto}.non-network-switching-supported-control__network-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.network-picker-network-control{display:flex;flex-direction:column}.network-picker-network-control__anchor{padding-top:.125rem;position:relative}.pin-field__container{display:flex;flex:1;gap:2.5%;justify-content:space-between;margin-top:1rem;max-width:19.5rem;width:100%}.pin-input__input{background:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:.75rem;color:var(--dynamic-text-primary);font-size:1rem;height:2.75rem;max-width:2.75rem;outline:.125rem solid transparent;outline-offset:.125rem;text-align:center;width:100%}.pin-input__input:last-child{margin-right:0}.pin-input__input:disabled{cursor:not-allowed;opacity:.5}.pin-input__input--error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1);color:var(--dynamic-error-1)}.pin-input__input--success{background:var(--dynamic-success-2);border-color:var(--dynamic-success-1);color:var(--dynamic-success-1)}.portal__container{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.portal__backdrop{-webkit-backdrop-filter:var(--dynamic-modal-backdrop-filter);backdrop-filter:var(--dynamic-modal-backdrop-filter);background:var(--dynamic-modal-backdrop-background);cursor:default;height:100%;left:0;position:fixed;top:0;width:100%}.search__container{align-items:center;background:var(--dynamic-search-bar-background);border:var(--dynamic-search-bar-border);border-radius:var(--dynamic-search-border-radius);cursor:text;display:flex;gap:.625rem;height:2.625rem;justify-content:space-between;min-height:2.25rem;padding-left:.75rem;padding-right:.75rem}.search__container,.search__container svg{color:var(--dynamic-text-tertiary)}.search__container:hover:not(.search__container--active,.search__container:focus-within){background:var(--dynamic-search-bar-background-hover);border:var(--dynamic-search-bar-border-hover);color:var(--dynamic-text-secondary)}.search__container:hover:not(.search__container--active,.search__container:focus-within) svg{color:var(--dynamic-text-secondary)}.search__container--active,.search__container:focus-within{background:var(--dynamic-search-bar-background-focus);border:var(--dynamic-search-bar-border-focus);color:var(--dynamic-text-primary)}.search__container--active svg,.search__container:focus-within svg{color:var(--dynamic-text-secondary)}.search-icon__container{align-items:center;color:var(--dynamic-text-tertiary);display:flex;height:1rem;justify-content:center;width:1rem}.search__input{background:none;border:0;color:var(--dynamic-text-primary);display:flex;flex-grow:1;font-size:var(--dynamic-text-size-body-small);font-weight:500;line-height:1rem;margin:0;outline:none;padding-bottom:.25rem;padding-top:.25rem}.search__input::-moz-placeholder{color:var(--dynamic-text-tertiary)}.search__input::placeholder{color:var(--dynamic-text-tertiary)}.search__input:hover::-moz-placeholder{color:var(--dynamic-text-secondary)}.search__input:hover::placeholder{color:var(--dynamic-text-secondary)}.search__input:focus::-moz-placeholder{color:transparent}.search__input:focus::placeholder{color:transparent}.search__button--clear{color:var(--dynamic-text-secondary);font-size:var(--dynamic-text-size-body-mini)}.search__button--clear:hover{color:var(--dynamic-text-primary)}.select__container{cursor:pointer;position:relative}.select__container .select{-webkit-appearance:none;-moz-appearance:none;appearance:none;bottom:0;left:0;opacity:0;outline:none;position:absolute;right:0;top:0}.select__container .select::-moz-placeholder{color:transparent}.select__container .select::placeholder{color:transparent}.select__container .select__body{background:var(--dynamic-base-2);border-color:var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)*.4);border-width:.0625rem;display:block;margin:0;padding:1.125rem .75rem .375rem;position:relative;transition:all .2s ease;width:100%}.select__container .select__value{color:var(--dynamic-text-primary);font-size:.9375rem;font-weight:400}.select__container .select__label{color:var(--dynamic-text-secondary);font-size:.9375rem;left:.75rem;pointer-events:none;position:absolute;top:.75rem;transition:all .2s ease}.select__container .select__control_icon{align-items:center;bottom:0;color:var(--dynamic-text-secondary);display:flex;position:absolute;right:.75rem;top:0}.select__container .select__has_value .select__label{font-size:.625rem;top:.4375rem}.select__container .select:has(.select__error)~.select__body{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.select__container .select__error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.select__container .select__error .select__control_icon,.select__container .select__error .select__label{color:var(--dynamic-error-1)}.select__message{color:var(--dynamic-text-primary);padding-top:.5rem}.select__message__error{color:var(--dynamic-error-1)}.separator{border-top:.0625rem solid var(--dynamic-base-3)}@keyframes shimmer{to{transform:translateX(100%)}}.skeleton{background:var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)/6);display:inline-flex;line-height:1;min-width:100%;overflow:hidden;position:relative;z-index:0}.skeleton:after{animation:shimmer 2s infinite;background-image:var(--dynamic-loading-animation-gradient);bottom:0;content:"";left:0;position:absolute;right:0;top:0;transform:translateX(-100%)}.spinner{animation:spin 1s linear infinite}.spinner path{stroke:var(--dynamic-brand-primary-color)}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.status-dot__container{align-items:center;background:var(--dynamic-base-1);border-radius:100%;display:flex;height:.625rem;justify-content:center;width:.625rem}.status-dot{border-radius:100%;height:.375rem;width:.375rem}.status-dot--green{background:var(--dynamic-success-1)}.status-dot--red{background:var(--dynamic-error-1)}.status-dot--yellow{background:var(--dynamic-alert-1)}.switch__container{display:flex}.switch__container.disabled{opacity:.2;pointer-events:none}.switch__container .button{background:var(--dynamic-base-2);border-radius:0;box-shadow:var(--dynamic-shadow-down-1);color:var(--dynamic-text-primary);font-size:var(--dynamic-text-size-button-primary);font-weight:400;margin:0;padding:.75rem 0;width:100%}.switch__container .button:first-child{border-bottom-left-radius:calc(var(--dynamic-border-radius)/3);border-right:0;border-top-left-radius:calc(var(--dynamic-border-radius)/3)}.switch__container .button:last-child{border-bottom-right-radius:calc(var(--dynamic-border-radius)/3);border-top-right-radius:calc(var(--dynamic-border-radius)/3)}.switch__container .button.active{background:var(--dynamic-brand-primary-color);color:#fff}.text-button{align-items:center;border-radius:calc(var(--dynamic-border-radius)/6);color:var(--dynamic-text-secondary);cursor:pointer;display:flex;font-size:.75rem;font-weight:500;gap:.375rem;padding:.125rem .375rem}.text-button:hover{background-color:var(--dynamic-hover)}.auth-mode-switch__container{align-items:center;color:#fff;display:flex;font-size:1rem;gap:.25rem;margin-bottom:.25rem}.auth-mode-switch__container label{cursor:pointer}.toolkit__container{background:var(--dynamic-base-1);border-bottom-right-radius:calc(var(--dynamic-border-radius)/1.5);border-top-right-radius:calc(var(--dynamic-border-radius)/1.5);display:flex;flex-direction:column;gap:1rem;left:0;padding:1.875rem 3.5rem;position:fixed;top:50%;transform:translateY(-50%);width:18.125rem}@media (pointer:coarse){.toolkit__container{display:none}}.switcher__copy{color:var(--dynamic-text-primary);margin-bottom:.25rem}.tos-and-pp__text{color:var(--dynamic-text-secondary);font-size:var(--dynamic-text-size-body-small);margin:0 auto;text-align:center}.tos-and-pp__text .tos-and-pp__link{color:var(--dynamic-text-link);text-decoration:none}.zoom-transition__root{transform-origin:50% 50%}.vertical-drawer-animation{overflow:hidden;transition-property:max-height;transition-timing-function:ease-out}.typography{font-family:var(--dynamic-font-family-primary);font-weight:500;line-height:normal}.typography--title{font-size:var(--dynamic-text-size-title)}.typography--body-normal{font-size:var(--dynamic-text-size-body-normal)}.typography--body-small{font-size:var(--dynamic-text-size-body-small)}.typography--body-mini{font-size:var(--dynamic-text-size-body-mini)}.typography--button-primary{font-size:var(--dynamic-text-size-button-primary);font-weight:700}.typography--button-secondary{font-size:var(--dynamic-text-size-button-secondary);font-weight:700}.typography--button-tertiary{font-size:var(--dynamic-text-size-button-secondary);font-weight:400}.typography--numbers-big{font-family:var(--dynamic-font-family-numbers);font-size:var(--dynamic-text-size-numbers-big)}.typography--numbers-medium{font-family:var(--dynamic-font-family-numbers);font-size:var(--dynamic-text-size-numbers-medium)}.typography--bold{font-weight:700}.typography--medium{font-weight:500}.typography--regular{font-weight:400}.typography--link{color:var(--dynamic-text-link)}.typography--brand-primary{color:var(--dynamic-brand-primary-color)}.typography--primary{color:var(--dynamic-text-primary)}.typography--secondary{color:var(--dynamic-text-secondary)}.typography--tertiary{color:var(--dynamic-text-tertiary)}.typography--uppercase{text-transform:uppercase}.typography--dynamic-error-1{color:var(--dynamic-error-1)}.typography--errror-2{color:var(--dynamic-error-2)}.typography--connection-green-1{color:var(--dynamic-success-1)}.typography--tooltip{color:var(--dynamic-tooltip-text-color)}.typography--inherit{color:inherit}.typography--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.powered-by-dynamic{align-items:center;color:var(--dynamic-text-tertiary);display:flex;text-decoration:none;width:100%}.powered-by-dynamic--center{justify-content:center}.powered-by-dynamic--right{justify-content:end}.powered-by-dynamic__logo,.powered-by-dynamic__text{display:inline-block}.powered-by-dynamic__text{margin-right:.25rem}.powered-by-dynamic__logo{display:inline-block;margin-top:.0625rem;max-width:3.6875rem;width:3.6875rem}.dynamic-footer{background:var(--dynamic-footer-background);padding:var(--dynamic-footer-padding);width:100%}.dynamic-footer:not(.dynamic-footer__top-border){padding-top:0}.dynamic-footer__top-border{border-top:var(--dynamic-footer-border-top)}.user-address,.user-address__container{align-items:center;display:flex;justify-content:center}.user-address__container{margin-top:.375rem}.user-address__status-dot{margin-right:.375rem}.user-address__seperator{background-color:var(--dynamic-base-4);height:.5rem;margin:0 .5rem;width:.0625rem}.app-origin-tile{align-items:center;display:flex;flex-direction:column;gap:.125rem}.app-origin-tile__title{align-items:center;display:flex;gap:.25rem}.app-origin-tile__logo{height:1rem;width:auto}.options-switcher{background-color:var(--dynamic-base-4);display:flex;min-height:2rem;position:relative}.options-switcher,.options-switcher__active-rail,.options-switcher__button{border-radius:calc(var(--dynamic-border-radius)/3)}.options-switcher__button{color:var(--dynamic-text-secondary);flex:1;font-size:var(--dynamic-text-size-button-secondary);font-weight:500;position:relative}.options-switcher__button--active{color:var(--dynamic-text-primary)}.options-switcher__active-rail{background-color:var(--dynamic-base-2);box-shadow:var(--dynamic-shadow-down-1);height:100%;position:absolute;transition:left .1s ease-in-out}.dynamic-verified-icon{color:var(--dynamic-success-1)}.user-profile-field__value{align-items:center;display:flex;min-height:.9375rem;overflow:auto}.user-profile-field__verify-icon{margin-left:.25rem}.user-profile-section{margin:0 0 .75rem}.user-profile-section__title{margin-bottom:.5rem}.user-profile-social-account__connected-avatar{border-radius:100%;height:100%;overflow:hidden;position:relative;width:100%}.user-profile-social-account__connected-provider-icon{background-color:#fff;border-radius:100%;bottom:-.1875rem;height:.875rem;padding:.09375rem;position:absolute;right:-.3125rem;width:.875rem}.user-profile-social-account__image{-o-object-fit:cover;object-fit:cover}.user-profile-social-account{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;gap:.625rem;padding:var(--dynamic-wallet-list-tile-padding);width:100%}.user-profile-social-account__icon{flex-shrink:0;height:1.5rem;position:relative;width:1.5rem}.user-profile-social-account__label{flex-grow:1;text-align:left}.user-profile-social-account__button{flex-shrink:0;padding:.1875rem .28125rem}.user-profile-social-account__button .button__spinner-container{left:auto}.user-profile__fields{background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);padding:.75rem}.user-profile__fields,.user-profile__social-accounts{display:flex;flex-direction:column;gap:.5rem}.divider{align-items:center;display:flex;gap:.75rem;justify-content:space-between;padding:1rem 0}.divider__dash{background:var(--dynamic-base-4);height:.0625rem;width:100%}.divider__text{white-space:nowrap}.divider__full-width{width:100%}.dynamic-tooltip{background-color:var(--dynamic-tooltip-color);border-radius:calc(var(--dynamic-border-radius)/4);opacity:0;padding:.125rem .5rem;pointer-events:none;position:absolute;transform:translate(-50%,-100%);transform-origin:50% 50%;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap;z-index:-1}.dynamic-tooltip__arrow{bottom:-.1875rem;color:var(--dynamic-tooltip-color);height:.25rem;left:50%;position:absolute;transform:translateX(-50%);width:.375rem}.dynamic-tooltip--visible{opacity:1;pointer-events:unset;-webkit-user-select:unset;-moz-user-select:unset;user-select:unset;z-index:1}.modal-header-banner{padding:.5rem .75rem;text-align:center}.modal-header-banner__error{background-color:var(--dynamic-error-2)}.modal-header-banner__success{background-color:var(--dynamic-success-2)}.modal-header-banner__notice{background-color:var(--dynamic-brand-secondary-color)}.otp-verification-view{align-items:center;display:flex;flex-direction:column;padding:var(--dynamic-layout-content-padding);text-align:center}.otp-verification-view__icon-with-spinner{margin:0 auto .75rem}.otp-verification-view--message{padding:var(--dynamic-layout-content-error-padding)}.otp-verification-view__status-header{align-items:center;display:flex;justify-content:center}.otp-verification-view__footer{display:flex;flex-direction:column;gap:1rem}.otp-verification-view__destination-container{align-items:center;display:flex;gap:.25rem;justify-content:center}.otp-verification-view__retry-container{margin:1rem auto 0}.overlay-card{bottom:0;height:100%;left:0;max-height:100%;position:absolute;right:0}.overlay-card--disabled{pointer-events:none}.overlay-card__animation{bottom:0;height:100%;left:0;max-height:100%;position:absolute;right:0;top:0}.overlay-card__animation--limit-height{height:80%;max-height:80%;top:unset}.overlay-card__overlay{background-color:var(--dynamic-overlay);bottom:0;left:0;position:absolute;right:0;top:0}.overlay-card__content{background-color:var(--dynamic-base-1);border-radius:calc(var(--dynamic-border-radius)/1.5);border-top:.0625rem solid var(--dynamic-base-4);bottom:0;display:flex;flex-direction:column;left:0;max-height:100%;overflow-y:auto;position:absolute;right:0}@media (pointer:coarse){.overlay-card__content{border-bottom-left-radius:0;border-bottom-right-radius:0}}.overlay-card-target{bottom:0;height:100%;left:0;max-height:100%;overflow:auto;position:absolute;right:0}.icon-list-tile{padding-left:0;padding-right:0}.icon-list-tile--children{align-items:center;display:flex;justify-content:center}.popper-content{display:flex;position:absolute;z-index:100}.popper-content__transform-origin-bottom-left{transform:translateY(-100%)}.popper-content__transform-origin-bottom-right{transform:translate(-100%,-100%)}.popper-content__transform-origin-top-left{transform:translate(0)}.popper-content__transform-origin-top-right{transform:translate(-100%)}.dropdown{align-items:stretch;background-color:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/3);box-shadow:0 .5rem .75rem -.375rem rgba(24,39,75,.06),0 .5rem .75rem -.1875rem rgba(24,39,75,.06);display:flex;flex-direction:column;max-height:var(--max-height);min-width:10rem;overflow-y:auto;padding-block:.1875rem}.dropdown--entering{animation-fill-mode:both;animation-iteration-count:1;animation-name:desktop-dropdown-entering-animation;animation-timing-function:ease-out}.dropdown--exiting{animation-fill-mode:both;animation-iteration-count:1;animation-name:desktop-dropdown-exiting-animation;animation-timing-function:ease-out}.menu-list__overlay-card__container{align-items:stretch;display:flex;flex-direction:column;overflow-y:auto;padding-bottom:1.25rem}.transaction-row{align-items:center;display:flex;gap:.5rem;justify-content:space-between;padding:.625rem 0}.transaction-row__label{flex-shrink:0}.transaction-row__content{align-items:center;display:flex;gap:.25rem;min-width:0}.transaction-row__skeleton{height:1rem;width:3rem}.transaction-confirmation__actions{align-items:center;display:flex;flex-direction:row;gap:.375rem;padding-top:.5rem;width:100%}.transaction-confirmation__footer{padding-top:1rem}.transaction-confirmation__body{align-items:stretch;display:flex;flex:1;flex-direction:column;overflow:hidden;padding:.5rem 1.5rem 1.5rem}.transaction-confirmation__app-origin-tile{padding:.75rem}.transaction-confirmation__content{align-items:center;background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:var(--dynamic-shadow-down-1);display:flex;flex:1;flex-direction:column;justify-content:flex-start;margin-top:.75rem;overflow:auto;width:100%}.transaction-confirmation__rows{max-height:14.375rem;overflow-y:auto;padding:.375rem .75rem;width:100%}.transaction-confirmation__rows,.transaction-confirmation__rows>.transaction-row:not(:first-child){border-top:1px solid var(--dynamic-base-4)}.transaction-confirmation__secure-wallet{margin-bottom:0;margin-top:1rem}.transaction-confirmation__title{text-align:center}.transaction-confirmation__error{padding-top:.75rem}.transaction-confirmation__warning{padding-top:.5rem}.transaction-status-layout{display:flex;flex:1;flex-direction:column;overflow:hidden}.transaction-status-layout__status-icon{color:var(--dynamic-brand-primary-color)}.transaction-status-layout__title{text-align:center}.transaction-status-layout__body{align-items:stretch;display:flex;flex:1;flex-direction:column;padding:.25rem 1.5rem 1.5rem}.transaction-status-layout__content{align-items:center;background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:var(--dynamic-shadow-down-1);display:flex;flex-direction:column;justify-content:center;margin-top:1rem;width:100%}.transaction-status-layout__rows{max-height:14.375rem;overflow-y:auto;padding:.375rem .75rem;width:100%}.transaction-status-layout__rows>.transaction-row:not(:first-child){border-top:1px solid var(--dynamic-base-4)}.transaction-status-layout__actions{margin-top:auto;padding-top:1rem}.transaction-status-layout__footer{padding-top:1rem}.transaction-status-layout__network-icon,.transaction-status-layout__network-name{line-height:1rem;vertical-align:middle}.transaction-status-layout__network-icon{display:inline-block;height:1rem;margin-right:.375rem;width:1rem}.transaction-status-layout__network-currency{margin-left:.125rem}.transaction-origin-destination__arrow-icon,.transaction-origin-destination__wallet-icon{display:inline-block}.transaction-origin-destination__arrow-icon,.transaction-origin-destination__text,.transaction-origin-destination__wallet-icon{vertical-align:middle}.transaction-origin-destination__wallet-icon{height:1rem;margin-right:.375rem;width:1rem}.transaction-origin-destination__arrow-icon{color:var(--dynamic-text-tertiary);margin:0 .5625rem}.token-balance-card{align-items:center;background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)*.4);display:flex;gap:.5rem;justify-content:space-between;padding:.875rem .75rem}.token-balance-card__chain{align-items:center;display:flex;gap:.375rem}.token-balance-card__chain__icon{height:1rem;width:1rem}.token-balance-card__balance-container{align-items:center;display:flex;gap:.25rem}.token-balance-card__balance{align-items:center;display:flex;gap:.125rem}.send-balance-page-layout__header-content{align-items:center;display:flex;gap:.5rem}.send-balance-page-layout__body{display:flex;flex:1;flex-direction:column;overflow:auto;padding:.25rem 1.5rem 1.5rem}.send-balance-page-layout__balance-container{display:flex;flex-direction:column;gap:.5rem;padding-bottom:1rem}.send-balance-page-layout__error{padding-bottom:1rem}.send-balance-page-layout__footer{padding-top:1.5rem}.send-balance-page-layout__network-container{display:flex;justify-content:center;padding-bottom:.5rem}.send-balance-form{display:flex;flex:1;flex-direction:column;gap:1rem}.send-balance-form__button{margin-top:auto}.send-balance-form__secure-wallet{margin:0}.select-network-button__icon{display:inline;margin:0 6px 3px;max-height:16px;max-width:16px;vertical-align:middle}.chip{align-items:center;background:var(--dynamic-base-2);border-radius:.75rem;color:var(--dynamic-text-primary);display:inline-flex;gap:.1875rem;height:1.5rem;justify-content:center;padding:.125rem .25rem}.chip__with-icon{padding:.125rem .25rem .125rem .125rem}.chip--icon{border-radius:50%;height:1.25rem;justify-content:center;overflow:hidden;width:1.25rem}.chip--icon,.form-field-label{align-items:center;display:flex}.form-field-label{color:var(--dynamic-text-secondary);cursor:text;font-size:.75rem}.form-field-label__with-divider:after{background:var(--dynamic-base-4);content:"";flex:1;height:1px;margin-left:.75rem;right:0}.step{counter-increment:step;gap:.5rem}.step,.step__icon{align-items:center;display:flex}.step__icon{flex-shrink:0;height:1.25rem;justify-content:center;width:1.25rem}.step__icon--done{background-color:var(--dynamic-success-1);border-radius:50%}.step__icon__check-mark{color:var(--dynamic-base-1);height:1rem;width:1rem}.step__index{align-items:center;border:1px solid var(--dynamic-base-4);border-radius:.625rem;display:flex;height:1.25rem;justify-content:center;min-width:1.25rem;padding:0 .25rem}.step__index-label:before{content:counter(step)}.step__leading{max-width:-moz-fit-content;max-width:fit-content;position:relative}.stepper{counter-reset:step;display:flex;gap:1rem;width:100%}.stepper__divider{flex-grow:1}.modal{left:50%;margin:auto;position:fixed;top:50%;transform:translate(-50%,-50%);width:var(--dynamic-modal-width)}@media (max-width:640px){.modal{bottom:0;max-width:37.5rem;top:auto;transform:translate(-50%);width:100%}}.modal__items{display:flex;flex-direction:column;gap:.75rem}.modal-card{background:var(--dynamic-base-1);border-radius:var(--dynamic-border-radius);box-shadow:var(--dynamic-shadow-down-3);overflow:hidden;width:100%}.modal-card--radius-small{border-radius:calc(var(--dynamic-border-radius)*.75)}.modal-card--with-border{border:1px solid var(--dynamic-base-4)}@media (max-width:640px){.modal-card{bottom:0;max-width:37.5rem;top:auto;transform:translateY(0);width:100%}.modal-card--sharp-mobile-bottom-radius:last-child{border-radius:var(--dynamic-border-radius) var(--dynamic-border-radius) 0 0}}.inline-widget-button{align-items:center;background-color:var(--dynamic-base-1);display:flex;gap:.5rem;min-height:100%;padding:.5rem .75rem;width:-moz-fit-content;width:fit-content}.inline-widget-button:hover{background-color:var(--dynamic-hover)}.inline-widget-button__icon{height:1.25rem;width:1.25rem}.inline-widget-button__vertical-divider{background-color:var(--dynamic-base-3);content:"";height:1rem;width:.0625rem}.inline-widget{align-items:center;background-color:var(--dynamic-base-1);border-radius:calc(var(--dynamic-border-radius)/3);display:flex;justify-content:center;overflow:hidden;width:-moz-fit-content;width:fit-content}.inline-widget>*{border-right:1px solid var(--dynamic-base-3)}.inline-widget>:last-child{border-right:none}.wallet-information-card{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;flex-direction:column}.wallet-information-card__header{border-bottom:1px solid var(--dynamic-base-3);display:flex;gap:.5rem;justify-content:space-between;padding:.75rem}.wallet-information-card__details-container{align-items:center;display:flex;gap:.75rem;justify-content:space-between;min-width:0}.wallet-information-card__menu{flex-shrink:0}.wallet-information-card__icon{height:1.75rem;width:1.75rem}.wallet-information-card__details{display:flex;flex-direction:column;overflow:hidden}.wallet-information-card__balance-container{align-items:center;display:flex;gap:.5rem;justify-content:space-between;padding:.75rem}.social-sign-in{display:flex;flex-wrap:wrap;gap:.375rem;justify-content:space-between}.social-sign-in--tile{flex:1;height:2.5rem}.social-sign-in--tile__full-width{flex:1 0 100%}.social-sign-in--card{display:flex;flex-direction:column;min-height:11.5625rem}.social-sign-in--card--body{display:grid;gap:.375rem;grid-template-columns:auto auto auto auto;padding:.25rem 1.5rem 1.5rem}.social-sign-in--card--tile{height:2.5rem}.sign-typed-data-preview--attribute-row{display:flex;gap:.5rem}.sign-typed-data-preview--fields-list,.sign-typed-data-preview--type-container{display:flex;flex-direction:column;gap:.25rem}.sign-typed-data-preview--type-container{padding-left:1rem}.need-help-section{align-items:center;display:flex;flex-direction:column;gap:.125rem;margin-bottom:.5rem}.need-help-section__links{display:flex;gap:.5rem}.need-help-section__links>*+*{padding-left:.5rem;position:relative}.need-help-section__links>*+:after{border-left:1px solid var(--dynamic-text-secondary);bottom:15%;content:"";left:0;position:absolute;top:15%;width:50%}.need-help-section__helper-link{color:var(--dynamic-text-link)}.textarea__container{position:relative}.textarea__container .textarea__suffix{position:absolute;right:1rem;top:1rem}.textarea__container .textarea{background:var(--dynamic-base-2);border-color:var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*.4);border-width:.0625rem;color:var(--dynamic-text-primary);font-size:.9375rem;font-weight:400;margin:0;outline:none;resize:none;transition:all .2s ease;width:100%}.textarea__container .textarea:disabled{background:var(--dynamic-base-3);border-color:var(--dynamic-base-4)}.textarea__container .textarea:disabled .textarea__label{color:var(--dynamic-text-tertiary)}.textarea__container .textarea__label{color:var(--dynamic-text-secondary);cursor:text;font-size:.625rem}.textarea__container .textarea:not(.textarea__error):focus,.textarea__container .textarea:not(.textarea__error):hover{background:var(--dynamic-base-2);border-color:var(--dynamic-base-4)}.textarea__container .textarea__error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.textarea__container .textarea__error~.textarea__label,.textarea__container .textarea__error~.textarea__trailing{color:var(--dynamic-error-1)}.textarea__container .textarea__valid{background:var(--dynamic-success-2);border-color:var(--dynamic-success-1)}.textarea__container .textarea__valid~.textarea__label,.textarea__container .textarea__valid~.textarea__trailing{color:var(--dynamic-success-1)}.textarea__container .textarea__has_trailing{padding-right:4rem}.textarea__container .textarea__trailing{color:var(--dynamic-text-secondary);font-size:.75rem;font-weight:500;position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}.textarea__container--dense .textarea{padding:1.125rem .75rem .375rem}.textarea__container--dense .textarea::-moz-placeholder{color:transparent}.textarea__container--dense .textarea::placeholder{color:transparent}.textarea__container--dense .textarea__label{left:.75rem;position:absolute;top:.4375rem;transition:all .2s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none}.textarea__container--dense .textarea:-moz-placeholder-shown~.textarea__label{font-size:.9375rem;top:.75rem}.textarea__container--dense .textarea:placeholder-shown~.textarea__label{font-size:.9375rem;top:.75rem}.textarea__container--dense .textarea:focus~.textarea__label{font-size:.625rem;top:.4375rem}.textarea__container--regular{display:flex;flex-direction:column}.textarea__container--regular .textarea{padding:.75rem}.textarea__container--regular .textarea__label{align-items:center;display:inline-flex;font-size:.75rem;line-height:1rem;margin-bottom:.5rem;order:-1}.textarea__container--regular .textarea__label:after{background:var(--dynamic-base-4);content:"";flex:1;height:1px;margin-left:.75rem;right:0}.textarea__container--regular .textarea__suffix{top:2.375rem}.textarea__message{color:var(--dynamic-text-primary);padding:.5rem 0}.textarea__message__error{color:var(--dynamic-error-1)}input:-webkit-autofill,input:-webkit-autofill:active,input:-webkit-autofill:focus,input:-webkit-autofill:hover,select:-webkit-autofill,select:-webkit-autofill:focus,select:-webkit-autofill:hover,textarea:-webkit-autofill,textarea:-webkit-autofill:focus,textarea:-webkit-autofill:hover{-webkit-text-fill-color:var(--dynamic-text-primary)!important;background:var(--dynamic-base-2);border-color:var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)*.4);border-width:.0625rem;color:var(--dynamic-text-primary)!important;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.secure-embedded-wallet-card{background:var(--dynamic-brand-secondary-color);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);color:var(--dynamic-text-primary);display:flex;gap:.625rem;padding:.75rem;transition-duration:var(--dynamic-wallet-list-tile-animation-duration);transition-property:all;transition-timing-function:ease-out;width:100%}.secure-embedded-wallet-card__text-content{align-items:flex-start;cursor:pointer;display:flex;flex-direction:column;flex-grow:1;padding:0;text-align:left}.secure-embedded-wallet-card__text-content,.secure-embedded-wallet-card__text-content:hover{background-color:transparent;box-shadow:none}.secure-embedded-wallet-card__link{line-height:20px;text-decoration:underline}.toggle{-webkit-tap-highlight-color:transparent;cursor:pointer;display:inline-block}.toggle--input{display:none}.toggle--input:checked+.toggle--content__variant-primary{background-color:var(--dynamic-brand-primary-color);color:var(--dynamic-brand-primary-color)}.toggle--input:checked+.toggle--content .toggle--knob{left:1.09375rem}.toggle--input:checked+.toggle--content .toggle--knob>*{opacity:1}.toggle--content{background-color:var(--dynamic-base-3);border-radius:.625rem;height:1.25rem;position:relative;transition:background-color .2s ease;width:2.25rem}.toggle--knob{align-items:center;background-color:#fff;border-radius:100%;display:flex;height:1.0625rem;justify-content:center;left:.09375rem;position:absolute;top:.09375rem;transition:left .2s ease;width:1.0625rem}.toggle--knob>*{opacity:0;transition:opacity .2s ease}.list-tile-animated-trailing{position:relative}.list-tile-animated-trailing__child{position:absolute;right:0;transform:translateY(-50%);transition-duration:.2s;transition-property:opacity,transform;transition-timing-function:ease-in}.list-tile-animated-trailing__hover-element{opacity:0;position:absolute;right:0;transform:translate(-.625rem,-50%);transition-duration:.3s}.list-tile:hover .list-tile-animated-trailing__hover-element{opacity:1;transform:translateY(-50%)}.list-tile:hover .list-tile-animated-trailing__child{opacity:0;transform:translate(-.625rem,-50%)}.wallet-group-view-layout__container{padding:var(--dynamic-layout-content-padding)}.wallet-group-view-layout__icon{height:4rem;margin:0 auto .75rem;width:4rem}.wallet-group-view-layout__list{display:flex;flex-direction:column;gap:.5rem}.wallet-group-view-layout__title{padding-bottom:1rem;text-align:center}.retry-send-verification-code-section{align-items:center;display:flex;flex-direction:column}.retry-send-verification-code-section__confirmation{color:var(--dynamic-success-1);display:flex;gap:.3125rem;padding:.125rem .375rem}.toggle-visibility-button__container{position:relative}.toggle-visibility-button__tooltip{background-color:var(--dynamic-text-primary);color:var(--dynamic-base-2);font-size:.75rem}.qrcode{color:var(--dynamic-base-1);position:relative}.qrcode__container{align-items:center;border-radius:calc(var(--dynamic-border-radius)/1.5);display:flex;height:18.125rem;justify-content:center;margin:auto;width:18.125rem}.qrcode__dot-circle{color:var(--dynamic-text-primary)}.qrcode__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.qrcode-container__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.qrcode-container__container--message{padding:var(--dynamic-layout-content-error-padding)}.qrcode-container__container .button__content{display:flex;gap:.375rem}.qrcode-container__top{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*.6);display:flex;flex-direction:column;gap:.625rem;margin-bottom:1.25rem;padding:.75rem}.qrcode-container__top .button-container{align-items:center;display:flex;gap:.5rem;width:100%}.qrcode-container__top .button-container svg path{fill-opacity:100%}.qrcode-container__top .button-container .qr-code-button{height:2.375rem}.qrcode-container__content{max-width:20rem;text-align:center}.qrcode-container__tos{margin-top:1rem;max-width:17.5rem;text-align:center}.qrcode-container__tos .tos__link{color:var(--dynamic-text-link)}.qrcode-container__tos .tos__link:hover{text-decoration:underline}.qr-code-wrapper__scan-issue-message{align-items:center;background:var(--dynamic-base-2);border-bottom:var(--dynamic-button-primary-border);border-radius:0;border-top:var(--dynamic-button-primary-border);color:var(--dynamic-text-primary);display:flex;justify-content:center;padding:.5rem .75rem;text-align:center;width:100%}.qr-code-wrapper__scan-issue-button{color:var(--dynamic-text-link);font-size:.75rem;text-decoration:underline}.radio-button{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;gap:.5rem;padding:.75rem;width:100%}.radio-button input{height:1.5rem;width:1.5rem}.phantom-ledger-icon{position:absolute}.phantom-ledger-icon__container{align-items:center;display:flex;height:100%;position:relative}.account-exists__container{align-items:center;background:var(--dynamic-base-1);display:flex;flex-direction:column;padding:.3125rem}.account-exists__main{padding:var(--dynamic-modal-padding)}.account-exists__social-icon{margin:auto}.account-exists__image{padding:.3125rem;width:4.375rem}.account-exists__content{text-align:center}.account-exists__content--primary{margin-bottom:.375rem}.account-exists__content--secondary{margin-bottom:1rem}.account-exists__button--primary{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-down-1);margin:0}.user-data-form__form{display:flex;flex-direction:column}.user-data-form__error{margin-bottom:.625rem}.user-field__checkbox-container{background:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;flex-direction:column;padding:.625rem}.user-field__checkbox-container--error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.user-field__consent-checkbox{display:flex;margin-bottom:.5rem}.user-field__consent-checkbox a{color:var(--dynamic-text-link)}.user-field__consent-checkbox:last-child{margin-bottom:0}.user-field__checkbox-label{padding-left:.75rem}.user-field__error-message{color:var(--dynamic-error-1);padding:.25rem}.user-phone-field__optional-label{color:var(--dynamic-text-secondary);font-size:.75rem;font-weight:500;pointer-events:none;position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}.user-data-fields__fields-column{display:flex;flex-direction:column;gap:.375rem;margin-bottom:.5rem;max-height:11.25rem;overflow:auto}.user-data-fields__tooltip{background-color:var(--dynamic-text-primary);color:var(--dynamic-base-2);font-size:.75rem}.collect-user-data::-webkit-scrollbar,.collect-user-data::-webkit-scrollbar-thumb,.collect-user-data::-webkit-scrollbar-track{display:none}.collect-user-data__main-img{width:100%}.collect-user-data__form{padding:var(--dynamic-layout-content-padding)}.collect-user-data__form--error{padding:var(--dynamic-layout-content-error-padding)}.collect-user-data__img-container{align-items:center;display:flex;justify-content:center}.collect-user-data__img{height:1.75rem;width:1.75rem}.collect-user-data__img--rounded{border-radius:9999px}.collect-user-data__wallet-address{margin-left:.5rem}.collect-user-data__success-icon{align-items:center;display:flex;justify-content:center}.collect-user-data__success-icon svg{height:4rem;width:4rem}.collect-user-data__welcome-container{margin:1rem 0;text-align:center}.collect-user-data__welcome-title{margin-bottom:.25rem}.collect-user-data__log-out{margin:.75rem auto 0}.collect-user-data__error--not-supported{align-items:center;border-radius:0;display:flex;justify-content:center;margin:0;width:100%}.collect-user-data__network-picker{margin:auto 0;max-width:-moz-fit-content;max-width:fit-content}.collect-user-data__network-picker-button{border:1px solid var(--dynamic-base-4);position:static;transform:translateX(0)}.collect-user-data__network-picker-button:hover{background:var(--dynamic-hover)}.collect-user-data__network-container{border:var(--dynamic-header-border-bottom);display:flex;justify-content:space-between;padding:var(--dynamic-header-padding);position:relative}.collect-user-data-login-no-wallet::-webkit-scrollbar,.collect-user-data-login-no-wallet::-webkit-scrollbar-thumb,.collect-user-data-login-no-wallet::-webkit-scrollbar-track{display:none}.collect-user-data-login-no-wallet__main-img{width:100%}.collect-user-data-login-no-wallet__user-info-container{align-items:center;border:var(--dynamic-header-border-bottom);display:flex;justify-content:center;padding:var(--dynamic-header-padding)}.collect-user-data-login-no-wallet__user-identification{margin-left:.5rem}.collect-user-data-login-no-wallet__icon-container{height:1.5rem;width:1.5rem}.collect-user-data-login-no-wallet__icon-container .user-profile-social-account__connected-avatar{margin-top:.125rem}.collect-user-data-login-no-wallet__form{padding:var(--dynamic-layout-content-padding)}.collect-user-data-login-no-wallet__success-icon{align-items:center;display:flex;justify-content:center}.collect-user-data-login-no-wallet__success-icon svg{height:4rem;width:4rem}.collect-user-data-login-no-wallet__welcome-container{margin:1rem 0;text-align:center}.collect-user-data-login-no-wallet__welcome-title{margin-bottom:.375rem}.collect-user-data-login-no-wallet__log-out{margin:.75rem auto 0}.email-verification__retry-container{margin:1rem auto 0}.email-verification__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.email-verification__container--error{padding:var(--dynamic-layout-content-error-padding)}.email-verification__icon-with-spinner{margin:0 auto .75rem}.email-verification__error-message{margin:0}.email-verification__error-message,.email-verification__transfer-message{align-items:center;border-radius:0;display:flex;justify-content:center;width:100%}.email-verification__transfer-message{background:var(--dynamic-success-2);color:var(--dynamic-success-1);margin-bottom:.5rem;padding:.5rem .75rem;text-align:center}.email-verification__icon--verified{margin:0 auto 1rem}.email-verification__title{margin-top:.5rem;text-align:center}.email-verification__retry-copy{margin-top:1rem}.email-verification__copy-text-container{margin:0;text-align:center}.email-verification__text-button{color:var(--dynamic-text-link)}.email-verification__text-button:disabled{color:var(--dynamic-text-tertiary);cursor:not-allowed}.email-verification__log-out{margin:.75rem auto 0}.no-qr-code-installed__container{align-items:center;color:var(--dynamic-text-primary);flex-direction:column;margin:-2.25rem 0 0;padding:var(--dynamic-modal-padding);padding-top:0;width:100%}.no-qr-code-installed__container:first-child,.no-qr-code-installed__container:last-child{margin-right:0}.no-qr-code-installed__img{display:flex;height:auto;justify-content:center;margin:auto;text-align:center}.no-qr-code-installed__typography{text-align:center}.no-qr-code-installed__typography--title{margin:1rem 0 .375rem;text-align:center}.no-qr-code-installed__links-section{flex-direction:column;margin:1rem 0}.wallet-help-link__anchor{align-items:center;background:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);color:var(--dynamic-text-primary);display:flex;gap:.625rem;margin-bottom:.5rem;padding:.75rem;position:relative;width:100%}.pending-connect__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.pending-connect__copy-text{color:var(--dynamic-text-secondary);max-width:20rem;text-align:center}.pending-connect__icon-with-spinner{margin:0 auto .75rem}.pending-signature__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.pending-signature__container .pending-signature__icon-with-spinner{margin:0 auto .75rem}.pending-signature__container .pending-signature__copy{color:var(--dynamic-text-secondary);line-height:1.25rem;max-width:20rem;text-align:center}.pending-signature__container .pending-signature__copy--mini{line-height:1rem;margin-top:.25rem}.pending-signature__container .pending-signature__button{box-shadow:var(--dynamic-shadow-down-1);margin-top:.75rem}.social-wrong-account-view__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:0 var(--dynamic-modal-padding) 1.125rem}.social-wrong-account-view__container .social-wrong-account-view__title{color:var(--dynamic-text-primary);line-height:1.5rem}.social-wrong-account-view__container .social-wrong-account-view__copy{color:var(--dynamic-text-secondary);line-height:1.25rem;margin-top:.375rem;max-width:20rem;text-align:center}.social-wrong-account-view__container .social-wrong-account-view__button{box-shadow:var(--dynamic-shadow-down-1);margin-top:.75rem}.social-redirect-view__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-modal-padding)}.social-redirect-view__container .social-redirect-view__title{color:var(--dynamic-text-primary);line-height:2.25rem}.social-redirect-view__container .powered-by-dynamic{margin-top:1.5rem}.sms-verification__text-button{color:var(--dynamic-text-link)}.sms-verification__text-button:disabled{color:var(--dynamic-text-tertiary);cursor:not-allowed}.sms-verification__log-out{margin:.75rem auto 0}.search-instead__container{font-size:.75rem;line-height:1rem;margin-top:2.5rem;padding-bottom:1rem;text-align:center;transition-duration:.3s;transition-property:background-color,border-color,color,fill,stroke;width:100%}.search-instead__container__image{display:flex;justify-content:center;margin:.5rem auto}.wallet-list-item__tile{border-radius:var(--dynamic-wallet-list-tile-border-radius)}.wallet-list-grid-tabs{border-bottom:1px solid var(--dynamic-base-4);border-top:1px solid var(--dynamic-base-4);display:flex;width:100%}.wallet-list-grid-tabs__button{align-items:center;border-left:1px solid var(--dynamic-base-4);display:flex;flex-basis:50%;gap:.25rem;justify-content:center;outline:none;padding:.5rem .625rem}.wallet-list-grid-tabs__button:first-child{border-left:none}.wallet-list-grid-tabs__button--selected{background-color:var(--dynamic-wallet-list-tile-background)}.wallet-list-grid-tabs__button--text{flex-basis:100%}.wallet-list-grid-tabs__icon--selected{filter:grayscale(100%)}.wallet-list__error-container{margin:0}.wallet-list__search-container{padding:var(--dynamic-search-padding)}.wallet-list__tabs-container{margin-bottom:.5rem}.wallet-list__scroll-container{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);max-height:var(--dynamic-wallet-list-max-height);overflow:auto;padding:var(--dynamic-initial-view-content-padding)}.wallet-list__scroll-container--error{padding:var(--dynamic-layout-content-error-padding)}.wallet-list__scroll-container::-webkit-scrollbar,.wallet-list__scroll-container::-webkit-scrollbar-track{display:none}.wallet-list__scroll-container::-webkit-scrollbar-thumb{display:none}.wallet-list__scroll-container:empty{display:flex}.wallet-list__scroll-container--fixed-height{height:var(--dynamic-wallet-list-max-height)}.wallet-list__search-skeleton{height:2.625rem}.wallet-list__search-skeleton,.wallet-list__tile-skeleton{border-radius:calc(var(--dynamic-border-radius)/2);margin-bottom:.5rem}.wallet-list__tile-skeleton{height:3rem;padding:.75rem}.wallet-list__tiny-footer{background:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-up-1);height:var(--dynamic-border-radius);opacity:1;text-align:center;transition:opacity .15s,visibility .15s;visibility:visible}.wallet-list__tiny-footer--hidden{opacity:0;transition:opacity .15s,visibility .15s;visibility:hidden}.wallet-no-access__container{background:var(--dynamic-base-1)}.wallet-no-access__main{padding:var(--dynamic-modal-padding)}.wallet-no-access__social-info-container{align-items:center;display:flex;justify-content:center;margin-top:1.5rem}.wallet-no-access__waitlist-link{align-items:center;display:flex;gap:8px;justify-content:center}.wallet-no-access__social-icon{margin:auto}.wallet-no-access__image{width:100%}.wallet-no-access__user-info-container{align-items:center;display:flex;flex-direction:column;margin-bottom:1rem}.wallet-no-access__content{text-align:center}.wallet-no-access__content--primary{margin-bottom:.375rem}.wallet-no-access__content--secondary{margin-bottom:1rem}.wallet-no-access__wallet-address{margin-left:.375rem}.wallet-no-access__wallet-address-container{align-items:center;display:flex;justify-content:center}.wallet-no-access__button--primary{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-down-1);margin:0}.wallet-no-access__icon--verified{margin:0 auto 1rem}.wallet-sign-spinner__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.wallet-sign-spinner__copy{color:var(--dynamic-text-secondary);margin:0;text-align:center}.wallet-sign-spinner__button{box-shadow:var(--dynamic-shadow-down-1);margin:.75rem 0 0}.wallet-used-view__container{padding:var(--dynamic-layout-content-padding);text-align:center}.wallet-used-view__icon{display:flex;justify-content:center;margin:0 0 .5rem}.wallet-used-view__icon svg{margin:0 auto}.wallet-used-view__shorten-wallet-address{margin:0 0 1rem}.wallet-used-view__copy{margin:0 0 .75rem}.wallet-used-view__accept-button,.wallet-used-view__footer{margin:0 0 .5rem}.wallet-used-view__logout{background:none;border:none;box-shadow:none;margin:auto}.wallet-used-view__checkbox-label{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);cursor:pointer;display:flex;gap:.5rem;justify-content:center;margin:1rem auto .5rem;padding:.75rem;text-align:left}.wallet-used-view__checkbox-container{flex-shrink:0}.network-not-supported__content-container{padding:var(--dynamic-layout-content-padding)}.network-not-supported__content-container--error{padding:var(--dynamic-layout-content-error-padding)}.network-not-supported__main-img{width:100%}.network-not-supported__img-container{align-items:center;display:flex;justify-content:center}.network-not-supported__img{border-radius:100%;height:4rem;width:4rem}.network-not-supported__welcome-container{margin:1rem 0;text-align:center}.network-not-supported__welcome-title{margin-bottom:.375rem}.network-not-supported__continue{margin-top:1rem}.network-not-supported__log-out{margin:.75rem auto 0}.network-not-supported__error--not-supported{align-items:center;border-radius:0;display:flex;justify-content:center;margin:0;width:100%}.network-not-supported__network-container{margin-top:.5rem;position:relative}.network-not-supported__network-picker{margin:auto;max-width:-moz-fit-content;max-width:fit-content}.network-not-supported__network-picker-button{position:static;transform:translateX(0)}.email-confirmation-waiting-view{align-items:center;display:flex;flex-direction:column;padding-bottom:1.625rem;text-align:center}.email-confirmation-waiting-view__title{padding-bottom:.375rem}.email-confirmation-waiting-view__email-container{align-items:center;display:flex;gap:.25rem;justify-content:center}.email-confirmation-waiting-view__edit-icon-button{display:inline-flex}.email-confirmation-waiting-view__header-icon{display:flex;justify-content:center;margin-top:-2rem}.email-confirmation-waiting-view__note{max-width:16.25rem;padding-top:1rem;text-align:center}.email-confirmation-waiting-view__powered_by_dynamic_footer{padding-top:1rem;width:100%}.login-with-email-form{display:flex;flex-direction:column;gap:.375rem}.login-with-email-form .input__suffix{top:.6875rem}.login-with-email-form .input__suffix .icon-button{--icon-arrow:var(--dynamic-text-tertiary);--icon-background:var(--dynamic-base-3);transition:all .2s}.login-with-email-form .input__suffix .icon-button path,.login-with-email-form .input__suffix .icon-button rect{transition:all .2s}.login-with-email-form .input__suffix .icon-button--active,.login-with-email-form .input__suffix .icon-button:hover{--icon-arrow:var(--dynamic-text-secondary);--icon-background:var(--dynamic-hover)}.login-with-email-form .input__suffix .icon-button--has-content,.login-with-email-form .input__suffix .icon-button--has-content:hover{--icon-arrow:var(--dynamic-base-2);--icon-background:var(--dynamic-brand-primary-color)}.list-item-button{background:none;box-shadow:none}.list-item-button__trailing{position:relative}.list-item-button__trailing-child{position:absolute;right:0;transition-property:opacity,transform;transition-timing-function:ease-in}.list-item-button__trailing-label{transform:translateY(-50%);transition-duration:.2s}.list-item-button__trailing-icon{transition-duration:.3s}.list-item-button:hover .list-item-button__trailing-label,.list-item-button__trailing-icon{opacity:0;transform:translate(-.625rem,-50%)}.list-item-button:hover .list-item-button__trailing-icon{opacity:1;transform:translateY(-50%)}.login-with-email-wallet-list__skeleton{border-radius:calc(var(--dynamic-border-radius)/2);height:2.625rem;margin-bottom:.5rem}.login-with-email-wallet-list__container{display:flex;flex-direction:column;gap:.375rem}.connect-with-wallet-button{height:2.5rem}.toggleable-section{align-items:stretch;display:flex;flex-direction:column;gap:.75rem}.toggleable-section__toggle-prompt{align-items:center;display:flex;justify-content:space-between}.toggleable-section__toggle-prompt__button{cursor:pointer;margin:-.75rem 0 0 -.75rem;outline:none;padding:.75rem 0 0 .75rem}.toggleable-section__toggle-prompt__button__text{outline:none;transition:all .2s}.toggleable-section__toggle-prompt__button:focus .toggleable-section__toggle-prompt__button__text,.toggleable-section__toggle-prompt__button:focus-visible .toggleable-section__toggle-prompt__button__text,.toggleable-section__toggle-prompt__button:hover .toggleable-section__toggle-prompt__button__text{background-color:var(--dynamic-brand-secondary-color)}.login-with-phone-number-form{display:flex;flex-direction:column;gap:.375rem}.login-with-phone-number-form__fields{align-items:stretch;display:flex;position:relative;width:100%}.login-with-phone-number-form__fields__country-code{align-items:center;background-color:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*.4) 0 0 calc(var(--dynamic-border-radius)*.4);border-right:none;cursor:pointer;display:flex;padding-left:.75rem;position:relative;transition:all .2s ease;width:6.25rem}.login-with-phone-number-form__fields__country-code--disabled{background-color:var(--dynamic-base-3);pointer-events:none}.login-with-phone-number-form__fields__country-code__flag{margin-right:.5rem}.login-with-phone-number-form__fields__country-code__plus{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.login-with-phone-number-form__fields__country-code__container{align-items:center;display:flex;flex:1;pointer-events:none}.login-with-phone-number-form__fields__country-code__container .login-with-phone-number-form__fields__country-code__container__input{border:none;flex:1;padding:0;width:100%}.login-with-phone-number-form__fields__country-code__chevron{cursor:pointer;position:absolute;right:.5rem;width:1rem}.login-with-phone-number-form__fields__phone-number{align-items:center;display:flex;flex:1;position:relative}.login-with-phone-number-form__fields__phone-number .login-with-phone-number-form__fields__phone-number__input{border-radius:0 calc(var(--dynamic-border-radius)*.4) calc(var(--dynamic-border-radius)*.4) 0;padding-left:.75rem}.login-with-phone-number-form__fields__placeholder{align-self:center;color:var(--dynamic-text-secondary);left:7.0625rem;pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.login-with-phone-number-form__fields__inline-submit{align-self:center;position:absolute;right:.75rem}.login-with-phone-number-form__dropdown{width:calc(var(--dynamic-modal-width) - 3rem)}.login-with-phone-number-form__dropdown__items{display:flex;flex-direction:column}.login-with-phone-number-form__dropdown__items__country{align-items:center;cursor:pointer;display:flex;gap:.375rem;padding:.375rem .75rem}.login-with-phone-number-form__dropdown__items__country__flag{width:1.5rem}.login-with-phone-number-form__dropdown__items__country__name{font-size:var(--dynamic-text-size-body-small)}.login-with-phone-number-form__dropdown__items__country__code{color:var(--dynamic-text-secondary);font-size:var(--dynamic-text-size-body-small)}.login-with-phone-number-form__dropdown__items__country:hover{background-color:var(--dynamic-base-4)}.login-with-phone-number-form__dropdown__items__country--selected{background-color:var(--dynamic-base-3)}.login-with-phone-number-form__error-message{color:var(--dynamic-error-1);padding:.5rem 0}.login-with-phone-number-form input::-webkit-inner-spin-button,.login-with-phone-number-form input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.login-with-phone-number-form input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.login-view__text{padding:.5rem 0}.login-view__error-container{margin:0}.login-view__container{padding:var(--dynamic-initial-view-content-padding)}.login-view__container--error{padding:var(--dynamic-layout-content-error-padding)}@media (pointer:coarse){.login-view__container{padding:.75rem}}.login-view__scroll{align-items:stretch;gap:.375rem;height:100%;max-height:36.25rem;overflow:auto}.login-view__scroll,.login-view__scroll__section{display:flex;flex-direction:column}.login-view__scroll__section--emailAndPhone+.login-view__scroll__section--social{margin-top:1rem}.login-view__scroll::-webkit-scrollbar,.login-view__scroll::-webkit-scrollbar-track{display:none}.login-view__scroll::-webkit-scrollbar-thumb{display:none}.login-view__scroll:empty{display:flex}.login-view__scroll--full-height{height:100vh}.login-view__scroll--email-first{flex-direction:column-reverse}.login-view__scroll__web2{display:flex;flex-direction:column;gap:.75rem}.captcha-verify-user__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:0 1.5rem 1.5rem;text-align:center}.captcha-verify-user__icon{height:4rem;margin-bottom:1rem;width:4rem}.captcha-verify-user__title{margin-bottom:.375rem}.captcha-verify-user__subtitle{margin-bottom:1rem}.captcha-verify-user__dynamic-logo{margin-top:1rem}.network-not-supported-switch-manual{margin-top:-1.5rem;padding:0 1.5rem 1.5rem}.network-not-supported-switch-manual__img-container{align-items:center;display:flex;justify-content:center;margin-bottom:1rem}.network-not-supported-switch-manual__img{border-radius:100%;height:4rem;width:4rem}.network-not-supported-switch-manual__network-container{position:relative}.network-not-supported-switch-manual__content{text-align:center}.network-not-supported-switch-manual__title{margin:0 0 .375rem}.wallet-group__list{display:flex;flex-direction:column}.wallet-locked-view__error-container{align-items:center;display:flex;justify-content:center}.wallet-locked-view__button-header{margin:.75rem}.wallet-locked-view__button{margin:.75rem auto auto}.wallet-locked-view__icon{margin:auto}.wallet-locked-view__content{padding:0 var(--dynamic-modal-padding) 2.1875rem;text-align:center}@media (pointer:coarse){.wallet-locked-view__content{padding:0 .75rem}}.wallet-locked-view__title{margin-top:.75rem}.wallet-locked-view__log-out{margin:.75rem auto 0}.merge-user-accounts__error{margin-bottom:.75rem;padding:.75rem 1.5rem}.merge-user-accounts__container{display:flex;flex-direction:column;gap:1.5rem;padding:0 1.5rem 1.5rem}@media (pointer:coarse){.merge-user-accounts__container{padding:0 .75rem}}.merge-user-accounts-conflicts__error{margin-bottom:.75rem;padding:.75rem 1.5rem}.merge-user-accounts-conflicts__container{display:flex;flex-direction:column}@media (pointer:coarse){.merge-user-accounts-conflicts__container{padding:0 .75rem}}.merge-user-accounts-conflicts__description{padding:0 1.5rem .75rem}.merge-user-accounts-conflicts__fields{display:flex;flex-direction:column;gap:1rem;max-height:22.5rem;overflow-y:auto;padding:.75rem 1.5rem}.merge-user-accounts-conflicts__fields__item{display:flex;flex-direction:column;gap:.5rem}.merge-user-accounts-conflicts__fields__item__button{padding:.5rem .75rem}.merge-user-accounts-conflicts__buttons{background:var(--dynamic-base-1);box-shadow:0 -8px 48px -8px rgba(109,121,165,.16);display:flex;flex-direction:column;gap:.5rem;padding:.75rem 1.5rem}.merge-user-accounts-with-same-email__container{padding:0 1.5rem 1.5rem}@media (pointer:coarse){.merge-user-accounts-with-same-email__container{padding:0 .75rem}}.merge-user-accounts-with-same-email__accounts{align-items:center;display:flex;justify-content:space-between;margin:-1.5rem auto 1.5rem;max-width:270px;width:100%}.merge-user-accounts-with-same-email__accounts__item{align-items:center;display:flex;flex-direction:column;gap:.625rem;justify-content:center;width:100%}.merge-user-accounts-with-same-email__accounts__item__icon{height:3.5rem;width:3.5rem}.merge-user-accounts-with-same-email__accounts__divider{height:16px;margin-top:-1.5rem;width:16px}.merge-user-accounts-with-same-email__accounts__divider__icon>path{fill:var(--dynamic-text-secondary)}.merge-user-accounts-with-same-email__text{text-align:center}.merge-user-accounts-with-same-email__text__header{color:var(--dynamic-text-primary);margin-bottom:.5rem}.merge-user-accounts-with-same-email__text__body{color:var(--dynamic-text-secondary);margin-bottom:1rem}.merge-user-accounts-with-same-email__text--bold{font-weight:700}.merge-user-accounts-with-same-email__buttons{display:flex;flex-direction:column;gap:.5rem}.merge-user-accounts-with-same-email__buttons__button{width:100%}.wallet-cannot-be-transferred-view__container{padding:var(--dynamic-modal-padding);text-align:center}.wallet-cannot-be-transferred-view__icon{display:flex;justify-content:center;margin:0 0 .5rem}.wallet-cannot-be-transferred-view__icon svg{margin:0 auto}.wallet-cannot-be-transferred-view__shorten-wallet-address{margin:0 0 1rem}.wallet-cannot-be-transferred-view__title{margin:0 0 .375rem}.wallet-cannot-be-transferred-view__copy{margin:0 0 .75rem}.wallet-cannot-be-transferred-view__transfer-alt-wallet-button{margin:0 0 1rem}.wallet-cannot-be-transferred-view__footer{margin:0 0 .5rem}.wallet-cannot-be-transferred-view__cancel{background:none;border:none;box-shadow:none;margin:auto}.user-field-editor__header{align-items:center;display:flex;flex-direction:column;gap:1.25rem;text-align:center}.user-field-editor__header__icon{align-items:center;background-color:var(--dynamic-base-2);border-radius:50%;display:flex;height:4rem;justify-content:center;width:4rem}.user-field-editor__body{align-items:center;display:flex;flex-direction:column;gap:.5rem;margin:0 1.5rem 1.5rem;text-align:center}.user-field-editor__body__subtitle{margin-block:-.375rem .5rem}.user-field-editor__body__form{width:100%}.passkey-intro-view{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.passkey-intro-view__header{display:flex;width:100%}.passkey-intro-view__actions{display:flex;flex-direction:column;gap:.625rem;width:100%}.passkey-intro-view__inline-button{align-items:center;display:inline-flex;gap:.5rem;text-align:left}.passkey-intro-view__inline-button svg path{fill:var(--dynamic-base-2)!important}.passkey-intro-view__log-out{font-size:.875rem;justify-content:center;line-height:20px}.passkey-intro-view__log-out:hover{background-color:transparent}.passkey-intro-view__skip{color:var(--dynamic-text-secondary);font-size:.875rem;justify-content:center;line-height:1rem}.passkey-intro-view__skip:hover{background-color:transparent}.passkey-recovery-view{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.passkey-recovery-view__header{align-items:center;display:flex;justify-content:center;margin-bottom:-5rem;width:12.875rem}.passkey-recovery-view__actions{display:flex;flex-direction:column;gap:.625rem;width:100%}.passkey-recovery-view__input-valid{background:var(--dynamic-success-2)!important;border-color:var(--dynamic-success-1)!important}.passkey-recovery-view__input-valid,.passkey-recovery-view__input-valid~.input__label{color:var(--dynamic-success-1)!important}.passkey-recovery-view__form{display:flex;flex-direction:column;width:100%}.passkey-recovery-view__skip{justify-content:center;margin-top:1.5rem}.passkey-recovery-view__inline-button{align-items:center;display:inline-flex;gap:.5rem;text-align:left}.passkey-recovery-view__inline-button svg path{fill:var(--dynamic-base-2)!important}.passkey-recovery-view__resend-code{align-items:center;display:flex;flex-direction:column}.passkey-recovery-view button.text-button:not(.passkey-recovery-view__skip){color:inherit}.edit-passkeys-widget-view,.edit-passkeys-widget-view__body{display:flex;flex-direction:column}.edit-passkeys-widget-view__body{flex:1;gap:.25rem;justify-content:space-between;margin-top:20px;padding:0 1.5rem 1.5rem}.edit-passkeys-widget-view__icon{height:100px;margin-left:auto;margin-right:auto;margin-top:-40px;width:100px}.edit-passkeys-widget-view__title{margin-left:auto;margin-right:auto;margin-top:20px}.passkey-new-domain-detected{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.passkey-new-domain-detected__header{align-items:center;display:flex;justify-content:center}.passkey-new-domain-detected__actions{display:flex;flex-direction:column;gap:.625rem;width:100%}.passkey-new-domain-detected__inline-button{align-items:center;display:inline-flex;gap:.5rem;text-align:left}.passkey-new-domain-detected__inline-button svg path{fill:var(--dynamic-base-2)!important}.passkey-new-domain-detected__log-out{font-size:.875rem;justify-content:center;line-height:20px}.passkey-new-domain-detected__log-out:hover{background-color:transparent}.embedded-reveal-view{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);height:100%;overflow:auto}.embedded-reveal-view__header{align-items:center;display:flex;justify-content:center}.embedded-reveal-view__zerodev-warning{background-color:var(--dynamic-error-1);border-radius:.5rem;margin-bottom:1rem;padding:1.25rem}.embedded-reveal-view__zerodev-warning__title-row{align-items:center;display:flex;margin-bottom:.5rem}.embedded-reveal-view__zerodev-warning__icon{flex-shrink:0;height:1.25rem;margin-right:.5rem;width:1.25rem}.embedded-reveal-view__zerodev-warning__link-button{background:none;border:none;cursor:pointer;display:inline;font:inherit;margin-left:.25rem;padding:0}.embedded-reveal-view__zerodev-warning .typography{color:inherit}.embedded-reveal-view__zerodev-warning .typography.underline{text-decoration:underline}.embedded-reveal-view__coinbase{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);color:var(--dynamic-text-secondary);display:flex;flex:1;flex-direction:column;gap:.625rem;max-height:21.875rem;overflow:auto;overflow-wrap:break-word;padding:.75rem}.embedded-reveal-view__body{display:flex;flex:1;flex-direction:column;gap:.75rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.embedded-reveal-view__body__description{display:flex;justify-content:center;text-align:center}.embedded-reveal-view__body__badge{font-size:.75rem}.embedded-reveal-view__body__card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.625rem;max-height:21.875rem;overflow:auto;padding:.75rem}.embedded-reveal-view__body__card__statement{display:flex;gap:.5rem;letter-spacing:-.15px}.embedded-reveal-view__body__card__acknowledgement{display:flex;gap:.5rem;text-align:left}.embedded-reveal-view__body__card__icon{color:var(--dynamic-text-tertiary);height:1.5rem;min-width:1.5rem;width:1.5rem}.embedded-reveal-view__body__card__skeleton{border-radius:.75rem;height:3.75rem}.embedded-reveal-view__body__confirm_card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.75rem;letter-spacing:-.15px;max-height:21.875rem;overflow:auto;padding:1rem}.embedded-reveal-view__body__button{color:#fff}.embedded-auth-choice{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.embedded-auth-choice__header{align-items:center;display:flex;justify-content:center;width:100%}.embedded-auth-choice__skip-button{margin-top:-.25rem}.action-card{background-color:var(--dynamic-base-2);border-radius:.75rem;box-shadow:var(--dynamic-shadow-down-1);display:flex;padding:1rem;text-align:left;transition:all .2s ease}.action-card:hover{box-shadow:var(--dynamic-button-shadow)}.action-card__icon{height:1.75rem;min-width:1.75rem;width:1.75rem}.action-card__icon,.action-card__icon path{fill:var(--dynamic-text-tertiary)}.action-card__action-icon{margin-left:auto;min-width:1rem;transform:rotate(180deg);width:1rem}.action-card__content{display:flex;flex-direction:column;gap:.25rem;margin-left:8px}.action-card__content__row{align-items:flex-start;display:flex;gap:.375rem}.action-card__content__row__badge--primary{background:var(--dynamic-brand-primary-color);color:var(--dynamic-base-2)}.embedded-auth-choice-cards{display:flex;flex-direction:column;gap:.625rem;width:100%}.auth-choice-info{align-items:flex-start;align-self:stretch;background:var(--default-base-2,#fff);border:1px solid var(--default-base-4,#e7e8ed);border-radius:12px;display:flex;flex-direction:column;gap:12px;justify-content:center;padding:16px 12px 12px}.auth-choice-info__container-item{display:flex;flex-direction:row;gap:.5rem;text-align:start}.select-hardware-wallet-view__container{align-items:stretch;display:flex;flex-direction:column;padding:var(--dynamic-layout-content-padding)}.select-hardware-wallet-view__icon{height:6rem;margin:0 auto .75rem;width:4rem}.select-hardware-wallet-view__text{padding-bottom:1rem;text-align:center}.enter-password-view{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);height:100%;overflow:auto}.enter-password-view__body{display:flex;flex:1;flex-direction:column;gap:.75rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.enter-password-view__body__icon{display:flex;justify-content:center;text-align:center}.enter-password-view__body__description{text-align:center}.enter-password-view__password-input__suffix-icon{color:var(--dynamic-text-tertiary);height:22px;margin-top:-4px;width:22px}.wallet-redirect-view__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-modal-padding)}.wallet-redirect-view__container .wallet-redirect-view__title{color:var(--dynamic-text-primary);line-height:2.25rem}.wallet-redirect-view__container .powered-by-dynamic{margin-top:1.5rem}.create-password{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);height:100%;overflow:auto}.create-password__body{display:flex;flex:1;flex-direction:column;gap:.5rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.create-password__body__header{align-items:center;display:flex;flex-direction:column;gap:1rem;padding:.5rem 0}.create-password__body__card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.3125rem;max-height:21.875rem;overflow:auto;padding:.75rem}.create-password__progress-bar{display:flex;margin:8px 0}.create-password__progress-bar__element{background-color:var(--default-base-4,#e7e8ed);border-radius:24px;height:4px;margin:0 4px;width:100%}.create-password__progress-bar__element__1{background:var(--dynamic-error-1)}.create-password__progress-bar__element__2{background:var(--dynamic-alert-1)}.create-password__progress-bar__element__3{background:var(--dynamic-success-1)}.create-password__password-input__suffix{align-items:center;display:flex;gap:.375rem;margin-top:-.25rem}.create-password__password-input__suffix__icon{color:var(--dynamic-text-tertiary);height:1.375rem;width:1.375rem}.create-password__password-criteria-icon{height:.9375rem;width:.9375rem}.create-password__password-criteria-list{align-items:center;display:flex;gap:.5rem;margin:.125rem 0}.create-password__password-criteria-list__success{color:var(--dynamic-success-1)}.create-password__password-criteria-list__error{color:var(--dynamic-error-1)}.create-password__log-out{margin:0 auto}.save-password-suffix-icon{color:var(--dynamic-text-tertiary);height:22px;margin-top:-4px;width:22px}.save-password-view{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);height:100%;overflow:auto}.save-password-view__header{align-items:center;display:flex;justify-content:center}.save-password-view__body{display:flex;flex:1;flex-direction:column;gap:.75rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.save-password-view__body__icon{display:flex;justify-content:center;text-align:center}.save-password-view__body__badge{background-color:var(--default-alert-2,#faedd9);color:var(--dynamic-alert-1);font-size:.75rem}.save-password-view__body__description{text-align:center}.save-password-view__body__actions{display:flex;gap:8px;justify-content:space-between}.save-password-view__body__card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.625rem;max-height:21.875rem;overflow:auto;padding:.75rem}.save-password-view__body__card__statement{display:flex;gap:.5rem;letter-spacing:-.15px}.save-password-view__body__card__acknowledgement{display:flex;gap:.5rem;text-align:left}.save-password-view__body__confirm-card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.5rem;letter-spacing:-.15px;max-height:21.875rem;overflow:auto;padding:.625rem}.mpc-claim-intro{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);height:100%;overflow:auto}.mpc-claim-intro__header{align-items:center;display:flex;justify-content:center}.mpc-claim-intro__body{display:flex;flex:1;flex-direction:column;gap:.75rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.mpc-claim-intro__body__description{display:flex;justify-content:center;text-align:center}.mpc-claim-intro__body__badge{font-size:.75rem}.mpc-claim-intro__body__card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.625rem;max-height:21.875rem;overflow:auto;padding:.75rem}.mpc-claim-intro__body__card__statement{display:flex;gap:.5rem;letter-spacing:-.15px}.mpc-claim-intro__body__card__acknowledgement{display:flex;gap:.5rem;text-align:left}.mpc-claim-intro__body__card__icon{color:var(--dynamic-text-tertiary);height:1.5rem;min-width:1.5rem;width:1.5rem}.mpc-claim-intro__body__card__skeleton{border-radius:.75rem;height:3.75rem}.mpc-claim-intro__body__confirm_card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.75rem;letter-spacing:-.15px;max-height:21.875rem;overflow:auto;padding:1rem}.mpc-claim-intro__body__button{color:#fff}#dyn-turnkey-export-container-id{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;overflow:auto;padding:.75rem}#dyn-turnkey-export-element-id{word-wrap:break-word;max-height:-moz-min-content;max-height:min-content;width:100%}.mfa-choose-device-view__body{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.mfa-choose-device-view__copy{color:var(--dynamic-text-secondary);line-height:1.25rem;text-align:center;width:75%}.mfa-choose-device-view__button{box-shadow:var(--dynamic-shadow-down-1);display:flex;flex-direction:column;gap:.25rem;margin-top:.75rem;text-align:left}.mfa-choose-device-view__button__header{align-items:center;display:flex;justify-content:space-between;width:100%}.mfa-choose-device-view__button__description.mfa-choose-device-view__button__description{font-size:var(--dynamic-text-size-body-small)}.mfa-choose-device-view__icon--rotate{color:var(--dynamic-text-tertiary);height:1rem;justify-content:end;transform:rotate(180deg);width:1rem}.mfa-secure-device-view__body{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.mfa-secure-device-view__copy{color:var(--dynamic-text-secondary);line-height:1.25rem;text-align:center;width:75%}.mfa-secure-device-view__button{box-shadow:var(--dynamic-shadow-down-1);margin-top:.75rem}.mfa-secure-device-view__loading-spinner{height:394px}.mfa-secure-device-view__qrcode{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*.6);display:flex;flex-direction:column;gap:.625rem;margin:1rem 0;padding:.75rem}.mfa-secure-device-view__qrcode .button-container{align-items:center;display:flex;gap:.5rem;width:100%}.mfa-secure-device-view__qrcode .button-container svg path{fill-opacity:100%}.mfa-secure-device-view__qrcode .button-container .qr-code-button{height:2.375rem}.mfa-display-backup-codes-view__body{align-items:center;display:flex;flex-direction:column;gap:1rem;justify-content:center;padding:var(--dynamic-layout-content-padding);text-align:center}.mfa-display-backup-codes-view__warning{border-radius:var(--dynamic-border-radius);padding:.25rem .5rem}.mfa-display-backup-codes-view__loading-spinner{height:19.5rem}.mfa-display-backup-codes-view__codes{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.mfa-display-backup-codes-view__code{background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-button-primary-border);border-radius:var(--dynamic-border-radius);color:var(--dynamic-text-secondary);padding:.75rem 1.125rem;text-align:center;width:8.75rem}.mfa-display-backup-codes-view__actions{display:flex;gap:.5rem;width:100%}.mfa-display-backup-codes-view__actions button{border-radius:calc(var(--dynamic-button-border-radius)/1.5)}.mfa-display-backup-codes-view__complete{display:flex;flex-direction:column;gap:.5rem;width:100%}.mfa-display-backup-codes-view__acknowledgement{border-radius:calc(var(--dynamic-button-border-radius)/1.5);justify-content:left}.mfa-display-backup-codes-view__acknowledgement .typography{font-size:var(--dynamic-text-size-button-secondary);font-weight:500}.mfa-recovery-view{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.mfa-recovery-view__body{padding:.3125rem,0}.mfa-recovery-view__actions{display:flex;flex-direction:column;gap:.625rem;width:100%}.mfa-recovery-view__get-help{padding:.3125rem,0}.access-blocked__container{align-items:center;background:var(--dynamic-base-1);display:flex;flex-direction:column;padding:.3125rem}.access-blocked__icon{margin-bottom:.3125rem}.access-blocked__content{margin:.9375rem 0;padding:0 .625rem .625rem;text-align:center}.sign-message-confirmation__actions{align-items:center;display:flex;flex-direction:row;gap:.375rem;padding-bottom:1rem;width:100%}.sign-message-confirmation__body{align-items:stretch;display:flex;flex-direction:column;padding:.5rem 1.5rem 1.5rem}.sign-message-confirmation__message-container{align-items:center;background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:var(--dynamic-shadow-down-1);margin-bottom:.5rem;margin-top:.75rem;max-height:18.75rem;overflow-y:scroll;padding:.75rem;width:100%}.sign-message-confirmation__secure-wallet{margin-block:.5rem}.sign-message-confirmation__message{overflow-wrap:break-word;padding-top:.75rem}.sign-message-confirmation__title{text-align:center}.sign-message-confirmation__error{padding-top:.75rem}.bridge-welcome-layout{display:flex;flex-direction:column;gap:.75rem}.bridge-welcome-layout__body{display:flex;flex-direction:column;gap:1.5rem;padding:0 1.5rem 1.5rem}.bridge-welcome-layout__message-container{display:flex;flex-direction:column;gap:.25rem;text-align:center}.bridge-welcome-layout__chain-icon-group{align-items:center;display:flex;flex-direction:row-reverse;padding-top:.875rem}.bridge-welcome-layout__chain-icon{background-color:var(--dynamic-base-1);border-radius:50%;height:4rem;margin-left:-1.375rem;outline:.25rem solid var(--dynamic-base-1);overflow:hidden;width:4rem}.bridge-welcome-layout__chain-icon:last-child{margin-left:0}.select-wallet-list-layout{display:flex;flex-direction:column;min-height:320px}.select-wallet-list-layout__wallet-list{display:flex;flex-direction:column;flex-grow:1;gap:var(--dynamic-wallet-list-tile-gap);max-height:var(--dynamic-wallet-list-max-height);overflow-y:auto;padding:.25rem 1.5rem 1.5rem}.connected-wallets-list-layout{display:flex;flex-direction:column}.connected-wallets-list-layout__body{display:flex;flex-direction:column;gap:1rem;padding:.25rem 1.5rem 1.5rem}.connected-wallets-list-layout__body__text{text-align:center}.bridge-next-wallet-to-connect-layout__chain-icon{height:4rem;margin:1rem 1rem 0;width:4rem}.bridge-next-wallet-to-connect-layout__body{align-items:center;display:flex;flex-direction:column;gap:1.5rem;padding:1rem 1.5rem 1.5rem;text-align:center}.account-control__name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.account-control__icon{min-width:1rem}.account-control__social_icon{height:1rem;width:1rem}.account-control__container{align-items:center;border-radius:calc(var(--dynamic-border-radius)/3);color:var(--dynamic-text-primary);display:flex;gap:.375rem;min-height:100%;padding:.75rem;z-index:10}.account-control__container--multiwallet-disabled{border-bottom-left-radius:0;border-top-left-radius:0}.account-control__container--active,.account-control__container:hover{background-color:var(--dynamic-hover)}.dynamic-widget-inline-controls{background-color:var(--dynamic-base-1);border-radius:calc(var(--dynamic-border-radius)/3);display:flex;font-size:var(--dynamic-text-size-body-small);max-height:2.5rem;min-width:100%;position:relative}.dynamic-widget-inline-controls__network-picker-main{min-width:60px}.dynamic-widget-inline-controls__account-control{max-width:100%;min-width:max(100%,45px)}.dynamic-widget-inline-controls__account-control .account-control__icon{margin-left:auto}.dynamic-widget-inline-controls__account-control-container{min-width:60px;overflow:hidden}.dynamic-widget-inline-controls__network-picker{background:unset;border-bottom-left-radius:calc(var(--dynamic-border-radius)/3);border-bottom-right-radius:unset;border-top-left-radius:calc(var(--dynamic-border-radius)/3);border-top-right-radius:unset;min-width:100%;padding:.75rem;position:unset;transform:unset}.dynamic-widget-inline-controls__network-picker--active,.dynamic-widget-inline-controls__network-picker:hover{background:var(--dynamic-hover)}.dynamic-widget-inline-controls__network-picker-checkbox{margin:0 0 0 .5rem}.dynamic-widget-inline-controls__network-picker-list{top:2.5rem}@media (pointer:coarse){.dynamic-widget-inline-controls__network-picker-list{top:unset}}.dynamic-widget-dropdown{position:absolute;right:0;top:3.0625rem}.dynamic-widget-dropdown__root{min-width:22.5rem}.dynamic-widget-modal{left:50%;margin:0 auto;position:fixed;top:50%;transform:translate(-50%,-50%);width:min(100%,22.5rem)}@media (pointer:coarse){.dynamic-widget-modal{bottom:0;top:unset;transform:translate(-50%);width:100%}}.dynamic-widget-card{background-color:var(--dynamic-base-1);border:.0625rem solid var(--dynamic-base-4);border-radius:var(--dynamic-border-radius);box-shadow:var(--dynamic-shadow-down-3);height:100%;position:relative;transition:max-height .1s linear}@media (pointer:coarse){.dynamic-widget-card{border-bottom-left-radius:0;border-bottom-right-radius:0}}.dynamic-widget-header{padding:1.5rem 1.5rem 0;position:relative}.dynamic-widget-header__switcher{margin:0 0 1rem}.dynamic-widget-header__passkey-success{margin-inline:-1.5rem}.dynamic-widget-wallet-header{position:relative}.dynamic-widget-wallet-header__email{color:var(--dynamic-text-primary);margin:.5rem 0;text-align:center}.dynamic-widget-wallet-header__icon-container{height:4rem;margin:auto;position:relative;width:4rem}.dynamic-widget-wallet-header__icon-container img,.dynamic-widget-wallet-header__icon-container svg{height:100%;width:100%}.dynamic-widget-wallet-header__wallet-info{align-items:center;display:flex;flex-direction:column;justify-content:center;margin:0 0 1rem}.dynamic-widget-wallet-header__wallet-info .text-button{padding:0}.dynamic-widget-wallet-header__wallet-info__secure-wallet{margin-bottom:0;margin-top:1rem}.dynamic-widget-wallet-header__wallet-address{align-items:center;display:flex;justify-content:center}.dynamic-widget-wallet-header__balance{margin-bottom:.0625rem}.dynamic-widget-wallet-header__seperator{background-color:var(--dynamic-base-4);height:.5rem;margin:0 .5rem;width:.0625rem}.dynamic-widget-wallet-header__status-dot{margin-right:.375rem}.dynamic-widget-wallet-header__ens-name{max-width:12.5rem}.dynamic-widget-wallet-header__network-picker.evm-network-control__container{height:1.5rem}.dynamic-widget-wallet-header__network-picker.non-network-switching-supported-control{height:1.5rem;width:1.5rem}.dynamic-widget-wallet-header__network-picker.network-control-skeleton{bottom:0;height:1.5rem;position:absolute;right:0;width:1.5rem}.dynamic-widget-wallet-header__network-picker .evm-network-control__network-name,.dynamic-widget-wallet-header__network-picker .non-network-switching-supported-control__network-name{display:none}.dynamic-widget-wallet-header__wallet-avatar{border-radius:100%;overflow:hidden}.dynamic-widget-wallet-header__wallet-avatar img{height:4rem;width:4rem}.dynamic-widget-wallet-header__wallet-actions{align-items:center;display:flex;gap:.5rem;justify-content:stretch;margin-top:.5rem;width:100%}.dynamic-widget-wallet-header__wallet-loading{margin-bottom:.5rem;margin-top:.5rem;width:100%}.empty-wallet__container{align-items:center;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);display:flex;flex-direction:column;gap:.75rem;justify-content:center;padding:.5rem;text-align:center;width:100%}.empty-wallet__container--big{margin:0 0 1rem;padding:.75rem}.empty-wallet__icon{height:1.5rem;width:1.5rem}.empty-wallet__icon--big{height:3rem;width:3rem}.empty-wallet__icon>path{fill:var(--dynamic-text-tertiary)}.empty-wallet__text-container{max-width:10rem}.wallet__container{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;flex-direction:row;padding:.75rem}.wallet__container:not(:last-child){border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-.75rem;padding-bottom:1.5rem}.wallet__container:hover .wallet__menu{opacity:1}.wallet__menu{color:var(--dynamic-text-tertiary);opacity:0;transition:opacity .15s ease-in-out}@media (pointer:coarse){.wallet__menu{opacity:1}}.wallet__row{align-items:center;display:flex;flex:1}.wallet__row__seperator{background-color:var(--dynamic-base-4);height:.5rem;margin:0 .5rem;width:.0625rem}.wallet__icon-container{margin-right:.375rem}.wallet__ens-name{max-width:9.375rem}.wallet__actions{max-height:0;overflow:hidden;transition:max-height .3s ease-in-out}.wallet__actions__expanded{max-height:6.25rem}.wallet__actions__inner{padding-top:.75rem}.dynamic-widget-footer{border-bottom-left-radius:var(--dynamic-border-radius);border-bottom-right-radius:var(--dynamic-border-radius);border-top:.0625rem solid var(--dynamic-base-4);color:var(--dynamic-text-primary);display:flex;gap:.5rem;margin-top:auto;padding:1rem 1.5rem}.dynamic-widget-footer__button:hover:enabled svg{color:var(--dynamic-text-secondary)}.dynamic-widget-footer__button svg{color:var(--dynamic-text-tertiary)}.dynamic-widget-footer__button-align-right{margin-left:auto}@media (pointer:coarse){.dynamic-widget-footer{border-bottom-left-radius:unset;border-bottom-right-radius:unset}}.wallet-icon-with-status__container{position:relative}.wallet-icon-with-status__dot-container{align-items:center;background-color:var(--dynamic-base-1);border-radius:100%;bottom:0;display:flex;height:.75rem;justify-content:center;position:absolute;right:0;width:.75rem}.wallet-icon-with-status__dot-container .dot{background-color:var(--dynamic-error-1);border-radius:100%;bottom:0;height:.5rem;right:0;width:.5rem}.wallet-icon-with-status__dot-container .dot--green{background-color:var(--dynamic-success-1)}.wallet-icon-with-status__dot-container--secondary{bottom:0;height:.625rem;right:0;transform:translate(25%,25%);width:.625rem}.wallet-icon-with-status__dot-container--secondary .dot{height:.375rem;width:.375rem}.wallet-icon-with-network__container{position:relative}.wallet-icon-with-network__network-container{align-items:center;background-color:var(--dynamic-base-1);border-radius:100%;bottom:0;display:flex;height:.75rem;justify-content:center;position:absolute;right:0;width:.75rem}.dots-menu-dropdown__container{padding:.375rem 0}.dots-menu-dropdown__item{align-items:center;cursor:pointer;display:flex;font-size:var(--dynamic-text-size-body-small);gap:.5rem;padding:.5rem .75rem;width:100%}.dots-menu-dropdown__item .typography{white-space:nowrap}.dots-menu-dropdown__item__end-slot{position:absolute;right:.75rem}.dots-menu-dropdown__item:hover{background-color:var(--dynamic-hover)}.dots-menu-dropdown__item:hover .typography{color:var(--dynamic-text-primary)}@media (pointer:coarse){.dots-menu-dropdown__item{font-size:var(--dynamic-text-size-body-normal)}}.dots-menu-dropdown__item-text{align-items:center;display:flex;gap:.5rem}@keyframes desktop-dropdown-entering-animation{0%{opacity:0;transform:scale(.8) translateY(0)}70%{transform:scale(1) translateY(0)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes desktop-dropdown-exiting-animation{0%{opacity:1;transform:scale(1) translateY(0)}25%{opacity:1}50%{transform:scale(1.01) translateY(0)}to{opacity:0;transform:scale(1.02) translateY(1.875rem)}}@keyframes mobile-dropdown-entering-animation{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}@keyframes mobile-dropdown-exiting-animation{0%{transform:translateY(0)}50%{transform:translateY(0)}to{transform:translateY(200%)}}.dots-menu-wrapper{position:relative}.dots-menu-wrapper__container--entering{animation-fill-mode:both;animation-iteration-count:1;animation-name:desktop-dropdown-entering-animation;animation-timing-function:ease-out}@media (pointer:coarse){.dots-menu-wrapper__container--entering{animation-fill-mode:both;animation-iteration-count:1;animation-name:mobile-dropdown-entering-animation;animation-timing-function:ease-out}}.dots-menu-wrapper__container--exiting{animation-fill-mode:both;animation-iteration-count:1;animation-name:desktop-dropdown-exiting-animation;animation-timing-function:ease-out}@media (pointer:coarse){.dots-menu-wrapper__container--exiting{animation-fill-mode:both;animation-iteration-count:1;animation-name:mobile-dropdown-exiting-animation;animation-timing-function:ease-out}}.dots-menu-wrapper__container{background-color:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/3);box-shadow:0 .5rem .75rem -.375rem rgba(24,39,75,.06),0 .5rem .75rem -.1875rem rgba(24,39,75,.06);margin-top:.5rem;position:absolute;right:0;z-index:2147483647}.dots-menu-wrapper__container__alignment__top{bottom:1.375rem}.dots-menu-wrapper__container__alignment__bottom{top:1.375rem}@media (min-width:768px){.dots-menu-wrapper__container{min-width:9.375rem}}@media (pointer:coarse){.dots-menu-wrapper__container{border:none;border-radius:var(--dynamic-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;bottom:0;left:calc(50% - 18.75rem);margin:auto;max-width:37.5rem;padding-bottom:2rem;padding-top:0;position:fixed;right:calc(50% - 18.75rem);top:unset;width:100%}}.dots-menu-wrapper__header{display:none;padding:.75rem 1.5rem .25rem}@media (pointer:coarse){.dots-menu-wrapper__header{align-items:center;display:flex;justify-content:space-between}}.dots-menu-wrapper__header__icon{min-height:1.5rem;min-width:1.5rem}.dots-menu-wrapper__backdrop{cursor:default;display:none;height:100%;left:0;position:fixed;top:0;width:100%;z-index:10}@media (pointer:coarse){.dots-menu-wrapper__backdrop{background-color:var(--dynamic-overlay);display:block}}.dynamic-widget-wallets-header{margin:0 1.5rem}.dynamic-widget-wallets-header__title{margin:0 0 .5rem}.dynamic-widget-wallets{margin:0 1.5rem;overflow:auto}.dynamic-widget-wallets__body{display:flex;flex-direction:column;gap:1rem}.dynamic-widget-wallets__body__wallet-list{max-height:13rem}.widget-portal{background-color:var(--dynamic-overlay);top:0;z-index:50}.widget-portal,.widget-portal .widget-portal__container{border-radius:calc(var(--dynamic-border-radius)/1.5);bottom:0;left:0;position:absolute;right:0}.widget-portal .widget-portal__container{background-color:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);padding:1.5rem}@media (pointer:coarse){.widget-portal .widget-portal__container{border-bottom-left-radius:0;border-bottom-right-radius:0}}.widget-portal .widget-portal__container--no-padding{padding:0}.widget-portal .widget-portal__container__header{position:relative}.widget-portal .widget-portal__container__close-button{position:absolute;right:0}.single-wallet-buttons{display:flex;gap:.625rem;padding:0 1.5rem 1.5rem}.single-wallet-buttons--center{align-items:center;display:flex;justify-content:center}.single-wallet-buttons__copied{align-items:center;display:flex;gap:8px}.single-wallet-buttons__copied svg{color:var(--dynamic-success-1)}.email-connector-pending-sign-modal-content{align-items:center;display:flex;flex-direction:column;text-align:center;width:100%}.email-connector-pending-sign-modal-content__body{align-items:center;display:flex;flex-direction:column;gap:.5rem}.active-wallet-information{border-bottom:1px solid var(--dynamic-base-3);display:flex;flex-flow:column;gap:.5rem;padding:.75rem}.active-wallet-information__header{display:flex;gap:.5rem}.active-wallet-information__handle{max-width:80px;overflow:hidden;text-overflow:ellipsis}.active-wallet-information__handle--full-width{max-width:230px;overflow:hidden;text-overflow:ellipsis}.active-wallet-information__dots-menu{color:var(--dynamic-text-tertiary);margin-left:.375rem}.active-wallet-information__dots-menu .icon-with-status__container{margin-bottom:0}.active-wallet-information__dots-menu .icon-with-status__container .status-dot__container{right:-.05rem;top:-.05rem}.active-wallet-information-container{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2)}.active-wallet-information__details{display:flex;flex:1;gap:.5rem;justify-content:space-between;overflow:hidden}.active-wallet-information__avatar img{height:2rem;min-height:2rem;min-width:2rem;width:2rem}.active-wallet-information__avatar__name-service{align-items:center;border-radius:100%;display:flex;overflow:hidden}.active-wallet-information__addresses-container{display:flex;flex-direction:column;gap:.5rem}.active-wallet-information__addresses-container--centered{justify-content:center}.active-wallet-information__address-container{display:flex}.active-wallet-information__address{align-items:center;display:flex}.active-wallet-information__address-skeleton{width:60px}.active-wallet-information__network-picker{overflow:hidden}.active-wallet-information__network-picker-button{border:1px solid var(--dynamic-base-4);height:100%;position:relative;transform:translateX(0)}.active-wallet-information__network-picker-button:hover{background:var(--dynamic-hover)}.balance-header{justify-content:space-between;padding:1rem .75rem;width:100%}.balance-header,.balance-header__title{align-items:center;display:flex}.balance-header__chevron{rotate:180deg}.balance-header__skeleton{display:table-cell;width:2.5rem}.balance-container{align-items:center;display:flex;justify-content:space-between;padding:1rem .75rem;position:relative}.balance-container__skeleton{display:table-cell;width:2.5rem}.multi-asset-balance-container{align-items:center;position:relative}.multi-asset-balance-container .shadow{border-bottom:1px solid var(--dynamic-base-3)}.multi-asset-balance-container__accordion{overflow-y:auto}.multi-asset-balance-container__accordion--collapsed{max-height:0!important}.multi-asset-balance-container__accordion--expanded{height:100%!important;max-height:11.25rem!important}.prompt-modal{padding:1.5rem}.prompt-modal__header{position:relative;width:100%}.prompt-modal__close-button{position:absolute;right:1rem;top:1rem}.balance-skeleton{display:table-cell;width:1.875rem}.token-balance-item{justify-content:space-between;padding:8px 0;width:100%}.token-balance-item,.token-balance-item__name{align-items:center;display:flex}.token-balance-item__title{max-width:8.4375rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.token-balance-item__icon,.token-balance-item__skeleton-icon{border-radius:100%;height:20px;margin-right:6px;overflow:hidden;width:20px}.token-balance-item__skeleton-icon{background-color:var(--dynamic-base-3)}.token-balance-item__value,.token-balance-item__value__balance{display:flex}.token-balance-list{padding:0 .75rem .75rem}.token-balance-list__empty{align-items:center;display:flex;justify-content:center;padding:.625rem}.token-balance-list__divider{padding:0}.dynamic-widget-index-view__email-container{display:flex;flex-direction:column;gap:1rem;text-align:center}.dynamic-widget-index-view__footer{display:flex;justify-content:space-between;width:100%}.dynamic-widget-index-view__user-profile{margin:0 0 1rem;padding:0 1.5rem}.dynamic-widget-index-view__user-profile-title{border-bottom:.0625rem solid var(--dynamic-base-4);margin:0 1.5rem .75rem;padding-bottom:.375rem}.profile-view{flex:1;overflow:auto;padding:0 1.5rem 1.5rem}.profile-view__footer{display:flex;justify-content:space-between;width:100%}.dynamic-widget-edit-profile-view{display:flex;flex:1;flex-direction:column;overflow:hidden}.dynamic-widget-edit-profile-view__fields{flex:1;overflow:auto;padding:0 1.5rem 1rem}.dynamic-widget-edit-profile-view__profile-title{border-bottom:.0625rem solid var(--dynamic-base-4);margin:0 1.5rem .75rem;padding-bottom:.375rem}.send-balance-widget-view{display:flex;flex:1;flex-direction:column;max-height:100%;max-width:22.5rem}.send-balance-widget-view__spinner{align-items:center;display:flex;flex:1;justify-content:center}.passkey-card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);padding:.75rem;width:100%}.passkey-card__body{display:flex;flex-direction:row;justify-content:space-between}.passkey-card__left{align-items:center;display:flex;gap:.5rem}.passkey-card__info{align-items:center;border-bottom:1px solid var(--dynamic-base-4);gap:.5rem;padding-bottom:.5rem}.passkey-card__info__icon{justify-self:start;width:1.5rem}.passkey-card__info__tooltip{display:none}@media (hover:none),(pointer:coarse){.passkey-card__info__tooltip{background-color:#555;border:1px solid;border-radius:6px;color:#fff;display:block;font-size:12px;opacity:0;padding:3px;position:absolute;transition:opacity .5s;visibility:hidden;width:-moz-fit-content;width:fit-content}.passkey-card__info__tooltip--visible{opacity:1;transition:opacity .3s;visibility:visible}}.passkey-card__date{padding-top:.5rem}.manage-passkeys-widget-view,.manage-passkeys-widget-view__body{display:flex;flex:1;flex-direction:column}.manage-passkeys-widget-view__body{gap:1rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.manage-passkeys-widget-view__body__cards{display:flex;flex:1;flex-direction:column;gap:.5rem;max-height:23.75rem;overflow:auto}.manage-passkeys-widget-view__body__cards__skeleton{border-radius:.75rem;height:3.75rem}.manage-passkeys-widget-view__reveal{display:flex;flex:1;flex-direction:column;gap:.5rem}.manage-passkeys-widget-view__reveal-helper-text{color:var(--dynamic-text-secondary);font-size:.9375rem;line-height:1.25rem}.manage-passkeys-widget-view__reveal-button{border-radius:var(--dynamic-button-border-radius);justify-content:space-between}.manage-passkeys-widget-view__reveal-button__start-slot{align-items:center;display:flex;font-size:.9375rem}.manage-passkeys-widget-view__reveal-button__icon{color:var(--dynamic-text-tertiary);height:1.75rem;margin-right:.5rem}.manage-passkeys-widget-view__reveal-button__icon--rotate{color:var(--dynamic-text-tertiary);height:1rem;justify-content:end;transform:rotate(180deg)}.wallet-settings-view{display:flex;flex:1;flex-direction:column}.wallet-settings-view__header{align-items:center;display:flex;gap:.5rem}.wallet-settings-view__body{display:flex;flex-direction:column;gap:1rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.wallet-settings-view__body__section{display:flex;flex-direction:column;gap:.75rem}.wallet-settings-view__body__section__title{color:var(--dynamic-text-secondary);font-size:.9375rem;line-height:1.25rem}.wallet-settings-view__body__section__title__info-icon{align-items:center;display:flex;gap:5px}.wallet-settings-view__body__section__title__info-icon svg path{fill:var(--dynamic-alert-1)}.wallet-settings-view__body__section__button{border-radius:var(--dynamic-button-border-radius);justify-content:space-between}.wallet-settings-view__body__section__button__start-slot{align-items:center;display:flex;font-size:.9375rem}.wallet-settings-view__body__section__button__badge .badge__container.badge__container__secondary{margin-left:.625rem}.wallet-settings-view__body__section__button__icon{color:var(--dynamic-text-tertiary);height:1.75rem!important;margin-right:.625rem;width:1.75rem!important}.wallet-settings-view__body__section__button__icon path{fill:var(--dynamic-text-tertiary)!important}.wallet-settings-view__body__section__button__icon.email{color:transparent}.wallet-settings-view__body__section__button__icon__stroke{stroke:var(--dynamic-text-tertiary);height:1.75rem;margin-right:.625rem;width:1.75rem}.wallet-settings-view__body__section__button__icon-secondary{color:var(--dynamic-text-tertiary);height:1rem;justify-content:end;width:1rem}.wallet-settings-view__body__section__button__icon-secondary--success{color:var(--dynamic-success-1);height:1rem;justify-content:end;width:1rem}.wallet-settings-view__body__section__button__icon-secondary--rotate{color:var(--dynamic-text-tertiary);height:1rem;justify-content:end;transform:rotate(180deg);width:1rem}.default-prompt-modal{align-items:center;display:flex;flex-direction:column;text-align:center}.default-prompt-modal__icon-with-spinner{margin:0 auto .75rem}.default-prompt-modal__content{flex-direction:column}.default-prompt-modal__button .typography,.default-prompt-modal__content{align-items:center;display:flex;gap:.375rem;justify-content:center}.detected-new-wallet-modal__content{align-items:center;display:flex;flex-direction:column;gap:.75rem;text-align:center}.detected-new-wallet-modal__top-section{align-items:center;display:flex;flex-direction:column;gap:1.125rem;text-align:center}.no-qr-code-not-installed-modal-view{align-items:center;display:flex;flex-direction:column;gap:1rem}.no-qr-code-not-installed-modal-view__links-section{width:100%}.qr-code-modal-view{display:flex;flex-direction:column;gap:.5rem}.qr-code-modal-view__title{text-align:center}.qr-code-modal-view .qrcode__container{height:10.9375rem;width:10.9375rem}.qr-code-modal-view__container{align-items:center;display:flex;justify-content:center}.qr-code-modal-view__wrapper{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*3/4);padding:.5rem}.qr-code-modal-view .info-item{margin-bottom:.75rem}.qr-code-modal-view .info-item__text{font-size:var(--dynamic-text-size-body-small)}.qr-code-modal-view .info-item svg path{fill:var(--dynamic-text-secondary)}.qr-code-modal-view .button__container{flex-direction:column}.qr-code-modal-view .button__container,.qr-code-modal-view .button__container span{align-items:center;display:flex;gap:.375rem}.unlink-wallet-popup__container{align-items:center;display:flex;flex-direction:column;width:100%}.unlink-wallet-popup__button,.unlink-wallet-popup__label,.unlink-wallet-popup__title{text-align:center}.unlink-wallet-popup__title{padding-bottom:.5rem}.unlink-wallet-popup__label{padding-bottom:.5rem;padding-top:.5rem}.unlink-wallet-popup__button{margin-top:.5rem}.unlink-wallet-popup__button--shadow{box-shadow:var(--dynamic-shadow-down-1)}.dynamic-widget__container{z-index:2147483646}.fund-wallet__backdrop{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background-color:rgba(0,0,0,.25);inset:0;position:fixed;z-index:2147483645}.fund-wallet__modal-container{align-items:center;display:flex;inset:0;justify-content:center;overflow-y:auto;padding:1rem;position:fixed;z-index:2147483646}@media (pointer:coarse){.fund-wallet__modal-container{padding:0}}.fund-wallet__modal{border-radius:1.5rem;margin:auto;max-width:470px;overflow:hidden;width:100%}@media (pointer:coarse){.fund-wallet__modal{border-bottom-left-radius:0;border-bottom-right-radius:0;margin:initial;margin-top:auto}}.fund-wallet__modal-content{text-align:center}#onramp-iframe{border:none;height:635px;width:100%;z-index:2147483647}.embedded-widget{max-width:100%;width:var(--dynamic-modal-width)}.embedded-widget--background-default,.embedded-widget--background-none{background:none}.dynamic-bridge-user-profile__switcher{margin:0 0 1rem;padding:1.5rem 1.5rem 0}.dynamic-bridge-wallet-card__network{margin:0 0 .5rem}.dynamic-bridge-wallet-card__network,.dynamic-bridge-wallet-card__network-icon,.dynamic-bridge-wallet-card__network-name{display:inline-block;vertical-align:middle}.dynamic-bridge-wallet-card__network-icon{height:1rem;margin-right:.375rem;width:1rem}.dynamic-bridge-widget-empty-card{background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);padding:.75rem;transition:transform .1s linear}.dynamic-bridge-widget-empty-card:active{transform:scale(.98)}.dynamic-bridge-widget-empty-card__icon{display:inline-flex;height:1.75rem;margin-right:.63rem;vertical-align:middle;width:1.75rem}.dynamic-bridge-widget-empty-card__text{overflow:hidden;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.dynamic-bridge-widget-wallets-view{display:flex;flex-direction:column;gap:1rem;padding:1.5rem}.dynamic-bridge-widget-wallets-view__logout-button{margin:0 auto}.dynamic-bridge-widget-wallets-view__unlink-button{color:var(--dynamic-text-secondary);margin:auto 0 0 auto}.footer-buttons-item{align-items:center;background:var(--dynamic-base-2);border:0;border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);cursor:pointer;display:flex;padding:.75rem;transition:all .3s;width:100%}.footer-buttons-item__icon--left{margin-right:.625rem}.footer-buttons-item__icon--left img,.footer-buttons-item__icon--left svg{height:1.25rem;width:1.25rem}.new-to-web3-buttons__container{margin-top:1rem}.new-to-web3-buttons__container button{background:var(--dynamic-brand-primary-color);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);color:#fff;padding:.75rem;width:100%}.walletlist-help-content__container{color:var(--dynamic-text-secondary);padding:1.5rem}.walletlist-help-content__icon{align-items:center;display:flex;height:3.5rem;justify-content:center;margin:0 auto;width:3.5rem}.walletlist-help-content__typography-wrapper{color:var(--dynamic-text-primary);margin:1rem 0;text-align:center}.walletlist-help-content__typography-wrapper .walletlist-help-content__typography--label{margin-top:.375rem}.walletlist-help-content__buttons-wrapper{display:flex;flex-direction:column;gap:.375rem;margin-top:1rem}.walletlist-help-content__buttons-wrapper button{text-align:left;width:100%}.walletlist-help-content__custodial-wallet-area--title{margin:.75rem 0;text-align:center}.footer-more-info-content__wrapper{display:flex;flex-direction:column;gap:.75rem;padding:1.5rem}.footer-more-info-content__item--phantom-ledger{font-size:.6875rem;margin-bottom:.5rem}.footer-more-info-content__item--phantom-ledger p{margin-bottom:.5rem}.footer-more-info-content__item--phantom-ledger p:last-child,.footer-more-info-content__item:last-child{margin-bottom:0}.back-button{rotate:-90deg}.help-header{border-bottom:1px solid var(--dynamic-base-4)}.passkey-info-help-content__container{color:var(--dynamic-text-secondary);padding:1.5rem}.passkey-info-help-content__typography-wrapper{color:var(--dynamic-text-primary);display:flex;flex-direction:column;gap:1rem;text-align:left}.passkey-info-help-content__wrapper{flex:1}.passkey-info-help-content__details{display:flex;flex-direction:row;gap:1rem}.mfa-qrcode-help-content__container{color:var(--dynamic-text-secondary);padding:1.5rem}.mfa-qrcode-help-content__vertical-container{background-color:#fff;border-radius:calc(var(--dynamic-border-radius)/2);display:flex;flex-direction:column}.mfa-qrcode-help-content__setup-container{font-family:Arial,sans-serif;margin:0 auto;max-width:400px;width:100%}.mfa-qrcode-help-content__step{align-items:center;background-color:#fff;border-radius:calc(var(--dynamic-border-radius)/2);color:gray;display:flex;flex-direction:row;height:100%;justify-content:flex-start;margin-bottom:.625rem;max-width:100%;padding:1rem}.mfa-qrcode-help-content__step__title{margin-bottom:.3125rem}.mfa-qrcode-help-content__step__number{align-items:center;align-self:flex-start;background-color:#e3ebff;border-radius:50%;color:#4779ff;display:flex;height:1.5rem;justify-content:center;margin-right:.625rem;min-width:1.5rem;width:1.5rem}.mfa-qrcode-help-content__step__nocopy-box{align-items:center;border:.0625rem solid #e0e0e0;border-radius:.3125rem;display:flex;justify-content:space-between;padding:.625rem}.mfa-qrcode-help-content__step__nocopy-text{word-break:break-all}.mfa-qrcode-help-content__copy-button{background-color:transparent;border:none;cursor:pointer}.header__skeleton{width:7.5rem}.header__typography{margin:0;text-align:center}.header__typography img,.header__typography svg{display:inline-block}.header__tooltip{background-color:var(--dynamic-text-primary);color:var(--dynamic-base-2);font-size:.75rem}.header__icon svg{height:1.5rem;width:1.5rem}.tos-and-pp__footer{background:var(--dynamic-footer-background);border-top:var(--dynamic-footer-border-top);bottom:0;padding:var(--dynamic-footer-padding);position:relative;width:100%}.default-footer__footer{background:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-up-1);height:var(--dynamic-border-radius);opacity:1;text-align:center;transition:opacity .15s,visibility .15s;visibility:visible;width:100%}.default-footer__footer--hidden{opacity:0;transition:opacity .15s,visibility .15s;visibility:hidden}.wallet-progress-stepper{padding:.5rem 1rem}.dynamic-user-profile-layout{display:flex;flex-direction:column;height:33.125rem;overflow:hidden}.dynamic-user-profile-layout--unset-max-height{height:unset}input:-webkit-autofill,input:-webkit-autofill:active,input:-webkit-autofill:focus,input:-webkit-autofill:hover{box-shadow:unset!important}.dynamic-modal{display:flex;flex-direction:column-reverse;left:50%;letter-spacing:0;position:absolute}.dynamic-shadow-dom-content{font-family:var(--dynamic-font-family-primary)}';const _M=()=>u.jsx("link",{rel:"stylesheet",href:"https://app.dynamic.xyz/assets/legacySafari/styles.css"}),hLe=()=>{if(z0())return!1;const e="shadowDOM.enabled",t=new URLSearchParams(window.location.search);return t.has(e)?t.get(e)==="true":!0},kY=Yr.createContext({}),pLe=()=>Yr.useContext(kY),xM=()=>u.jsx("style",{children:xY}),dh=({mode:e="open",id:t,className:n,children:r,dataTestId:i,zIndex:o})=>{const{shadowDOMEnabled:s,cssOverrides:a}=Te(),l=hLe()&&s,[d,f]=k.useState(null),[p,m]=k.useState(),g=k.useMemo(()=>a&&typeof a!="string"?()=>a:a&&typeof a=="string"?()=>u.jsx("style",{children:a}):null,[a]);k.useLayoutEffect(()=>{if(d&&l)try{const v=d.attachShadow({mode:e});m(v)}catch{}},[l,d,e]);const y=!!Object.keys(xY).length;return l?u.jsx($I,{children:u.jsx(kY.Provider,{value:{shadowRoot:p},children:u.jsx("div",{"data-testid":i,ref:f,id:t,className:We("dynamic-shadow-dom",n),style:{zIndex:o},children:p&&dp.createPortal(u.jsxs("div",{className:"dynamic-shadow-dom-content",children:[r,y&&u.jsx(xM,{}),iI()&&u.jsx(_M,{}),g&&u.jsx(g,{})]}),p)})})}):u.jsx($I,{children:u.jsxs("div",{"data-testid":i,ref:f,id:t,className:We("dynamic-shadow-dom",n),style:{zIndex:o},children:[r,y&&u.jsx(xM,{}),iI()&&u.jsx(_M,{}),g&&u.jsx(g,{})]})})},SY=({onSubmit:e,onError:t,userProfile:n,shouldEnforcePolicies:r=!0,fields:i})=>{var o;const{mockedSDK:s}=PR(),[a,c]=k.useState(!1),{fieldsConfig:l}=y3(),d=r&&((o=i.find(y=>y.name==="policiesConsent"))===null||o===void 0?void 0:o.enabled),f=y=>`${y.charAt(0).toUpperCase()+y.slice(1)} is required`,p=k.useMemo(()=>Sb().shape(Object.fromEntries(i.map(({name:y,required:v,type:w,validationType:_,validationRules:E})=>{let C=w===yl.Custom?ep(zG,_):ep(l,y).validation;return w===yl.Custom&&E&&(_===Tf.Select||_===Tf.Text)&&(C=C,E.validOptions?C=C.oneOf(E.validOptions.map(T=>T.label),"Select a valid option"):E.regex&&(C=C.matches(new RegExp(E.regex),"Invalid field format"))),[y,v?C.required(f(y)):C]}))),[i]),m=k.useMemo(()=>Object.fromEntries(i.map(({name:y,type:v,validationRules:w,validationType:_})=>{var E,C,T,A;const S=n??{};if(v===yl.Custom){let K="";return _===Tf.Select&&(w!=null&&w.validOptions)&&(K=(E=w.validOptions[0].label)!==null&&E!==void 0?E:""),[y,(()=>{var H;const X=S.metadata?ep(S.metadata,y):void 0;return Array.isArray(X)?X:(H=X==null?void 0:X.toString())!==null&&H!==void 0?H:K})()]}const D=(C={country:uT[0].code,policiesConsent:!1,tShirtSize:dT[0],team:fT[0]}[y])!==null&&C!==void 0?C:"";return[y,(A=(T=ep(S,y))===null||T===void 0?void 0:T.toString())!==null&&A!==void 0?A:D]}))||{},[i,n]),g=k.useCallback((y,v)=>ae(void 0,void 0,void 0,function*(){const w={},_={};if(!s)try{if(!(n!=null&&n.environmentId))throw new Ae("Invalid environment ID");c(!0);let E=y;Object.entries(E).forEach(([C,T])=>{const A=i.find(S=>S.name===C&&S.type===yl.Custom);A&&(w[C]=T,delete E[C],A.unique&&(_[C]=T))}),Object.keys(w).length>0&&(E.metadata=w),d&&(E=Object.assign(Object.assign({},E),{policiesConsent:!0}),delete E.policiesConsentArray),yield e==null?void 0:e(E)}catch(E){Ne.error(E),t==null||t(E),E instanceof WA?v.setErrors({email:"Email already exists"}):E instanceof KA?v.setFormikState(C=>Object.assign(Object.assign({},C),{errors:Object.fromEntries(Object.entries(_).map(([T])=>[T,Object.entries(_).length>1?"One or more fields are already tied to another user":`${T} is already tied to another user`])),touched:Object.fromEntries(Object.entries(_).map(([T])=>[T,!0])),values:Object.assign(Object.assign({},m),_)})):E instanceof VA?v.setErrors({email:"Too many email verification attempts."}):E instanceof qA?v.setErrors({username:"Username already exists"}):E instanceof HA?v.setErrors({phoneNumber:E.message}):v.setErrors({api:"Something went wrong. Please try again."})}finally{c(!1)}}),[s,n==null?void 0:n.environmentId,d,e,i,t,m]);return{enforcePolicies:d,fetch:a,formikInitialValues:m,formikValidationSchema:p,onFormSubmit:g}},EY=e=>{var t,n;const r=wR((t=e==null?void 0:e.providers)!==null&&t!==void 0?t:[],br.Sms);return((n=r==null?void 0:r.enabledCountries)!==null&&n!==void 0?n:[]).map(i=>i.isoCountryCode.toLowerCase())},mLe=["us","ca"],CY=e=>e.length?e:mLe,IY=(e,t)=>{const n=k.useRef(!1),r=k.useRef(e);return r.current=e,k.useCallback((...i)=>{n.current||(r.current(...i),n.current=!0,setTimeout(()=>n.current=!1,t))},[t])},gLe=(e,t)=>(e%t+t)%t,yLe=({defaultIso2:e,countries:t,initialPhone:n})=>{if(n){const{country:c}=u3({countries:t,phone:n});if(c)return c}const r=t.map(Is),i=Ft.getFromLS(av),o=r.find(({iso2:c})=>c===i);if(o)return o;const s=r.find(({iso2:c})=>c===e);if(s)return s;const a=r.find(({iso2:c})=>c==="us");if(a)return a;if(r[0])return r[0];throw new Error("No country list was provided")},vLe=50,bLe=20,wLe=({countryInputRef:e,setCountryDropdownOpen:t,setInvalidNumberMessage:n,onUpdate:r,initialPhone:i,countries:o,defaultIso2:s})=>{const a=k.useMemo(()=>yLe({countries:o,defaultIso2:s,initialPhone:i}),[o,s,i]),{inputValue:c,phone:l,country:d,setCountry:f,handlePhoneValueChange:p,inputRef:m}=tG({countries:o,defaultCountry:a.iso2,disableDialCodeAndPrefix:!0,value:i}),[g,y]=k.useState(a.dialCode),v=k.useMemo(()=>l.length===("+"+d.dialCode).length?"":l,[d.dialCode,l]);k.useEffect(()=>{r==null||r({country:d,formattedPhone:c,phone:v})},[d.iso2,c,r,v]);const[w,_]=k.useState(""),E=k.useMemo(()=>w?isNaN(parseInt(w))?o.filter($=>{const{name:L,iso2:z}=Is($);return L.toLowerCase().includes(w.toLowerCase())||z===w.toLowerCase()||d.iso2===z}):o.filter($=>{const{dialCode:L,iso2:z}=Is($);return L.includes(w)||d.iso2===z}):o,[o,d.iso2,w]),C=()=>{_(""),t(!0)},T=k.useCallback(()=>{t(!1)},[t]),A=k.useRef(a),S=({target:$})=>{const L=$.value.slice(0,4);y(L),_(L);const{country:z}=u3({countries:o,currentCountryIso2:d.iso2,phone:L});z&&(A.current=z,f(z.iso2),Ft.setToLS(av,z.iso2),setTimeout(()=>I(z.iso2),bLe))},O=()=>{!A.current||g===A.current.dialCode||(f(A.current.iso2),Ft.setToLS(av,A.current.iso2),y(A.current.dialCode),n(void 0))},D=k.useCallback($=>{$.preventDefault();const L=E.findIndex(j=>Is(j).iso2===d.iso2),z=$.key==="ArrowUp"?-1:1,q=Is(E[gLe(L+z,E.length)]);I(q.iso2),y(q.dialCode),f(q.iso2),A.current=q,Ft.setToLS(av,q.iso2),n(void 0)},[d.iso2,E,n,f]),K=k.useCallback(()=>{var $;T(),($=m.current)===null||$===void 0||$.select()},[T,m]),H=k.useCallback($=>{if($.key==="Tab")return T();if($.key==="ArrowUp"||$.key==="ArrowDown")return D($);if($.key==="Enter")return K($)},[T,D,K]),X=k.useMemo(()=>E1({charAfterDialCode:"+",dialCode:d.dialCode,phone:l}).length>0,[d.dialCode,l]),U=k.useRef(null),I=$=>{var L;const z=(L=U.current)===null||L===void 0?void 0:L.querySelector("#"+$);z==null||z.scrollIntoView({behavior:"instant",block:"center",inline:"center"})},x=IY($=>{var L;const z=!!U.current,q=!!$;U.current=$,!(z||!q)&&((L=e.current)===null||L===void 0||L.select(),I(d.iso2))},vLe),P=$=>{y($.dialCode),f($.iso2),Ft.setToLS(av,$.iso2),A.current=$,n(void 0)},N=k.useMemo(()=>g.length>3?"var(--dynamic-text-size-body-mini)":g.length>2?"var(--dynamic-text-size-body-small)":"var(--dynamic-text-size-body-normal)",[g.length]);return{closeDropdown:T,countryFontSize:N,countryInput:g,currentCountry:d,filteredCountries:E,formattedPhone:c,handleCountryInput:S,handleCountryKeyDown:H,handlePhoneInput:p,hasInput:X,inputRef:m,onBlurCountry:O,onFocusCountry:C,onMenuDisplayToggle:x,openDropdown:C,setCountry:P}},AY=({isLoading:e,disabled:t,error:n,label:r,onUpdate:i,appendRight:o,setIsFocused:s,setIsHovered:a,initialPhone:c,onBlur:l,countries:d})=>{const{t:f}=ut(),p=k.useRef(null),[m,g]=k.useState(!1),y=k.useRef(null),{defaultPhoneInputIso2:v}=Te(),[w,_]=k.useState(void 0),{formattedPhone:E,currentCountry:C,handleCountryInput:T,handlePhoneInput:A,hasInput:S,inputRef:O,countryInput:D,onBlurCountry:K,filteredCountries:H,openDropdown:X,handleCountryKeyDown:U,closeDropdown:I,setCountry:x,onMenuDisplayToggle:P,onFocusCountry:N,countryFontSize:$}=wLe({countries:d,countryInputRef:p,defaultIso2:v,initialPhone:c,onUpdate:i,setCountryDropdownOpen:g,setInvalidNumberMessage:_});return u.jsxs("div",{className:"phone-number-field",children:[u.jsxs("div",{className:"phone-number-field__fields",onPointerEnter:()=>a==null?void 0:a(!0),onPointerLeave:()=>a==null?void 0:a(!1),onFocus:()=>s==null?void 0:s(!0),onBlur:L=>{s==null||s(!1),l==null||l(L)},ref:y,children:[u.jsxs("div",{className:We("phone-number-field__fields__country-code",{"phone-number-field__fields__country-code--disabled":e||t}),onClick:X,"data-testid":"country-code",children:[u.jsx(k2,{iso2:C.iso2,size:"24px",className:"phone-number-field__fields__country-code__flag"}),u.jsx(ie,{className:"phone-number-field__fields__country-code__plus",variant:"body_normal",weight:"regular",style:{fontSize:$},color:"primary",children:"+"}),u.jsx(ea,{label:"",id:"country_code_field",value:D,onChange:T,disabled:e||t,containerClassName:"phone-number-field__fields__country-code__container",className:"phone-number-field__fields__country-code__container__input",onBlur:K,ref:p,onKeyDown:U,onFocus:N,style:{fontSize:$},"data-testid":"country-code-input",inputMode:"numeric",autoComplete:"tel-country-code"}),u.jsx(un,{className:"phone-number-field__fields__country-code__chevron",children:u.jsx(YJ,{})})]}),u.jsx(ea,{label:"",id:"phoneNumber",value:E,onChange:A,disabled:e||t,containerClassName:"phone-number-field__fields__phone-number",className:"phone-number-field__fields__phone-number__input",ref:O,error:!!(w||n),inputMode:"numeric","data-testid":"phone_number_input",autoComplete:"tel-national"}),!S&&u.jsx(ie,{className:"phone-number-field__fields__placeholder",variant:"body_normal",weight:"regular",copykey:"dyn_collect_user_data.fields.phone_number.label",children:r??f("dyn_collect_user_data.fields.phone_number.label")}),o]}),u.jsx(eY,{isOpen:m,onClickClose:I,popperProps:{anchorOrigin:"bottom-left",anchorRef:y},mobileTitle:"Select country",dropdownClassName:"phone-number-field__dropdown",children:u.jsx("div",{className:"phone-number-field__dropdown__items",ref:P,children:H.map(L=>{const z=Is(L),{iso2:q,name:j,dialCode:W}=z,re=q===C.iso2;return u.jsxs("div",{className:We("phone-number-field__dropdown__items__country",{"phone-number-field__dropdown__items__country--selected":re}),onClick:()=>{x(z),I()},id:q,children:[u.jsx(k2,{iso2:q,size:"24px"}),u.jsx(ie,{variant:"body_small",color:"primary",children:j}),u.jsx(ie,{variant:"body_small",color:"secondary",children:W})]},q)})})}),!!(w||n)&&u.jsx(ie,{variant:"body_mini",className:"phone-number-field__error-message",children:n??w})]})},_Le=({onChange:e,value:t,onBlur:n,disabled:r,label:i,required:o,error:s,name:a,verify:c})=>{const{selectedPhoneCountry:l}=_T(),{projectSettings:d}=Te(),f=({country:m,phone:g})=>{l.current=m,g!==t&&e({target:{name:a,value:g}})},p=k.useMemo(()=>{const m=EY(d);return QT(c?CY(m):void 0)},[c,d]);return u.jsx(AY,{countries:p,initialPhone:t,disabled:r,onUpdate:f,onBlur:n,label:i,appendRight:!r&&!o?u.jsx(ie,{variant:"body_small",color:"secondary",className:"user-phone-field__optional-label",children:"Optional"}):void 0,error:s})},z2=(e,t)=>{var n;if(!t)return;const r={required:i=>`${i} is required`};return((n=r[t])===null||n===void 0?void 0:n.call(r,e))||t},Yf=({ariaLabel:e,checked:t,className:n="",defaultChecked:r,disabled:i,id:o,name:s,onChange:a,value:c})=>u.jsxs("div",{className:We("checkbox__container",n),children:[u.jsx("input",{type:"checkbox",id:o,"aria-label":e,"aria-checked":t,className:"checkbox--hidden",value:c,checked:t,name:s,disabled:i,defaultChecked:r,onChange:l=>!!a&&(a==null?void 0:a(l,l.currentTarget.value)),"data-testid":"input-checkbox"}),u.jsx("div",{className:"checkbox--visible",children:u.jsx(Td,{className:"checkbox__icon"})})]});var kM,xLe=["title","titleId"];function w8(){return w8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w8.apply(this,arguments)}function kLe(e,t){if(e==null)return{};var n=SLe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SLe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var ELe=function(t){var n=t.title,r=t.titleId,i=kLe(t,xLe);return k.createElement("svg",w8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,kM||(kM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.862 9.529c.26-.26.682-.26.943 0L12 13.724l4.195-4.195a.667.667 0 1 1 .943.942l-4.667 4.667a.667.667 0 0 1-.942 0l-4.667-4.667a.667.667 0 0 1 0-.942Z",fill:"currentColor"})))};const CLe=e=>{if(!e)return;const{selectedIndex:t}=e;if(t===void 0)return;const n=e.options[t];if(n.hasAttribute("value"))return n.text},TY=e=>{var{children:t,className:n="",id:r,label:i,value:o,error:s=!1,selectDataTestId:a,message:c}=e,l=na(e,["children","className","id","label","value","error","selectDataTestId","message"]);const d=k.useRef(null),[f,p]=k.useState();return k.useLayoutEffect(()=>{if(!o)return;const m=d.current;p(CLe(m))},[o,p]),u.jsxs("div",{className:"select__field",children:[u.jsxs("div",{className:We(n,"select__container"),children:[u.jsxs("label",{className:We("select__body",{select__error:s,select__has_value:!!f}),htmlFor:r,children:[u.jsx("span",{className:"select__value",children:f||u.jsx("span",{children:" "})}),u.jsx("span",{className:"select__label",children:i}),u.jsx("div",{className:"select__control_icon",children:u.jsx(un,{size:"medium",children:u.jsx(ELe,{})})})]}),u.jsx("select",Object.assign({},l,{"data-testid":a,ref:d,id:r,value:o,placeholder:i,className:"select",children:t}))]}),c&&u.jsx(ie,{className:We("select__message",{select__message__error:s}),variant:"body_mini",children:c})]})},q_=({key:e,name:t,label:n,type:r,options:i,disabled:o,dataTestId:s},{errors:a,touched:c})=>u.jsx(qf,{copykey:e,as:TY,type:r,id:t,name:t,label:n,error:!!(a[t]&&c[t]),selectDataTestId:s,message:c[t]&&z2(n,a[t]),disabled:o,children:i.map(l=>typeof l=="string"?u.jsx("option",{value:l,children:l},l):u.jsx("option",{value:l.value,children:l.label},l.value))},t),ILe=(e,t,n,r,i,o,s)=>u.jsxs("div",{children:[u.jsx("div",{role:"group","aria-labelledby":"checkbox-group",className:`user-field__checkbox-container ${i[t]&&o[t]?"user-field__checkbox-container--error":""}`,children:(r==null?void 0:r.checkboxText)&&u.jsxs("div",{className:"user-field__consent-checkbox",children:[u.jsx(qf,{as:Yf,id:e,name:t,type:"checkbox",value:"0",disabled:s,selectDataTestId:"customFieldCheckbox"},e),u.jsx("label",{htmlFor:e,className:"user-field__checkbox-label",children:u.jsx(ie,{variant:"body_small",color:"secondary",children:r.checkboxText})})]},e)},"customConsentGroup"),o[t]&&z2(n,i[t])&&u.jsx(ie,{variant:"body_mini",className:"user-field__error-message",children:`${t.charAt(0).toUpperCase()+t.slice(1)} is required`})]}),ALe=(e,t,n)=>u.jsx("div",{role:"group","aria-labelledby":"checkbox-group",className:"user-field__checkbox-container",children:t==null?void 0:t.map((r,i)=>u.jsxs("div",{className:"user-field__consent-checkbox",children:[u.jsx(qf,{copykey:e,as:Yf,id:`policiesConsent_${i}`,name:"policiesConsentArray",type:"checkbox",value:`${i}`,disabled:n},`policiesConsent_${i}`),u.jsx("label",{htmlFor:`policiesConsent_${i}`,className:"user-field__checkbox-label",children:u.jsx(ie,{variant:"body_small",color:"secondary",children:r})})]},`policiesConsent_${i}`))},"policiesConsentGroup"),TLe=({fieldData:{validationRules:e,isCustom:t,key:n,label:r,type:i,autoComplete:o},fieldSettings:{enabled:s,name:a,required:c,verify:l,label:d=r},errors:f,touched:p,disabled:m,policiesConsentInnerComponentArray:g})=>{if(t){if(i===Tf.Select&&(e!=null&&e.validOptions)){const y=e.validOptions.map(v=>v.label);return q_({dataTestId:"customFieldSelect",disabled:m,key:n,label:d,name:a,options:y,type:i},{errors:f,touched:p})}else if(i===Tf.Checkbox)return ILe(n,a,d,e,f,p,m)}switch(a){case"tShirtSize":return q_({dataTestId:"tShirtSizeSelect",disabled:m,key:n,label:d,name:a,options:dT,type:i},{errors:f,touched:p});case"team":return q_({dataTestId:"teamSelect",disabled:m,key:n,label:d,name:a,options:fT,type:i},{errors:f,touched:p});case"country":return q_({dataTestId:"countrySelect",disabled:m,key:n,label:d,name:a,options:uT.map(y=>({label:y.name,value:y.code})),type:i},{errors:f,touched:p});case"policiesConsent":return ALe(n,g,m);case"phoneNumber":return u.jsx(qf,{name:a,as:_Le,disabled:m,label:d,required:c,error:p[a]&&f[a]?z2(d,f[a]):void 0,verify:l,autoComplete:o},a);default:return u.jsx(qf,{copykey:n,disabled:m,as:ea,type:i,id:a,name:a,label:d,optional:s&&!c,error:f[a]&&p[a],message:p[a]&&z2(d,f[a]),autoComplete:o},a)}},RLe=({enabled:e,name:t,lockForVerification:n})=>{if(t==="email"&&!e)return"dyn_collect_user_data.update_email_tooltip";if(t==="phoneNumber"&&!e)return"dyn_collect_user_data.update_phone_number_tooltip";if(n)return"dyn_collect_user_data.lock_editing_multiple_verified_fields"},RY=({errors:e,policiesConsentInnerComponentArray:t,fields:n,touched:r,currentValues:i,disableEditingMultipleFieldsWithVerification:o,initialValues:s})=>{const{fieldsConfig:a}=y3(),{t:c}=ut(),l=k.useMemo(()=>s&&i&&n?n.filter(d=>d.verify&&s[d.name]!==i[d.name]).map(d=>d.name):[],[i,n,s]);return u.jsx("div",{className:"user-data-fields__fields-column",children:n==null?void 0:n.map(d=>{const{enabled:f,name:p,verify:m}=d,g=o&&m&&l.length>0&&!l.includes(p),y=!f||g,v=RLe({enabled:f,lockForVerification:g,name:p});let w;d.type!==yl.Custom?w=a[p]:w={isCustom:!0,key:d.name,label:d.name,type:d.validationType,validation:zG[d.validationType],validationRules:d.validationRules};const _=u.jsx(TLe,{disabled:!!y,errors:e,fieldData:w,fieldSettings:d,touched:r,policiesConsentInnerComponentArray:t},w.key);return v?u.jsx(B1,{content:c(v),className:"user-data-fields__tooltip",copykey:v,children:_},w.key+"__tooltip"):_})})},PY=({filterFields:e,formClassName:t,fieldsContainerStyle:n,onEditProfileSubmit:r,onEditProfileCancel:i,options:o={buttonsAsFooter:!0,cancelText:"Cancel",shouldEnforcePolicies:!1,submitText:"Save"}})=>{const{projectSettings:s,user:a}=Te(),c=k.useMemo(()=>{const g=$3({customFields:s==null?void 0:s.customFields,projectSettingsKyc:s==null?void 0:s.kyc,user:a});return e?g.filter(({name:y})=>e.includes(y)):g},[e,s==null?void 0:s.customFields,s==null?void 0:s.kyc,a]),{fetch:l,formikInitialValues:d,formikValidationSchema:f,onFormSubmit:p}=SY({fields:c,onSubmit:r,shouldEnforcePolicies:o.shouldEnforcePolicies,userProfile:a}),m=(g,y,v)=>u.jsxs(u.Fragment,{children:[!o.hideCancelButton&&u.jsx(Qt,Object.assign({disabled:l,expanded:!0,buttonPadding:"medium",buttonVariant:"secondary",type:"button",typographyProps:{variant:"button_secondary"},onClick:i,dataTestId:"cancel-button"},o.cancelButtonProps,{children:o.cancelText})),u.jsx(Qt,Object.assign({buttonClassName:"dynamic-widget-footer__button",disabled:l||!y||!v,expanded:!0,type:"submit",buttonPadding:"medium",typographyProps:{variant:"button_secondary"},loading:g,startSlot:u.jsx(Td,{}),dataTestId:"submit-button"},o.submitButtonProps,{children:o.submitText}))]});return u.jsx(P3,{onSubmit:p,initialValues:d,validationSchema:f,validateOnChange:!0,children:({errors:g,touched:y,isSubmitting:v,isValid:w,dirty:_,values:E})=>u.jsxs(O1,{className:We("dynamic-widget-edit-profile-view",t),"data-testid":"editUserProfileForm",children:[u.jsx("div",{className:"dynamic-widget-edit-profile-view__fields",style:n,children:u.jsx(RY,{errors:g,fields:c,touched:y,currentValues:E,initialValues:d,disableEditingMultipleFieldsWithVerification:!0})}),o.buttonsAsFooter?u.jsx(L3,{children:m(v,w,_)}):m(v,w,_)]})})},PLe=e=>e.replace(/([a-z])([A-Z])/g,"$1 $2"),OLe=(e,t)=>{const{appName:n,user:r}=Te(),i=n?`${n} `:"";if(e.submitText||(e.submitText="Update"),t.length!==1)return e.title||(e.title="Update your info"),e.subtitle||(e.subtitle=`Fill out your info for your ${i}account`),e;const[o]=t,s=PLe(o).toLowerCase(),a=r!=null&&r[o]?"Update":"Enter";return e.title||(e.title=`${a} your ${s}`),e.subtitle||(e.subtitle=`Add your ${s} to your ${i}account`),e};var SM,NLe=["title","titleId"];function _8(){return _8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_8.apply(this,arguments)}function jLe(e,t){if(e==null)return{};var n=BLe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function BLe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var $Le=function(t){var n=t.title,r=t.titleId,i=jLe(t,NLe);return k.createElement("svg",_8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,SM||(SM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4a8 8 0 1 0 4 14.928 1 1 0 1 1 1 1.732A9.96 9.96 0 0 1 11.942 22C6.446 21.968 2 17.503 2 12 2 6.477 6.477 2 12 2s10 4.477 10 10v1.5a3.5 3.5 0 0 1-6.396 1.966A5 5 0 1 1 17 12v1.5a1.5 1.5 0 0 0 3 0V12a8 8 0 0 0-8-8Zm3 8a3 3 0 1 0-6 0 3 3 0 0 0 6 0Z",fill:"currentColor"})))},EM,MLe=["title","titleId"];function x8(){return x8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x8.apply(this,arguments)}function DLe(e,t){if(e==null)return{};var n=LLe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LLe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var ULe=function(t){var n=t.title,r=t.titleId,i=DLe(t,MLe);return k.createElement("svg",x8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,EM||(EM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6a1 1 0 0 1 1-1h16a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h16a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Z",fill:"currentColor"})))},CM,FLe=["title","titleId"];function k8(){return k8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k8.apply(this,arguments)}function WLe(e,t){if(e==null)return{};var n=zLe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zLe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var qLe=function(t){var n=t.title,r=t.titleId,i=WLe(t,FLe);return k.createElement("svg",k8({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,CM||(CM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.6 8.067a9.333 9.333 0 0 0-13.2 13.2l5.658 5.657c.52.52 1.363.52 1.884 0l5.658-5.658a9.333 9.333 0 0 0 0-13.199ZM7.515 6.181c4.686-4.686 12.284-4.686 16.97 0 4.687 4.687 4.687 12.285 0 16.97l-4.67 4.67c-.041.042.019-.018-.023.024l-.964.964a3.998 3.998 0 0 1-5.655 0l-5.658-5.657c-4.687-4.686-4.687-12.284 0-16.97ZM16 12a2.667 2.667 0 1 0 0 5.333A2.667 2.667 0 0 0 16 12Zm-5.333 2.667a5.333 5.333 0 1 1 10.666 0 5.333 5.333 0 0 1-10.666 0Z",fill:"currentColor"})))},IM,VLe=["title","titleId"];function S8(){return S8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S8.apply(this,arguments)}function HLe(e,t){if(e==null)return{};var n=KLe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KLe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var OY=function(t){var n=t.title,r=t.titleId,i=HLe(t,VLe);return k.createElement("svg",S8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,IM||(IM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7Zm2 2.869V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V9.869l-6.336 4.223a3 3 0 0 1-3.328 0L4 9.87Zm16-2.404-7.445 4.963a1 1 0 0 1-1.11 0L4 7.465V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v.465Z",fill:"currentColor"})))},AM,GLe=["title","titleId"];function E8(){return E8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E8.apply(this,arguments)}function ZLe(e,t){if(e==null)return{};var n=JLe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JLe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var YLe=function(t){var n=t.title,r=t.titleId,i=ZLe(t,GLe);return k.createElement("svg",E8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,AM||(AM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 5a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3V5Zm3-1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H8Zm3 14a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1Z",fill:"currentColor"})))},TM,XLe=["title","titleId"];function C8(){return C8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C8.apply(this,arguments)}function QLe(e,t){if(e==null)return{};var n=eUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var tUe=function(t){var n=t.title,r=t.titleId,i=QLe(t,XLe);return k.createElement("svg",C8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,TM||(TM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h4a3 3 0 0 1 3 2.93 3 3 0 0 1 4.192.05l2.829 2.828A3 3 0 0 1 19.069 12 3 3 0 0 1 22 15v4a3 3 0 0 1-3 3H7a5 5 0 0 1-5-5V5Zm9.071 15H19a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-1.929l-6 6Zm4.878-7.707h.001l1.657-1.657a1 1 0 0 0 0-1.414l-2.829-2.829a1 1 0 0 0-1.414 0L12 7.757v8.486l3.95-3.95ZM9.123 19.12A2.99 2.99 0 0 0 10 17V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a3 3 0 0 0 5.123 2.12ZM6 17a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H7a1 1 0 0 1-1-1Z",fill:"currentColor"})))},RM,nUe=["title","titleId"];function I8(){return I8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I8.apply(this,arguments)}function rUe(e,t){if(e==null)return{};var n=iUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function iUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var PM=function(t){var n=t.title,r=t.titleId,i=rUe(t,nUe);return k.createElement("svg",I8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,RM||(RM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 5a3 3 0 1 1 6 0h4a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h4Zm.17 2H5a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1h-4.17a3.001 3.001 0 0 1-5.66 0ZM12 4a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V5a1 1 0 0 0-1-1Zm-3 7a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm2.4 2.8a3 3 0 1 0-4.8 0 4.01 4.01 0 0 0-1.372 1.867 1 1 0 1 0 1.885.666 2.001 2.001 0 0 1 3.773 0 1 1 0 1 0 1.886-.666A4.01 4.01 0 0 0 11.4 13.8ZM14 11a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Z",fill:"currentColor"})))},OM,oUe=["title","titleId"];function A8(){return A8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A8.apply(this,arguments)}function sUe(e,t){if(e==null)return{};var n=aUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var cUe=function(t){var n=t.title,r=t.titleId,i=sUe(t,oUe);return k.createElement("svg",A8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,OM||(OM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4a8 8 0 0 0-6.598 12.526A14.943 14.943 0 0 1 12 15c2.366 0 4.606.548 6.598 1.526A8 8 0 0 0 12 4Zm7.654 14.436A9.96 9.96 0 0 0 22 12c0-5.523-4.477-10-10-10S2 6.477 2 12a9.96 9.96 0 0 0 2.37 6.464A9.978 9.978 0 0 0 12 22a9.978 9.978 0 0 0 7.654-3.564ZM17.2 18.08A12.954 12.954 0 0 0 12 17c-1.85 0-3.607.386-5.199 1.08A7.968 7.968 0 0 0 12 20c1.985 0 3.8-.723 5.199-1.92ZM12 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z",fill:"currentColor"})))},NM,lUe=["title","titleId"];function T8(){return T8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T8.apply(this,arguments)}function dUe(e,t){if(e==null)return{};var n=uUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var fUe=function(t){var n=t.title,r=t.titleId,i=dUe(t,lUe);return k.createElement("svg",T8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,NM||(NM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v1h2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h2V4ZM5 7a1 1 0 0 0-1 1v4.57A22.95 22.95 0 0 0 12 14c2.815 0 5.51-.505 8-1.43V8a1 1 0 0 0-1-1H5Zm10-2H9V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1Zm5 9.692A24.971 24.971 0 0 1 12 16c-2.796 0-5.487-.46-8-1.308V18a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-3.308ZM11 12a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1Z",fill:"currentColor"})))};const hUe={alias:cUe,country:qLe,email:OY,firstName:PM,jobTitle:fUe,lastName:PM,phoneNumber:YLe,tShirtSize:tUe,username:$Le},pUe=({fields:e,className:t})=>{const n=e.length===1?hUe[e[0]]:void 0;return n?u.jsx(n,{className:t}):u.jsx(ULe,{className:t})},mUe=({onClickClose:e,onSubmit:t,fields:n,submitText:r,subtitle:i,title:o})=>{({submitText:r,subtitle:i,title:o}=OLe({submitText:r,subtitle:i,title:o},n));const s=e&&u.jsx(Vr,{type:"button",onClick:e,"data-testid":"close-button",children:u.jsx(vo,{})});return u.jsxs(u.Fragment,{children:[u.jsx(ji,{alignContent:"bottom",trailing:s,children:u.jsxs("div",{className:"user-field-editor__header",children:[u.jsx("div",{className:"user-field-editor__header__icon",children:u.jsx(un,{color:"brand-primary",size:"large",children:u.jsx(pUe,{fields:n})})}),o&&u.jsx(ie,{variant:"title",color:"primary",children:o})]})}),u.jsxs("div",{className:"user-field-editor__body",children:[i&&u.jsx(ie,{className:"user-field-editor__body__subtitle",variant:"body_normal",color:"secondary",children:i}),u.jsx(PY,{filterFields:n,onEditProfileSubmit:t,formClassName:"user-field-editor__body__form",fieldsContainerStyle:{padding:0},options:{buttonsAsFooter:!1,hideCancelButton:!0,submitButtonProps:{buttonPadding:"large",startSlot:void 0,typographyProps:{variant:"button_primary"}},submitText:r}})]}),u.jsx(Ad,{asFooter:!0})]})},gUe=e=>{var{onCancel:t,onSubmit:n,fields:r}=e,i=na(e,["onCancel","onSubmit","fields"]);const[o,s]=k.useState(!0),a=k.useRef(!1),c=k.useCallback(()=>{a.current||t("User cancelled"),a.current=!0},[t]),l=f=>ae(void 0,void 0,void 0,function*(){return n(f).then(()=>{a.current=!0,s(!1)})}),d=()=>s(!1);return u.jsx(G0,{handleClose:d,isShown:o,zIndex:U0,withBackdrop:!0,elementId:"dynamic-edit-user-field",transitionEvents:{onUnmount:c},children:u.jsx(K0,{children:u.jsx(Nu,{children:u.jsx(mUe,Object.assign({onSubmit:l,onClickClose:d,fields:r},i))})})})},yUe=({children:e,shadowDOMProps:t})=>u.jsx(dh,Object.assign({},t,{children:u.jsx(v3,{children:e})})),NY=k.createContext(void 0),vUe=({children:e})=>{const{modal:t,open:n}=gg({elementId:"dynamic-edit-user-field"}),r=k.useCallback((i,o)=>ae(void 0,void 0,void 0,function*(){return n((s,a)=>{const c=l=>o(l).then(d=>s({fields:l,updateUserResult:d}));return u.jsx(yUe,{children:u.jsx(gUe,{fields:i.fields,submitText:i.submitText,title:i.title,subtitle:i.subtitle,onCancel:a,onSubmit:c})})})}),[n]);return u.jsxs(NY.Provider,{value:{open:r},children:[t,e]})},q2=k.forwardRef(({children:e,className:t="",isOpen:n,dataTestId:r,dimOnHide:i=!1,handleScroll:o=()=>{}},s)=>{const a=k.useRef(null),c=k.useRef(),[l]=UG(a),d=k.useMemo(()=>n?l?l.height:c.current:0,[n,l]);return k.useEffect(()=>{const f=l==null?void 0:l.height;f&&(c.current=f)},[l]),u.jsxs("div",{"data-testid":r,style:{maxHeight:d},className:We(t,"accordion-item",{"accordion-item--full-height":!!d}),onScroll:o,ref:s,children:[i&&u.jsx("div",{"data-testid":"accordion-item-curtain",className:We("accordion-item__curtain",{"accordion-item__curtain--dimmed":!n})}),u.jsx("div",{ref:a,children:e})]})});q2.displayName="AccordionItem";const bUe=({children:e,className:t,style:n})=>u.jsx("div",{className:We(t,"vertical-accordion__container"),style:n,children:e}),wUe=()=>{const{shouldHideDynamicFooterSeparator:e}=lh();return u.jsx("div",{"data-testid":"dynamic-footer",className:We("dynamic-footer",{"dynamic-footer__top-border":!e}),children:u.jsx(Ad,{})})};var jM,_Ue=["title","titleId"];function R8(){return R8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R8.apply(this,arguments)}function xUe(e,t){if(e==null)return{};var n=kUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var SUe=function(t){var n=t.title,r=t.titleId,i=xUe(t,_Ue);return k.createElement("svg",R8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,jM||(jM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.707 4.293a1 1 0 0 1 0 1.414L5.414 11H21a1 1 0 1 1 0 2H5.414l5.293 5.293a1 1 0 0 1-1.414 1.414l-7-7a1 1 0 0 1 0-1.414l7-7a1 1 0 0 1 1.414 0Z",fill:"currentColor"})))},BM,EUe=["title","titleId"];function P8(){return P8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P8.apply(this,arguments)}function CUe(e,t){if(e==null)return{};var n=IUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var O8=function(t){var n=t.title,r=t.titleId,i=CUe(t,EUe);return k.createElement("svg",P8({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,BM||(BM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.333a6.667 6.667 0 1 0 0 13.334 6.667 6.667 0 0 0 0-13.334ZM1.667 10a8.333 8.333 0 1 1 16.666 0 8.333 8.333 0 0 1-16.666 0Zm7.5-3.333c0-.46.373-.834.833-.834h.008a.833.833 0 1 1 0 1.667H10a.833.833 0 0 1-.833-.833ZM8.333 10c0-.46.374-.833.834-.833H10c.46 0 .833.373.833.833v2.5a.833.833 0 1 1 0 1.667H10a.833.833 0 0 1-.833-.834v-2.5A.833.833 0 0 1 8.333 10Z",fill:"currentcolor"})))},$M,MM,AUe=["title","titleId"];function N8(){return N8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N8.apply(this,arguments)}function TUe(e,t){if(e==null)return{};var n=RUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var PUe=function(t){var n=t.title,r=t.titleId,i=TUe(t,AUe);return k.createElement("svg",N8({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,$M||($M=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.25a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM1.667 10a8.333 8.333 0 1 1 16.666 0 8.333 8.333 0 0 1-16.666 0Z",fill:"currentcolor"})),MM||(MM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.31 7.044a1.784 1.784 0 0 0-1.133.192 1.513 1.513 0 0 0-.699.783.792.792 0 0 1-1.481-.559c.26-.689.768-1.257 1.42-1.613a3.368 3.368 0 0 1 2.144-.367 3.262 3.262 0 0 1 1.908 1.023c.496.55.775 1.254.774 1.99 0 1.201-.948 1.972-1.587 2.369a6.63 6.63 0 0 1-1.354.635l-.028.01-.008.002h-.003l-.002.001-.235-.756.235.756A.792.792 0 0 1 9.789 10h.001m0 0 .014-.005.06-.021a5.054 5.054 0 0 0 .956-.456c.575-.357.84-.717.84-1.024 0-.332-.125-.66-.367-.928a1.68 1.68 0 0 0-.982-.521M9.265 13.77c0-.438.355-.792.792-.792h.01a.792.792 0 1 1 0 1.584h-.01a.792.792 0 0 1-.792-.792Z",fill:"currentcolor"})))};const OUe=({onClose:e,heading:t,projectSettings:n,copykey:r})=>{const{setError:i}=Po(),{isFooterExpanded:o,setIsFooterExpanded:s}=g3(),{selectedWalletConnector:a}=Te(),{goToInitialView:c,view:l,setView:d}=dn(),{showBackButton:f,showCloseButton:p,showHelpContent:m,isWalletListTypeView:g,displayBorderBelowHeader:y}=lh(),{setExistentAccountData:v}=C1(),{setSocialProvider:w}=Fu(),_=k.useCallback(()=>{var A;if(!((A=l.events)===null||A===void 0)&&A.onBackClick){l.events.onBackClick();return}if(l.type==="farcaster-connect-view"&&(w(void 0),Kt.emit("farcasterConnectCancelled"),Kt.emit("authFailure",{option:br.Farcaster,provider:br.Farcaster,type:"social"},"user-cancelled")),v(void 0),i(void 0),l.type==="no-qr-not-installed"&&(a!=null&&a.canConnectViaQrCode)){d("qr-code");return}c()},[l.type,l.events,c,v,i,w,d,a]),E=p&&e&&u.jsx(Vr,{onClick:e,type:"button",id:"close-button","data-testid":"close-button",className:"header__icon",children:u.jsx(vo,{})}),C=m&&u.jsx(B1,{content:"Need some help?",className:"header__tooltip",children:u.jsx(Vr,{type:"button",onClick:()=>s(!o),"data-testid":"info-button",className:"header__icon",children:g?u.jsx(PUe,{}):u.jsx(O8,{})})},"info-button"),T=[];return f&&T.push(u.jsx(Vr,{type:"button",onClick:_,"data-testid":"back-button",className:"header__icon",children:u.jsx(SUe,{})},"back-button")),E&&C&&T.push(C),u.jsx(ji,{leading:T,trailing:E||C,displayBorder:y,children:(!n||!!t)&&u.jsx(ie,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:r,children:n?t:u.jsx(Zc,{className:"header__skeleton"})})})},NUe=()=>u.jsx("div",{"data-testid":"empty-help-content"});var DM,jUe=["title","titleId"];function j8(){return j8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j8.apply(this,arguments)}function BUe(e,t){if(e==null)return{};var n=$Ue(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $Ue(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var B8=function(t){var n=t.title,r=t.titleId,i=BUe(t,jUe);return k.createElement("svg",j8({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,DM||(DM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.995 4.167c3.965 0 6.643 2.655 7.937 4.675a2.14 2.14 0 0 1 0 2.316c-1.294 2.02-3.972 4.675-7.937 4.675-3.965 0-6.643-2.655-7.937-4.675a2.14 2.14 0 0 1 0-2.316c1.294-2.02 3.972-4.675 7.937-4.675ZM14.16 10a4.167 4.167 0 1 1-8.333 0 4.167 4.167 0 0 1 8.333 0Zm-4.12 2.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",fill:"currentColor"})))},LM,MUe=["title","titleId"];function $8(){return $8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$8.apply(this,arguments)}function DUe(e,t){if(e==null)return{};var n=LUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var tE=function(t){var n=t.title,r=t.titleId,i=DUe(t,MUe);return k.createElement("svg",$8({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,LM||(LM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.667 18.333a2 2 0 0 0 2-2V3.667a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2v12.666a2 2 0 0 0 2 2h6ZM9 8.333a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1H4.333a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1H9ZM17.5 5.833c.46 0 .833.373.833.834v7.5H17.5h.833V14.186a1.201 1.201 0 0 1-.005.113 2.881 2.881 0 0 1-.29 1.075c-.155.307-.398.64-.779.893-.386.258-.863.4-1.426.4-.562 0-1.04-.142-1.425-.4a2.295 2.295 0 0 1-.778-.893 2.878 2.878 0 0 1-.296-1.16v-.045l.833-.001h-.834V9.185l-.001-.011a.2.2 0 0 0-.015-.051v-.001s.005.008.016.02V7.5c.354 0 .675.091.944.27.264.176.43.404.53.607A1.856 1.856 0 0 1 15 9.13v.035c0 .001 0 .002-.832.002H15v4.992l.001.02a1.228 1.228 0 0 0 .12.448c.054.11.123.194.211.253.083.055.23.12.501.12s.419-.065.502-.12a.633.633 0 0 0 .211-.253 1.218 1.218 0 0 0 .12-.468V6.667c0-.46.374-.834.834-.834ZM13.378 9.17h.002-.002Z",fill:"currentColor"})))},UM,UUe=["title","titleId"];function M8(){return M8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M8.apply(this,arguments)}function FUe(e,t){if(e==null)return{};var n=WUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function WUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var jY=function(t){var n=t.title,r=t.titleId,i=FUe(t,UUe);return k.createElement("svg",M8({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,UM||(UM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.125 6.875a5 5 0 1 0-10 0 5 5 0 0 0 10 0Zm-2.5 0a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Zm-7.809 3.243a6.258 6.258 0 0 0 1.671 1.865L7.13 14.34l1.752 1.753-1.768 1.767-1.752-1.752-1.718 1.718-1.768-1.767 5.941-5.942Z",fill:"currentColor"})))};const BY=e=>e!=null&&x1(e)&&e.isHardwareWalletEnabled,H3=({children:e,className:t="",delay:n=0,dataTestId:r})=>{const i=k.useMemo(()=>({animationDelay:n}),[n]);return u.jsx("div",{"data-testid":r,className:We(t,"enter-list-tile-animation"),style:i,children:e})},zUe=({title:e,content:t,Icon:n,className:r="",iconClassName:i="",textClassName:o=""})=>u.jsxs("div",{className:We("info-item__container",r),children:[u.jsx("div",{className:We("info-item__icon-container",i,{"icon-container--has-content":!!t}),children:u.jsx(n,{})}),u.jsxs("div",{children:[u.jsx(ie,{as:"h2",className:o,variant:"body_normal",color:"primary",weight:"medium",children:e}),t&&u.jsx(ie,{variant:"body_normal",color:"secondary",weight:"regular",className:"info-item__secondary-text",children:t})]})]}),FM=({variant:e,wallet:t})=>{const n={info:[{content:"Signing proves you have access to your wallet. It’s a bit like verifying your email by clicking an email confirmation link in your inbox during signup. This does not approve a transaction.",icon:jY,title:"Confirms you own your wallet"},{icon:tE,title:"There are no associated gas costs"}]},r=BY(t)?{info:[{content:"By connecting a wallet to a website, you are allowing the site to read the contents of your wallet. This does not approve a transaction.",icon:B8,title:"Allows read access"},{content:u.jsxs("div",{className:"footer-more-info-content__item--phantom-ledger",children:[u.jsx(ie,{as:"p",variant:"body_small",weight:"regular",children:"Ledger does not support message signing functionality, commonly used to log in to sites. Instead, we sign a transaction as a proxy to prove ownership of the wallet."}),u.jsxs(ie,{as:"p",variant:"body_small",weight:"regular",children:[u.jsx("strong",{children:"Important"}),": we do not"," ",u.jsx("strong",{children:"broadcast"})," this transaction, meaning Ledger based login will still be gasless."]}),u.jsx(ie,{as:"p",variant:"body_small",weight:"regular",children:"Phantom in turn shows that a fee may apply as part of the “transaction”."}),u.jsx(ie,{as:"p",variant:"body_small",weight:"regular",children:"As always, please be cautious of the extensions and websites you use to prevent unwanted transactions from being broadcasted to the network."})]}),icon:tE,title:"Why do I see a fee when using ledger"}]}:n,i={connect:{info:[{content:"By connecting a wallet to a website, you are allowing the site to read the contents of your wallet. This does not approve a transaction.",icon:B8,title:"Allows read access"},{icon:tE,title:"There are no associated gas costs"}]},sign:r};return u.jsx("div",{className:"footer-more-info-content__wrapper",children:i[e].info.map((o,s)=>u.jsx("div",{className:"footer-more-info-content__item",children:u.jsx(H3,{delay:`${.3+s*.2}s`,children:u.jsx(zUe,{Icon:o.icon,title:o.title,content:o.content})})},s))})};var WM,qUe=["title","titleId"];function D8(){return D8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D8.apply(this,arguments)}function VUe(e,t){if(e==null)return{};var n=HUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var KUe=function(t){var n=t.title,r=t.titleId,i=VUe(t,qUe);return k.createElement("svg",D8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,WM||(WM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.044 20.998a.693.693 0 0 0 .7-.68V16.59c.239-2.01 1.121-1.413 2.16-.791 2.51 1.502 4.177-2.45 2.148-3.67-1.592-.956-2.281.689-3.448.52-.45-.067-.763-.54-.862-1.261V8.693a.692.692 0 0 0-.7-.68h-3.21c-2.65-.327-.297-1.755-.297-3.083.001-1.066-.99-1.93-2.214-1.93-1.222 0-2.344.864-2.344 1.93 0 1.253 2.435 2.756-.253 3.083H3.7a.692.692 0 0 0-.699.68v2.688c.205 1.146 1.001 1.411 2.021.655.344-.256.924-.554 1.344-.554 1.094 0 1.982.965 1.982 2.154 0 1.19-.887 2.416-1.982 2.416-.39 0-.755-.123-1.063-.338 0 .091-1.913-1.674-2.302.486v4.121c0 .375.315.68.699.68L10.16 21c.085-.393-.191-.844-.45-1.234-2.04-3.075 5.895-3.382 3.855.095-.1.172-.2.338-.277.5-.098.202-.162.45-.149.639l2.905-.002Z",fill:"currentColor"})))};const $Y=e=>{const t=v1()||i3(),n=jJ()||"chrome";let r;switch(n){case"edge":r=e.edge;break;case"firefox":r=e.firefox;break;case"chrome":default:r=e.chrome;break}const i=!t&&!!e.android,o=(t||!di())&&!!e.ios;return{canShowAndroidAppButton:i,canShowIosAppButton:o,currentDesktopUrl:r,hasMobileAppUrl:i||o,userBrowser:n}},L8=({children:e,style:t,wallet:n})=>u.jsx(AR,{wallet:n,tile:e?({onClick:r})=>u.jsx("button",{className:"new-to-web3--button",style:t,onClick:r,children:e}):void 0}),GUe=({heading:e,StartIcon:t,EndIcon:n,message:r,url:i})=>u.jsxs("a",{className:"footer-buttons-item",href:i,rel:"noopener noreferrer",target:"_blank",children:[u.jsx("div",{className:"footer-buttons-item__icon--left",children:u.jsx(t,{})}),u.jsxs("div",{className:"footer-buttons-item__typography",children:[u.jsx(ie,{as:"h2",weight:"regular",color:"primary",variant:"body_normal",children:e}),r&&u.jsx(ie,{as:"p",weight:"regular",color:"secondary",children:r})]}),n&&u.jsx(n,{style:{height:"1.5rem",width:"1.5rem"}})]}),ZUe=({wallet:e,selectedUrl:t})=>{const n=!!t.length&&!(e!=null&&e.isInstalledOnBrowser),r=()=>{e!=null&&e.key&&(Ft.setToLS(_I,e.key),window.location.reload())};return u.jsxs("div",{className:"new-to-web3-buttons__container",children:[!di()&&u.jsxs(u.Fragment,{children:[(e==null?void 0:e.isInstalledOnBrowser)&&u.jsx(L8,{wallet:e,children:u.jsx(ie,{as:"p","data-testid":"desktop-interactive-wallet-item",variant:"body_normal",weight:"bold",children:"Continue"})}),n&&u.jsx("button",{onClick:r,children:u.jsx(ie,{as:"p","data-testid":"refresh-once-installed-button",variant:"body_normal",weight:"bold",children:"Continue once installed"})})]}),e&&di()&&u.jsx(L8,{wallet:e,children:u.jsx("p",{"data-testid":"mobile-interactive-wallet-item",children:"Continue once installed"})})]})},JUe=({chains:e,newToWeb3WalletChainMap:t})=>{var n,r;const{walletConnectorOptions:i}=Te(),{walletBook:o}=$a(),[s,a]=k.useState(""),c=((n=e==null?void 0:e.filter(w=>!!w.enabled).find(w=>w.name===t.primary_chain))===null||n===void 0?void 0:n.name)||"evm",l=ep(t==null?void 0:t.wallets,c),d=i.find(w=>w.key===l),f=d==null?void 0:d.walletConnector.canConnectViaCustodialService,p=sb(o,l),{currentDesktopUrl:m,canShowAndroidAppButton:g,canShowIosAppButton:y}=$Y(p),v=[{content:"Install Desktop extension",icon:KUe,isEnabled:!!(m!=null&&m.length)&&!di(),url:m},{content:"Install iOS app",icon:SH,isEnabled:y,url:p.ios},{content:"Install Android app",icon:EH,isEnabled:g,url:p.android}];return Object.keys((r=o==null?void 0:o.wallets)!==null&&r!==void 0?r:{}).length?u.jsx("div",{className:"walletlist-help-content__container",children:u.jsxs(H3,{delay:"300ms",children:[u.jsx("div",{className:"walletlist-help-content__icon",children:u.jsx(bi,{walletKey:l,style:{height:En(56),width:En(56)}})}),u.jsxs("div",{className:"walletlist-help-content__typography-wrapper",children:[u.jsxs(ie,{as:"p",variant:"title",weight:"medium",children:["We recommend installing"," ",rc(o,l).name]}),u.jsx(ie,{as:"label",variant:"body_normal",weight:"regular",color:"secondary",className:"walletlist-help-content__typography--label",children:"Select your preferred option below:"})]}),u.jsx("div",{className:"walletlist-help-content__buttons-wrapper",children:v.map((w,_)=>w.isEnabled?u.jsx("button",{onClick:()=>a(w.url),children:u.jsx(GUe,{StartIcon:w.icon,heading:w.content,url:w.url})},_):void 0)}),f&&u.jsxs("div",{className:"walletlist-help-content__custodial-wallet-area",children:[u.jsx(ie,{className:"walletlist-help-content__custodial-wallet-area--title",as:"p",color:"secondary",variant:"body_normal",weight:"regular",children:"If you don't want to install a wallet, then use:"}),u.jsx(L8,{wallet:d})]}),u.jsx(ZUe,{selectedUrl:s,wallet:d})]})}):u.jsx(Zc,{className:"walletlist-footer-content__container"})},YUe=()=>{const{authMode:e}=Te(),{setIsFooterExpanded:t}=g3(),{view:n}=dn(),{helpHeaderData:r}=_R({authMode:e,view:n.type}),{displayBorderBelowHeader:i}=lh(),o=u.jsx(Vr,{type:"button",onClick:()=>t(!1),"data-testid":"back-button",className:"header__icon",children:u.jsx(nc,{className:"back-button "})});return u.jsx("div",{className:"help-header",children:u.jsx(ji,{trailing:o,displayLeading:!1,displayBorder:i,children:u.jsx(ie,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-help-heading",className:"header__typography",copykey:r==null?void 0:r.copykey,children:r==null?void 0:r.heading})})})};var zM,XUe=["title","titleId"];function U8(){return U8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U8.apply(this,arguments)}function QUe(e,t){if(e==null)return{};var n=eFe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eFe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var tFe=function(t){var n=t.title,r=t.titleId,i=QUe(t,XUe);return k.createElement("svg",U8({width:60,height:50,viewBox:"0 0 60 50",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,zM||(zM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.931 49.48A29.223 29.223 0 0 0 59.333 30C59.333 13.8 46.2.667 30 .667S.667 13.8.667 30A29.224 29.224 0 0 0 8.07 49.483c5.52-6.63 16.005-9.007 22.387-9.007 6.383 0 15.962 1.903 21.473 9.004ZM19 22.667c0-6.076 4.925-11 11-11s11 4.924 11 11c0 6.075-4.925 11-11 11s-11-4.925-11-11Z",fill:"#4779FF"})))};const nFe=()=>{const{t:e}=ut();return u.jsx("div",{className:"passkey-info-help-content__container",children:u.jsx(H3,{delay:"300ms",children:u.jsxs("div",{className:"passkey-info-help-content__typography-wrapper",children:[u.jsxs("div",{className:"passkey-info-help-content__details",children:[u.jsx(un,{size:"medium",color:"text-tertiary",children:u.jsx(tFe,{})}),u.jsxs("div",{className:"passkey-info-help-content__wrapper",children:[u.jsx(ie,{variant:"title",weight:"medium",copykey:"dyn_passkey_intro.helper.section_1.title",children:e("dyn_passkey_intro.helper.section_1.title")}),u.jsx(ie,{as:"p",variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-info-help-content__typography--label",copykey:"dyn_passkey_intro.helper.section_1.description",children:e("dyn_passkey_intro.helper.section_1.description")})]})]}),u.jsxs("div",{className:"passkey-info-help-content__details",children:[u.jsx(un,{size:"medium",color:"text-tertiary",children:u.jsx(jY,{})}),u.jsxs("div",{className:"passkey-info-help-content__wrapper",children:[u.jsx(ie,{variant:"title",weight:"medium",copykey:"dyn_passkey_intro.helper.section_2.title",children:e("dyn_passkey_intro.helper.section_2.title")}),u.jsx(ie,{as:"p",variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-info-help-content__typography--label",copykey:"dyn_passkey_intro.helper.section_2.description",children:e("dyn_passkey_intro.helper.section_2.description")})]})]})]})})})},rFe=()=>{const{deviceSettings:e}=xJ(),{t}=ut();return u.jsx("div",{className:"mfa-qrcode-help-content__container",children:u.jsx(H3,{delay:"300ms",children:u.jsxs("div",{className:"mfa-qrcode-help-content__setup-container",children:[u.jsxs("div",{className:"mfa-qrcode-help-content__step",children:[u.jsx("div",{className:"mfa-qrcode-help-content__step__number",children:"1"}),u.jsxs("div",{className:"mfa-qrcode-help-content__step__instructions",children:[u.jsx(ie,{variant:"body_normal",color:"primary",className:"mfa-qrcode-help-content__step__title",children:t("dyn_mfa.secure_device_view.helper.step1.title")}),u.jsx(ie,{variant:"body_small",className:"mfa-qrcode-help-content__step__subtext",children:t("dyn_mfa.secure_device_view.helper.step1.description")})]})]}),u.jsxs("div",{className:"mfa-qrcode-help-content__vertical-container",children:[u.jsxs("div",{className:"mfa-qrcode-help-content__step",children:[u.jsx("div",{className:"mfa-qrcode-help-content__step__number",children:"2"}),u.jsxs("div",{className:"mfa-qrcode-help-content__step__instructions",children:[u.jsx(ie,{variant:"body_normal",color:"primary",className:"mfa-qrcode-help-content__step__title",children:t("dyn_mfa.secure_device_view.helper.step2.title")}),u.jsx(ie,{variant:"body_small",className:"mfa-qrcode-help-content__step__subtext",children:t("dyn_mfa.secure_device_view.helper.step2.description")})]})]}),u.jsxs("div",{className:"mfa-qrcode-help-content__step__nocopy-box",children:[u.jsx(ie,{className:"mfa-qrcode-help-content__step__nocopy-text",variant:"body_small",children:e==null?void 0:e.secret}),u.jsx(Jf,{textToCopy:(e==null?void 0:e.secret)||"",children:u.jsx(Zf,{"data-testid":"copy-secret",onClick:n=>{n.preventDefault()}})})]})]}),u.jsx(Ul,{text:"OR"}),u.jsxs("div",{className:"mfa-qrcode-help-content__vertical-container",children:[u.jsx("div",{className:"mfa-qrcode-help-content__step",children:u.jsxs("div",{className:"uri-section",children:[u.jsx(ie,{variant:"body_normal",color:"primary",className:"mfa-qrcode-help-content__step__title",children:t("dyn_mfa.secure_device_view.helper.uri.title")}),u.jsx(ie,{className:"uri-subtext",variant:"body_small",children:t("dyn_mfa.secure_device_view.helper.uri.description")})]})}),u.jsxs("div",{className:"mfa-qrcode-help-content__step__nocopy-box",children:[u.jsx(ie,{className:"mfa-qrcode-help-content__step__nocopy-text",variant:"body_small",children:e==null?void 0:e.uri}),u.jsx(Jf,{textToCopy:(e==null?void 0:e.uri)||"",children:u.jsx(Zf,{"data-testid":"copy-uri",onClick:n=>{n.preventDefault()}})})]})]})]})})})},iFe=()=>u.jsxs("div",{children:[u.jsx(YUe,{}),u.jsx(oFe,{})]}),oFe=()=>{const{view:e}=dn(),{projectSettings:t,newToWeb3WalletChainMap:n,selectedWalletConnector:r}=Te(),i=k.useMemo(()=>e.type==="wallet-connect-mobile-wallets-list"||e.type==="wallet-list"||e.type==="login-with-email-or-wallet-full-wallet-list"||e.type==="login-with-wallet-only",[e]),o=k.useMemo(()=>e.type==="pending-signature-without-back-button"||e.type==="pending-signature",[e]),s=k.useMemo(()=>e.type==="pending-connect"||e.type==="qr-code",[e]),a=k.useMemo(()=>e.type==="passkey-intro",[e]),c=k.useMemo(()=>e.type==="mfa-secure-device",[e]);return i?u.jsx(JUe,{chains:t==null?void 0:t.chains,newToWeb3WalletChainMap:n}):o?u.jsx(FM,{variant:"sign",wallet:r||void 0}):s?u.jsx(FM,{variant:"connect"}):a?u.jsx(nFe,{}):c?u.jsx(rFe,{}):u.jsx(NUe,{})},sFe=()=>{const{user:e,authMode:t,customPrivacyPolicy:n,customTermsOfServices:r,privacyPolicyUrl:i,termsOfServiceUrl:o}=Te(),s=I1(e,t)?"connecting":"logging in",a=()=>{if(o)return u.jsx("a",{className:"tos-and-pp__link",href:o,target:"_blank",rel:"noreferrer",children:"Terms of Service"})},c=()=>{if(i)return u.jsxs(u.Fragment,{children:[o&&u.jsx(u.Fragment,{children:" & "}),u.jsx("a",{className:"tos-and-pp__link",href:i,target:"_blank",rel:"noreferrer",children:"Privacy Policy"})]})};return u.jsxs(u.Fragment,{children:[(i||o)&&u.jsxs(ie,{variant:"body_small",weight:"regular",className:"tos-and-pp__text",children:["By ",s,", you agree to",u.jsx("br",{}),"our ",a(),c(),"."]}),r,n]})},aFe=()=>{const{showToSFooter:e}=lh();return u.jsx("div",{className:"tos-and-pp__footer",children:e&&u.jsx(sFe,{})})},cFe=(e,t)=>{const n=e===t[0],r=!t.includes(e);return n?"current":r?"done":"upcoming"},lFe={current:"1",default:"1",done:"0.4",upcoming:"0.15"},MY=({children:e,className:t,icon:n,state:r="default"})=>{const i=k.useMemo(()=>({opacity:r==="upcoming"?.5:1}),[r]),o=k.useMemo(()=>r==="done"?u.jsx("div",{className:"step__icon step__icon--done",children:u.jsx(un,{className:"step__icon__check-mark",children:u.jsx(Td,{style:i})})}):n?u.jsx(un,{className:"step__icon",children:u.jsx("div",{style:i,children:n})}):u.jsx("div",{className:"step__index",children:u.jsx(ie,{color:"primary",variant:"body_small",style:i,children:u.jsx("span",{className:"step__index-label"})})}),[n,r,i]);return u.jsxs("div",{className:We("step",t),children:[o,u.jsx(ie,{color:"primary",variant:"body_small",style:{opacity:lFe[r]},children:e})]})},DY=({children:e})=>u.jsx("div",{className:"stepper",children:k.Children.map(e,(t,n)=>{const r=n===0?void 0:u.jsx(Ul,{className:"stepper__divider"});return u.jsxs(u.Fragment,{children:[r,t]})})}),LY=()=>{const{bridgeChainsToConnect:e=[],bridgeChains:t=[]}=Te(),n=t.map(({chain:i})=>i),r=[...e].map(({chain:i})=>i);return u.jsx("div",{className:"wallet-progress-stepper","data-testid":"wallet-progress-stepper",children:u.jsx(DY,{children:n.map((i,o)=>{var s;const a=Al(i),c=Cd(i);return u.jsx(MY,{state:cFe(i,r),icon:u.jsx(c,{}),children:(s=a==null?void 0:a.blockchainName)!==null&&s!==void 0?s:a==null?void 0:a.displayName},i)})})})},UY=({children:e,className:t,style:n,onClose:r,projectSettings:i,hideBridgeProgressSteppers:o})=>{const{view:s}=dn(),{authMode:a}=Te(),{isFooterExpanded:c}=g3(),{headerData:l,helpHeaderData:d}=_R({authMode:a,view:s.type}),{showConnectedWalletProgress:f,showHeader:p,showHelpContent:m,showToSFooter:g,showDynamicFooter:y}=lh();return u.jsx(JG,{children:u.jsxs(bUe,{style:n,className:t,children:[u.jsxs(q2,{isOpen:!c,dimOnHide:!0,children:[f&&!o&&u.jsx(LY,{}),p&&u.jsx(OUe,{onClose:r,heading:(l==null?void 0:l.heading)||"",projectSettings:i,copykey:l==null?void 0:l.copykey}),e,g&&u.jsx(aFe,{}),y&&u.jsx(wUe,{})]}),d&&m&&u.jsx(q2,{isOpen:c,children:u.jsx("div",{children:u.jsx(iFe,{})},c.toString())})]})})},RR=({children:e})=>{const{projectSettings:t}=Te(),n=k.useRef(null),[r,i]=k.useState(void 0),o=(t==null?void 0:t.environmentName)===gI.Sandbox;return k.useEffect(()=>{var s;const a=(s=n.current)===null||s===void 0?void 0:s.clientHeight;i(a)},[n,i]),o?u.jsxs("div",{style:{position:"relative"},children:[u.jsx("div",{ref:n,style:{background:"var(--dynamic-alert-1)",borderTopLeftRadius:"4px",borderTopRightRadius:"4px",color:"white",left:"calc( var(--dynamic-border-radius) + 8px)",padding:"2px 8px 4px",position:"absolute",top:-(r||0)},children:xu((t==null?void 0:t.environmentName)||"")}),e]}):u.jsx(u.Fragment,{children:e})},dFe=({children:e,onClose:t,transitionProps:n,projectSettings:r,className:i})=>{const{showConnectedWalletProgress:o}=lh();return u.jsxs(K0,{isShown:!!(n!=null&&n.isShown),children:[o&&u.jsx(Nu,{borderRadius:"small",children:u.jsx(LY,{})}),u.jsx(RR,{children:u.jsx(Nu,{dataTestId:"dynamic-auth-modal",children:u.jsx(UY,{className:i,projectSettings:r,onClose:t,hideBridgeProgressSteppers:!0,children:e})})})]})},uFe=k.createContext(void 0),PR=()=>{const e=k.useContext(uFe);return e===void 0?{mockedSDK:!1}:e},FY=k.createContext(void 0),fFe=({children:e})=>{const[t,n]=k.useState(!1);Lo("logout",()=>n(!1)),Lo("embeddedWalletCreated",()=>n(!1));const r=k.useMemo(()=>({loading:t,setLoading:n}),[t]);return u.jsx(FY.Provider,{value:r,children:e})},X0=()=>{const e=k.useContext(FY);if(e===void 0)throw new Error("usage of useLoadingContext not wrapped in `LoadingContextProvider`.");return e},hFe=(e=!0)=>{const{setShowAuthFlow:t,isAuthenticated:n,authMode:r,connectWallet:i,handleLogOut:o,multiWalletWidgetState:s,primaryWallet:a,setMultiWalletWidgetState:c,showLockedWalletView:l,secondaryWallets:d,setPrimaryWallet:f,setSelectedWalletWithAction:p,multiWallet:m,selectedWalletWithAction:g}=Te(),{setView:y}=dn(),v=k.useCallback(w=>{if(Ss("[useSyncPrimaryWallet] handlePrimaryWalletNotActive",{authMode:r,connectedAddress:w,primaryWallet:a==null?void 0:a.address}),!a)return;if(r==="connect-only"){i(a.connector);return}const _=w&&d.find(C=>C.connected&&C.connector.key===a.connector.key&&Af(C.address,w,C.chain));Ss("[useSyncPrimaryWallet] handlePrimaryWalletNotActive",{connectedWalletWithSameProvider:_,multiWallet:m});const E=(g==null?void 0:g.wallet.address)===a.address;if(m&&_&&!E){f(_.id);return}Ss("[useSyncPrimaryWallet] handlePrimaryWalletNotActive - setSelectedWalletWithAction(primaryWallet)"),p({action:"select",wallet:a}),c("awaiting_account_switch","switching_primary")},[r,a,d,m,g==null?void 0:g.wallet.address,p,c,i,f]);k.useEffect(()=>{Ss("[useSyncPrimaryWallet]",{canSync:e,connectedChain:a==null?void 0:a.connector.connectedChain,multiWalletWidgetState:s,primaryWallet:a==null?void 0:a.address}),e&&(!a||s!=="idle"||a.connector.connectedChain!=="FLOW"&&a.connector.connectedChain!=="COSMOS"&&a.connector.getConnectedAccounts().then(w=>{const[_]=w;if(Ss("[useSyncPrimaryWallet] getConnectedAccounts",{accounts:w,connectedAddress:_}),!_)throw new Ae("Missing wallet address",T$);Af(_,a.address,a.chain)||v(_)}).catch(w=>{if(Ss("[useSyncPrimaryWallet] getConnectedAccounts error",{error:w,isAuthenticated:n}),n&&w.code===T$){if(!a.connector.isInstalledOnBrowser()){Ss("[useSyncPrimaryWallet] getConnectedAccounts error - not installed in browser - will log out"),o();return}if(l){Ss("[useSyncPrimaryWallet] getConnectedAccounts error - will show locked wallet view"),t(!0),y("wallet-locked-view");return}v()}}))},[a,s,c,v,o,e,y,t,r,n,l])},WY=k.createContext(void 0),pFe=({children:e,canSync:t})=>{const[n,r]=k.useState(!1);hFe(t);const i=k.useMemo(()=>({isLoadingEmbeddedWallet:n,setIsLoadingEmbeddedWallet:r}),[n]);return u.jsx(WY.Provider,{value:i,children:e})},Q0=()=>{const e=k.useContext(WY);if(e===void 0)throw new Error("usage of useWalletContext not wrapped in `WalletContextProvider`.");return e},zY=()=>{const{environmentId:e,setShowAuthFlow:t,selectedWalletConnector:n}=Te(),{addedWalletsIds:r}=Dp();return{mergeUserAccounts:o=>ae(void 0,void 0,void 0,function*(){const a=(yield d$e(e,o)).lastVerifiedCredentialId;a&&r.current.push(a);const c=yield n==null?void 0:n.getConnectedAccounts();c!=null&&c.length&&Kt.emit("triggerComputePrimaryWalletMultiWalletStateFromAccounts",{accounts:c}),t(!1)})}},qM=({children:e,checked:t,value:n,name:r,disabled:i=!1,className:o="",onChange:s})=>{const a=`${r}_${n}`;return u.jsxs("div",{className:We("radio-button",o),children:[u.jsx("input",{type:"radio",id:a,name:r,value:n,disabled:i,defaultChecked:t,onChange:s}),u.jsx("label",{htmlFor:a,children:e})]})},mFe=({mergeConflicts:e})=>{const{mergeUserAccounts:t}=zY(),{t:n}=ut(),[r,i]=k.useState(""),o=k.useRef(Object.fromEntries(e.map(({field:c,currentUser:l})=>[`${c.name}_${c.type}`,{fieldKey:c.name,type:c.type||yl.Standard,userId:l.userId}]))),s=()=>ae(void 0,void 0,void 0,function*(){const c=Object.values(o.current).map(({fieldKey:l,type:d,userId:f})=>({fieldKey:l,type:d,userId:f}));try{yield t(c)}catch(l){Ne.error("Error merging user accounts",l),i(n("dyn_merge_user_accounts_conflicts.errors.merge_error"))}});if(!(e!=null&&e.length))return null;const a=(c,l,d,f)=>{i(""),f&&(o.current[`${c}_${l}`]={fieldKey:c,type:l||yl.Standard,userId:d})};return u.jsxs("div",{className:"merge-user-accounts-conflicts__container",children:[r&&u.jsx(fd,{icon:"error",variant:"error",className:"merge-user-accounts-conflicts__error",children:r}),u.jsx("div",{className:"merge-user-accounts-conflicts__description",children:u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_merge_user_accounts_conflicts.description",children:n("dyn_merge_user_accounts_conflicts.description")})}),u.jsx("div",{className:"merge-user-accounts-conflicts__fields",children:e.map(({field:c,currentUser:l,fromUser:d})=>{var f;return u.jsxs("div",{className:"merge-user-accounts-conflicts__fields__item",children:[u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",className:"merge-user-accounts-conflicts__fields__item__name",children:(f=c.label)!==null&&f!==void 0?f:xu(c.name)}),u.jsx(qM,{name:c.name,value:l.value,checked:!0,className:"merge-user-accounts-conflicts__fields__item__button",onChange:p=>a(c.name,c.type,l.userId,p.target.checked),children:l.value}),u.jsx(qM,{name:c.name,value:d.value,className:"merge-user-accounts-conflicts__fields__item__button",onChange:p=>a(c.name,c.type,d.userId,p.target.checked),children:d.value})]},c.name)})}),u.jsx("div",{className:"merge-user-accounts-conflicts__buttons",children:u.jsx(Qt,{className:"merge-user-accounts-conflicts__buttons__button",onClick:s,buttonVariant:"primary",buttonPadding:"large",expanded:!0,copykey:"dyn_merge_user_accounts_conflicts.confirm_button",children:n("dyn_merge_user_accounts_conflicts.confirm_button")})})]})},V2=e=>{var{children:t,className:n}=e,r=na(e,["children","className"]);return u.jsx(Y0,Object.assign({},r,{className:We(n,"icon-list-tile"),children:u.jsx("div",{className:"icon-list-tile--children",children:t})}))},K3=e=>e!==void 0&&(fa(e,br.Dynamic)||fa(e,br.Blocto)||fa(e,br.MagicLink)),gFe=e=>e.map(({walletConnector:n})=>n).find(n=>Tl(n)&&n.requiresNonDynamicEmailOtp),qY=e=>ae(void 0,[e],void 0,function*({email:t,environmentId:n}){try{return yield zn().getEmailProvider({email:t,environmentId:n})}catch(r){const i=yield r.json();throw Ne.error(i.error),new Ske(i.code)}}),VY=e=>ae(void 0,[e],void 0,function*({email:t,environmentId:n,captchaToken:r}){try{return yield zn().createEmailVerification({emailVerificationCreateRequest:{captchaToken:r,email:t},environmentId:n})}catch(i){const o=yield i.json();throw Ne.error(o.error),new n3(o.code)}}),HY=e=>ae(void 0,[e],void 0,function*({verificationToken:t,verificationUUID:n,environmentId:r,captchaToken:i}){try{return yield zn().signInWithEmailVerification({emailVerificationVerifyRequest:{captchaToken:i,verificationToken:t,verificationUUID:n},environmentId:r})}catch(o){const s=yield o.json();throw Ne.error(s.error),s.error.code==="missing_from_list"?new Np({email:s.payload.email}):s.code==="email_associated_with_different_provider"?new y1(s.error,s.payload):new n3(s.code)}}),yFe=e=>ae(void 0,[e],void 0,function*({email:t,environmentId:n,verificationUUID:r}){try{return yield zn().retryEmailVerification({emailVerificationRetryRequest:{email:t,verificationUUID:r},environmentId:n})}catch(i){const o=yield i.json();throw Ne.error(o.error),new n3(o.code)}}),vFe=e=>ae(void 0,[e],void 0,function*({verificationToken:t,verificationUUID:n,environmentId:r}){try{return yield zn().verifyEmailVerification({emailVerificationVerifyRequest:{verificationToken:t,verificationUUID:n},environmentId:r})}catch(i){const o=yield i.json();throw Ne.error(o.error),o.code===wI.UserHasAlreadyAccountWithEmail?new FH(o.error):new n3(o.code)}}),bFe=({emailWalletConnector:e,handleConnect:t})=>{const{error:n}=Po(),[r,i]=k.useState(!1),o=s=>ae(void 0,void 0,void 0,function*(){if(!(!s||!e||r)){i(!0),e.setEmail(s);try{yield t(e)}catch(a){Ne.error(a),i(!1)}}});return k.useEffect(()=>{n&&r&&i(!1)},[n,r]),{connectWithEmail:o,loading:r}},wFe=({emailWalletConnector:e})=>{const{projectSettings:t,environmentId:n}=Te(),{setDisplayedDestination:r,setVerificationUUID:i}=Ll(),{setView:o}=dn(),{handleInstalledExtensionClick:s}=J0(),{connectWithEmail:a,loading:c}=bFe({emailWalletConnector:e,handleConnect:s}),{providers:l}=t||{},f=e!==void 0&&(fa(l||[],br.MagicLink)||fa(l||[],br.Blocto)),p=(v,w)=>ae(void 0,void 0,void 0,function*(){const{email:_,verificationUUID:E}=yield VY({captchaToken:w,email:v,environmentId:n});o("login-with-email-verification"),r(_),i(E)}),m=v=>ae(void 0,void 0,void 0,function*(){yield a(v)}),g=(v,w)=>ae(void 0,void 0,void 0,function*(){if(f){yield m(v);return}yield p(v,w)});return{handleEmailSubmitWithOptionalCaptcha:(v,w)=>ae(void 0,void 0,void 0,function*(){Kt.emit("authInit",{email:v,option:v,type:"email"});try{if((e!==void 0||Vf(t))&&(t!=null&&t.sdk.confirmEmailProviderForVerify)){const{emailProvider:_}=yield qY({email:v,environmentId:n});if(_===br.Dynamic){yield p(v,w);return}}yield g(v,w)}catch(_){throw Kt.emit("authFailure",{email:v,option:v,type:"email"},{error:_}),_}}),isEmailProviderLoading:c}},_Fe=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,KY=e=>_Fe.test(e);var VM,HM,xFe=["title","titleId"];function F8(){return F8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F8.apply(this,arguments)}function kFe(e,t){if(e==null)return{};var n=SFe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SFe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var EFe=function(t){var n=t.title,r=t.titleId,i=kFe(t,xFe);return k.createElement("svg",F8({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,VM||(VM=k.createElement("rect",{x:.5,width:24,height:24,rx:12,fill:"var(--icon-background, var(--dynamic-hover))"})),HM||(HM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.22 7.47a.75.75 0 0 1 1.06 0l3.75 3.75a.75.75 0 0 1 0 1.06l-3.75 3.75a.75.75 0 1 1-1.06-1.06l2.47-2.47H7.5a.75.75 0 0 1 0-1.5h8.19l-2.47-2.47a.75.75 0 0 1 0-1.06Z",fill:"var(--icon-arrow, var(--dynamic-text-secondary))"})))};const GY=({disabled:e,highlighted:t,isFocused:n,isHovered:r,className:i,style:o,emailSubmitButtonInsideInput:s=!1})=>s?u.jsx(Vr,{"data-testid":"in_line_submit_button",type:"submit",className:We("inline-submit-button",i,{"inline-submit-button--active":n||r,"inline-submit-button--ready":t}),disabled:e,style:o,children:u.jsx(EFe,{})}):null,ZY=({isLoading:e,onSubmit:t,isEmailInvalid:n=!1,currentEmail:r,emailSubmitButtonInsideInput:i=!1,buttonCopyKey:o="dyn_login.email_form.submit_button.label",isDisabled:s=!1,className:a,style:c})=>{const{t:l}=ut(),[d,f]=k.useState(r??""),[p,m]=k.useState(n),[g,y]=k.useState(!1),[v,w]=k.useState(!1),_=C=>{const{value:T}=C.currentTarget;f(T)},E=C=>ae(void 0,void 0,void 0,function*(){if(C.preventDefault(),!KY(d)){m(!0);return}t==null||t(d)});return u.jsxs("form",{className:We("login-with-email-form",a),style:c,"data-testid":"email-form",onSubmit:C=>E(C),children:[u.jsx(ea,{id:"email_field",value:d,onChange:_,copykey:"dyn_login.email_form.email_field.label",label:l("dyn_login.email_form.email_field.label"),error:p,message:p&&l("dyn_login.helper.email_form.invalid_email"),suffix:u.jsx(GY,{disabled:e||s,highlighted:d.length>0,isFocused:v,isHovered:g,emailSubmitButtonInsideInput:i}),disabled:e||s,type:"email",onPointerEnter:()=>y(!0),onPointerLeave:()=>y(!1),onFocus:()=>w(!0),onBlur:()=>w(!1),autoComplete:"email"}),!i&&u.jsx(Qt,{dataTestId:"submit_button",buttonClassName:"login-with-email-form__button",type:"submit",loading:e,disabled:e||d.length<3||s,buttonVariant:"brand-primary",buttonPadding:"login-screen-height",expanded:!0,copykey:o,typographyProps:{color:"inherit"},children:l(o)})]})},W8=({isLoading:e,onSubmit:t,onSubmitError:n,currentEmail:r,className:i,style:o})=>{var s,a;const{walletConnectorOptions:c,projectSettings:l}=Te(),{view:d,setView:f}=dn(),{setErrorMessage:p}=Po(),{engageCaptcha:m}=Du(),[g,y]=k.useState(!1),v=gFe(c),{handleEmailSubmitWithOptionalCaptcha:w,isEmailProviderLoading:_}=wFe({emailWalletConnector:v}),E=k.useMemo(()=>_||e,[_,e]),C=A=>{A.code==="invalid_email_address"?y(!0):p(A.code),Ne.debug(A),n==null||n()},T=A=>ae(void 0,void 0,void 0,function*(){var S;try{if(t==null||t(),!((S=l==null?void 0:l.security.hCaptcha)===null||S===void 0)&&S.enabled&&(v==null?void 0:v.key)!=="magicemailotp"){m({authMethod:"email",onCaptchaSuccess:O=>ae(void 0,void 0,void 0,function*(){try{yield w(A,O)}catch(D){f(d.type),C(D)}})});return}yield w(A)}catch(O){C(O)}});return K3((s=l==null?void 0:l.providers)!==null&&s!==void 0?s:[])?u.jsx(ZY,{onSubmit:T,isLoading:E,currentEmail:r,emailSubmitButtonInsideInput:(a=l==null?void 0:l.design.modal)===null||a===void 0?void 0:a.emailSubmitButtonInsideInput,isEmailInvalid:g,className:i,style:o}):(Ne.error("Failed to render EmailSignInSection - no sign in provider enabled"),null)},CFe=()=>{const{existentAccountData:e}=C1(),{t}=ut(),{email:n,embeddedSocialSigninProvider:r}=e||{},i=bR(r),{socialProvider:o,setSocialProvider:s,socialWalletConnector:a}=Fu(),c=F3(),{mutate:l}=ac(()=>ae(void 0,void 0,void 0,function*(){return s(i),yield a==null?void 0:a.endSession(),a==null?void 0:a.connect(r)})),d=()=>r?t("dyn_account_exists.description_social"):u.jsxs(u.Fragment,{children:[t("dyn_account_exists.description_email")," ",u.jsx("strong",{children:n})," ",t("dyn_account_exists.trail_message_email")]});return u.jsxs("div",{className:"account-exists__container",children:[u.jsx(e3,{className:"account-exists__image"}),u.jsxs("div",{className:"account-exists__main",children:[u.jsx("div",{className:"account-exists__content",children:u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",className:"account-exists__content--secondary",copykey:"dyn_account_exists",children:d()})}),r?u.jsxs(V2,{dataTestId:`inline-${r}`,onClick:()=>l(),className:"social-sign-in--tile",children:[u.jsx(bo,{Icon:c(r),isSpinning:o===i,iconSize:32}),u.jsx(ie,{variant:"button_primary",copykey:"dyn_account_exists.connect",children:t("dyn_account_exists.connect",{socialOauth:xu(r==null?void 0:r.toString())})})]},r):u.jsx(W8,{isLoading:!1,currentEmail:n})]})]})},IFe=({chainName:e,chainIcon:t,onClickAction:n,onClickClose:r})=>{const i=r&&u.jsx(Vr,{type:"button",onClick:r,"data-testid":"close-button",children:u.jsx(vo,{})});return u.jsxs("div",{className:"bridge-next-wallet-to-connect-layout",children:[u.jsx(ji,{trailing:i,alignContent:"bottom",children:t&&u.jsx("div",{className:"bridge-next-wallet-to-connect-layout__chain-icon",children:t})}),u.jsxs("div",{className:"bridge-next-wallet-to-connect-layout__body",children:[u.jsxs(ie,{color:"primary",variant:"title",children:["Nice! Now let’s connect your ",e," wallet"]}),u.jsx(Qt,{expanded:!0,buttonPadding:"large",onClick:n,children:`Connect ${e} wallet`})]})]})},AFe=()=>{const{setShowAuthFlow:e,bridgeChainsToConnect:t}=Te(),{setView:n}=dn();if(!(t!=null&&t.length))throw new Ae("No wallets to connect");const[r]=t,{chain:i}=r,o=Al(i),s=Cd(i);if(!o)throw new Ae("No chain info found for chain",i);return u.jsx(IFe,{chainName:o.blockchainName,chainIcon:u.jsx(s,{}),onClickAction:()=>n("wallet-list"),onClickClose:()=>e(!1,{emitCancelAuth:!0})})},TFe=({title:e,body:t,onClickBack:n,onClickClose:r,onClickAction:i,actionButtonText:o="Continue",children:s,copykey:a})=>{const c=r&&u.jsx(Vr,{type:"button",onClick:r,"data-testid":"close-button",children:u.jsx(vo,{})}),l=n&&u.jsx(Vr,{type:"button",onClick:n,"data-testid":"back-button",children:u.jsx(nc,{})});return u.jsxs("div",{className:"connected-wallets-list-layout",children:[u.jsx(ji,{leading:l,trailing:c,children:u.jsx(ie,{variant:"title",color:"primary",copykey:a,children:e})}),u.jsxs("div",{className:"connected-wallets-list-layout__body",children:[u.jsx(ie,{variant:"body_normal",color:"secondary",className:"connected-wallets-list-layout__body__text",children:t}),s,u.jsx(Qt,{buttonPadding:"large",buttonVariant:"primary",onClick:i,children:o})]})]})},RFe=()=>{const{primaryWallet:e,setShowAuthFlow:t,appName:n,bridgeChains:r=[]}=Te(),{t:i}=ut(),o=()=>t(!1,{emitCancelAuth:!0}),s=k.useMemo(()=>{const c=r.map(({chain:f})=>{var p;return(p=Al(f))===null||p===void 0?void 0:p.blockchainName}),[l,d]=c;return i("dyn_bridge.summary_view.connection_succeed",{firstBlockchainName:l,secondBlockchainName:d})},[r,i]),a=c=>{const l=Cd(c.chain),d=Al(c.chain);return u.jsx(rY,{networkIcon:u.jsx(l,{}),networkName:d==null?void 0:d.displayName,children:u.jsx(iY,{walletKey:c.connector.key,walletAddress:c.address,walletBalance:u.jsx(hR,{address:c.address,connector:c.connector,network:c.chain})})})};return u.jsxs(TFe,{onClickClose:o,onClickAction:o,copykey:"dyn_bridge.summary_view.title",title:i("dyn_bridge.summary_view.title",{appName:n}),body:s,children:[e&&a(e),u.jsx(pDe,{hideUnlinkAction:!0})]})},PFe=({body:e,chains:t=[],onClickAction:n,onClickClose:r,title:i,actionButtonText:o,copykey:s})=>{const a=r&&u.jsx(Vr,{type:"button",onClick:r,"data-testid":"close-button",children:u.jsx(vo,{})});return u.jsxs("div",{className:"bridge-welcome-layout",children:[u.jsx(ji,{trailing:a,alignContent:"bottom",children:u.jsx("div",{className:"bridge-welcome-layout__chain-icon-group",children:[...t].reverse().map((c,l)=>u.jsx("div",{className:"bridge-welcome-layout__chain-icon",style:{zIndex:l},children:c.icon},c.id))})}),u.jsxs("div",{className:"bridge-welcome-layout__body",children:[u.jsxs("div",{className:"bridge-welcome-layout__message-container",children:[u.jsx(ie,{variant:"title",color:"primary",copykey:s,children:i}),u.jsx(ie,{variant:"body_normal",color:"secondary",children:e})]}),u.jsx("div",{children:u.jsx(DY,{children:t.map(c=>u.jsx(MY,{children:c.name},c.id))})}),u.jsx(Qt,{buttonVariant:"primary",buttonPadding:"large",onClick:n,children:o})]})]})},OFe=e=>e!==void 0,NFe=()=>{const{appName:e,bridgeChains:t=[],setShowAuthFlow:n}=Te(),{setView:r}=dn(),{t:i}=ut(),o=k.useMemo(()=>{const a=t.map(({chain:d})=>{var f;return(f=Al(d))===null||f===void 0?void 0:f.blockchainName}),[c,l]=a;return i("dyn_bridge.welcome_view.description",{firstBlockchainName:c,secondBlockchainName:l})},[t,i]),s=k.useMemo(()=>t.map(({chain:a},c)=>{const l=Al(a),d=Cd(a);if(l&&d)return{icon:u.jsx(d,{}),id:c,name:l.blockchainName}}).filter(OFe),[t]);return u.jsx(PFe,{onClickClose:()=>n(!1,{emitCancelAuth:!0}),title:i("dyn_bridge.welcome_view.title",{appName:e}),copykey:"dyn_bridge.welcome_view.title",body:o,chains:s,actionButtonText:i("dyn_bridge.welcome_view.button"),onClickAction:()=>r("wallet-list")})},jFe=({handleSuccess:e})=>{var t;const{projectSettings:n}=Te();return!((t=n==null?void 0:n.security.hCaptcha)===null||t===void 0)&&t.siteKey?u.jsx("form",{"data-testid":"captcha-form",children:u.jsx(Zje,{sitekey:n.security.hCaptcha.siteKey,onVerify:r=>e(r),theme:document.body.dataset.dynamicTheme})}):null},BFe=()=>{const{t:e}=ut(),{captchaAuthState:t,setCaptchaToken:n}=Du(),r=i=>ae(void 0,void 0,void 0,function*(){var o;n(i),yield(o=t==null?void 0:t.onCaptchaSuccess)===null||o===void 0?void 0:o.call(t,i)});return u.jsxs("div",{className:"captcha-verify-user__container",children:[u.jsx(fke,{className:"captcha-verify-user__icon"}),u.jsx(ie,{weight:"medium",variant:"title",color:"primary",className:"captcha-verify-user__title",copykey:"dyn_captcha.verify_user_title",children:e("dyn_captcha.verify_user_title")}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",className:"captcha-verify-user__subtitle",copykey:"dyn_captcha.verify_user_subtitle",children:e("dyn_captcha.verify_user_subtitle")}),u.jsx(jFe,{handleSuccess:r}),u.jsx(Ad,{classNameRoot:"captcha-verify-user__dynamic-logo"})]})};var KM,$Fe=["title","titleId"];function z8(){return z8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z8.apply(this,arguments)}function MFe(e,t){if(e==null)return{};var n=DFe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function DFe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var JY=function(t){var n=t.title,r=t.titleId,i=MFe(t,$Fe);return k.createElement("svg",z8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,KM||(KM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 4a5 5 0 0 0-4.786 6.453 1 1 0 0 1-.25.997L4 17.414V20h2v-1a1 1 0 0 1 1-1h1v-1a1 1 0 0 1 1-1h1.586l1.964-1.964a1 1 0 0 1 .997-.25A5 5 0 1 0 15 4ZM8 20v1a1 1 0 0 1-1 1H4a2 2 0 0 1-2-2v-2.586A2 2 0 0 1 2.586 16l5.562-5.562a7 7 0 1 1 5.414 5.414l-1.855 1.855A1 1 0 0 1 11 18h-1v1a1 1 0 0 1-1 1H8Zm6-13a1 1 0 0 1 1-1 3 3 0 0 1 3 3 1 1 0 1 1-2 0 1 1 0 0 0-1-1 1 1 0 0 1-1-1Z",fill:"#383C48",fillOpacity:.4})))},GM,LFe=["title","titleId"];function q8(){return q8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q8.apply(this,arguments)}function UFe(e,t){if(e==null)return{};var n=FFe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function FFe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var WFe=function(t){var n=t.title,r=t.titleId,i=UFe(t,LFe);return k.createElement("svg",q8({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,GM||(GM=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 7a5 5 0 0 1 10 0v3h1a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3h1V7Zm2 3h6V7a3 3 0 1 0-6 0v3Zm-3 2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H6Zm6 2a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0v-2a1 1 0 0 1 1-1Z",fill:"#383C48",fillOpacity:.4})))},ZM,JM,YM,XM,QM,eD,tD,zFe=["title","titleId"];function V8(){return V8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V8.apply(this,arguments)}function qFe(e,t){if(e==null)return{};var n=VFe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VFe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var HFe=function(t){var n=t.title,r=t.titleId,i=qFe(t,zFe);return k.createElement("svg",V8({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,k.createElement("g",{clipPath:"url(#wallet-claim-hero_svg__a)"},k.createElement("mask",{id:"wallet-claim-hero_svg__b",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:0,y:0,width:327,height:112},ZM||(ZM=k.createElement("path",{d:"M315 0H12C5.373 0 0 5.373 0 12v88c0 6.627 5.373 12 12 12h303c6.627 0 12-5.373 12-12V12c0-6.627-5.373-12-12-12Z",fill:"#fff"}))),k.createElement("g",{mask:"url(#wallet-claim-hero_svg__b)"},JM||(JM=k.createElement("path",{d:"M164 228c62.96 0 114-51.04 114-114S226.96 0 164 0 50 51.04 50 114s51.04 114 114 114Z",fill:"url(#wallet-claim-hero_svg__c)",fillOpacity:.12})),k.createElement("mask",{id:"wallet-claim-hero_svg__d",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:86,y:29,width:40,height:40},YM||(YM=k.createElement("path",{d:"M116.91 29 86 37.282l8.282 30.91 30.91-8.282L116.91 29Z",fill:"#fff"}))),k.createElement("g",{mask:"url(#wallet-claim-hero_svg__d)"},k.createElement("mask",{id:"wallet-claim-hero_svg__e",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:90,y:33,width:31,height:31},XM||(XM=k.createElement("path",{d:"M119.763 44.8c-2.097-7.824-10.139-12.467-17.963-10.371-7.824 2.096-12.468 10.139-10.371 17.963 2.096 7.824 10.139 12.467 17.963 10.37 7.824-2.096 12.467-10.138 10.371-17.962Z",fill:"#fff"}))),QM||(QM=k.createElement("g",{mask:"url(#wallet-claim-hero_svg__e)"},k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M118.709 55.166a14.617 14.617 0 0 0 1.054-10.366c-2.097-7.824-10.139-12.467-17.963-10.371-7.825 2.096-12.468 10.139-10.371 17.963a14.612 14.612 0 0 0 6.097 8.451c1.808-3.916 6.565-6.42 9.647-7.247 3.083-.826 7.955-1.146 11.536 1.57Zm-19.375-8.688a5.5 5.5 0 1 1 10.625-2.848 5.5 5.5 0 0 1-10.625 2.848Z",fill:"#4779FF"})))),eD||(eD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.269 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.844 9.844 0 0 0-3.409-1.665 9.847 9.847 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.89 32.064a6.223 6.223 0 0 0-1.78 0c-.68.098-1.313.337-1.815.527l-.135.05-16.681 6.256-.406.152c-1.922.718-3.61 1.348-4.91 2.493a9.333 9.333 0 0 0-2.552 3.683c-.616 1.62-.614 3.421-.611 5.473l.001.434V66.01c0 8.793 4.782 16.125 9.952 21.51 5.205 5.422 11.159 9.252 14.308 11.089l.127.075c.575.337 1.321.775 2.307.987a6.624 6.624 0 0 0 2.61 0c.986-.212 1.732-.65 2.307-.987l.127-.075c3.149-1.837 9.103-5.667 14.308-11.088 5.17-5.386 9.952-12.718 9.952-21.511V51.13l.001-.433c.003-2.052.005-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.988-1.775-4.91-2.493-.134-.05-.27-.1-.406-.152l-16.681-6.255-.135-.05c-.502-.19-1.135-.43-1.815-.528Zm-6.946 16.362a9.282 9.282 0 1 1 13.127 13.128 9.282 9.282 0 0 1-13.127-13.128Zm3.282 3.282a4.64 4.64 0 1 1 6.563 6.563 4.64 4.64 0 0 1-6.563-6.563Zm3.515 14.885a11.63 11.63 0 0 1-2.945-.377v15.598h4.641v-4.51h4.601v-4.642h-4.601V66.47a11.69 11.69 0 0 1-1.696.123Z",fill:"#4779FF"})))),tD||(tD=k.createElement("defs",null,k.createElement("linearGradient",{id:"wallet-claim-hero_svg__c",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#4779FF"}),k.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})),k.createElement("clipPath",{id:"wallet-claim-hero_svg__a"},k.createElement("path",{fill:"#fff",d:"M0 0h327v112H0z"})))))};const KFe=()=>{const{setShowAuthFlow:e}=Te(),{setView:t}=dn(),{t:n}=ut(),r=u.jsx(Vr,{onClick:()=>e(!1),type:"button",children:u.jsx(vo,{})});return u.jsxs(u.Fragment,{children:[u.jsx(ji,{trailing:r,children:u.jsx(ie,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:"dyn_create_password.intro.title",children:n("dyn_create_password.intro.title")})}),u.jsx("div",{className:"mpc-claim-intro",children:u.jsxs("div",{className:"mpc-claim-intro__body",children:[u.jsx("div",{className:"mpc-claim-intro__body__description",children:u.jsx(HFe,{})}),u.jsx("div",{className:"confirm-password-description",children:u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_create_password.intro.description",children:n("dyn_create_password.intro.description.title")})}),u.jsxs("div",{className:"mpc-claim-intro__body__card",children:[u.jsxs("div",{className:"mpc-claim-intro__body__card__statement",children:[u.jsx("div",{className:"mpc-claim-intro__body__card__icon",children:u.jsx(WFe,{})}),u.jsxs("div",{children:[u.jsx(ie,{variant:"body_normal",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_create_password.intro.description.additional_protection.title",children:n("dyn_create_password.intro.description.additional_protection.title")}),u.jsx(ie,{variant:"body_small",color:"secondary",weight:"regular",copykey:"dyn_create_password.intro.description.additional_protection.description",children:n("dyn_create_password.intro.description.additional_protection.description")})]})]}),u.jsxs("div",{className:"mpc-claim-intro__body__card__statement",children:[u.jsx("div",{className:"mpc-claim-intro__body__card__icon",children:u.jsx(JY,{})}),u.jsxs("div",{children:[u.jsx(ie,{variant:"body_normal",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_create_password.intro.description.restore_access.title",children:n("dyn_create_password.intro.description.restore_access.title")}),u.jsx(ie,{variant:"body_small",color:"secondary",weight:"regular",copykey:"dyn_create_password.intro.description.restore_access.description",children:n("dyn_create_password.intro.description.restore_access.description")})]})]})]}),u.jsx(Qt,{buttonPadding:"large",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},onClick:()=>{t("create-password-view",{notCalledFromWalletUtils:!0})},copykey:"dyn_create_password.intro.continue",children:n("dyn_create_password.intro.continue")})]})})]})};var nD,GFe=["title","titleId"];function H8(){return H8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H8.apply(this,arguments)}function ZFe(e,t){if(e==null)return{};var n=JFe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JFe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var YY=function(t){var n=t.title,r=t.titleId,i=ZFe(t,GFe);return k.createElement("svg",H8({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,nD||(nD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm12.845-39.155a1.667 1.667 0 1 0-2.357-2.357L27.5 37.976l-5.488-5.488a1.667 1.667 0 1 0-2.357 2.357l6.666 6.667c.651.65 1.707.65 2.357 0l16.667-16.667Z",fill:"#4779FF"})))};const XY=e=>ae(void 0,[e],void 0,function*({isoCountryCode:t,phoneNumber:n,phoneCountryCode:r,environmentId:i,captchaToken:o}){try{return yield zn().createSmsVerification({environmentId:i,smsVerificationCreateRequest:{captchaToken:o,isoCountryCode:t,phoneCountryCode:r,phoneNumber:n}})}catch(s){const a=yield s.json();throw Ne.error(a.error),new Yg(a.error,a.code)}}),QY=e=>ae(void 0,[e],void 0,function*({verificationToken:t,verificationUUID:n,environmentId:r,captchaToken:i}){var o;try{return yield zn().signInWithSmsVerification({environmentId:r,smsVerificationVerifyRequest:{captchaToken:i,verificationToken:t,verificationUUID:n}})}catch(s){const a=yield s.json();throw Ne.error(a.error),((o=a.error)===null||o===void 0?void 0:o.code)==="missing_from_list"?new Np({phoneNumber:a.payload.phoneNumber}):a.code==="wrong_sms_verification_token"?new Yg(no.getInstance().t("dyn_login.helper.phone_number_form.invalid_sms_verification"),a.code):new Yg(a.error,a.code)}}),YFe=e=>ae(void 0,[e],void 0,function*({isoCountryCode:t,phoneCountryCode:n,phoneNumber:r,environmentId:i,verificationUUID:o}){try{return yield zn().retrySmsVerification({environmentId:i,smsVerificationRetryRequest:{isoCountryCode:t,phoneCountryCode:n,phoneNumber:r,verificationUUID:o}})}catch(s){const a=yield s.json();throw Ne.error(a.error),new Yg(a.error,a.code)}}),XFe=e=>ae(void 0,[e],void 0,function*({verificationToken:t,verificationUUID:n,environmentId:r}){try{return yield zn().verifySmsVerification({environmentId:r,smsVerificationVerifyRequest:{verificationToken:t,verificationUUID:n}})}catch(i){const o=yield i.json();throw Ne.error(o.error),new Yg(o.error,o.code)}}),eX=()=>{const{environmentId:e,user:t,userWithMissingInfo:n}=Te(),{verificationUUID:r}=Ll();return{verifyOtp:k.useCallback((o,s,a,c)=>ae(void 0,void 0,void 0,function*(){var l;if(!t&&!n)throw new Ae(li);if(!c&&!r)throw new Ae("No verification UUID is available");const p=yield(a==="email"?vFe:XFe)({environmentId:e,verificationToken:s,verificationUUID:c??r}),m=p.user,g=(l=m==null?void 0:m.missingFields)!==null&&l!==void 0?l:[],y=nX(p.nextView);return y?o({destination:y,missingFields:g,updateUserProfileResponse:p}):(To(p),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:g,updateUserProfileResponse:p})}),[r,e,t,n])}},tX=()=>{const e=rX(),{verifyOtp:t}=eX();return k.useMemo(()=>({verifyOtp:(n,r,i)=>t(e,n,r,i)}),[e,t])},QFe=(e,t)=>{var n,r,i,o,s,a,c;return t==="email"?{displayDestination:(n=e.emailVerification)===null||n===void 0?void 0:n.email,verificationUUID:(r=e.emailVerification)===null||r===void 0?void 0:r.verificationUUID}:{displayDestination:D3("+"+((o=(i=e.smsVerification)===null||i===void 0?void 0:i.phoneCountryCode)!==null&&o!==void 0?o:"")+((a=(s=e.smsVerification)===null||s===void 0?void 0:s.phoneNumber)!==null&&a!==void 0?a:"")),verificationUUID:(c=e.smsVerification)===null||c===void 0?void 0:c.verificationUUID}},nX=e=>{if(e===_b.VerifyEmail)return"email";if(e===_b.VerifySms)return"sms"},rX=()=>{const{setVerificationUUID:e,setDisplayedDestination:t}=Ll(),{environmentId:n}=Te(),{verifyOtp:r}=eX(),i=k.useCallback((s,a)=>ae(void 0,void 0,void 0,function*(){if(s==="email"&&a.emailVerification||s==="sms"&&a.smsVerification)return a;const c=s==="email"?"email":"phoneNumber";if(!a.user[c])throw new Rj(`missing ${c} field to perform update`);const l=yield MG.validate({[c]:a.user[c]}),{emailVerification:d,smsVerification:f}=yield rR(n,l);if(s==="email"&&!d||s==="sms"&&!f)throw new Rj(`could not get ${s} verification data from api`);return Object.assign(Object.assign({},a),{emailVerification:d,smsVerification:f})}),[n]),o=k.useCallback(s=>ae(void 0,[s],void 0,function*({updateUserProfileResponse:a,missingFields:c,destination:l}){const d=yield i(l,a),{displayDestination:f,verificationUUID:p}=QFe(d,l);t(f),e(p);const m=g=>ae(void 0,void 0,void 0,function*(){return r(o,g,l,p)});return l==="email"?{isEmailVerificationRequired:!0,isSmsVerificationRequired:!1,missingFields:c,updateUserProfileResponse:d,verifyOtp:m}:{isEmailVerificationRequired:!1,isSmsVerificationRequired:!0,missingFields:c,updateUserProfileResponse:d,verifyOtp:m}}),[i,t,e,r]);return o},eWe=e=>{const{environmentId:t,userWithMissingInfo:n,setCallback:r}=Te(),{setRetryData:i}=Ll(),{selectedPhoneCountry:o}=_T(),s=rX();return k.useCallback((c,l)=>ae(void 0,void 0,void 0,function*(){var d,f;let{metadata:p}=c;p=p?Object.assign(Object.assign({},n==null?void 0:n.metadata),p):n==null?void 0:n.metadata;const m=yield MG.validate(c,{stripUnknown:e});m.phoneNumber&&m.phoneNumber.length>0&&o.current&&i({dialCode:o.current.dialCode,iso2:o.current.iso2,phone:m.phoneNumber});const g=yield rR((d=l==null?void 0:l.userEnvironmentId)!==null&&d!==void 0?d:t,Object.assign(Object.assign({},m),{metadata:p})),y=(f=g.user.missingFields)!==null&&f!==void 0?f:[],v=nX(g.nextView);return v?s({destination:v,missingFields:y,updateUserProfileResponse:g}):(r("userProfileUpdate"),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:y,updateUserProfileResponse:g})}),[n==null?void 0:n.metadata,e,o,i,t,s,r])},tWe=(e,t,n)=>{if(!e.length)return"At least one field must be provided for editing";if(!t)return"No signed-in user";const r=$3({customFields:n==null?void 0:n.customFields,projectSettingsKyc:n==null?void 0:n.kyc,user:t});for(const i of e)if(!r.find(({name:o})=>o===i))return`Please ensure field "${i}" is enabled under "Configurations > Onboarding > Information capture" in your app's dashboard before using it with updateUserWithModal`;return""},nWe=(e,t,n,r,i)=>ae(void 0,[e,t,n,r,i],void 0,function*({fields:o,updateUserResult:{isEmailVerificationRequired:s,isSmsVerificationRequired:a}},c,l,d,f){if(!s&&!a){d(o);return}if(c(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),s){l("verify-email"),Kt.once("emailVerificationResult",(p,m)=>{o.email=m,p?d(o):f("Failed to verify email, no fields were updated")});return}l("verify-sms"),Kt.once("smsVerificationResult",(p,{phone:m})=>{o.phoneNumber=m,p?d(o):f("Failed to verify phone number, no fields were updated")})}),rWe=e=>{const{user:t,projectSettings:n,setShowAuthFlow:r}=Te(),{setView:i}=dn(),o=k.useContext(NY);if(!o)throw new Ae("useUserUpdateRequest can only be used inside the context of DynamicContextProvider");const{open:s}=o;return k.useCallback((c,l)=>new Promise((d,f)=>{const p=tWe(c,t,n);if(p){f(p);return}s({fields:c,submitText:l==null?void 0:l.submitText,subtitle:l==null?void 0:l.subtitle,title:l==null?void 0:l.title},e).then(m=>nWe(m,r,i,d,f)).catch(m=>{if(/email already exists/gi.test(m))throw m;f(m)})}),[t,n,s,e,r,i])},OR=({validationSchemaStripUnknown:e})=>{const t=eWe(e),n=rWe(t);return{updateUser:t,updateUserWithModal:n}},iX=({children:e,userProfile:t,disableSubmit:n})=>{const{policiesConsentInnerComponent:r,userWithMissingInfo:i}=Te(),{error:o}=Po(),{completeAuth:s}=Hp({}),{updateUser:a}=OR({validationSchemaStripUnknown:!1}),c=k.useCallback(y=>ae(void 0,void 0,void 0,function*(){yield s({updateJwtFunction:()=>ae(void 0,void 0,void 0,function*(){return a(y)})})}),[s,a]),{fetch:l,formikInitialValues:d,formikValidationSchema:f,enforcePolicies:p,onFormSubmit:m}=SY({fields:(i==null?void 0:i.missingFields)||[],onSubmit:c,userProfile:t}),g=[r].flat();return u.jsx(P3,{onSubmit:m,initialValues:d,validationSchema:f,children:({errors:y,touched:v,values:w})=>{var _;const E=n||p&&(g==null?void 0:g.length)!==((_=w.policiesConsentArray)===null||_===void 0?void 0:_.length);return u.jsx(O1,{className:"user-data-form__form",children:u.jsxs(u.Fragment,{children:[e,o&&u.jsx(fd,{icon:"error",variant:"error",className:"user-data-form__error",children:o}),u.jsx(RY,{fields:i==null?void 0:i.missingFields,errors:y,touched:v,policiesConsentInnerComponentArray:g}),u.jsx(Qt,{type:"submit",loading:l,disabled:E,buttonVariant:"primary",expanded:!0,buttonPadding:"login-screen-height",children:"Continue"})]})})}})},iWe=()=>{var e;const{appName:t,projectSettings:n,network:r,selectedWalletConnector:i,handleLogOut:o,onboardingImageUrl:s,userWithMissingInfo:a}=Te(),[c,l]=k.useState(!1),d=W3(),{t:f}=ut();if(!i||!a)return null;const p=i.evmNetworks||[],m=!r||Mp({network:r,walletConnector:i}),g=(e=a==null?void 0:a.verifiedCredentials.find(y=>y.id===a.lastVerifiedCredentialId))===null||e===void 0?void 0:e.address;return u.jsxs("div",{className:"collect-user-data","data-testid":"collect-user-data-view",children:[u.jsxs("div",{className:"collect-user-data__network-container",children:[u.jsxs("div",{className:"collect-user-data__img-container",children:[d!=null&&d.avatar?u.jsx("img",{src:d.avatar,alt:"",className:"collect-user-data__img collect-user-data__img--rounded"}):u.jsx(j1,{iconSize:28}),u.jsx(ie,{variant:"body_normal",color:"primary",weight:"medium",className:"collect-user-data__wallet-address",children:(d==null?void 0:d.name)||Gi(g,3,3)})]}),u.jsx(fR,{currentNetwork:r,evmNetworks:p,connector:i,showNetworkName:!0,isNetworkPickerOpen:c,setIsNetworkPickerOpen:l,buttonClassName:"collect-user-data__network-picker-button",mainClassName:"collect-user-data__network-picker"})]}),s&&u.jsx("img",{className:"collect-user-data__main-img",src:s,alt:"onboarding"}),!m&&u.jsx(Ao,{withIcon:!1,className:"collect-user-data__error--not-supported",copykey:"dyn_collect_user_data.not_supported_network.error_message",children:f("dyn_collect_user_data.not_supported_network.error_message")}),u.jsxs("div",{className:We("collect-user-data__form",{"collect-user-data__form--error":!m}),children:[u.jsx("div",{className:"collect-user-data__success-icon",children:u.jsx(un,{color:"text-primary",size:"large",children:u.jsx(YY,{})})}),u.jsx(iX,{disableSubmit:!m,userProfile:a,children:m?u.jsxs("div",{className:"collect-user-data__welcome-container",children:[u.jsx(ie,{variant:"title",color:"primary",className:"collect-user-data__welcome-title",copykey:"dyn_collect_user_data.greeting",children:(n==null?void 0:n.general.collectUserDataWelcomeHeader)||f("dyn_collect_user_data.greeting",{appName:t})}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_collect_user_data.description",children:(n==null?void 0:n.general.collectUserDataWelcomeMessage)||f("dyn_collect_user_data.description")})]}):u.jsxs("div",{className:"collect-user-data__welcome-container",children:[u.jsx(ie,{variant:"title",color:"primary",className:"collect-user-data__welcome-title",copykey:"dyn_collect_user_data.not_supported_network.title",children:f("dyn_collect_user_data.not_supported_network.title")}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_collect_user_data.not_supported_network.description",children:f("dyn_collect_user_data.not_supported_network.description")})]})}),u.jsx(Ma,{className:"collect-user-data__log-out",onClick:o,copykey:"dyn_collect_user_data.log_out_button",children:f("dyn_collect_user_data.log_out_button")})]})]})},oWe=({userIdentification:e,userIdentificationOverride:t})=>{var n;const{appName:r,handleLogOut:i,projectSettings:o,onboardingImageUrl:s,userWithMissingInfo:a}=Te(),{t:c}=ut();return a?u.jsxs("div",{className:"collect-user-data-login-no-wallet","data-testid":"collect-user-data-login-no-wallet",children:[s&&u.jsx("img",{className:"collect-user-data-login-no-wallet__main-img",src:s,alt:"onboarding"}),u.jsxs("div",{className:"collect-user-data-login-no-wallet__user-info-container",children:[u.jsx("div",{className:"collect-user-data-login-no-wallet__icon-container",children:u.jsx(MJ,{user:a})}),u.jsx(ie,{variant:"body_normal",color:"primary",weight:"medium",className:"collect-user-data-login-no-wallet__user-identification",children:(n=t??a[e])!==null&&n!==void 0?n:$J(a)})]}),u.jsxs("div",{className:"collect-user-data-login-no-wallet__form",children:[u.jsx("div",{className:"collect-user-data-login-no-wallet__success-icon",children:u.jsx(un,{color:"text-primary",size:"large",children:u.jsx(YY,{})})}),u.jsx(iX,{userProfile:a,children:u.jsxs("div",{className:"collect-user-data-login-no-wallet__welcome-container",children:[u.jsx(ie,{variant:"title",color:"primary",className:"collect-user-data-login-no-wallet__welcome-title",copykey:"dyn_collect_user_data.greeting",children:(o==null?void 0:o.general.collectUserDataWelcomeHeader)||c("dyn_collect_user_data.greeting",{appName:r})}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_collect_user_data.description",children:(o==null?void 0:o.general.collectUserDataWelcomeMessage)||c("dyn_collect_user_data.description")})]})}),u.jsx(Ma,{className:"collect-user-data-login-no-wallet__log-out",onClick:i,copykey:"dyn_collect_user_data.log_out_button",children:c("dyn_collect_user_data.log_out_button")})]})]}):null};var rD,sWe=["title","titleId"];function K8(){return K8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K8.apply(this,arguments)}function aWe(e,t){if(e==null)return{};var n=cWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var G3=function(t){var n=t.title,r=t.titleId,i=aWe(t,sWe);return k.createElement("svg",K8({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,rD||(rD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm-7.618-38.89v-4.037a8.074 8.074 0 0 1 16.147 0v4.036a13.436 13.436 0 0 1 5.383 10.766c0 7.431-6.025 13.456-13.456 13.456-7.432 0-13.456-6.025-13.456-13.456 0-4.402 2.114-8.31 5.382-10.765Zm13.147-1.702v-2.335a5.074 5.074 0 0 0-10.147 0v2.336a13.416 13.416 0 0 1 5.074-.99c1.795 0 3.507.352 5.073.99ZM34.5 36.663a3.5 3.5 0 1 0-3 0V39.5a1.5 1.5 0 0 0 3 0v-2.837Z",fill:"#4779FF"})))};const nE=e=>{const t=e.length>=6,n=/[A-Z]/.test(e),r=/[a-z]/.test(e),i=/\d/.test(e),o=/\W/.test(e);let s=[r,n,i,o,t].filter(Boolean).length;return s>=3&&e.length>=12&&(s=5),{hasLowerCase:r,hasNonalphas:o,hasNumbers:i,hasProperLength:t,hasUpperCase:n,securityCriteria:[{description:"Password is atleast 6 characters in length",key:"hasProperLength",value:t},{description:"Contains at least one uppercase letter",key:"hasUpperCase",value:n},{description:"Contains at least one lowercase letter",key:"hasLowerCase",value:r},{description:"Contains at least one number",key:"hasNumbers",value:i},{description:"Contains at least one non-alphanumeric character",key:"hasNonalphas",value:o}],strength:s}};var iD,lWe=["title","titleId"];function G8(){return G8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G8.apply(this,arguments)}function dWe(e,t){if(e==null)return{};var n=uWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var oX=function(t){var n=t.title,r=t.titleId,i=dWe(t,lWe);return k.createElement("svg",G8({xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,iD||(iD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.793 2.293a1 1 0 0 1 1.414 0l3.04 3.04A10.955 10.955 0 0 1 12.5 4c4.927 0 9.095 3.238 10.497 7.7a1 1 0 0 1 0 .6 11.014 11.014 0 0 1-3.552 5.231l2.762 2.762a1 1 0 0 1-1.414 1.414l-18-18a1 1 0 0 1 0-1.414Zm5.943 4.53 1.732 1.731a4 4 0 0 1 5.478 5.478l2.076 2.076A9.022 9.022 0 0 0 20.989 12 9.004 9.004 0 0 0 8.736 6.822Zm5.696 5.695a2 2 0 0 0-2.45-2.45l2.45 2.45ZM5.125 8.174a1 1 0 0 1 .194 1.4A8.975 8.975 0 0 0 4.012 12a9.004 9.004 0 0 0 10.177 5.842 1 1 0 0 1 .372 1.965c-.668.127-1.357.193-2.06.193-4.927 0-9.095-3.238-10.497-7.7a1 1 0 0 1 0-.6 10.97 10.97 0 0 1 1.72-3.332 1 1 0 0 1 1.4-.194Z",fill:"#ABACB2"})))};const NR=({initialState:e=!1,onClick:t,className:n=""})=>{const[r,i]=k.useState(e),o=s=>{s.preventDefault(),i(a=>{const c=!a;return t==null||t(c),c})};return u.jsx(Ma,{className:We("toggle-visibility-button__container",n),onClick:s=>o(s),children:u.jsx(B1,{className:"toggle-visibility-button__tooltip",content:r?"Show":"Hide",children:u.jsx(un,{size:"medium",color:"text-tertiary",children:r?u.jsx(B8,{}):u.jsx(oX,{})})})})},fWe=({password:e,setPassword:t,currentPassword:n,setCurrentPassword:r,onContinue:i,isChangingPassword:o,onClose:s,onLogout:a})=>{const{primaryWallet:c}=Te(),[l,d]=k.useState("password"),[f,p]=k.useState("password"),m=nE(e).strength,[g,y]=k.useState(m),[v,w]=k.useState(""),[_,E]=k.useState("password"),[C,T]=k.useState(!1),[A,S]=k.useState(""),{t:O}=ut(),D=!!((e==null?void 0:e.length)>=6&&g>=5&&v===e&&(!o||n&&n!==e)),K=s&&u.jsx(Vr,{onClick:()=>s(),type:"button",children:u.jsx(vo,{})}),H=(x,P,N=!0)=>u.jsxs("div",{className:"create-password__password-input__suffix",children:[N&&u.jsx("div",{children:u.jsx(Jf,{textToCopy:e,copykey:"dyn_qr_code.copy_button",className:"create-password__password-input__suffix__icon",children:u.jsx(Zf,{className:"create-password__password-input__suffix__icon",onClick:$=>{$.preventDefault()}})})}),u.jsx(NR,{initialState:x==="password",onClick:$=>P($?"password":"text"),className:"create-password__password-input__suffix__icon"})]}),X=x=>ae(void 0,void 0,void 0,function*(){x.preventDefault();const P=c==null?void 0:c.connector;if(o&&ih(P)){T(!0);try{if(!(yield P.validatePasscode(n))){S(O("dyn_create_password.errors.invalid_current_password"));return}}catch{S(O("dyn_create_password.errors.error_changing_password"));return}finally{T(!1)}}D&&i()}),U=x=>{const P=x.target.value,{strength:N}=nE(P);if(y(N),t(P),o){S(n===P?O("dyn_create_password.errors.new_password_same_as_old"):P&&v&&P!==v?O("dyn_create_password.errors.password_mismatch"):"");return}P!=null&&P.length||S("")},I=x=>{const P=x.target.value;S(P!==e?O("dyn_create_password.errors.password_mismatch"):""),w(P)};return u.jsxs(u.Fragment,{children:[u.jsx(ji,{trailing:K,children:u.jsx(ie,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:"dyn_create_password.title",children:O(o?"dyn_create_password.title.update":"dyn_create_password.title.create")})}),u.jsx("div",{className:"create-password",children:u.jsxs("form",{className:"create-password__body","data-testid":"create-password-form",onSubmit:X,children:[u.jsxs("div",{className:"create-password__body__header",children:[u.jsx(G3,{}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",children:O("dyn_create_password.description")})]}),A&&u.jsx(Ao,{children:A}),o&&u.jsx(ea,{id:"current-password",placeholder:O("dyn_create_password.current_password_input.placeholder"),type:l,suffix:H(l,d,!1),label:O("dyn_create_password.current_password_input.label"),value:n,onChange:x=>r(x.target.value),autoFocus:!0,copykey:"dyn_create_password.current_password_input"}),u.jsx("div",{children:u.jsx(ea,{id:"password",placeholder:O(o?"dyn_create_password.update_input.placeholder":"dyn_create_password.create_input.placeholder"),type:f,suffix:H(f,p),label:O(o?"dyn_create_password.update_input.label":"dyn_create_password.create_input.label"),value:e,onChange:U,autoFocus:!o,copykey:"dyn_create_password.create_input"})}),e.length>=1&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"create-password__body__card",children:nE(e).securityCriteria.map(x=>u.jsxs("div",{className:`create-password__password-criteria-list ${x.value?"create-password__password-criteria-list__success":"create-password__password-criteria-list__error"}`,children:[u.jsx("div",{children:x.value?u.jsx(Td,{className:"create-password__password-criteria-icon"}):u.jsx(vo,{className:"create-password__password-criteria-icon"})}),u.jsx(ie,{variant:"body_mini",children:x.description})]},x.key))}),u.jsx(ea,{id:"confirm-password",placeholder:O("dyn_create_password.confirm_input.placeholder"),type:_,suffix:H(_,E,!1),label:O("dyn_create_password.confirm_input.label"),value:v,onChange:I,copykey:"dyn_create_password.confirm_input"})]}),u.jsx(Qt,{buttonPadding:"large",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},disabled:!D,copykey:"dyn_create_password.continue",type:"submit",loading:C,children:O("dyn_create_password.continue")}),a&&u.jsx(Ma,{className:"create-password__log-out",onClick:a,copykey:"dyn_create_password.logout",children:O("dyn_create_password.logout")})]})})]})};var oD,hWe=["title","titleId"];function Z8(){return Z8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z8.apply(this,arguments)}function pWe(e,t){if(e==null)return{};var n=mWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var sX=function(t){var n=t.title,r=t.titleId,i=pWe(t,hWe);return k.createElement("svg",Z8({width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,oD||(oD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.417 14.167c0 .92.746 1.666 1.666 1.666h8.334c.92 0 1.666-.746 1.666-1.666v-.834a.833.833 0 0 1 1.667 0v.834a3.333 3.333 0 0 1-3.333 3.333H6.083a3.333 3.333 0 0 1-3.333-3.333v-.834a.833.833 0 0 1 1.667 0v.834Zm1.91-4.756a.833.833 0 0 1 1.179 0l1.91 1.91V3.333a.833.833 0 0 1 1.667 0v7.989l1.911-1.911a.833.833 0 1 1 1.179 1.178l-3.334 3.334a.833.833 0 0 1-1.178 0l-3.334-3.334a.833.833 0 0 1 0-1.178Z",fill:"#ABACB2"})))},sD,aD,cD,lD,dD,uD,fD,gWe=["title","titleId"];function J8(){return J8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J8.apply(this,arguments)}function yWe(e,t){if(e==null)return{};var n=vWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var bWe=function(t){var n=t.title,r=t.titleId,i=yWe(t,gWe);return k.createElement("svg",J8({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,k.createElement("g",{clipPath:"url(#save-password-hero_svg__a)"},k.createElement("mask",{id:"save-password-hero_svg__b",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:0,y:0,width:327,height:112},sD||(sD=k.createElement("path",{d:"M315 0H12C5.373 0 0 5.373 0 12v88c0 6.627 5.373 12 12 12h303c6.627 0 12-5.373 12-12V12c0-6.627-5.373-12-12-12Z",fill:"#fff"}))),k.createElement("g",{mask:"url(#save-password-hero_svg__b)"},aD||(aD=k.createElement("path",{d:"M164 228c62.96 0 114-51.04 114-114S226.96 0 164 0 50 51.04 50 114s51.04 114 114 114Z",fill:"url(#save-password-hero_svg__c)",fillOpacity:.12})),k.createElement("mask",{id:"save-password-hero_svg__d",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:86,y:29,width:40,height:40},cD||(cD=k.createElement("path",{d:"M116.91 29 86 37.282l8.282 30.91 30.91-8.282L116.91 29Z",fill:"#fff"}))),k.createElement("g",{mask:"url(#save-password-hero_svg__d)"},k.createElement("mask",{id:"save-password-hero_svg__e",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:90,y:33,width:31,height:31},lD||(lD=k.createElement("path",{d:"M119.763 44.8c-2.097-7.824-10.139-12.467-17.963-10.37-7.824 2.096-12.468 10.138-10.371 17.962 2.096 7.824 10.139 12.467 17.963 10.37 7.824-2.096 12.467-10.138 10.371-17.962Z",fill:"#fff"}))),dD||(dD=k.createElement("g",{mask:"url(#save-password-hero_svg__e)"},k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M118.709 55.166a14.617 14.617 0 0 0 1.054-10.366c-2.097-7.824-10.139-12.467-17.963-10.37-7.824 2.096-12.467 10.138-10.37 17.962a14.612 14.612 0 0 0 6.096 8.451c1.808-3.916 6.565-6.42 9.647-7.247 3.083-.826 7.955-1.146 11.536 1.57Zm-19.374-8.688a5.5 5.5 0 1 1 10.624-2.848 5.5 5.5 0 0 1-10.624 2.848Z",fill:"#DD8500"})))),uD||(uD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.268 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.844 9.844 0 0 0-3.409-1.665 9.847 9.847 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.944 32.064a6.223 6.223 0 0 0-1.78 0c-.68.098-1.313.337-1.816.527l-.134.05-16.681 6.255-.406.152c-1.922.718-3.61 1.347-4.91 2.493a9.331 9.331 0 0 0-2.552 3.682c-.616 1.619-.614 3.42-.611 5.472l.001.434v14.875c0 8.792 4.782 16.123 9.952 21.508 5.204 5.42 11.159 9.25 14.308 11.086l.127.075c.575.337 1.32.775 2.307.987a6.623 6.623 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.149-1.836 9.103-5.665 14.308-11.086 5.169-5.385 9.952-12.716 9.952-21.508V50.695c.003-2.052.006-3.853-.61-5.472a9.331 9.331 0 0 0-2.552-3.682c-1.3-1.145-2.988-1.775-4.91-2.493l-.407-.152-16.68-6.254-.135-.05c-.502-.19-1.135-.43-1.815-.528Zm-.36 18.497c1.726 0 3.126 1.4 3.126 3.126v12.504a3.126 3.126 0 0 1-6.253 0V53.687c0-1.726 1.4-3.126 3.127-3.126Zm-3.127 28.135c0-1.727 1.4-3.126 3.127-3.126h.031a3.127 3.127 0 1 1 0 6.252h-.031a3.127 3.127 0 0 1-3.127-3.126Z",fill:"#DD8500"})))),fD||(fD=k.createElement("defs",null,k.createElement("linearGradient",{id:"save-password-hero_svg__c",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#DD8500"}),k.createElement("stop",{offset:.985,stopColor:"#DD8500",stopOpacity:0})),k.createElement("clipPath",{id:"save-password-hero_svg__a"},k.createElement("path",{fill:"#fff",d:"M0 0h327v112H0z"})))))};const aX=(e,t)=>{const n=document.createElement("a"),r=new Blob([t],{type:"text/plain"});n.href=URL.createObjectURL(r),n.download=e,document.body.appendChild(n),n.click()},wWe=({password:e,error:t,isLoading:n,onSave:r,onBack:i,onClose:o,onLogout:s})=>{const{t:a}=ut(),[c,l]=k.useState("password"),[d,f]=k.useState(!1),[p,m]=k.useState(!1),g=u.jsx(Vr,{type:"button",onClick:()=>i(),"data-testid":"back-button",children:u.jsx(nc,{})}),y=o&&u.jsx(Vr,{onClick:()=>o(),type:"button",children:u.jsx(vo,{})}),v=u.jsx(NR,{initialState:c==="password",onClick:_=>l(_?"password":"text"),className:"save-password-suffix-icon"}),w=_=>ae(void 0,void 0,void 0,function*(){_.preventDefault(),r()});return u.jsxs(u.Fragment,{children:[u.jsx(ji,{leading:g,trailing:y,children:u.jsx(ie,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:"dyn_save_password.title",children:a("dyn_save_password.title")})}),u.jsx("div",{className:"save-password-view",children:u.jsxs("form",{className:"save-password-view__body","data-testid":"save-password-form",onSubmit:w,children:[u.jsx("div",{className:"save-password-view__body__icon",children:u.jsx(bWe,{})}),u.jsx("div",{className:"save-password-view__body__icon",children:u.jsx(hd,{text:a("dyn_save_password.badge_text"),className:"save-password-view__body__badge",copykey:"dyn_save_password.badge_text"})}),u.jsxs("div",{className:"save-password-view__body__description",children:[u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_save_password.description",children:a("dyn_save_password.description")}),u.jsx(ie,{variant:"body_normal",weight:"bold",color:"secondary",copykey:"dyn_save_password.description",children:a("dyn_save_password.warning")})]}),t&&u.jsx(Ao,{children:t}),u.jsx("div",{children:u.jsx(ea,{id:"password",placeholder:a("dyn_save_password.password_input.placeholder"),type:c,suffix:v,disabled:!0,label:a("dyn_save_password.password_input.label"),value:e,autoFocus:!0,copykey:"dyn_save_password.password_input"})}),u.jsxs("div",{className:"save-password-view__actions",children:[u.jsx(Qt,{dataTestId:"save-password-copy",buttonPadding:"small",buttonVariant:"primary",onClick:_=>{_.preventDefault(),W2(e),m(!0)},startSlot:u.jsx(Zf,{}),expanded:!0,copykey:"dyn_save_password.copy_button",children:a(p?"dyn_save_password.copy_button.copied":"dyn_save_password.copy_button.copy")}),u.jsx(Qt,{dataTestId:"save-password-download",buttonPadding:"small",buttonVariant:"primary",onClick:_=>{_.preventDefault(),aX("wallet-recovery.txt",e)},startSlot:u.jsx(sX,{}),expanded:!0,copykey:"dyn_save_password.download_button",children:a("dyn_save_password.download_button")})]}),u.jsx("div",{className:"save-password-view__body__confirm-card",children:u.jsxs("button",{className:"save-password-view__body__card__acknowledgement",onClick:_=>{_.stopPropagation(),f(!d)},type:"button",children:[u.jsx("div",{children:u.jsx(Yf,{checked:d,onChange:_=>{_.stopPropagation(),f(!d)},className:"save-password-view__body__card__statement__checkbox"})}),u.jsx("div",{children:u.jsx(ie,{variant:"body_normal",style:{letterSpacing:"-0.15px"},color:"primary",copykey:"dyn_save_password.checkbox_label",children:a("dyn_save_password.checkbox_label")})})]})}),u.jsx(Qt,{dataTestId:"save-password-submit",buttonPadding:"large",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},disabled:!d,loading:n,type:"submit",copykey:"dyn_save_password.continue",children:a("dyn_save_password.continue")}),s&&u.jsx(Ma,{className:"create-password__log-out",onClick:s,copykey:"dyn_save_password.logout",children:a("dyn_save_password.logout")})]})})]})},cX=({onSuccess:e,onError:t,closeView:n,notCalledFromWalletUtils:r,isSignUp:i})=>{var o;const{setShowAuthFlow:s,user:a,projectSettings:c,primaryWallet:l,handleLogOut:d,walletConnectorOptions:f}=Te(),{t:p}=ut(),{claimWallet:m}=hY(),[g,y]=k.useState("create-password"),v=(o=a==null?void 0:a.verifiedCredentials.find(N=>N.walletName==="coinbasempc"))===null||o===void 0?void 0:o.walletProperties,w=!!(v!=null&&v.claimed),_=n??!0,[E,C]=k.useState(""),[T,A]=k.useState(""),[S,O]=k.useState(!1),[D,K]=k.useState(""),H=vR(c),X=w||!H,U=()=>ae(void 0,void 0,void 0,function*(){y("save-password")}),I=()=>ae(void 0,void 0,void 0,function*(){var N,$,L;O(!0);try{if(!i){const z=(L=(N=l==null?void 0:l.connector)!==null&&N!==void 0?N:($=yR(f))===null||$===void 0?void 0:$.walletConnector)!==null&&L!==void 0?L:void 0;r&&ih(z)&&(yield z.changePasscode(T,E)),w||(yield m())}e==null||e(T),_&&s(!1,{ignoreIfIsEmbeddedWidget:!1}),Kt.emit("embeddedWalletCreatePasswordCompleted",T)}catch(z){Ne.debug(`Error ${w?"updating":"creating"} password`,z),Kt.emit("embeddedWalletCreatePasswordFailed",z),z instanceof Error&&K(z.message),t==null||t(z)}finally{O(!1)}}),x=()=>{if(H){const N=new Error(p("dyn_create_password.errors.user_closed_view"));t==null||t(N,!0),Kt.emit("embeddedWalletCreatePasswordFailed",N)}s(!1)},P=N=>{N==null||N.preventDefault();const $=new Error(p("dyn_create_password.errors.user_closed_view"));t==null||t($,!0),d()};return g==="save-password"?u.jsx(wWe,{password:T,onBack:()=>y("create-password"),error:D,isLoading:S,onSave:()=>I(),onClose:X?()=>x():void 0,onLogout:X?void 0:P}):u.jsx(fWe,{password:T,setPassword:A,currentPassword:E,setCurrentPassword:C,onContinue:()=>U(),isChangingPassword:w,onClose:X?()=>x():void 0,onLogout:X?void 0:P})};var hD,_We=["title","titleId"];function Y8(){return Y8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y8.apply(this,arguments)}function xWe(e,t){if(e==null)return{};var n=kWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var lX=function(t){var n=t.title,r=t.titleId,i=xWe(t,_We);return k.createElement("svg",Y8({width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,hD||(hD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.638 2.862a.667.667 0 0 0-.943 0L7.167 8.391v.943h.942l5.53-5.53a.667.667 0 0 0 0-.942Zm-1.886-.943a2 2 0 1 1 2.829 2.829l-5.724 5.724a.667.667 0 0 1-.471.195H6.5A.667.667 0 0 1 5.833 10V8.115c0-.177.07-.347.196-.472l5.723-5.724ZM4.5 4a.667.667 0 0 0-.667.667V12c0 .368.299.667.667.667h7.333A.667.667 0 0 0 12.5 12V8.667a.667.667 0 0 1 1.333 0V12a2 2 0 0 1-2 2H4.5a2 2 0 0 1-2-2V4.667a2 2 0 0 1 2-2h3.333a.667.667 0 0 1 0 1.333H4.5Z",fill:"currentColor"})))};const SWe=()=>{const{setView:e}=dn(),{clearStatesOnBackClick:t,selectedWalletConnector:n}=Te(),{t:r}=ut();if(n&&!Tl(n))throw new Error("Wallet connector is not email provider");const i=n,o=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){yield i==null?void 0:i.endSession(),e("login-with-email-or-wallet"),t()}),[e,i,t]);return u.jsxs("div",{className:"email-confirmation-waiting-view",children:[u.jsx("div",{className:"email-confirmation-waiting-view__header-icon",children:u.jsx(bo,{Icon:yp,iconSize:80,isSpinning:!0})}),u.jsx(ie,{weight:"medium",variant:"title",color:"primary",className:"email-confirmation-waiting-view__title",copykey:"dyn_email_confirmation.title",children:r("dyn_email_confirmation.title")}),u.jsx(ie,{weight:"regular",variant:"body_normal",color:"secondary",copykey:"dyn_email_confirmation.description",children:r("dyn_email_confirmation.description")}),u.jsxs("div",{className:"email-confirmation-waiting-view__email-container",children:[u.jsx(ie,{variant:"body_normal",color:"secondary",weight:"medium",as:"span",children:i==null?void 0:i.email}),u.jsx(Vr,{onClick:o,className:"email-confirmation-waiting-view__edit-icon-button","data-testid":"email-confirmation-waiting-view__edit-button",children:u.jsx(un,{color:"text-tertiary",children:u.jsx(lX,{})})})]}),u.jsx("div",{className:"email-confirmation-waiting-view__note",children:u.jsx(ie,{weight:"regular",variant:"body_small",color:"secondary",copykey:"dyn_email_confirmation.note",children:r("dyn_email_confirmation.note")})}),u.jsx(Ad,{classNameRoot:"email-confirmation-waiting-view__powered_by_dynamic_footer"})]})};var pD,mD,gD,EWe=["title","titleId"];function X8(){return X8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X8.apply(this,arguments)}function CWe(e,t){if(e==null)return{};var n=IWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Z3=function(t){var n=t.title,r=t.titleId,i=CWe(t,EWe);return k.createElement("svg",X8({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,pD||(pD=k.createElement("circle",{cx:32,cy:32,r:32,fill:"currentColor"})),mD||(mD=k.createElement("path",{d:"M51 29.333a1.333 1.333 0 0 0-1.333 0l-17.334 9.8L15 29.333a1.333 1.333 0 0 0-2 1.16V42a4 4 0 0 0 4 4h30.667a4 4 0 0 0 4-4V30.5A1.333 1.333 0 0 0 51 29.333Z",fill:"#fff"})),gD||(gD=k.createElement("path",{d:"M47.667 18H17a4 4 0 0 0-4 4v2.5a1.334 1.334 0 0 0 .667 1.16l18 10.167a1.333 1.333 0 0 0 1.333 0L51 25.66a1.334 1.334 0 0 0 .667-1.16V22a4 4 0 0 0-4-4Z",fill:"#fff"})))};const AWe=10,dX=e=>{const t=k.useRef(e);t.current=e,k.useEffect(()=>{const n=new Date;return()=>{new Date().getTime()-n.getTime()<AWe||t.current()}},[])},TWe=(e,t)=>!e||t.length>2?t.split(""):t===""?[]:e[0]===t[0]?[t[1]]:[t[0]],RWe=({autoFocus:e,disabled:t,inputIndex:n,inputMode:r,isValidated:i,name:o,onChange:s,pattern:a,type:c,value:l,values:d,hasError:f})=>{const p=k.useRef(null),m=y=>{const v=d[n],w=y.target.value.replace(/\s+/g,""),_=[...d],E=TWe(v,w).slice(0,_.length-n),C=(O,D)=>_[n+D]=O,T=c==="number"?/(^$)|(\d+)/:/.*/,A=E.every(O=>T.test(O));let S=p.current;if(A){E.length?E.forEach(C):_[n]="",s(_);for(let O=0;O<E.length;O++)S=S==null?void 0:S.nextElementSibling;E&&S instanceof HTMLInputElement&&S.focus()}},g=({key:y})=>{var v;if(y==="Backspace"&&d[n]===""&&n>0){const w=(v=p.current)===null||v===void 0?void 0:v.previousElementSibling;w instanceof HTMLInputElement&&w.focus()}};return k.useEffect(()=>{var y;e&&n===0&&((y=p==null?void 0:p.current)===null||y===void 0||y.focus())},[e,n]),u.jsx("input",{ref:p,className:We("pin-input__input",{"pin-input__input--error":!!f,"pin-input__input--success":!!i}),disabled:t,name:o,value:l,onChange:m,onKeyDown:g,"data-testid":n,pattern:a,inputMode:r})},PWe=e=>e.every(t=>t),uX=({handleComplete:e,initialValue:t,inputMode:n,isLoading:r,isValidated:i,pattern:o,type:s="number",hasError:a,onChange:c})=>{const[l,d]=k.useState(t),f=p=>{const m=p.join("");d(p),c==null||c(m),PWe(p)&&e(m)};return u.jsx("div",{className:"pin-field__container",children:l.map((p,m)=>u.jsx(RWe,{values:l,inputIndex:m,value:p,onChange:f,disabled:r,inputMode:n,isValidated:i,pattern:o,type:s,autoFocus:!0,hasError:a},`pin_input_${m}`))})};var yD,OWe=["title","titleId"];function Q8(){return Q8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q8.apply(this,arguments)}function NWe(e,t){if(e==null)return{};var n=jWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Ng=function(t){var n=t.title,r=t.titleId,i=NWe(t,OWe);return k.createElement("svg",Q8({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,yD||(yD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2.666a5.333 5.333 0 1 0 0 10.667A5.333 5.333 0 0 0 8 2.666ZM1.333 8a6.667 6.667 0 1 1 13.333 0A6.667 6.667 0 0 1 1.333 8Zm9.138-1.805c.26.26.26.682 0 .943L7.804 9.804a.667.667 0 0 1-.942 0L5.528 8.471a.667.667 0 1 1 .943-.943l.862.862 2.195-2.195c.26-.26.683-.26.943 0Z",fill:"currentColor"})))};const BWe=({callback:e,seconds:t})=>{const[n,r]=k.useState(t),i=k.useRef(),o=()=>{if(i.current)return r(t);a()},s=()=>{clearTimeout(i.current),i.current=void 0},a=()=>{i.current=setTimeout(()=>{r(c=>c-1)},1e3)};return k.useEffect(()=>{if(i.current){if(n<=0){e&&e();return}return a(),()=>clearTimeout(i.current)}},[n,e]),{remainingSeconds:n,startCountdown:o,stopCountdown:s}},fX=({retryHandler:e,secondsToRetry:t=15,disabled:n=!1,className:r})=>{const{t:i}=ut(),[o,s]=k.useState(!1),{remainingSeconds:a,startCountdown:c}=BWe({callback:()=>s(!1),seconds:t}),{isLoading:l,mutate:d}=ac(e,{onSuccess:()=>{s(!0),c()}}),f=We("retry-send-verification-code-section",r);return o?u.jsxs("div",{className:f,children:[u.jsx(ie,{variant:"body_small",color:"secondary",copykey:"dyn_otp_verification.resend_code_in",children:i("dyn_otp_verification.resend_code_in",{remainingSeconds:a})}),u.jsxs("span",{className:"retry-send-verification-code-section__confirmation",children:[u.jsx(un,{color:"success-1",children:u.jsx(Ng,{})}),u.jsx(ie,{variant:"body_small",weight:"medium",color:"primary",copykey:"dyn_otp_verification.code_sent",children:i("dyn_otp_verification.code_sent")})]})]}):u.jsxs("div",{className:f,children:[u.jsx(ie,{variant:"body_small",weight:"medium",color:"secondary",copykey:"dyn_otp_verification.code_not_received",children:i("dyn_otp_verification.code_not_received")}),u.jsx(Ma,{className:"email-verification__text-button",disabled:l||n,onClick:()=>d(),copykey:"dyn_otp_verification.resend_code",children:i("dyn_otp_verification.resend_code")})]})},$We=15,vD=({isEmailRecoveryFlow:e=!1,showRetryButton:t=!0,showTransferMessage:n=!1})=>{var r,i,o,s;const{environmentId:a,handleLogOut:c,setPrimaryWalletId:l,setShowAuthFlow:d,projectSettings:f,user:p,userWithMissingInfo:m,walletConnectorOptions:g}=Te(),{setView:y,goToInitialView:v}=dn(),{error:w,setError:_,setErrorMessage:E}=Po(),{loading:C,setLoading:T}=X0(),[A,S]=k.useState(t),[O,D]=k.useState(n),[K,H]=k.useState(!1),X=k.useRef(K),U=G=>{H(G),X.current=G},{displayedDestination:I,verificationUUID:x,setVerificationUUID:P}=Ll(),{t:N}=ut(),{addRecoveryEmail:$}=Id(),{isTurnkeyWallet:L,hasTurnkeyVerifiedCredentialAuthenticator:z,hasRecoveryEmail:q}=Ns(),j=Vf(f),{initAuth:W,completeAuth:re,cancelAuth:de}=Hp({authMethod:"email"}),te=k.useRef(!0);dX(()=>{if(!te.current)return;const G=I??"";Kt.emit("emailVerificationResult",X.current,G),X.current||Kt.emit("authFailure",{email:G,option:G,type:"email"},"user-cancelled"),I||Ne.warn("WARNING: emitted emailVerificationResult with incomplete params because useVerification's displayedDestination was undefined")});const{verifyOtp:ce}=tX(),ge=k.useCallback(G=>ae(void 0,void 0,void 0,function*(){var we,$e,yt,Gt,_t,Rn;if(G.nextView==="verified-and-transferred"&&(D==null||D(!0)),e)return y("passkey-recovery-add-email",{canSkipAddingEmail:!1,isFromEmailVerification:!0}),!0;if(!L)return!1;if(z&&!q&&(!((we=G==null?void 0:G.user)===null||we===void 0)&&we.email))return To(G),yield $(G.user.email),d(!1),!0;if(j){const mr=(yt=($e=f==null?void 0:f.sdk)===null||$e===void 0?void 0:$e.embeddedWallets)===null||yt===void 0?void 0:yt.automaticEmbeddedWalletCreation,ve=!!(mr&&!(!((_t=(Gt=f==null?void 0:f.sdk)===null||Gt===void 0?void 0:Gt.embeddedWallets)===null||_t===void 0)&&_t.forceAuthenticatorAtSignup));if(ve){const Ue=Gf(VT(G.user));if(!Ue)throw new Error("Could not find an embedded wallet");const Qe=g==null?void 0:g.find(it=>it.key===Ue.walletName);if(!(Qe!=null&&Qe.walletConnector))throw new Error("Could not find connector for embedded wallet");const Ze={address:Ue.address,authenticated:!1,chain:Ue.chain,connected:!0,connector:Qe.walletConnector,id:Ue.id,key:(Rn=Ue.walletName)!==null&&Rn!==void 0?Rn:""};l(Ue.id),Kt.emit("embeddedWalletCreated",Ze,Ue,G.jwt,p)}if(ve||!mr)return d(!1),!0}return!1}),[$,q,z,e,j,L,(i=(r=f==null?void 0:f.sdk)===null||r===void 0?void 0:r.embeddedWallets)===null||i===void 0?void 0:i.automaticEmbeddedWalletCreation,(s=(o=f==null?void 0:f.sdk)===null||o===void 0?void 0:o.embeddedWallets)===null||s===void 0?void 0:s.forceAuthenticatorAtSignup,l,d,y,p,g]),Ce=k.useCallback(G=>ae(void 0,void 0,void 0,function*(){return _(void 0),T(!0),x?!p&&!m?W({onVerifySuccess:()=>U(!0),options:{email:I},showSuccessMessage:!0,verifyFunction:()=>HY({environmentId:a,verificationToken:G,verificationUUID:x})}):re({completeSignInFlow:we=>ae(void 0,void 0,void 0,function*(){return ge(we)}),onValidUpdatedJwt:()=>{U(!0)},options:{email:I,isEmailRecoveryFlow:e},updateJwtFunction:()=>ae(void 0,void 0,void 0,function*(){return ce(G,"email",x)})}):de()}),[_,T,x,p,m,re,I,e,de,W,a,ge,ce]),qe=()=>ae(void 0,void 0,void 0,function*(){try{if(!x||!I)return;T(!0);const{verificationUUID:G}=yield yFe({email:I,environmentId:a,verificationUUID:x});P(G),_(void 0)}catch(G){Ne.debug(G),E(G.code),G.code==="too_many_email_verification_attempts"&&S(!1),G.code==="invalid_email_verification"&&v()}finally{T(!1)}}),J=k.useMemo(()=>we=>u.jsx(un,{color:"brand-primary",children:u.jsx(Z3,Object.assign({},we))}),[]);return u.jsxs(u.Fragment,{children:[w&&u.jsx(Ao,{withIcon:!1,className:"email-verification__error-message",children:w}),u.jsxs("div",{className:We("email-verification__container",{"email-verification__container--error":!!w}),children:[O&&u.jsx("div",{className:"email-verification__transfer-message",copykey:"dyn_otp_verification.email.complete",children:N("dyn_otp_verification.email.complete")}),K?u.jsx("div",{className:"email-verification__icon-container",children:u.jsx(Vp,{containerClassName:"email-verification__icon--verified",Icon:J,iconSize:64,InnerIcon:Td})}):u.jsx(bo,{Icon:J,iconSize:96,isSpinning:!0,className:"email-verification__icon-with-spinner"}),u.jsxs("div",{className:"email-verification__copy-text-container",children:[u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_otp_verification.description",children:N("dyn_otp_verification.description")}),u.jsx(ie,{variant:"body_normal",weight:"bold",color:"secondary",children:Cp(I)})]}),u.jsx(uX,{initialValue:Array(6).join(".").split("."),isLoading:C,handleComplete:Ce,isValidated:K,inputMode:"numeric",pattern:"[0-9]*",hasError:!!w,onChange:()=>_(void 0)}),A&&u.jsx(fX,{className:"email-verification__retry-container",retryHandler:qe,secondsToRetry:$We}),(p||m)&&!e&&u.jsx(Ma,{className:"email-verification__log-out",onClick:c,copykey:"dyn_otp_verification.log_out_button",children:N("dyn_otp_verification.log_out_button")})]})]})},hX=e=>u.jsx(un,{color:"brand-primary",children:u.jsx(Z3,Object.assign({},e,{"data-testid":"sign-in-with-email-icon"}))}),MWe={error:"error-1",notice:"brand-primary",success:"green-1"},bD=({messageKey:e,type:t="error",disableTruncate:n=!1})=>{const{t:r}=ut();return u.jsx(sd,{animationComponent:u.jsx(Ip,{style:{width:"100%"}}),children:!!e&&u.jsx("div",{className:We("modal-header-banner",{"modal-header-banner__error":t==="error","modal-header-banner__notice":t==="notice","modal-header-banner__success":t==="success"}),children:u.jsx(ie,{variant:"body_small",color:MWe[t],truncate:n===!1,copykey:e,children:r(e||"")})})})},J3=({onClickBack:e,onClickEditDestination:t,isLoading:n,displayedDestination:r,description:i,onPinComplete:o,isValid:s,error:a,retryHandler:c,onPinChange:l,successBannerTextKey:d,MainIcon:f,hideHeader:p,appendAboveOTPInput:m,appendToEnd:g})=>{const{t:y}=ut(),v=e&&u.jsx(Vr,{type:"button",onClick:e,"data-testid":"back-button",children:u.jsx(nc,{})}),w=k.useMemo(()=>s?"dyn_otp_verification.verification_succeeded":"dyn_otp_verification.confirm_code",[s]);return u.jsxs(u.Fragment,{children:[!p&&u.jsx(ji,{alignContent:"bottom",leading:e&&v,children:u.jsx("div",{className:"otp-verification-view__status-header",children:u.jsx(ie,{weight:"medium",variant:"title",color:"primary",className:"otp-verification-view__title",copykey:w,children:y(w)})})}),d&&u.jsx(bD,{type:"notice",messageKey:d,disableTruncate:!0}),u.jsx(bD,{type:"error",messageKey:a==null?void 0:a.message}),u.jsxs("div",{className:We("otp-verification-view",{"otp-verification-view--message":!!(d||a)}),children:[s&&u.jsx(Vp,{Icon:f,iconSize:64,InnerIcon:Td}),!s&&u.jsx(bo,{Icon:f,iconSize:96,isSpinning:n,className:"otp-verification-view__icon-with-spinner",treatAsFunctionComponent:!0}),u.jsxs("div",{className:"otp-verification-view__body",children:[s&&u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_otp_verification.hang_tight",children:y("dyn_otp_verification.hang_tight")}),!s&&(i?u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_otp_verification.description",children:i}):u.jsxs(u.Fragment,{children:[u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_otp_verification.description",children:y("dyn_otp_verification.description")}),u.jsxs("div",{className:"otp-verification-view__destination-container",children:[r&&u.jsx(ie,{variant:"body_normal",weight:"bold",color:"secondary",children:r}),t&&u.jsx(Vr,{onClick:t,"data-testid":"otp-verification-view__edit-button",children:u.jsx(un,{color:"text-tertiary",children:u.jsx(lX,{})})})]})]}))]}),m,u.jsx(uX,{initialValue:Array(6).join(".").split("."),isLoading:n,handleComplete:o,isValidated:s,inputMode:"numeric",pattern:"[0-9]*",hasError:!!a,onChange:l}),c&&u.jsx(fX,{className:"otp-verification-view__retry-container",retryHandler:c}),g]})]})},DWe=()=>{const{setView:e}=dn(),[t,n]=k.useState(),{selectedWalletConnector:r,clearStatesOnBackClick:i}=Te();if(!r||!D0(r))throw new Error("Current wallet is not EmailWalletConnector");const{email:o}=r;if(!o)throw new Error("EmailWalletOtpVerificationView requires a email");const s=()=>{r.clearEmail(),i(),e("login-with-email-or-wallet"),Kt.emit("authFailure",{email:o,option:o,type:"email"},"user-cancelled")},{data:a,isLoading:c,mutate:l}=ac(d=>r.verifyOneTimePassword(d),{onFailure:d=>{n(d),Kt.emit("emailVerificationResult",!1,o)},onSuccess:()=>{Kt.emit("emailVerificationResult",!0,o)}});return u.jsx(J3,{MainIcon:hX,displayedDestination:Cp(o),error:t,onClickBack:s,isLoading:c,onPinComplete:l,isValid:a===!0,retryHandler:r.retryOneTimePassword.bind(r),onPinChange:()=>n(void 0),onClickEditDestination:s,successBannerTextKey:"dyn_magic_verification.banner_text"})},e4={0:"Operation was canceled.",16:"Invalid Passkey signature. Select the passkey for this account and device.",3:"You reached the limit of passkeys for this account.",5:"Invalid Passkey signature. Select the passkey for this account and device.",7:"The code is invalid or expired."},V_={RequestFailed:"Request failed. Please try again.",UserCancelled:e4[0]},LWe={NotAllowedError:"Request Cancelled. Select a device or password manager to set up a passkey."},ey=e=>{var t;if(typeof e=="string")return e;if("reason"in e)return e.reason;if(e instanceof DOMException)return LWe[e.name]||"Something went wrong";if("cause"in e){if(((t=e==null?void 0:e.cause)===null||t===void 0?void 0:t.code)!==void 0){if(e.cause.code===P$)throw new c2;return e4[e.cause.code]}if(e.cause&&"error"in e.cause&&typeof e.cause.error=="string"&&V_[e.cause.error])return V_[e.cause.error]}if("code"in e&&e.code){if(e.code===P$)throw new c2;return e4[e.code]}return"error"in e&&typeof e.error=="string"&&V_[e.error]?V_[e.error]:"Something went wrong"};var wD,_D,UWe=["title","titleId"];function t4(){return t4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t4.apply(this,arguments)}function FWe(e,t){if(e==null)return{};var n=WWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function WWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var zWe=function(t){var n=t.title,r=t.titleId,i=FWe(t,UWe);return k.createElement("svg",t4({width:329,height:88,viewBox:"0 0 329 88",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,wD||(wD=k.createElement("g",{clipPath:"url(#export-embedded-hero_svg__a)"},k.createElement("circle",{cx:164.5,cy:114,r:114,fill:"url(#export-embedded-hero_svg__b)",fillOpacity:.12}),k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M195 23a4 4 0 0 1 4-4h40a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4h-40a4 4 0 0 1-4-4v-8Zm13.585 4c0 1.473-1.217 2.667-2.717 2.667-1.501 0-2.717-1.194-2.717-2.667 0-1.473 1.216-2.667 2.717-2.667 1.5 0 2.717 1.194 2.717 2.667Zm6.34 2.667c1.5 0 2.717-1.194 2.717-2.667 0-1.473-1.217-2.667-2.717-2.667-1.501 0-2.717 1.194-2.717 2.667 0 1.473 1.216 2.667 2.717 2.667ZM226.698 27c0 1.473-1.216 2.667-2.717 2.667-1.5 0-2.717-1.194-2.717-2.667 0-1.473 1.217-2.667 2.717-2.667 1.501 0 2.717 1.194 2.717 2.667Zm8.057 0c0 .903-.751 1.667-1.717 1.667-.966 0-1.717-.764-1.717-1.667s.751-1.667 1.717-1.667c.966 0 1.717.764 1.717 1.667Zm1 0c0 1.473-1.217 2.667-2.717 2.667-1.501 0-2.717-1.194-2.717-2.667 0-1.473 1.216-2.667 2.717-2.667 1.5 0 2.717 1.194 2.717 2.667ZM110.237 57.018c8.535-2.287 13.601-11.06 11.314-19.596-2.287-8.535-11.061-13.6-19.596-11.313-8.536 2.287-13.601 11.06-11.314 19.596 2.287 8.535 11.061 13.6 19.596 11.313Zm-8.712-17.797-.522-1.949a4.037 4.037 0 0 1 7.798-2.09l.522 1.95a6.727 6.727 0 1 1-7.798 2.09Zm4.573-2.535-.195-.727a1.036 1.036 0 1 0-2.002.537l.194.726a6.81 6.81 0 0 1 2.003-.536Zm1.567 6.87a1.749 1.749 0 0 0-1.586-3.023 1.75 1.75 0 0 0 .137 3.412l.368 1.37a.75.75 0 1 0 1.448-.388l-.367-1.37Z",fill:"#4779FF"}),k.createElement("path",{d:"M171.501 40.667a4.666 4.666 0 0 1 4.667 4.666h-28a9.306 9.306 0 0 0-6.85 2.995c.788-4.357 4.6-7.661 9.183-7.661h21ZM187.834 59.333A9.334 9.334 0 0 0 178.5 50h-28a9.333 9.333 0 0 0-9.333 9.333V78a9.333 9.333 0 0 0 9.333 9.333h28A9.334 9.334 0 0 0 187.834 78V59.333Z",fill:"#4779FF"}),k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M174.25 65.25a6 6 0 1 0-12 0 6 6 0 0 0 12 0Zm-3 0a3 3 0 1 0-6 0 3 3 0 0 0 6 0Zm-9.37 3.892a7.497 7.497 0 0 0 2.005 2.237l-2.831 2.83 2.103 2.103-2.121 2.122-2.103-2.103-2.062 2.062-2.121-2.121 7.13-7.13Z",fill:"#fff"}))),_D||(_D=k.createElement("defs",null,k.createElement("linearGradient",{id:"export-embedded-hero_svg__b",x1:164.5,y1:0,x2:164.5,y2:93.5,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#4779FF"}),k.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})),k.createElement("clipPath",{id:"export-embedded-hero_svg__a"},k.createElement("rect",{x:.5,width:328,height:88,rx:12,fill:"#fff"})))))},xD,qWe=["title","titleId"];function n4(){return n4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n4.apply(this,arguments)}function VWe(e,t){if(e==null)return{};var n=HWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var KWe=function(t){var n=t.title,r=t.titleId,i=VWe(t,qWe);return k.createElement("svg",n4({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,xD||(xD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2.333a6.667 6.667 0 1 0 0 13.334A6.667 6.667 0 0 0 9 2.333ZM.667 9a8.333 8.333 0 1 1 16.666 0A8.333 8.333 0 0 1 .667 9Zm7.5-3.333c0-.46.373-.834.833-.834h.008a.833.833 0 0 1 0 1.667H9a.833.833 0 0 1-.833-.833ZM7.333 9c0-.46.373-.833.834-.833H9c.46 0 .833.373.833.833v2.5a.833.833 0 1 1 0 1.667H9a.833.833 0 0 1-.833-.834v-2.5A.833.833 0 0 1 7.333 9Z",fill:"#383C48"})))},kD,GWe=["title","titleId"];function r4(){return r4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r4.apply(this,arguments)}function ZWe(e,t){if(e==null)return{};var n=JWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var YWe=function(t){var n=t.title,r=t.titleId,i=ZWe(t,GWe);return k.createElement("svg",r4({xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,kD||(kD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 4a1 1 0 0 0 0 2h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-14a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h12a1 1 0 1 1 0 2h-12Zm-1 3.83V19a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1h-14c-.35 0-.687-.06-1-.17Zm11 6.17a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",fill:"#ABACB2"})))};const XWe="dyn-turnkey-export-container-id",QWe="dyn-turnkey-export-element-id",SD=({exportPrivateKey:e})=>{var t,n,r;const{primaryWallet:i,user:o,setShowAuthFlow:s,environmentId:a}=Te(),{isTurnkeyWallet:c}=Ns(),{shadowRoot:l}=pLe(),{setDynamicWidgetView:d}=sc(),{setView:f}=dn(),[p,m]=k.useState(!1),[g,y]=k.useState(!1),v=k.useRef(null),w=(n=(t=o==null?void 0:o.verifiedCredentials)===null||t===void 0?void 0:t.find(({walletName:$})=>$==null?void 0:$.startsWith("turnkey")))===null||n===void 0?void 0:n.walletProperties,_=w==null?void 0:w.turnkeyHDWalletId,E=Ou(i,(o==null?void 0:o.verifiedCredentials)||[]),C=E&&ih(E.connector);k.useEffect(()=>()=>{c&&lY({wallet:E})},[]);const{isLoading:T}=Ki(()=>{var $;const L=v.current;if(!(!L||(($=L==null?void 0:L.children)===null||$===void 0?void 0:$.length)>0))return aY({iframeContainer:L,iframeElementId:QWe,wallet:E})}),{mutate:A,isLoading:S,error:O,data:D}=ac(()=>ae(void 0,void 0,void 0,function*(){const $=Ou(i,(o==null?void 0:o.verifiedCredentials)||[]);if(C)return($==null?void 0:$.connector).exportWalletKeys();if(c)return cY({address:e?$==null?void 0:$.address:void 0,environmentId:a,user:o,wallet:$})}),{onFailure:$=>{Ne.error("Failed to export",$),Kt.emit("embeddedWalletRevealFailed",$)},onSuccess:$=>{var L,z;if(C&&$&&($!=null&&$.length)){const q=l==null?void 0:l.getElementById("coinbase-waas-key-export");(L=q==null?void 0:q.contentWindow)===null||L===void 0||L.postMessage({key:(z=$[0])===null||z===void 0?void 0:z.ecKeyPrivate,type:"export_key"},"*"),y(!0)}}}),K=k.useMemo(()=>{if(O){if(O instanceof Ae)return O.message;try{return ey(O)}catch($){$ instanceof c2&&f("access-blocked");return}}},[O,f]),{t:H}=ut(),X=u.jsxs("div",{children:[(i==null?void 0:i.connector)&&QA(i==null?void 0:i.connector)&&!S&&D&&!O&&u.jsxs("div",{className:"embedded-reveal-view__zerodev-warning",children:[u.jsxs("div",{className:"embedded-reveal-view__zerodev-warning__title-row",children:[u.jsx(KWe,{className:"embedded-reveal-view__zerodev-warning__icon"}),u.jsx(ie,{variant:"body_normal",weight:"bold",copykey:"dyn_embedded_reveal.aa_warning.title",children:H("dyn_embedded_reveal.aa_warning.title")})]}),u.jsxs(ie,{variant:"body_normal",weight:"regular",copykey:"dyn_embedded_reveal.aa_warning.subtitle",children:[H("dyn_embedded_reveal.aa_warning.subtitle"),u.jsx("button",{onClick:()=>{s(!1),d("send-balance")},className:"embedded-reveal-view__zerodev-warning__link-button",children:u.jsx(ie,{variant:"body_normal",weight:"regular",color:"primary",className:"underline",copykey:"dyn_embedded_reveal.aa_warning.button",children:H("dyn_embedded_reveal.aa_warning.button")})})]})]}),u.jsx("div",{className:"embedded-reveal-view__body__description",children:!S&&D&&!O?u.jsx(ie,{variant:"body_normal",color:"secondary",weight:"regular",children:H("dyn_embedded_reveal.reveal_description")}):u.jsx("div",{className:"embedded-reveal-view__header",children:u.jsx(zWe,{})})})]});k.useEffect(()=>{var $;if(!(($=v==null?void 0:v.current)===null||$===void 0)&&$.children&&D){const L=v.current.children[0];L==null||L.setAttribute("style",!_||e?"height: 60px":"height: 100px")}},[v,D,_,e]);const U=u.jsx(Vr,{onClick:()=>s(!1),type:"button",children:u.jsx(vo,{})}),I=!S&&D&&!O,x=H(!_||e?"dyn_embedded_reveal.private_key_title":"dyn_embedded_reveal.recovery_phrase_title"),P=I?x:H("dyn_embedded_reveal.agreement_title"),N=u.jsx("iframe",{src:(r=Vc==null?void 0:Vc.getBaseUrl())===null||r===void 0?void 0:r.replace("api/v0","coinbase-waas-key-export.html"),id:"coinbase-waas-key-export",title:"Coinbase WaaS key export",height:g?"100%":0,width:g?"100%":0,style:{borderRadius:"0.75rem"},allow:"clipboard-write"});return u.jsxs(u.Fragment,{children:[u.jsx(ji,{trailing:U,children:u.jsx(ie,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",children:P})}),u.jsx("div",{className:"embedded-reveal-view",children:u.jsxs("div",{className:"embedded-reveal-view__body",children:[X,C&&N,c?u.jsx("div",{id:XWe,style:{display:D?"block":"none"},ref:v}):null,I?u.jsx(Qt,{buttonPadding:"large",buttonVariant:"brand-primary",onClick:()=>s(!1),loading:S,copykey:"dyn_embedded_reveal.done_button_label",typographyProps:{color:"inherit"},children:H("dyn_embedded_reveal.done_button_label")}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"embedded-reveal-view__body__description",children:u.jsx(hd,{text:H("dyn_embedded_reveal.badge_label"),className:"embedded-reveal-view__body__badge"})}),K&&u.jsx(Ao,{children:K}),u.jsxs("div",{className:"embedded-reveal-view__body__card",children:[u.jsxs("div",{className:"embedded-reveal-view__body__card__statement",children:[u.jsx("div",{className:"embedded-reveal-view__body__card__icon",children:u.jsx(YWe,{})}),u.jsxs("div",{children:[u.jsx(ie,{variant:"body_normal",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_embedded_reveal.statement_1.title",children:H("dyn_embedded_reveal.statement_1.title")}),u.jsx(ie,{variant:"body_small",color:"secondary",weight:"regular",copykey:"dyn_embedded_reveal.statement_1.description",children:H("dyn_embedded_reveal.statement_1.description")})]})]}),u.jsxs("div",{className:"embedded-reveal-view__body__card__statement",children:[u.jsx("div",{className:"embedded-reveal-view__body__card__icon",children:u.jsx(oX,{})}),u.jsxs("div",{children:[u.jsx(ie,{variant:"body_normal",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_embedded_reveal.statement_2.title",children:H("dyn_embedded_reveal.statement_2.title")}),u.jsx(ie,{variant:"body_small",color:"secondary",weight:"regular",copykey:"dyn_embedded_reveal.statement_2.description",children:H("dyn_embedded_reveal.statement_2.description",{credential_type:x==null?void 0:x.toLowerCase()})})]})]})]}),u.jsxs("div",{className:"embedded-reveal-view__body__confirm_card",children:[u.jsxs("button",{className:"embedded-reveal-view__body__card__acknowledgement",onClick:()=>m(!p),children:[u.jsx("div",{children:u.jsx(Yf,{checked:p,onChange:()=>m(!p),className:"embedded-reveal-view__body__card__statement__checkbox",id:"embedded-reveal-checkbox-1"})}),u.jsx("div",{children:u.jsx(ie,{variant:"body_normal",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_embedded_reveal.checkbox_label",children:H("dyn_embedded_reveal.checkbox_label")})})]}),u.jsx(Qt,{buttonPadding:"large",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},onClick:()=>A(),disabled:!p||T,loading:S,dataTestId:"embedded-reveal-button",copykey:"dyn_embedded_reveal.reveal_button_label",children:H("dyn_embedded_reveal.reveal_button_label")})]})]})]})})]})},eze=(e,t)=>{const n=k.useRef(e);qJ(()=>{n.current=e},[e]),k.useEffect(()=>{if(!t&&t!==0)return;const r=setTimeout(()=>n.current(),t);return()=>clearTimeout(r)},[t])};var ED,tze=["title","titleId"];function i4(){return i4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i4.apply(this,arguments)}function nze(e,t){if(e==null)return{};var n=rze(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rze(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var H2=function(t){var n=t.title,r=t.titleId,i=nze(t,tze);return k.createElement("svg",i4({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,ED||(ED=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.333 1.333a.667.667 0 1 1 0-1.333h4c.368 0 .667.298.667.667v4a.667.667 0 0 1-1.333 0v-2.39L5.138 7.804a.667.667 0 1 1-.943-.943l5.529-5.529h-2.39ZM2 2.667a.667.667 0 0 0-.667.666V10c0 .368.299.667.667.667h6.667A.667.667 0 0 0 9.333 10V7.333a.667.667 0 0 1 1.334 0V10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3.333a2 2 0 0 1 2-2h2.667a.667.667 0 0 1 0 1.334H2Z",fill:"currentColor"})))},CD,ize=["title","titleId"];function o4(){return o4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o4.apply(this,arguments)}function oze(e,t){if(e==null)return{};var n=sze(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sze(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var jR=function(t){var n=t.title,r=t.titleId,i=oze(t,ize);return k.createElement("svg",o4({width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,CD||(CD=k.createElement("path",{d:"M11.833 4.667H9.167V6h2.666c1.1 0 2 .9 2 2s-.9 2-2 2H9.167v1.333h2.666a3.335 3.335 0 0 0 0-6.666Zm-4 5.333H5.167c-1.1 0-2-.9-2-2s.9-2 2-2h2.666V4.667H5.167a3.335 3.335 0 0 0 0 6.666h2.666V10Zm-2-2.667h5.334v1.334H5.833V7.333Z",fill:"currentColor"})))};const aze={brave:bH,chrome:wH,edge:_H,firefox:xH,safari:kH},s4=e=>aze[e],pX=e=>{const{walletBook:t}=$a();if(!e)return[];const n=sb(t,e.key),{currentDesktopUrl:r,userBrowser:i}=$Y(n);return i&&r?[{Icon:s4(i),key:i,link:r,name:i}]:Object.entries(n).filter(([,o])=>o!=="").filter(([o])=>o!=="ios"&&o!=="android").map(([o,s])=>({Icon:s4(o),key:o,link:s,name:o}))},cze=(e,t)=>{const n=Array.prototype.slice.call(q0.create(e,{errorCorrectionLevel:t}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((i,o,s)=>(s%r===0?i.push([o]):i[i.length-1].push(o))&&i,[])},BR=({ecl:e="M",Icon:t,logoMargin:n=0,logoSize:r=40,size:i=250,value:o,accentColor:s,walletKey:a=void 0,showQrCodeImage:c})=>{const{data:l}=Ki(()=>q0.toDataURL(o)),d=k.useMemo(()=>{const g=[],y=cze(o||"QR Code value",e),v=i/y.length;[{x:0,y:0},{x:1,y:0},{x:0,y:1}].forEach(({x:T,y:A})=>{const S=(y.length-7)*v*T,O=(y.length-7)*v*A;for(let D=0;D<3;D++)g.push(u.jsx("rect",{fill:D%2!==0?"currentColor":s,height:v*(7-D*2),rx:D===0?10:D===1?7:20,ry:D===0?10:D===1?7:20,width:v*(7-D*2),x:S+v*D,y:O+v*D},`corner-square-${T}-${A}-${D}`))});const _=Math.floor(r*1.5/v),E=y.length/2-_/2,C=y.length/2+_/2-1;for(let T=0;T<y.length;T++)for(let A=0;A<y[T].length;A++)y[T][A]&&(T<7&&A<7||T>y.length-8&&A<7||T<7&&A>y.length-8||T>E&&T<C&&A>E&&A<C||g.push(u.jsx("circle",{className:"qrcode__dot-circle",cx:T*v+v/2,cy:A*v+v/2,fill:Math.random()>.9?s:"currentColor",r:v/2.25},`dot-${T}-${A}`)));return g},[e,r,i,o,s]),f=i/2-r/2-n,m=!a||["coinbase","walletconnect"].includes(a)?void 0:"walletConnect";return u.jsx("div",{className:"qrcode__container",children:u.jsx("div",{className:"qrcode",children:c?u.jsx("img",{"data-testid":"qr-code-image",src:l,alt:""}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{height:"100%",width:"100%",viewBox:`0 0 ${i} ${i}`,"data-testid":"qr-code",children:[u.jsx("defs",{children:u.jsx("clipPath",{id:"clip-logo",children:u.jsx("rect",{height:r,width:r,x:f,y:f,rx:7,ry:7})})}),u.jsx("rect",{fill:"none",height:i,width:i}),d]}),u.jsx(bo,{Icon:t,iconSize:r,isSpinning:!0,className:"qrcode__icon",indicator:m})]})})})},lze=({Icon:e,logoSize:t})=>u.jsx("div",{className:"qrcode__container qrcode","data-testid":"loading-qrcode",children:u.jsx(bo,{Icon:e,iconSize:t,isSpinning:!0,className:"qrcode__icon"})}),dze=({accentColor:e,walletConnector:t,qrcodeValue:n,Icon:r,showCopyToClipboardButton:i=!1,desktopUri:o,showQrCodeMessage:s,showQrCodeImage:a})=>{const{t:c}=ut(),{setView:l}=dn(),d=pX(t),f=()=>o?u.jsx(Qt,{expanded:!0,dataTestId:"get-extension-button",buttonPadding:"small",buttonVariant:"primary",buttonClassName:"qr-code-button",onClick:()=>window.open(o),copykey:"dyn_qr_code.open_button",typographyProps:{variant:"button_secondary"},startSlot:u.jsx(un,{size:"xsmall",color:"text-tertiary",children:u.jsx(H2,{})}),children:c("dyn_qr_code.open_button")}):d!=null&&d.length?u.jsx(Qt,{expanded:!0,dataTestId:"get-extension-button",buttonPadding:"small",buttonVariant:"primary",buttonClassName:"qr-code-button",onClick:()=>l("no-qr-not-installed"),copykey:"dyn_qr_code.get_extension_button",typographyProps:{variant:"button_secondary"},startSlot:u.jsx(un,{size:"xsmall",color:"text-tertiary",children:u.jsx(H2,{})}),children:c("dyn_qr_code.get_extension_button")}):null;return u.jsxs("div",{className:We("qrcode-container__container",{"qrcode-container__container--message":s}),children:[u.jsxs("div",{className:"qrcode-container__top",children:[n.length?u.jsx(BR,{Icon:r,accentColor:e,value:n,logoSize:50,walletKey:t==null?void 0:t.key,showQrCodeImage:a}):u.jsx(lze,{Icon:r,logoSize:50}),u.jsxs("div",{className:"button-container",children:[i&&u.jsx(Jf,{variant:"button",textToCopy:n,disabled:!n.length,buttonClassName:"qr-code-button",copykey:"dyn_qr_code.copy_button",startSlot:u.jsx(un,{size:"mini",color:"text-tertiary",children:u.jsx(jR,{})}),children:c("dyn_qr_code.copy_button")}),f()]})]}),u.jsx(ie,{variant:"body_normal",color:"secondary",weight:"regular",className:"qrcode-container__content",copykey:"dyn_qr_code.scan_title",children:c("dyn_qr_code.scan_title",{app:t?"wallet":"app"})})]})},mX=({uri:e,desktopUri:t,icon:n,accentColor:r,showCopyToClipboardButton:i,walletConnector:o})=>{const[s,a]=k.useState(!1),[c,l]=k.useState(!1);return eze(()=>a(!0),e.length?5e3:null),u.jsxs("div",{"data-testid":"qr-code-wrapper",children:[u.jsx(sd,{animationComponent:u.jsx(Ip,{style:{width:"100%"}}),children:s&&!c&&u.jsxs("div",{className:"qr-code-wrapper__scan-issue-message",children:[u.jsx(ie,{color:"primary",variant:"body_small",children:"If you're having issues scanning, click "}),u.jsx("button",{"data-testid":"qr-code-wrapper__scan-issue-button",className:"qr-code-wrapper__scan-issue-button",onClick:()=>l(!0),children:"here"})]})}),u.jsx(dze,{showQrCodeMessage:s,desktopUri:t,accentColor:r,walletConnector:o,qrcodeValue:e,Icon:n,showCopyToClipboardButton:i,showQrCodeImage:c})]})},gX=({url:e})=>{const{theme:{theme:t}}=Lu(),n=U3(),r=u.jsx(t3,{name:"farcaster",variant:n});return u.jsx(mX,{uri:e,accentColor:n==="dark"?t.colors.textPrimary:"#7b65c0",icon:r,showCopyToClipboardButton:!0})},uze=()=>{const{setError:e}=Po(),[t,n]=k.useState(void 0),{connectSocialAccount:r}=q3({onError:()=>e("Something went wrong"),onFarcasterUrl:i=>n(i),sessionTimeout:2e4});return ch(()=>{r({authMode:"signin",provider:br.Farcaster})}),u.jsx(gX,{url:t??""})},yX=e=>!!(e&&fa(e,br.Sms)),fze=({onSubmit:e,onSubmitError:t,country:n,phone:r,setInvalidNumberMessage:i})=>{const{engageCaptcha:o}=Du(),{view:s,setView:a}=dn(),{environmentId:c,projectSettings:l}=Te(),{setDisplayedDestination:d,setVerificationUUID:f,setRetryData:p}=Ll(),{fieldsConfig:m}=y3(),{t:g}=ut(),y=v=>ae(void 0,void 0,void 0,function*(){if(n)try{const w=E1({dialCode:n.dialCode,phone:r}),{verificationUUID:_}=yield XY({captchaToken:v,environmentId:c,isoCountryCode:n.iso2,phoneCountryCode:n.dialCode,phoneNumber:w});p({dialCode:n.dialCode,iso2:n.iso2,phone:w}),a("login-with-sms-verification"),d(D3(r)),f(_);const E={dialCode:n.dialCode,iso2:n.iso2,phone:w};Kt.emit("authInit",{option:E,phone:E,type:"sms"}),e==null||e()}catch(w){if(a(s.type),w instanceof Yg){let _=g("dyn_login.helper.phone_number_form.invalid_phone");w.code==="too_many_sms_verification_attempts"&&(_=g("dyn_login.helper.phone_number_form.too_many_sms_verification_attempts")),w.code&&w.code in CI.dyn_login.helper.phone_number_form&&(_=g("dyn_login.helper.phone_number_form."+w.code)),i(_)}else typeof w=="string"&&i(w);t==null||t()}});return v=>ae(void 0,void 0,void 0,function*(){var w;if(n){v.preventDefault();try{m.phoneNumber.validation.validateSync(r)}catch(_){const{message:E}=_;i(E),t==null||t();return}if(!((w=l==null?void 0:l.security.hCaptcha)===null||w===void 0)&&w.enabled){o({authMethod:"phone",onCaptchaSuccess:y});return}y()}})},ID=({isLoading:e,onSubmit:t,onSubmitError:n})=>{var r,i;const{projectSettings:o}=Te(),s=k.useMemo(()=>{const C=EY(o);return QT(CY(C))},[o]),[a,c]=k.useState(void 0),[l,d]=k.useState(!1),[f,p]=k.useState({country:void 0,phone:""}),m=k.useCallback(C=>{p(C),d(WG(C.phone,C.country))},[]),[g,y]=k.useState(!1),[v,w]=k.useState(!1),_=fze({country:f.country,onSubmit:t,onSubmitError:n,phone:f.phone,setInvalidNumberMessage:c});if(!yX((r=o==null?void 0:o.providers)!==null&&r!==void 0?r:[]))return Ne.error("Failed to render PhoneNumberSignInSection - no sign in provider enabled"),null;const E=!(!((i=o==null?void 0:o.design.modal)===null||i===void 0)&&i.emailSubmitButtonInsideInput);return u.jsxs("form",{className:"login-with-phone-number-form",onSubmit:C=>_(C),children:[u.jsx(AY,{countries:s,onUpdate:m,error:a,setIsHovered:y,setIsFocused:w,appendRight:u.jsx(GY,{disabled:e||!l,highlighted:l,isFocused:v,isHovered:g,className:"login-with-phone-number-form__fields__inline-submit",emailSubmitButtonInsideInput:!E})}),E&&u.jsx(Qt,{dataTestId:"big-submit-button",buttonClassName:"login-with-phone-number-form__button",type:"submit",loading:e,disabled:e||!l,buttonVariant:"brand-primary",buttonPadding:"login-screen-height",expanded:!0,typographyProps:{color:"inherit"},children:"Continue"})]})},hze=e=>{if(!e)return;const t=Object.values(t0);for(const n of t)if(n===e)return n};var AD,pze=["title","titleId"];function a4(){return a4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a4.apply(this,arguments)}function mze(e,t){if(e==null)return{};var n=gze(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gze(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var yze=function(t){var n=t.title,r=t.titleId,i=mze(t,pze);return k.createElement("svg",a4({width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,AD||(AD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.7 10a1.667 1.667 0 1 1 3.333 0A1.667 1.667 0 0 1 2.7 10Zm5.833 0a1.667 1.667 0 1 1 3.334 0 1.667 1.667 0 0 1-3.334 0Zm5.834 0a1.667 1.667 0 1 1 3.333 0 1.667 1.667 0 0 1-3.333 0Z",fill:"currentColor",fillOpacity:.4})))};const vX=e=>{if(e)return e===t0.Coinbasesocial?"Coinbase":xu(e)},vze=5,bX=({providers:e,onSelectProvider:t,isLoading:n,selectedProvider:r,testId:i,defaultProvider:o,numOfItemsToDisplay:s=5,collapsedLayout:a})=>{const{t:c}=ut(),l=U3();o&&!e.includes(o)&&([o]=e);const d=e.filter(T=>T!==o),f=Math.min(s,vze),p=d.length>f,m=p?d.slice(0,f-1):d.slice(0,f),[g,y]=k.useState(!1),v=()=>!n&&y(!1),w=e.length===1||!a&&e.length<4,_=T=>T,E=u.jsx(Vr,{onClick:v,type:"button",id:"close-button",disabled:n,"data-testid":"close-button",children:u.jsx(vo,{})}),C=(T,A=!1,S=!1)=>u.jsxs(V2,{dataTestId:S?`card-${T}`:`inline-${T}`,onClick:()=>t(T),disabled:!!r,className:We({"social-sign-in--card--tile":S,"social-sign-in--tile":!S,"social-sign-in--tile__full-width":A}),children:[u.jsx(bo,{Icon:u.jsx(t3,{name:_(T),variant:l}),isSpinning:r===T,iconSize:32}),!S&&A&&u.jsx(ie,{variant:"button_primary",copykey:"dyn_login.social.button_label",children:c("dyn_login.social.button_label",{provider:vX(T)})})]},_(T));return e.length?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"social-sign-in","data-testid":i,children:[o&&C(o,!0),m.map(T=>C(T,w)),p&&u.jsx(V2,{dataTestId:"show-more-options",onClick:()=>y(!0),className:"social-sign-in--tile",children:u.jsx(un,{color:"text-primary",children:u.jsx(yze,{})})},"show-more-options")]}),u.jsx(QJ,{isOpen:g,onClickOverlay:v,children:u.jsxs("div",{className:"social-sign-in--card",children:[u.jsx(ji,{trailing:E,children:u.jsx(ie,{weight:"medium",variant:"body_normal",color:"primary",as:"span",children:"Choose a social account"})}),u.jsx("div",{className:"social-sign-in--card--body",children:e.map(T=>C(T,!1,!0))})]})})]}):(Ne.error("Failed to render SocialSignInSection - no social providers enabled"),null)},bze=({defaultProvider:e,numOfItemsToDisplay:t,collapsedLayout:n})=>{const{projectSettings:r}=Te(),{socialProvider:i,setSocialProvider:o,socialWalletConnector:s,enabledSocialProviders:a}=Fu(),{engageCaptcha:c}=Du(),{mutate:l,isLoading:d}=ac(f=>ae(void 0,void 0,void 0,function*(){var p;if(!((p=r==null?void 0:r.security.hCaptcha)===null||p===void 0)&&p.enabled){c({authMethod:"social",onCaptchaSuccess:m=>ae(void 0,void 0,void 0,function*(){return o(f),yield s==null?void 0:s.endSession(),s==null?void 0:s.connect(f)})});return}return o(f),yield s==null?void 0:s.endSession(),s==null?void 0:s.connect(f)}));return u.jsx(bX,{onSelectProvider:l,providers:a,selectedProvider:i,isLoading:d,testId:"magic-social-sign-in",defaultProvider:e,numOfItemsToDisplay:t,collapsedLayout:n})},wX=e=>{if(!e)return null;const t=Object.values(br);for(const n of t)if(n===e)return n;return null},wze=({defaultProvider:e,numOfItemsToDisplay:t,collapsedLayout:n})=>{const{setShowAuthFlow:r,projectSettings:i}=Te(),{setSocialProvider:o,socialProvider:s,enabledSocialProviders:a}=Fu(),{setView:c,goToInitialView:l}=dn(),{engageCaptcha:d}=Du(),{isProcessing:f,connectSocialAccount:p}=q3({onError:()=>{l()},onFarcasterUrl:g=>c("farcaster-connect-view",{url:g}),onSettled:()=>{o(void 0)},sessionTimeout:2e4}),m=g=>{var y;const v=wX(g);if(o(g),!((y=i==null?void 0:i.security.hCaptcha)===null||y===void 0)&&y.enabled){d({authMethod:"social",onCaptchaSuccess:w=>ae(void 0,void 0,void 0,function*(){c("social-redirect-view"),r(!0),p({authMode:"signin",captchaToken:w,provider:v})})});return}c("social-redirect-view"),r(!0),p({authMode:"signin",provider:v})};return u.jsx(bX,{onSelectProvider:m,providers:a,selectedProvider:s,isLoading:f,testId:"dynamic-social-sign-in",defaultProvider:e,numOfItemsToDisplay:t,collapsedLayout:n})},_ze=({sectionData:e,collapsedLayout:t})=>{var n,r,i;const{projectSettings:o}=Te(),s=(n=o==null?void 0:o.providers)!==null&&n!==void 0?n:[],a={collapsedLayout:t,defaultProvider:hze(e.defaultItem),numOfItemsToDisplay:e.numOfItemsToDisplay};return fa(s,br.MagicLink)&&((r=o==null?void 0:o.sdk.socialSignIn)===null||r===void 0?void 0:r.signInProvider)===xb.MagicLink?u.jsx(bze,Object.assign({},a)):((i=o==null?void 0:o.sdk.socialSignIn)===null||i===void 0?void 0:i.signInProvider)===xb.Dynamic?u.jsx(wze,Object.assign({},a)):(Ne.error("Failed to render SocialSignInSection - no sign in provider enabled"),null)},xze=({sections:e})=>{const[t,n]=k.useState(!0),r=t?e[0]:e[1];return u.jsxs("div",{className:"toggleable-section",children:[r.component,u.jsxs("div",{className:"toggleable-section__toggle-prompt",children:[u.jsx(ie,{color:"secondary",variant:"body_small",copykey:r.labelCopyKey,children:r.label}),u.jsx("button",{className:"toggleable-section__toggle-prompt__button",onClick:()=>n(!t),children:u.jsx(ie,{weight:"medium",variant:"body_small",color:"brand-primary",className:"toggleable-section__toggle-prompt__button__text",copykey:r.buttonCopyKey,children:r.button})})]})]})},kze=({text:e,onClick:t,numberOfWallets:n,disabled:r=!1,copykey:i})=>{const o=k.useMemo(()=>n<=10?n:`${Math.floor(n/10)*10}+`,[n]),s=u.jsxs("div",{className:"list-item-button__trailing",children:[u.jsx("div",{className:We("list-item-button__trailing-child","list-item-button__trailing-label"),children:u.jsx(hd,{text:`${o} available`})}),u.jsx("div",{className:We("list-item-button__trailing-child","list-item-button__trailing-icon"),children:u.jsx(un,{color:"text-primary",size:"small",children:u.jsx(f0,{})})})]});return u.jsx(Y0,{trailing:s,onClick:t,className:"list-item-button",disabled:r,copykey:i,children:e})},Sze=({previewWalletsNumber:e,disabled:t=!1,onshowAllWallets:n})=>{const{t:r}=ut(),{walletConnectorOptions:i,projectSettings:o,walletsFilter:s,signWithEmailWalletName:a,authMode:c,multiWallet:l,recommendedWallets:d}=Te(),f=p3(),{walletBook:p}=$a(),{numberOfWallets:m,walletsList:g}=hJ({authMode:c,groupWallets:!0,inputList:i,isWalletConnectList:!1,lastUsedWalletKey:Ft.getFromLS(jp),loginWithEmail:!0,multiWallet:l,numberOfWalletsToShow:e,recommendedWallets:d,searchFilter:void 0,signWithEmailWalletName:a,userWallets:f,walletBook:p,walletsFilter:s});return o?u.jsxs("div",{className:"login-with-email-wallet-list__container","data-testid":"top-wallets-list",children:[g.map((y,v)=>u.jsx(AR,{wallet:y,disabled:t,recommendedWallets:d},`${y.key}_${v}`)),u.jsx(kze,{copykey:"dyn_wallet_list.view_all",text:r("dyn_wallet_list.view_all"),onClick:n,numberOfWallets:m,disabled:t})]}):u.jsx(Zc,{count:e+1,className:"login-with-email-wallet-list__skeleton"})},Eze=({numberOfItensToShow:e,isLoading:t,onSubmit:n})=>{const{t:r}=ut();return e>0?u.jsx(Sze,{previewWalletsNumber:e,onshowAllWallets:()=>n==null?void 0:n(),disabled:t}):u.jsx(V2,{onClick:()=>n==null?void 0:n(),disabled:t,className:"connect-with-wallet-button",children:u.jsx(ie,{variant:"button_primary",copykey:"dyn_login.wallet_list.button_only",children:r("dyn_login.wallet_list.button_only")})})},Cze=({viewSection:e,index:t,walletCount:n,gotToWalletList:r})=>{const{loading:i}=X0(),{t:o}=ut(),{setView:s}=dn(),[a,c]=k.useState(i);switch(e.type){case Cs.Separator:return u.jsx(Ul,{text:e.label});case Cs.Email:return u.jsx(W8,{onSubmit:()=>c(!0),onSubmitError:()=>c(!1),isLoading:a});case Cs.Phone:return u.jsx(ID,{onSubmit:()=>c(!0),onSubmitError:()=>c(!1),isLoading:a});case Cs.EmailAndPhone:const l=[{button:o("dyn_login.email_or_phone.use_phone"),buttonCopyKey:"dyn_login.email_or_phone.use_phone",component:u.jsx(W8,{onSubmit:()=>c(!0),onSubmitError:()=>c(!1),isLoading:a}),label:o("dyn_login.email_or_phone.prefer_phone"),labelCopyKey:"dyn_login.email_or_phone.prefer_phone"},{button:o("dyn_login.email_or_phone.use_email"),buttonCopyKey:"dyn_login.email_or_phone.use_email",component:u.jsx(ID,{onSubmit:()=>c(!0),onSubmitError:()=>c(!1),isLoading:a}),label:o("dyn_login.email_or_phone.prefer_email"),labelCopyKey:"dyn_login.email_or_phone.prefer_email"}];return e.defaultItem==="phone"&&l.reverse(),u.jsx(xze,{sections:l});case Cs.Wallet:return u.jsx(Eze,{numberOfItensToShow:e.numOfItemsToDisplay||0,onSubmit:()=>{s("login-with-email-or-wallet-full-wallet-list"),r()},isLoading:a});case Cs.Social:return u.jsx(_ze,{collapsedLayout:n>1,sectionData:e});case Cs.Text:return e.label?u.jsx(ie,{variant:"body_normal",color:"secondary",align:e.alignment,className:"login-view__text","data-testid":"login-view-section__text",children:e.label}):null}},TD=e=>({numOfItemsToDisplay:e,type:Cs.Wallet}),RD=(e,t)=>({defaultItem:t,numOfItemsToDisplay:e,type:Cs.Social}),rE=e=>({type:e}),Ize=({socialAboveEmail:e,showWallets:t,web3Layout:n,numOfWalletsToDisplay:r,showEmail:i,showPhone:o,showSocial:s,splitEmailAndSocial:a,defaultSocialItem:c})=>{const l=!a&&(i||o),d=a?c:void 0;return[{condition:t&&n,section:TD(r)},{condition:s&&e,hideSeparator:l?"below":void 0,section:RD(5,d)},{condition:i&&!o,section:rE(Cs.Email)},{condition:!i&&o,section:rE(Cs.Phone)},{condition:i&&o,section:rE(Cs.EmailAndPhone)},{condition:s&&!e,hideSeparator:l?"above":void 0,section:RD(5,d)},{condition:t&&!n,section:TD(r)}]},Aze=e=>{var t,n,r;const{projectSettings:i,overrides:o}=Te(),s=(n=(t=i==null?void 0:i.sdk)===null||t===void 0?void 0:t.views)===null||n===void 0?void 0:n.find(c=>c.type===e);return((r=o==null?void 0:o.views)===null||r===void 0?void 0:r.find(c=>c.type===e))||s},Tze=3,Rze=()=>{const e=Aze(vI.Login),{projectSettings:t,authorizationViewDisplayOrder:n,loginWithEmail:r,walletConnectorOptions:i,walletsFilter:o}=Te(),{t:s}=ut(),{enabledSocialProviders:a}=Fu(),c=!!(a!=null&&a.length),l=K3(t==null?void 0:t.providers),d=yX(t==null?void 0:t.providers),f=(o?o(i):i).filter(({key:y})=>y!=="turnkey"),p=k.useMemo(()=>{var y;return t?!r&&!d&&!c?!0:!((y=e==null?void 0:e.sections)===null||y===void 0)&&y.length?e.sections.length===1&&e.sections[0].type==="wallet":!l&&!d&&!c:!1},[e==null?void 0:e.sections,t,r,c,d,l]),m=k.useCallback(y=>{var v;const w=E=>{var C;return(C=E.networks)===null||C===void 0?void 0:C.some(T=>T.enabled)};return!((v=t==null?void 0:t.chains)===null||v===void 0?void 0:v.some(E=>E.enabled&&w(E)))&&y.find(E=>E.type==="wallet")&&Ne.error("Failed to render WalletSignInSection - no chains enabled"),f!=null&&f.length?y:y.filter(E=>E.type!=="wallet")},[f==null?void 0:f.length,t==null?void 0:t.chains]),g=k.useMemo(()=>{var y,v,w,_,E,C;if(!((y=e==null?void 0:e.sections)===null||y===void 0)&&y.length)return m(e==null?void 0:e.sections);const{splitEmailAndSocial:T=!1,socialAboveEmail:A=!1}=(v=t==null?void 0:t.design.modal)!==null&&v!==void 0?v:{},S=[],O=Ize({defaultSocialItem:a[0],numOfWalletsToDisplay:!((_=(w=t==null?void 0:t.design)===null||w===void 0?void 0:w.modal)===null||_===void 0)&&_.showWalletsButton?0:Tze,showEmail:l,showPhone:d,showSocial:!!(a!=null&&a.length),showWallets:!!(f!=null&&f.length)&&!(!((C=(E=t==null?void 0:t.design)===null||E===void 0?void 0:E.modal)===null||C===void 0)&&C.emailOnly),socialAboveEmail:A,splitEmailAndSocial:T,web3Layout:n==="web3"}),D={label:s("dyn_login.separators.default"),type:Cs.Separator};let K=!1;for(const H of O)H.condition&&(S.length>0&&!K&&H.hideSeparator!=="above"&&S.push(D),S.push(H.section),K=H.hideSeparator==="below");return S},[n,a,m,l,d,e==null?void 0:e.sections,t==null?void 0:t.design.modal,f==null?void 0:f.length,s]);return{isWalletOnly:p,loginViewSections:g}},Pze=(e,t)=>e.length===1&&e[0].type===Cs.Social&&t.length===1&&t.includes(t0.Farcaster)&&!di(),PD=()=>{var e;const{error:t}=Po(),{setView:n}=dn(),{isWalletOnly:r,loginViewSections:i}=Rze(),{enabledSocialProviders:o}=Fu(),{showDefaultFooter:s}=lh(),a=((e=i.find(f=>f.type===Cs.Wallet))===null||e===void 0?void 0:e.numOfItemsToDisplay)||0,c=k.useMemo(()=>i.map((f,p)=>u.jsx("div",{className:We("login-view__scroll__section",`login-view__scroll__section--${f.type}`),children:u.jsx(Cze,{gotToWalletList:()=>n("login-with-email-or-wallet-full-wallet-list"),index:p,viewSection:f,walletCount:a})},`${f.type}__${p}`)),[i,a]),l=t&&u.jsx(Ao,{className:"login-view__error-container",withIcon:!1,children:t});if(Pze(i,o))return u.jsxs(u.Fragment,{children:[l,u.jsx(uze,{})]});if(r)return u.jsx(lv,{});const d=di()&&s;return u.jsxs(u.Fragment,{children:[l,u.jsx("div",{className:We("login-view__container",{"login-view__container--error":!!t}),children:u.jsx("div",{className:"login-view__scroll","data-testid":"login-view-scroll",children:c})}),d&&u.jsx(yY,{hideBorder:!0})]})};var OD,Oze=["title","titleId"];function c4(){return c4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c4.apply(this,arguments)}function Nze(e,t){if(e==null)return{};var n=jze(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jze(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Bze=function(t){var n=t.title,r=t.titleId,i=Nze(t,Oze);return k.createElement("svg",c4({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,OD||(OD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.862 2.862c.26-.26.682-.26.943 0L8.47 7.529a.667.667 0 0 1 0 .942l-4.666 4.667a.667.667 0 0 1-.943-.943L7.057 8 2.862 3.805a.667.667 0 0 1 0-.943Zm5.333 0c.26-.26.683-.26.943 0l4.667 4.667c.26.26.26.682 0 .942l-4.667 4.667a.667.667 0 0 1-.943-.943L12.39 8 8.195 3.805a.667.667 0 0 1 0-.943Z",fill:"currentColor"})))};const $ze=({returnToView:e})=>{const{environmentId:t,setShowAuthFlow:n,setCallback:r,primaryWallet:i,user:o}=Te(),s=mY(),{t:a}=ut(),{setError:c}=Po(),{setView:l,goToInitialView:d}=dn(),{displayedDestination:f}=Ll(),p=()=>ae(void 0,void 0,void 0,function*(){try{const g=yield l$e(t);if(!g)throw new Ae("Something went wrong, please try again.");yield s(g),n(!1),r("authSuccess")}catch{if(c(a("dyn_merge_user_accounts_with_same_email.errors.merge_error")),o){n(!1,{emitCancelAuth:!0});return}d()}}),m=()=>{if(c(void 0),e){l(e);return}if(o){n(!1);return}l("collect-user-data")};return u.jsxs("div",{className:"merge-user-accounts-with-same-email__container",children:[u.jsxs("div",{className:"merge-user-accounts-with-same-email__accounts",children:[u.jsxs("div",{className:"merge-user-accounts-with-same-email__accounts__item",children:[u.jsx(bi,{walletKey:i==null?void 0:i.connector.key,className:"merge-user-accounts-with-same-email__accounts__item__icon"}),u.jsx(ie,{variant:"body_normal",weight:"medium",color:"secondary",className:"merge-user-accounts-with-same-email__accounts__item__text",children:Gi(i==null?void 0:i.address,3,3)})]}),u.jsx("div",{className:"merge-user-accounts-with-same-email__accounts__divider",children:u.jsx(un,{color:"text-secondary",size:"small",children:u.jsx(Bze,{})})}),u.jsxs("div",{className:"merge-user-accounts-with-same-email__accounts__item",children:[u.jsx(e3,{className:"merge-user-accounts-with-same-email__accounts__item__icon"}),u.jsx(ie,{variant:"body_normal",weight:"medium",color:"secondary",className:"merge-user-accounts-with-same-email__accounts__item__text",children:Cp(f,{breakpoint:4,cutEnd:1,cutStart:2})})]})]}),u.jsx(ie,{weight:"regular",variant:"title",className:"merge-user-accounts-with-same-email__text merge-user-accounts-with-same-email__text__header",copykey:"dyn_merge_user_accounts_with_same_email.title",children:a("dyn_merge_user_accounts_with_same_email.title")}),u.jsxs(ie,{weight:"medium",variant:"body_normal",className:"merge-user-accounts-with-same-email__text merge-user-accounts-with-same-email__text__body",copykey:"dyn_merge_user_accounts_with_same_email.existing_account",children:[a("dyn_merge_user_accounts_with_same_email.existing_account")," ",u.jsx("span",{className:"merge-user-accounts-with-same-email__text--bold",children:Cp(f,{breakpoint:14})})," ",a("dyn_merge_user_accounts_with_same_email.existing_account_trail")]}),u.jsxs("div",{className:"merge-user-accounts-with-same-email__buttons",children:[u.jsx(Qt,{className:"merge-user-accounts-with-same-email__buttons__button",onClick:p,buttonVariant:"primary",buttonPadding:"large",copykey:"dyn_merge_user_accounts_with_same_email.confirm_button",children:a("dyn_merge_user_accounts_with_same_email.confirm_button")}),u.jsx(Qt,{className:"merge-user-accounts-with-same-email__buttons__button",onClick:m,buttonVariant:"secondary",buttonPadding:"large",copykey:"dyn_merge_user_accounts_with_same_email.cancel_button",children:a("dyn_merge_user_accounts_with_same_email.cancel_button")})]})]})},Mze=e=>{const{setView:t}=dn(),{mergeUserAccounts:n}=zY(),{t:r}=ut(),[i,o]=k.useState(""),{mergeConflicts:s}=e,a=()=>{const l=()=>{t("merge-user-accounts",e)};t("merge-user-accounts-conflicts",{mergeConflicts:(s==null?void 0:s.conflicts)||[]},{onBackClick:l})},c=()=>ae(void 0,void 0,void 0,function*(){if(s!=null&&s.conflicts.length){a();return}try{yield n([])}catch(l){Ne.error("Error merging user accounts",l),o(r("dyn_merge_user_accounts.errors.merge_error"))}});return u.jsxs("div",{className:"merge-user-accounts",children:[i&&u.jsx(fd,{icon:"error",variant:"error",className:"merge-user-accounts__error",children:i}),u.jsxs("div",{className:"merge-user-accounts__container",children:[u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",className:"merge-user-accounts__title",copykey:"dyn_merge_user_accounts.wallet.content",children:r("dyn_merge_user_accounts.wallet.content")}),u.jsx(Qt,{onClick:c,buttonClassName:"merge-user-accounts__button",buttonVariant:"brand-primary",buttonPadding:"large",typographyProps:{color:"inherit"},expanded:!0,copykey:"dyn_merge_user_accounts.confirm_button",children:r("dyn_merge_user_accounts.confirm_button")})]})]})};var ND,jD,BD,$D,MD,DD,LD,Dze=["title","titleId"];function l4(){return l4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l4.apply(this,arguments)}function Lze(e,t){if(e==null)return{};var n=Uze(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Uze(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Fze=function(t){var n=t.title,r=t.titleId,i=Lze(t,Dze);return k.createElement("svg",l4({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,k.createElement("mask",{id:"secure-account_svg__a",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:0,y:0,width:327,height:112},ND||(ND=k.createElement("path",{d:"M315 0H12C5.373 0 0 5.373 0 12v88c0 6.627 5.373 12 12 12h303c6.627 0 12-5.373 12-12V12c0-6.627-5.373-12-12-12Z",fill:"#fff"}))),k.createElement("g",{mask:"url(#secure-account_svg__a)"},jD||(jD=k.createElement("path",{d:"M164 228c62.96 0 114-51.04 114-114S226.96 0 164 0 50 51.04 50 114s51.04 114 114 114Z",fill:"url(#secure-account_svg__b)",fillOpacity:.12})),k.createElement("mask",{id:"secure-account_svg__c",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:86,y:29,width:40,height:40},BD||(BD=k.createElement("path",{d:"M116.91 29 86 37.282l8.282 30.91 30.91-8.282L116.91 29Z",fill:"#fff"}))),k.createElement("g",{mask:"url(#secure-account_svg__c)"},k.createElement("mask",{id:"secure-account_svg__d",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:90,y:33,width:31,height:31},$D||($D=k.createElement("path",{d:"M119.763 44.8c-2.097-7.825-10.139-12.468-17.963-10.371-7.824 2.096-12.468 10.138-10.371 17.962 2.096 7.825 10.139 12.468 17.963 10.371 7.824-2.096 12.467-10.138 10.371-17.962Z",fill:"#fff"}))),MD||(MD=k.createElement("g",{mask:"url(#secure-account_svg__d)"},k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M118.709 55.166a14.617 14.617 0 0 0 1.054-10.366c-2.097-7.824-10.139-12.467-17.963-10.37-7.825 2.096-12.468 10.138-10.371 17.962a14.612 14.612 0 0 0 6.097 8.451c1.808-3.916 6.565-6.42 9.647-7.247 3.083-.826 7.955-1.146 11.536 1.57Zm-19.375-8.688a5.5 5.5 0 1 1 10.625-2.847 5.5 5.5 0 0 1-10.625 2.847Z",fill:"#4779FF"})))),DD||(DD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.268 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.844 9.844 0 0 0-3.409-1.665 9.847 9.847 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.313.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.336 9.336 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm7.008 18.695c0-1.726-1.4-3.126-3.127-3.126h-14.069a6.253 6.253 0 0 0-6.153 5.133 6.234 6.234 0 0 1 4.589-2.007h18.76Zm1.562 3.127c3.454 0 6.253 2.8 6.253 6.253v12.506a6.253 6.253 0 0 1-6.253 6.254h-18.759a6.253 6.253 0 0 1-6.253-6.254V60.14a6.253 6.253 0 0 1 6.253-6.253h18.759Z",fill:"#4779FF"}))),LD||(LD=k.createElement("defs",null,k.createElement("linearGradient",{id:"secure-account_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#4779FF"}),k.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))};const Wze=()=>{const{t:e}=ut(),{setView:t}=dn(),n=[{Icon:void 0,description:e("dyn_mfa.choose_device_view.authenticator_app_description"),label:e("dyn_mfa.choose_device_view.authenticator_app"),type:_u.Totp}],r=i=>{t("mfa-secure-device",{type:i.type})};return u.jsxs("div",{className:"mfa-choose-device-view__body","data-testid":"mfa-choose-device-view",children:[u.jsx(Fze,{}),u.jsx(ie,{className:"mfa-choose-device-view__copy",variant:"body_normal",weight:"regular",color:"secondary",children:e("dyn_mfa.choose_device_view.select_options")}),n.map(i=>u.jsxs(eR,{buttonClassName:"mfa-choose-device-view__button",expanded:!0,onClick:()=>r(i),children:[u.jsxs("div",{className:"mfa-choose-device-view__button__header",children:[u.jsx(ie,{children:i.label}),u.jsx(nc,{className:"mfa-choose-device-view__icon--rotate"})]}),u.jsx(ie,{className:"mfa-choose-device-view__button__description",color:"secondary",children:i.description})]},i.type))]})},af={onMfaCompleteOnce:void 0},Y3=({onMfaCompleteOnce:e}={})=>{k.useEffect(()=>{e&&!af.onMfaCompleteOnce&&(af.onMfaCompleteOnce=e)},[e]);const{completeAuth:t}=Hp({}),{setDeviceSettings:n}=xJ(),{user:r,userWithMissingInfo:i,environmentId:o}=Te(),s=r||i;return{addDevice:(...y)=>ae(void 0,[...y],void 0,function*(v=_u.Totp){if(!s)throw new Error(li);const{id:w,secret:_,uri:E}=yield Oje({environmentId:o,type:v});return n({secret:_,type:v,uri:E}),{id:w,secret:_,uri:E}}),authDevice:(y,...v)=>ae(void 0,[y,...v],void 0,function*(w,_=_u.Totp){var E;try{if(!s)throw new Error(li);let C=!1;return yield t({onValidUpdatedJwt:()=>ae(void 0,void 0,void 0,function*(){C=!0}),updateJwtFunction:()=>ae(void 0,void 0,void 0,function*(){var T;const A=yield $je({code:w,createMfaToken:{singleUse:!0},environmentId:o,type:_});return yield(T=af.onMfaCompleteOnce)===null||T===void 0?void 0:T.call(af,{mfaToken:A.mfaToken}),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:[],updateUserProfileResponse:A}})}),C}catch(C){throw yield(E=af.onMfaCompleteOnce)===null||E===void 0?void 0:E.call(af,void 0,C),C}finally{af.onMfaCompleteOnce&&(af.onMfaCompleteOnce=void 0)}}),authRecoveryCode:y=>ae(void 0,void 0,void 0,function*(){if(!s)throw new Error(li);let v=!1;return yield t({onValidUpdatedJwt:()=>ae(void 0,void 0,void 0,function*(){v=!0}),updateJwtFunction:()=>ae(void 0,void 0,void 0,function*(){const w=yield Lje({code:y,environmentId:o});if(!w)throw new Error("Failed to authenticate recovey code");return{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:[],updateUserProfileResponse:w}})}),v}),deleteUserDevice:y=>ae(void 0,void 0,void 0,function*(){if(!s)throw new Error(li);yield jje({environmentId:o,mfaDeviceId:y})}),getRecoveryCodes:(...y)=>ae(void 0,[...y],void 0,function*(v=!1){if(!s)throw new Error(li);const _=yield(v?Dje:Mje)({environmentId:o});if(!_)throw new Error("Recovery codes not found");return _}),getUserDevices:()=>ae(void 0,void 0,void 0,function*(){if(!s)throw new Error(li);return yield vJ({environmentId:o})}),updateUserDevice:y=>ae(void 0,void 0,void 0,function*(){if(!s)throw new Error(li);yield Nje({environmentId:o,mfaDeviceId:y})}),verifyDevice:(y,...v)=>ae(void 0,[y,...v],void 0,function*(w,_=_u.Totp){if(!s)throw new Error(li);const E=yield Bje({code:w,environmentId:o,type:_});if(!E)throw new Error("Failed to verify device");return E})}},zze=({type:e})=>{const{t}=ut(),{setView:n}=dn(),{addDevice:r}=Y3(),{data:i,isLoading:o}=Ki(()=>r(e)),s=()=>{n("mfa-verification",{type:e},{onBackClick:()=>{n("mfa-secure-device",{type:e})}})};return u.jsxs("div",{className:"mfa-secure-device-view__body","data-testid":"mfa-secure-device-view",children:[u.jsx(ie,{className:"mfa-secure-device-view__copy",variant:"body_normal",weight:"regular",color:"secondary",children:t("dyn_mfa.secure_device_view.body")}),o&&u.jsx(Kf,{className:"mfa-secure-device-view__loading-spinner"}),i&&u.jsxs("div",{className:"mfa-secure-device-view__qrcode",children:[u.jsx(BR,{Icon:u.jsx(G3,{}),value:i.uri,logoSize:50}),u.jsx("div",{className:"button-container",children:u.jsx(Jf,{variant:"button",textToCopy:i.uri,buttonClassName:"qr-code-button",copykey:"dyn_qr_code.copy_button",startSlot:u.jsx(un,{size:"mini",color:"text-tertiary",children:u.jsx(jR,{})}),children:t("dyn_qr_code.copy_button")})})]}),u.jsx(Qt,{className:"mfa-secure-device-view__button",expanded:!0,onClick:s,children:t("dyn_mfa.secure_device_view.continue")})]})},_X=(e,{onChange:t}={onChange:()=>{}})=>{const[n,r]=k.useState(),{isLoading:i}=Ki(()=>e==null?void 0:e.getNetwork(),{deps:[e],onResolve:o=>{r(o)}});return Uc(e||void 0,"chainChange",({chain:o})=>{const s=(e==null?void 0:e.connectedChain)==="STARK"?o:parseInt(o);r(s),t==null||t(s)}),Uc(e||void 0,"disconnect",()=>ae(void 0,void 0,void 0,function*(){if((e==null?void 0:e.key)!=="argentx")return;const o=yield e.getNetwork();r(o),t==null||t(o)})),{isLoading:i,network:n}},xX=()=>{const{selectedWalletConnector:e,setShowAuthFlow:t,bridgeChainsToConnect:n,bridgeOnboardingCompleted:r,isBridgeFlow:i,user:o,authMode:s}=Te(),a=SR({shouldCallCallback:!1,shouldUpdateWallets:!!(n!=null&&n.length)}),{network:c}=_X(e,{onChange:l=>{Mp({network:l,walletConnector:e})&&a({walletConnector:e}).then(()=>{!o&&s==="connect-and-sign"||(!i||r||!(n!=null&&n.length))&&t(!1)})}});return{currentNetwork:c}},qze=({userProfile:e,walletConnector:t})=>{var n;const r=(n=e==null?void 0:e.verifiedCredentials.find(s=>s.id===e.lastVerifiedCredentialId))===null||n===void 0?void 0:n.address,i=W3(r),{data:o}=Ki(()=>t==null?void 0:t.getAddress(),{enabled:!e&&!!t});return u.jsxs("div",{className:"user-address__container",children:[u.jsx(N1,{variant:"green",containerClassName:"user-address__status-dot"}),i!=null&&i.name?u.jsxs(u.Fragment,{children:[u.jsx(ie,{variant:"numbers_big",color:"primary",className:"user-address",children:i.name}),u.jsx("div",{className:"dynamic-widget-wallet-header__seperator"}),u.jsx(ie,{variant:"numbers_medium",color:"secondary",className:"user-address",children:Gi(r,3,3)})]}):u.jsx(ie,{variant:"numbers_big",color:"primary",className:"user-address",children:Gi(r||o,4,4)})]})},Vze=({networkId:e,networkName:t,networkIconUrl:n,onClick:r})=>{const i=u.jsx("img",{alt:t,className:"select-network-button__icon",src:n});return u.jsxs(Qt,{dataTestId:"SelectNetworkButton",onClick:()=>r(e),expanded:!0,className:"select-network-button",children:["Select",i,t," network"]})},Hze=()=>{const{onboardingImageUrl:e,selectedWalletConnector:t}=Te(),{t:n}=ut(),{currentNetwork:r}=xX(),[i,o]=k.useState(!1);if(!t)return null;const s=l=>ae(void 0,void 0,void 0,function*(){try{yield t.switchNetwork({networkChainId:l})}catch(d){Ne.debug(d)}}),a=t.evmNetworks||[],c=Mp({network:r,walletConnector:t});return u.jsxs("div",{className:"network-not-supported","data-testid":"network-not-supported",children:[e&&u.jsx("img",{className:"network-not-supported__main-img",src:e,alt:"onboarding"}),!c&&u.jsx(Ao,{variant:"info",withIcon:!1,className:"network-not-supported__error--not-supported",copykey:"dyn_network_not_supported.warning_message",children:n("dyn_network_not_supported.warning_message")}),u.jsxs("div",{className:We("network-not-supported__content-container",{"network-not-supported__content-container--error":!c}),children:[u.jsx("div",{className:"network-not-supported__img-container",children:u.jsx(bi,{style:{height:64,width:64},walletKey:t.key})}),u.jsx(qze,{walletConnector:t}),u.jsx("div",{className:"network-not-supported__network-container",children:a.length>1&&u.jsx(fR,{currentNetwork:r,evmNetworks:a,connector:t,isNetworkPickerOpen:i,setIsNetworkPickerOpen:o,showNetworkName:!0,buttonClassName:"network-not-supported__network-picker-button",mainClassName:"network-not-supported__network-picker"})}),u.jsx("div",{className:"network-not-supported__welcome-container",children:u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_network_not_supported.subtitle",children:n("dyn_network_not_supported.subtitle")})}),a.length===1&&u.jsx(Vze,{onClick:s,networkId:a[0].networkId,networkName:a[0].vanityName||a[0].name,networkIconUrl:a[0].iconUrls[0]})]})]})},Kze=()=>{const{selectedWalletConnector:e}=Te();xX();const{t}=ut(),n=80,r=u.jsx(bi,{walletKey:e==null?void 0:e.key,style:{height:En(n*Ol),width:En(n*Ol)}}),i=rG(e),o=()=>(e==null?void 0:e.key)==="metamaskstarknet"?"dyn_network_not_supported_manual_switch.subtitle_network_defined_metamaskstarknet":i.length?"dyn_network_not_supported_manual_switch.subtitle_network_defined":"dyn_network_not_supported_manual_switch.subtitle_no_network_defined",s=()=>(e==null?void 0:e.key)==="metamaskstarknet"?u.jsxs(u.Fragment,{children:[t("dyn_network_not_supported_manual_switch.subtitle_network_defined_metamaskstarknet",{network:i[0].name}),u.jsxs("a",{href:"https://snaps.consensys.io/starknet",target:"_blank",rel:"noreferrer",children:[" ",t("dyn_network_not_supported_manual_switch.subtitle_network_defined_metamaskstarknet_companion_app")," ",u.jsx(H2,{style:{display:"inline-block"}})]})]}):i.length?t("dyn_network_not_supported_manual_switch.subtitle_network_defined",{network:i[0].name}):t("dyn_network_not_supported_manual_switch.subtitle_no_network_defined");return u.jsxs("div",{"data-testid":"network-not-supported",className:"network-not-supported-switch-manual",children:[u.jsx("div",{className:"network-not-supported-switch-manual__img-container",children:u.jsx("div",{className:"network-not-supported-switch-manual__network-container",children:u.jsx(bo,{Icon:r,iconSize:n,isSpinning:!0})})}),u.jsxs("div",{className:"network-not-supported-switch-manual__content",children:[u.jsx(ie,{className:"network-not-supported-switch-manual__title",weight:"medium",variant:"title",color:"primary",copykey:"dyn_network_not_supported_manual_switch.title",children:t("dyn_network_not_supported_manual_switch.title")}),u.jsx(ie,{variant:"body_normal",color:"secondary",copykey:o(),children:s()})]})]})},Gze={discord:CH,helpdesk:IH,slack:AH,twitter:TH},Zze=e=>Gze[e],Jze=()=>{const{socialMediaLinkText:e,socialMediaUrl:t,accessDeniedMessagePrimary:n,accessDeniedMessageSecondary:r}=Te(),{view:i}=dn(),{t:o}=ut(),s=i.type==="chainalysis-blocked-wallet",a=i.type==="gate-blocked-wallet",c=i.type==="no-access",l=()=>{if(s)return o(sl.chainalysis._socialMediaLinkText);if(!a)return e},d=()=>{if(s)return o(sl.chainalysis._socialMediaUrl);if(!a)return t},f=()=>s?o(sl.chainalysis.title):a?o(sl.gate.title):n||o(sl.default.title),p=()=>s?o(sl.chainalysis.subtitle):a?o(sl.gate.subtitle):r||o(sl.default.subtitle),m=()=>o(s?sl.chainalysis.buttonTitle:a?sl.gate.buttonTitle:sl.default.buttonTitle);return{_socialMediaLinkText:l(),_socialMediaUrl:d(),buttonTitle:m(),isAccessListView:c,isChainalysisView:s,isGateBlockedView:a,subtitle:p(),title:f()}},sl={chainalysis:{_socialMediaLinkText:"dyn_no_access.chainalysis.social_media_link_text",_socialMediaUrl:"dyn_no_access.chainalysis.social_media_link_url",buttonTitle:"dyn_no_access.chainalysis.button_text",subtitle:"dyn_no_access.chainalysis.description",title:"dyn_no_access.chainalysis.title"},default:{buttonTitle:"dyn_no_access.default.button_text",subtitle:"dyn_no_access.default.description",title:"dyn_no_access.default.title"},gate:{_socialMediaLinkText:void 0,_socialMediaUrl:void 0,buttonTitle:"dyn_no_access.gate.button_text",subtitle:"dyn_no_access.gate.description",title:"dyn_no_access.gate.title"}},iE=()=>{const{deniedAddress:e,setDeniedAddress:t,setDeniedOauthProvider:n}=h3(),{t:r}=ut(),{selectedWalletConnector:i,socialMediaIconUrl:o,notInTheListImageUrl:s,accessDeniedButton:a}=Te(),{displayedDestination:c}=Ll(),{goToInitialView:l}=dn(),{_socialMediaLinkText:d,_socialMediaUrl:f,isAccessListView:p,isGateBlockedView:m,subtitle:g,title:y,buttonTitle:v}=Jze(),w=()=>{l(),t(""),n(void 0),i==null||i.endSession()},_=!o||typeof o=="string"?null:Zze(Object.keys(o)[0]),E=k.useMemo(()=>i?u.jsx(j1,{}):u.jsx(Vp,{containerClassName:"wallet-no-access__icon--verified",Icon:yp,iconSize:50,InnerIcon:Bp,variant:"red"}),[i]),C=Gi(e,6,4),T=(a==null?void 0:a.title)||v,A=(a==null?void 0:a.action)||w,S=c??C,O=!!s&&(p||m),D=_&&(p||m);return u.jsxs("div",{className:"wallet-no-access__container",children:[O&&u.jsx("img",{src:s,alt:r("dyn_no_access.not_in_the_list_image_alt"),className:"wallet-no-access__image",copykey:"dyn_no_access.not_in_the_list_image_alt"}),u.jsxs("div",{className:"wallet-no-access__main",children:[u.jsxs("div",{className:"wallet-no-access__user-info-container",children:[E,u.jsxs("div",{"data-testid":"walletAddress",className:"wallet-no-access__wallet-address-container",children:[i&&u.jsx(N1,{variant:"red",containerClassName:"user-info__status-dot"}),u.jsx(ie,{variant:"body_normal",color:"primary",weight:"medium",className:"wallet-no-access__wallet-address",children:S})]})]}),u.jsxs("div",{className:"wallet-no-access__content",children:[u.jsx(ie,{variant:"title",color:"primary",className:"wallet-no-access__content--primary",children:y}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",className:"wallet-no-access__content--secondary",children:g})]}),u.jsx(Qt,{onClick:A,className:"wallet-no-access__button--primary",expanded:!0,buttonPadding:"large",children:T}),f&&d&&u.jsxs("div",{className:"wallet-no-access__social-info-container",children:[u.jsxs("a",{href:f,className:"wallet-no-access__waitlist-link",children:[u.jsx(ie,{variant:"button_primary",color:"primary",children:d}),D&&u.jsx(_,{className:"wallet-no-access__social-icon",style:{height:En(24),width:En(24)}})]}),typeof o=="string"&&u.jsx("img",{alt:"social media",src:o,style:{height:"1.5rem",width:"1.5rem"}})]})]})]})},Yze=e=>e[0].toUpperCase()+e.slice(1),kX=({name:e,link:t,Icon:n})=>{const{t:r}=ut();return u.jsx("div",{className:"wallet-help-link",children:u.jsxs("a",{className:"wallet-help-link__anchor",href:t,target:"_blank",rel:"noreferrer",children:[u.jsx(n,{style:{height:"1.5rem",width:"1.5rem"}}),u.jsx(ie,{variant:"button_primary",weight:"medium",copykey:"dyn_qr_code.wallet_not_installed.browser_install",children:r("dyn_qr_code.wallet_not_installed.browser_install",{browser:Yze(e)})})]})})},Xze=()=>{const{selectedWalletConnector:e}=Te(),{walletBook:t}=$a(),{t:n}=ut();if(!e)return null;const r=Object.entries(sb(t,e.key)).filter(([,i])=>i!=="").filter(([i])=>i!=="ios"&&i!=="android").map(([i,o])=>u.jsx(kX,{name:i,link:o,Icon:s4(i)},i));return u.jsxs("div",{className:"no-qr-code-installed__container","data-testid":"no-qr-code-installed",children:[u.jsx("div",{className:"no-qr-code-installed__img",children:u.jsx(bi,{walletKey:e.key,style:{height:En(64),width:En(64)}})}),u.jsx(ie,{className:"no-qr-code-installed__typography--title",variant:"title",copykey:"dyn_qr_code.wallet_not_installed.install",children:n("dyn_qr_code.wallet_not_installed.install",{wallet:rc(t,e.key).name})}),u.jsx(ie,{variant:"body_normal",className:"no-qr-code-installed__typography",color:"secondary",copykey:"dyn_qr_code.wallet_not_installed.select",children:n("dyn_qr_code.wallet_not_installed.select")}),u.jsx("div",{className:"no-qr-code-installed__links-section",children:r}),u.jsx(ie,{variant:"body_mini",className:"no-qr-code-installed__typography",weight:"medium",color:"secondary",copykey:"dyn_qr_code.wallet_not_installed.refresh",children:n("dyn_qr_code.wallet_not_installed.refresh")})]})};var UD,FD,Qze=["title","titleId"];function d4(){return d4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d4.apply(this,arguments)}function eqe(e,t){if(e==null)return{};var n=tqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var nqe=function(t){var n=t.title,r=t.titleId,i=eqe(t,Qze);return k.createElement("svg",d4({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,UD||(UD=k.createElement("g",{clipPath:"url(#access-blocked_svg__a)"},k.createElement("circle",{cx:164,cy:114,r:114,fill:"url(#access-blocked_svg__b)",fillOpacity:.12}),k.createElement("circle",{cx:220.352,cy:29.265,r:15.729,transform:"rotate(15 220.352 29.265)",fill:"#4779FF"}),k.createElement("path",{d:"M223.594 23.62a1.573 1.573 0 1 0-3.038-.815l-1.629 6.078a1.573 1.573 0 1 0 3.039.814l1.628-6.077ZM219.225 33.848a1.573 1.573 0 0 0-.814 3.039l.015.004a1.574 1.574 0 0 0 .814-3.039l-.015-.004Z",fill:"#F9F9FB"}),k.createElement("g",{clipPath:"url(#access-blocked_svg__c)",fill:"#4779FF"},k.createElement("path",{d:"M101.972 36.04a8 8 0 0 1 9.798 5.657l-2.897.777a5 5 0 0 0-9.66 2.588l-2.897.776a8 8 0 0 1 5.656-9.797ZM118.498 47.487a5.333 5.333 0 0 0-6.532-3.772l-14.81 3.969a5.333 5.333 0 0 0-3.772 6.532l1.898 7.084a5.333 5.333 0 0 0 6.532 3.77l14.811-3.968a5.334 5.334 0 0 0 3.771-6.532l-1.898-7.083Z"})),k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.313.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.336 9.336 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm-3.344 46.703c-1.172-2.936-2.026-7.051-2.236-11.797h9.298c-.21 4.746-1.064 8.861-2.236 11.797-.683 1.709-1.393 2.816-1.971 3.428-.198.21-.346.328-.442.393a2.703 2.703 0 0 1-.442-.392c-.578-.613-1.288-1.72-1.971-3.429Zm0-28.13c-1.208 3.025-2.078 7.301-2.253 12.228h9.332c-.175-4.927-1.045-9.203-2.253-12.227-.683-1.709-1.393-2.816-1.971-3.429a2.703 2.703 0 0 0-.442-.392 2.703 2.703 0 0 0-.442.392c-.578.613-1.288 1.72-1.971 3.429Zm-15.106 12.228h8.746c.21-6.38 1.506-11.989 3.423-15.668-6.57 2.184-11.466 8.283-12.169 15.668Zm.046 4.105h8.716c.253 6.201 1.533 11.642 3.407 15.238-6.442-2.141-11.274-8.046-12.123-15.238Zm34.946 0h-8.716c-.253 6.201-1.533 11.642-3.407 15.238 6.442-2.141 11.275-8.046 12.123-15.238Zm.133-2.267v.065-.131.066Zm-8.833-1.838h8.746c-.703-7.385-5.599-13.484-12.169-15.668 1.917 3.68 3.213 9.289 3.423 15.668Zm-8.909 19.795c0-.001.007-.004.023-.008a.077.077 0 0 1-.023.008Zm.25-.008a.064.064 0 0 1 .022.008s-.007-.001-.022-.008Zm.022-35.907c0 .001-.007.004-.023.008a.077.077 0 0 1 .023-.008Zm-.249.008c-.016-.004-.023-.007-.023-.008 0 0 .007.001.023.008Z",fill:"#4779FF"}))),FD||(FD=k.createElement("defs",null,k.createElement("clipPath",{id:"access-blocked_svg__a"},k.createElement("rect",{width:327,height:112,rx:12,fill:"#fff"})),k.createElement("clipPath",{id:"access-blocked_svg__c"},k.createElement("path",{fill:"#fff",transform:"rotate(-15 188.268 -307.493)",d:"M0 0h32v32H0z"})),k.createElement("linearGradient",{id:"access-blocked_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#4779FF"}),k.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))};const rqe=()=>{const[e,t]=k.useState(),{t:n}=ut(),{getIpConfiguration:r}=Xje();return Ki(r,{deps:[r,e],onResolve:i=>t(i==null?void 0:i.country),retries:2}),u.jsxs("div",{className:"access-blocked__container",children:[u.jsx("div",{className:"access-blocked__icon",children:u.jsx(nqe,{})}),u.jsx("div",{className:"access-blocked__content",children:u.jsx(ie,{variant:"body_normal",color:"secondary",children:n("dyn_access_blocked.content",{jurisdiction:e})})})]})};var WD,zD,iqe=["title","titleId"];function u4(){return u4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u4.apply(this,arguments)}function oqe(e,t){if(e==null)return{};var n=sqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var aqe=function(t){var n=t.title,r=t.titleId,i=oqe(t,iqe);return k.createElement("svg",u4({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,WD||(WD=k.createElement("g",{clipPath:"url(#passkey-intro2_svg__a)"},k.createElement("circle",{cx:164,cy:114,r:114,fill:"url(#passkey-intro2_svg__b)",fillOpacity:.12}),k.createElement("g",{clipPath:"url(#passkey-intro2_svg__c)",fill:"#4779FF"},k.createElement("path",{d:"M106.009 34.681a2.666 2.666 0 0 1 3.266 1.886l-15.454 4.141a5.319 5.319 0 0 0-3.339 2.666 5.335 5.335 0 0 1 3.936-5.587l11.591-3.106ZM117.785 42.57a5.333 5.333 0 0 0-6.532-3.772l-15.455 4.141a5.333 5.333 0 0 0-3.771 6.532l2.76 10.303a5.333 5.333 0 0 0 6.533 3.771l15.454-4.14a5.333 5.333 0 0 0 3.772-6.533l-2.761-10.303Z"})),k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.269 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.844 9.844 0 0 0-3.409-1.665 9.847 9.847 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.314.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.325 9.325 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.732-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm-1.34 14.592a15.89 15.89 0 0 0-7.978 2.135 1.772 1.772 0 0 0 1.775 3.069 12.347 12.347 0 0 1 6.203-1.66c6.853 0 12.408 5.556 12.408 12.409a44.34 44.34 0 0 1-1.688 12.156 1.772 1.772 0 1 0 3.41.97 47.883 47.883 0 0 0 1.823-13.126c0-8.81-7.142-15.953-15.953-15.953Zm-10.749 9.75a1.772 1.772 0 1 0-3.069-1.775 15.891 15.891 0 0 0-2.135 7.978c0 2.499-.573 4.86-1.594 6.96a1.772 1.772 0 1 0 3.189 1.55 19.43 19.43 0 0 0 1.95-8.51c0-2.263.604-4.38 1.659-6.203Zm10.749-2.66a8.863 8.863 0 0 0-8.863 8.863c0 4.516-1.29 8.704-3.518 12.246l1.5.944-1.5-.944-.121.196a1.774 1.774 0 0 0 3.049 1.81 26.434 26.434 0 0 0 4.135-14.253 5.318 5.318 0 0 1 10.636 0c0 1.723-.118 3.418-.345 5.078a1.773 1.773 0 0 0 3.513.48 41.12 41.12 0 0 0 .377-5.557 8.863 8.863 0 0 0-8.863-8.863Zm1.772 8.863a1.772 1.772 0 1 0-3.545 0c0 5.89-1.688 11.381-4.607 16.021a1.773 1.773 0 0 0 3.001 1.888 33.528 33.528 0 0 0 5.151-17.91Zm5.554 11.117a1.773 1.773 0 0 0-3.411-.965 37.01 37.01 0 0 1-2.523 6.502 1.771 1.771 0 1 0 3.169 1.588 40.517 40.517 0 0 0 2.765-7.124Z",fill:"#4779FF"}))),zD||(zD=k.createElement("defs",null,k.createElement("clipPath",{id:"passkey-intro2_svg__a"},k.createElement("rect",{width:327,height:112,rx:12,fill:"#fff"})),k.createElement("clipPath",{id:"passkey-intro2_svg__c"},k.createElement("path",{fill:"#fff",transform:"rotate(-15 184.593 -307.976)",d:"M0 0h32v32H0z"})),k.createElement("linearGradient",{id:"passkey-intro2_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#4779FF"}),k.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))},qD,VD,HD,cqe=["title","titleId"];function f4(){return f4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f4.apply(this,arguments)}function lqe(e,t){if(e==null)return{};var n=dqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var uqe=function(t){var n=t.title,r=t.titleId,i=lqe(t,cqe);return k.createElement("svg",f4({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,qD||(qD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 57.887c14.297 0 25.887-11.59 25.887-25.887S46.297 6.113 32 6.113 6.113 17.703 6.113 32 17.703 57.887 32 57.887ZM32 60c15.464 0 28-12.536 28-28S47.464 4 32 4 4 16.536 4 32s12.536 28 28 28Z",fill:"#1A73E8"})),VD||(VD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.752 46.831c.27.582.018 1.274-.565 1.544-2.69 1.25-5.356 1.479-7.54.476-2.215-1.017-3.66-3.173-4.134-6.099l2.295-.372c.383 2.364 1.466 3.742 2.809 4.359 1.374.63 3.299.592 5.591-.472a1.162 1.162 0 0 1 1.544.564ZM33.585 35.17v-4.755h2.113v6.868h-5.811V35.17h3.698Z",fill:"#1A73E8"})),HD||(HD=k.createElement("path",{d:"M46.792 25.132a2.113 2.113 0 1 1-4.226 0 2.113 2.113 0 0 1 4.226 0ZM21.434 25.132a2.113 2.113 0 1 1-4.227 0 2.113 2.113 0 0 1 4.227 0Z",fill:"#1A73E8"})))},KD,fqe=["title","titleId"];function h4(){return h4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h4.apply(this,arguments)}function hqe(e,t){if(e==null)return{};var n=pqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var $R=function(t){var n=t.title,r=t.titleId,i=hqe(t,fqe);return k.createElement("svg",h4({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,KD||(KD=k.createElement("path",{d:"M47.493 11.92c-.213 0-.426-.053-.613-.16C41.76 9.12 37.333 8 32.027 8c-5.28 0-10.294 1.253-14.854 3.76-.64.347-1.44.107-1.813-.533a1.35 1.35 0 0 1 .533-1.814c4.96-2.693 10.4-4.08 16.134-4.08 5.68 0 10.64 1.254 16.08 4.054.666.346.906 1.146.56 1.786-.24.48-.694.747-1.174.747Zm-38.16 14a1.33 1.33 0 0 1-1.093-2.107c2.64-3.733 6-6.666 10-8.72 8.373-4.32 19.093-4.346 27.493-.026 4 2.053 7.36 4.96 10 8.666.427.587.294 1.44-.32 1.867a1.33 1.33 0 0 1-1.866-.32c-2.4-3.36-5.44-6-9.04-7.84-7.654-3.92-17.44-3.92-25.067.027-3.627 1.866-6.667 4.533-9.067 7.893-.213.373-.613.56-1.04.56ZM26 58.107c-.347 0-.693-.134-.933-.4-2.32-2.32-3.574-3.814-5.36-7.04-1.84-3.28-2.8-7.28-2.8-11.574 0-7.92 6.773-14.373 15.093-14.373s15.093 6.453 15.093 14.373a1.32 1.32 0 0 1-1.333 1.334 1.32 1.32 0 0 1-1.333-1.334c0-6.453-5.574-11.706-12.427-11.706S19.573 32.64 19.573 39.093c0 3.84.854 7.387 2.48 10.267 1.707 3.067 2.88 4.373 4.934 6.453a1.37 1.37 0 0 1 0 1.894c-.294.266-.64.4-.987.4Zm19.12-4.934c-3.173 0-5.973-.8-8.267-2.373-3.973-2.693-6.346-7.067-6.346-11.707a1.32 1.32 0 0 1 1.333-1.333 1.32 1.32 0 0 1 1.333 1.333c0 3.76 1.92 7.307 5.174 9.494 1.893 1.28 4.106 1.893 6.773 1.893.64 0 1.707-.08 2.773-.267a1.33 1.33 0 0 1 1.547 1.094 1.33 1.33 0 0 1-1.093 1.546c-1.52.294-2.854.32-3.227.32Zm-5.36 5.494a1.56 1.56 0 0 1-.347-.054c-4.24-1.173-7.013-2.746-9.92-5.6-3.733-3.706-5.786-8.64-5.786-13.92 0-4.32 3.68-7.84 8.213-7.84 4.533 0 8.213 3.52 8.213 7.84 0 2.854 2.48 5.174 5.547 5.174 3.067 0 5.547-2.32 5.547-5.174 0-10.053-8.667-18.213-19.334-18.213-7.573 0-14.506 4.213-17.626 10.747-1.04 2.16-1.574 4.693-1.574 7.466 0 2.08.187 5.36 1.787 9.627a1.301 1.301 0 0 1-.773 1.707A1.323 1.323 0 0 1 12 49.653c-1.307-3.493-1.947-6.96-1.947-10.56 0-3.2.614-6.106 1.814-8.64 3.546-7.44 11.413-12.266 20.026-12.266 12.134 0 22 9.36 22 20.88 0 4.32-3.68 7.84-8.213 7.84-4.533 0-8.213-3.52-8.213-7.84 0-2.854-2.48-5.174-5.547-5.174-3.067 0-5.547 2.32-5.547 5.174 0 4.56 1.76 8.826 4.987 12.026 2.533 2.507 4.96 3.894 8.72 4.934.72.186 1.12.933.933 1.626a1.301 1.301 0 0 1-1.253 1.014Z",fill:"#1A73E8"})))},GD,mqe=["title","titleId"];function p4(){return p4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p4.apply(this,arguments)}function gqe(e,t){if(e==null)return{};var n=yqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var vqe=function(t){var n=t.title,r=t.titleId,i=gqe(t,mqe);return k.createElement("svg",p4({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,GD||(GD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.055 2.4A3.548 3.548 0 0 1 21.6 5.945v2.013a1.095 1.095 0 0 1-2.19 0V5.945c0-.747-.608-1.355-1.355-1.355h-2.012a1.095 1.095 0 1 1 0-2.19h2.012Zm-10.098 0a1.095 1.095 0 0 1 0 2.19H5.945c-.747 0-1.355.608-1.355 1.355v2.013a1.095 1.095 0 0 1-2.19 0V5.945A3.548 3.548 0 0 1 5.945 2.4h2.012Zm7.692 5.083c.6 0 1.086.486 1.086 1.086v1.347a1.086 1.086 0 1 1-2.172 0V8.57c0-.6.486-1.086 1.086-1.086Zm-4.121 0c.614 0 1.112.498 1.112 1.112v2.982h.008a1.113 1.113 0 0 1 0 2.226h-.386a1.849 1.849 0 0 1-1.847-1.848v-3.36c0-.614.498-1.112 1.113-1.112Zm-3.282 0c.6 0 1.086.486 1.086 1.086v1.347a1.086 1.086 0 0 1-2.172 0V8.57c0-.6.486-1.086 1.086-1.086Zm12.259 7.465c.605 0 1.095.49 1.095 1.095v2.012a3.548 3.548 0 0 1-3.545 3.545h-2.012a1.095 1.095 0 1 1 0-2.19h2.012c.747 0 1.355-.608 1.355-1.355v-2.012c0-.605.49-1.095 1.095-1.095Zm-17.01 0c.605 0 1.095.49 1.095 1.095v2.012c0 .747.608 1.355 1.355 1.355h2.012a1.095 1.095 0 0 1 0 2.19H5.945A3.548 3.548 0 0 1 2.4 18.055v-2.012c0-.605.49-1.095 1.095-1.095Zm5.365 1.337a.473.473 0 0 0 0 0l-.434.47a1.113 1.113 0 0 1 1.51-1.634c.563.52 1.296.806 2.064.806s1.5-.286 2.065-.807a1.113 1.113 0 0 1 1.51 1.634A5.255 5.255 0 0 1 12 18.153a5.255 5.255 0 0 1-3.574-1.397l.434-.47a4.615 4.615 0 0 1 0 0Zm5.947.28a4.694 4.694 0 0 1 0 0Z",fill:"#ABACB2"})))},ZD,JD,bqe=["title","titleId"];function m4(){return m4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m4.apply(this,arguments)}function wqe(e,t){if(e==null)return{};var n=_qe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _qe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var xqe=function(t){var n=t.title,r=t.titleId,i=wqe(t,bqe);return k.createElement("svg",m4({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,ZD||(ZD=k.createElement("g",{clipPath:"url(#iphone-touch-id_svg__a)",fill:"#000"},k.createElement("path",{d:"M38.635.943c-4.483-1.118-9.2-1.278-13.79-.287a.657.657 0 0 0 .277 1.285c4.396-.95 8.924-.793 13.232.287 10.3 2.582 18.875 10.327 22.14 20.444 1.264 3.912 1.8 8.078 1.908 12.445a.657.657 0 0 0 1.313-.033c-.108-4.426-.651-8.7-1.945-12.74C58.378 11.75 49.417 3.632 38.635.943ZM21.51 2.932a.657.657 0 1 0-.35-1.267c-4.801 1.324-11.554 5.9-15.728 12.014a.754.754 0 0 0-.004.007C1.763 19.208-.534 26.148.108 32.883l.001.019c.154 1.23.412 2.457.67 3.686.544 2.588 1.09 5.183.665 7.818a.657.657 0 1 0 1.297.21c.445-2.755-.107-5.443-.66-8.13-.254-1.244-.51-2.487-.666-3.737-.604-6.364 1.57-13.002 5.105-18.333 4.015-5.879 10.516-10.25 14.99-11.484Z"}),k.createElement("path",{d:"M30.133 4.4c8.25-.504 16.499 2.863 22.039 9.314a.657.657 0 1 1-.997.856c-5.268-6.134-13.118-9.339-20.966-8.858H30.2c-9.925.48-19.22 7.214-22.638 16.648a.657.657 0 1 1-1.236-.447C9.928 11.973 19.688 4.907 30.133 4.4ZM54.174 16.585a.657.657 0 0 0-1.091.733c3.07 4.572 4.34 9.548 4.843 15.454a.657.657 0 0 0 1.31-.112c-.514-6.034-1.823-11.252-5.062-16.075ZM58.796 35.45a.657.657 0 0 1 .697.615c.247 3.963.25 8.446-.189 11.76a.657.657 0 1 1-1.303-.173c.423-3.193.425-7.582.18-11.505a.657.657 0 0 1 .615-.697ZM6.57 25.543a.657.657 0 1 0-1.278-.308 26.58 26.58 0 0 0-.743 6.104c-.01 2.117.385 4.184.78 6.25.323 1.692.646 3.384.747 5.104.134 2.26-.341 4.523-1.163 6.677a.657.657 0 1 0 1.228.469c.868-2.277 1.395-4.73 1.247-7.223-.1-1.709-.424-3.39-.747-5.072-.394-2.051-.788-4.102-.778-6.199.01-1.952.248-3.902.706-5.802Z"}),k.createElement("path",{d:"M23.813 10.94a.657.657 0 0 1-.365.855c-6.813 2.736-11.93 8.91-12.973 16.19-.436 3.042.035 6.055.506 9.067.265 1.696.53 3.392.634 5.093.223 3.688-.197 7.739-2.597 11.425a.657.657 0 0 1-1.101-.718c2.186-3.358 2.6-7.088 2.386-10.627-.105-1.726-.368-3.442-.632-5.156-.472-3.077-.944-6.15-.497-9.27 1.115-7.774 6.563-14.324 13.784-17.224a.657.657 0 0 1 .855.365ZM46.882 14.681c-5.374-5.034-13.164-6.79-20.244-5.238a.657.657 0 1 0 .282 1.284c6.704-1.47 14.039.207 19.064 4.914 4.235 3.967 6.695 9.739 7.339 16.037a.657.657 0 0 0 1.307-.134c-.668-6.54-3.232-12.633-7.748-16.863ZM54.493 34.674a.657.657 0 0 1 .72.586c.625 6.077.356 12.64-.587 18.99a.657.657 0 0 1-1.3-.193c.93-6.261 1.191-12.713.58-18.662a.657.657 0 0 1 .587-.721Z"}),k.createElement("path",{d:"M31.582 13.355c-10.07 0-18.252 8.034-18.252 17.967 0 1.06.094 2.1.274 3.111a.657.657 0 0 0 1.294-.23 16.469 16.469 0 0 1-.254-2.881c0-9.187 7.574-16.652 16.938-16.652 4.232 0 8.098 1.525 11.066 4.045a.657.657 0 0 0 .85-1.002 18.353 18.353 0 0 0-11.916-4.358ZM44.971 20.163a.657.657 0 0 1 .93.02c2.9 3.024 3.828 7.777 4.442 11.766.692 4.494.798 8.877.798 10.91a.657.657 0 0 1-1.315 0c0-2-.104-6.31-.782-10.71-.57-3.703-1.392-8.24-4.092-11.056a.657.657 0 0 1 .02-.93ZM50.974 46.622a.657.657 0 0 0-1.31-.105c-.323 4.048-.745 8.092-1.6 11.827a.657.657 0 1 0 1.28.293c.879-3.833 1.306-7.956 1.63-12.015ZM14.662 36.852a.657.657 0 0 1 .771.518c1.39 7.056.43 13.466-3.25 19.08a.657.657 0 0 1-1.099-.72c3.462-5.283 4.394-11.331 3.06-18.106a.657.657 0 0 1 .518-.772Z"}),k.createElement("path",{d:"M31.582 17.631c-6.537 0-12.95 5.06-13.604 11.42-.287 2.784.116 5.526.519 8.27.351 2.395.703 4.791.596 7.217-.244 5.552-1.873 10.135-4.672 13.91a.657.657 0 1 0 1.056.782c2.968-4.003 4.674-8.844 4.93-14.634.106-2.415-.247-4.804-.6-7.19-.403-2.73-.806-5.459-.521-8.221.574-5.587 6.325-10.24 12.296-10.24 2.785 0 9.991 1.508 12.283 8.976 1.437 4.679 1.828 11.012 1.48 17.164-.347 6.151-1.43 12.035-2.885 15.808a.657.657 0 0 0 1.227.473c1.522-3.947 2.619-9.98 2.97-16.207.353-6.226-.034-12.734-1.535-17.624-2.545-8.289-10.52-9.904-13.54-9.904Z"}),k.createElement("path",{d:"M21.47 56.451c.303.198.389.606.19.91-.407.624-.765 1.278-1.124 1.932-.359.654-.717 1.307-1.125 1.932a.657.657 0 1 1-1.1-.718c.407-.624.765-1.278 1.124-1.932.359-.654.717-1.308 1.125-1.932a.657.657 0 0 1 .91-.192ZM27.096 24.453a.657.657 0 1 0-.73-1.093c-2.603 1.74-4.2 4.134-4.2 7.64 0 2.088.37 3.795.75 5.545.567 2.62.953 5.233.883 7.923-.084 3.267-.723 6.252-1.952 9.096a.657.657 0 1 0 1.207.521c1.299-3.007 1.971-6.158 2.06-9.583.071-2.796-.325-5.513-.913-8.235-.38-1.758-.72-3.328-.72-5.267 0-3.004 1.321-5.013 3.615-6.547ZM29.66 22.144c2.728-.556 5.662.13 7.822 1.879 3.858 3.122 4.371 8.817 4.787 13.432l.021.235c.538 5.949-.077 11.726-1.316 17.529a.657.657 0 1 1-1.286-.275c1.22-5.715 1.815-11.355 1.293-17.136l-.052-.582v-.002c-.37-4.17-.832-9.394-4.274-12.18-1.846-1.494-4.379-2.092-6.732-1.613a.657.657 0 1 1-.262-1.287ZM40.045 58.489a.657.657 0 1 0-1.274-.325 15.88 15.88 0 0 1-1.785 4.266.657.657 0 1 0 1.127.675 17.188 17.188 0 0 0 1.932-4.616ZM36.831 48.952c.36.043.618.37.576.73-.62 5.245-2.022 9.922-4.27 13.98a.657.657 0 0 1-1.15-.638c2.152-3.882 3.51-8.39 4.115-13.496a.657.657 0 0 1 .73-.576Z"}),k.createElement("path",{d:"M36.696 30.656c-.456-2.435-2.545-4.297-5.081-4.297-3.435 0-5.845 3.462-4.996 6.683 1.437 5.686 1.673 11.166.7 16.444v.003c-.845 4.739-2.465 9.002-4.677 12.614a.657.657 0 0 0 1.121.686c2.302-3.76 3.978-8.178 4.85-13.067 1.01-5.482.759-11.154-.72-17.005l-.002-.007c-.637-2.41 1.138-5.037 3.724-5.037 1.865 0 3.44 1.373 3.788 3.22.957 5.548 1.455 10.693 1.1 15.123a.657.657 0 1 0 1.31.105c.368-4.592-.151-9.863-1.115-15.456l-.002-.01ZM29.654 59.117c.323.166.45.562.284.885l-1.741 3.389a.657.657 0 1 1-1.17-.601L28.77 59.4a.657.657 0 0 1 .885-.284Z"}),k.createElement("path",{d:"M32.103 31.29a.657.657 0 1 0-1.28.3c2.217 9.433 1.913 17.717-.787 24.773a.657.657 0 1 0 1.228.47c2.814-7.358 3.1-15.919.84-25.544Z"}))),JD||(JD=k.createElement("defs",null,k.createElement("clipPath",{id:"iphone-touch-id_svg__a"},k.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))))};const X3=({defaultIcon:e,className:t,size:n="small"})=>{let r=e||null;if(v1()&&(Rke()?r=u.jsx(xqe,{"data-testid":"iphone-8-icon"}):r=u.jsx(vqe,{"data-testid":"iphone-icon"})),JA()){const i=jke();i&&i>=9?r=u.jsx($R,{"data-testid":"android-9-icon"}):r=u.jsx(uqe,{"data-testid":"android-icon"})}return r?u.jsx(un,{className:t,size:n,children:r}):u.jsx(u.Fragment,{})},SX=({choice:e,variant:t="default"})=>{const{t:n}=ut(),r={passkey:{default:[{description:"dyn_embedded_authenticator.passkey.auth_info.convinience.description",title:"dyn_embedded_authenticator.passkey.auth_info.convinience.title"},{description:"dyn_embedded_authenticator.passkey.auth_info.security.description",title:"dyn_embedded_authenticator.passkey.auth_info.security.title"}],noEmailSignup:[{description:"dyn_embedded_authenticator.passkey.no_email_auth_info.convinience.description",title:"dyn_embedded_authenticator.passkey.no_email_auth_info.convinience.title"},{description:"dyn_embedded_authenticator.passkey.no_email_auth_info.security.description",title:"dyn_embedded_authenticator.passkey.no_email_auth_info.security.title"}]}};return u.jsx("div",{className:"auth-choice-info",children:r[e][t].map((i,o)=>u.jsxs("div",{className:"auth-choice-info__container-item",children:[u.jsx("div",{className:"auth-choice-info__container-icon",children:u.jsx(un,{size:"medium",className:"auth-choice-info__icon",children:u.jsx(Hf,{})})}),u.jsxs("div",{className:"action-card__item-title",children:[u.jsx(ie,{variant:"body_normal",weight:"regular",copykey:i.title,children:n(i.title)}),u.jsx(ie,{variant:"body_small",weight:"regular",color:"secondary",copykey:i.description,children:n(i.description)})]})]},`authChoiceInfo_${o}`))})},kqe=({chains:e})=>{var t;const{walletConnectorOptions:n,environmentId:r,handleLogOut:i,user:o,userWithMissingInfo:s}=Te(),a=((t=o==null?void 0:o.verifiedCredentials)===null||t===void 0?void 0:t.length)===1&&!B3(o,od.Email),{t:c}=ut(),[l,d]=k.useState(!1);k.useEffect(()=>Ft.removeFromLS(jp),[]);const{createDynamicEmbeddedWalletMutation:f,isLoading:p,error:m}=fY(),g=v=>ae(void 0,void 0,void 0,function*(){if(!o&&!s)throw new Error("User is not logged in");d(v),yield f({chains:e,environmentId:r,walletConnectorOptions:n,withAuthenticator:v})}),y=k.useMemo(()=>{if(m)return m instanceof Ae?m.message:ey(m)},[m]);return u.jsxs(u.Fragment,{children:[u.jsx(ji,{children:u.jsx(ie,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:"dyn_passkey_intro.title",children:c("dyn_passkey_intro.title")})}),u.jsxs("div",{className:"passkey-intro-view",children:[u.jsx("div",{className:"passkey-intro-view__header",children:u.jsx(aqe,{})}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-intro-view__subtitle",copykey:"dyn_passkey_intro.subtitle",children:c("dyn_passkey_intro.subtitle")}),y&&u.jsx(Ao,{children:y}),u.jsx(SX,{choice:"passkey",variant:a?"noEmailSignup":"default"}),u.jsxs("div",{className:"passkey-intro-view__actions",children:[u.jsx(Qt,{buttonVariant:"brand-primary",buttonPadding:"large",onClick:()=>g(!0),dataTestId:"setup-passkey-button",loading:p&&l,disabled:p,typographyProps:{color:"inherit"},children:u.jsxs("div",{className:"passkey-intro-view__inline-button",children:[u.jsx(X3,{size:"small"}),u.jsx(ie,{copykey:"dyn_passkey_intro.button",children:c("dyn_passkey_intro.button")})]})}),u.jsx(Ma,{"data-testid":"setup-passkey-logout-button",className:"passkey-intro-view__log-out",onClick:i,copykey:"dyn_passkey_intro.button_logout",children:c("dyn_passkey_intro.button_logout")})]})]})]})};var YD,XD,QD,eL,Sqe=["title","titleId"];function g4(){return g4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g4.apply(this,arguments)}function Eqe(e,t){if(e==null)return{};var n=Cqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var EX=function(t){var n=t.title,r=t.titleId,i=Eqe(t,Sqe);return k.createElement("svg",g4({width:206,height:206,viewBox:"0 0 206 206",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,YD||(YD=k.createElement("circle",{cx:103,cy:103,r:103,fill:"url(#passkey-intro-icon_svg__a)",fillOpacity:.12})),XD||(XD=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101.59 42.066a6.37 6.37 0 0 1 1.822 0c.696.1 1.343.345 1.858.54l.138.051 17.072 6.402.416.156c1.967.734 3.695 1.38 5.025 2.551a9.553 9.553 0 0 1 2.612 3.77c.631 1.657.628 3.501.625 5.6v15.672c0 9-4.895 16.504-10.187 22.016-5.326 5.55-11.421 9.469-14.643 11.349l-.131.077c-.588.345-1.351.793-2.361 1.01a6.78 6.78 0 0 1-2.67 0c-1.01-.217-1.774-.665-2.362-1.01l-.13-.077c-3.223-1.88-9.317-5.799-14.644-11.349-5.291-5.512-10.186-13.015-10.186-22.016V61.137c-.003-2.1-.006-3.944.625-5.601a9.553 9.553 0 0 1 2.612-3.77c1.33-1.172 3.058-1.817 5.025-2.551l.416-.156 17.072-6.402.138-.052c.514-.194 1.162-.439 1.858-.54ZM94.382 69.11v-4.037a8.073 8.073 0 1 1 16.147 0v4.036a13.434 13.434 0 0 1 5.383 10.766c0 7.431-6.024 13.456-13.456 13.456C95.025 93.33 89 87.306 89 79.875c0-4.402 2.114-8.31 5.382-10.765Zm13.147-1.702v-2.335a5.073 5.073 0 1 0-10.147 0v2.336a13.414 13.414 0 0 1 5.074-.99c1.795 0 3.508.352 5.073.99ZM106 77.5a3.5 3.5 0 0 1-2 3.163V83.5a1.5 1.5 0 1 1-3 0v-2.837a3.5 3.5 0 1 1 5-3.163ZM126 22a4 4 0 0 1 4-4h45a4 4 0 0 1 4 4v10a4 4 0 0 1-4 4h-45a4 4 0 0 1-4-4V22Zm15 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm7 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm13-3a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm9 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm1 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",fill:"#4779FF"})),QD||(QD=k.createElement("g",{clipPath:"url(#passkey-intro-icon_svg__b)"},k.createElement("g",{clipPath:"url(#passkey-intro-icon_svg__c)"},k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M59.731 54.983a15.068 15.068 0 0 0 1.087-10.69C58.656 36.226 50.362 31.438 42.294 33.6c-8.069 2.162-12.857 10.455-10.695 18.524a15.068 15.068 0 0 0 6.288 8.715c1.864-4.039 6.77-6.622 9.948-7.473 3.179-.852 8.204-1.183 11.896 1.618Zm-19.98-8.96a5.672 5.672 0 1 1 10.957-2.935 5.672 5.672 0 0 1-10.957 2.936Z",fill:"#4779FF"})))),eL||(eL=k.createElement("defs",null,k.createElement("clipPath",{id:"passkey-intro-icon_svg__b"},k.createElement("path",{fill:"#fff",transform:"rotate(-15 151.778 -80.474)",d:"M0 0h33v33H0z"})),k.createElement("clipPath",{id:"passkey-intro-icon_svg__c"},k.createElement("rect",{x:27.684,y:37.513,width:30.25,height:30.25,rx:15.125,transform:"rotate(-15 27.684 37.513)",fill:"#fff"})),k.createElement("linearGradient",{id:"passkey-intro-icon_svg__a",x1:103,y1:0,x2:103,y2:105.711,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#4779FF"}),k.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))};const Iqe=({canSkipAddingEmail:e=!0,shouldInitRecovery:t=!1,authenticatorType:n,currentAction:r,isFromEmailVerification:i=!1})=>{const{user:o,setShowAuthFlow:s}=Te(),{t:a}=ut(),{addRecoveryEmail:c,initPasskeyRecoveryProcess:l}=Id(),[d,f]=k.useState(!1),[p,m]=k.useState(void 0);ch(()=>{Kt.once("embeddedWalletRecoveryEmailCompleted",()=>ae(void 0,void 0,void 0,function*(){if(f(!0),m(void 0),!t){setTimeout(()=>{s(!1,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1})},5e3);return}return l(n,r)})),Kt.once("embeddedWalletRecoveryEmailFailed",E=>ae(void 0,void 0,void 0,function*(){m(E)}))});const{mutate:g,isLoading:y}=ac(E=>ae(void 0,void 0,void 0,function*(){yield c(E)})),v=()=>{s(!1)},w=()=>{if(p)return p instanceof Ae?p.message:ey(p)},_=e&&u.jsx(Vr,{onClick:v,type:"button","data-testid":"add-recovery-email-close-button",children:u.jsx(vo,{})});return u.jsxs(u.Fragment,{children:[u.jsx(ji,{trailing:_,children:u.jsx(ie,{as:"h1",variant:"title",color:"primary","data-testid":"passkey-recovery-heading",className:"header__typography",copykey:"dyn_passkey_recovery.add_email.title",children:a("dyn_passkey_recovery.add_email.title")})}),u.jsxs("div",{className:"passkey-recovery-view",children:[u.jsx("div",{className:"passkey-recovery-view__header",children:u.jsx(EX,{})}),d&&u.jsx(Ao,{variant:"success",copykey:"dyn_passkey_recovery.add_email.success_message",children:a("dyn_passkey_recovery.add_email.success_message")}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-recovery-view__subtitle",copykey:"dyn_passkey_recovery.add_email.description",children:a("dyn_passkey_recovery.add_email.description")}),p!==void 0&&u.jsx(Ao,{children:w()}),u.jsx("div",{className:"passkey-recovery-view__form",children:u.jsx(ZY,{onSubmit:g,currentEmail:o==null?void 0:o.email,isLoading:(y||i)&&!p,buttonCopyKey:"dyn_passkey_recovery.add_email.confirm_button",isDisabled:i&&!p&&!d})})]})]})},Aqe=new RegExp(/^([A-Za-z0-9\s_+@\.-]+)$/),Tqe=({authenticatorType:e,currentAction:t})=>{const{primaryWallet:n,environmentId:r,user:i,setShowAuthFlow:o}=Te(),{isTurnkeyWalletWithoutAuthenticator:s}=Ns(),[a,c]=k.useState(""),[l,d]=k.useState(!1),[f,p]=k.useState(!1),{t:m}=ut(),{setView:g}=dn(),{mutate:y,isLoading:v,error:w}=ac(D=>ae(void 0,void 0,void 0,function*(){const K=Ou(n,(i==null?void 0:i.verifiedCredentials)||[]);yield m$e({bundleInput:D,user:i,wallet:K}),p(!0),e==="email"&&Kt.emit("passkeyRecoveryCompleted",n),setTimeout(()=>{if(e==="passkey")return g("passkey-recovery-complete");t!=="reveal"&&o(!1)},2e3)})),_=D=>!(!(D!=null&&D.length)||D.length<100||D.length>=256||!Aqe.test(D)),E=D=>{var K;const H=(K=D.target.value)===null||K===void 0?void 0:K.trim();c(H),_(H)&&y(H)},C=()=>ae(void 0,void 0,void 0,function*(){try{d(!0),yield g$e({authenticatorType:e,environmentId:r,user:i,wallet:n})}catch(D){Ne.error("Failed to complete passkey recovery",D)}finally{d(!1)}}),T=k.useMemo(()=>{if(w)return w instanceof Ae?w.message:ey(w)},[w]),A=u.jsx(un,{color:"brand-primary",children:u.jsx(yp,{})}),S=s?"dyn_passkey_secure_modal":"dyn_passkey_recovery",O=u.jsx(Vr,{type:"button",onClick:()=>{o(!1,{emitCancelAuth:!0}),Kt.emit("passkeyRecoveryFailed",new Ae("Validation request cancelled"))},"data-testid":"close-button",children:u.jsx(vo,{})});return u.jsxs(u.Fragment,{children:[u.jsx(ji,{trailing:O,children:u.jsx(ie,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:`${S}.code.title`,children:m(`${S}.code.title`)})}),u.jsxs("div",{className:"passkey-recovery-view",children:[!w&&!f?u.jsx(bo,{Icon:A,isSpinning:!w&&!f,iconSize:96}):u.jsx(Vp,{Icon:yp,iconSize:64,variant:w?"red":"green",InnerIcon:w?Bp:Td}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-recovery-view__subtitle",copykey:`${S}.code.description`,children:m(`${S}.code.description`,{email:i==null?void 0:i.email})}),u.jsx("div",{className:"passkey-recovery-view__actions",children:u.jsx(ea,{id:"passkey-recovery-bundle","data-testid":"passkey-recovery-bundle-input",value:a,onChange:E,label:m(`${S}.code.input_label`),disabled:v||l,error:!!w,className:f?"passkey-recovery-view__input-valid":"",autoFocus:!0,message:T})}),u.jsxs("div",{className:"passkey-recovery-view__resend-code",children:[u.jsx(ie,{color:"secondary",variant:"body_small",copykey:`${S}.code.resend.text`,children:m(`${S}.code.resend.text`)}),u.jsx(ie,{variant:"body_small",color:"link",copykey:`${S}.code.resend.button`,children:u.jsx(Ma,{"data-testid":"resend-email-button",onClick:C,disabled:l||v||a.length>0&&!w,children:m(`${S}.code.resend.button`)})})]})]})]})},Q3=({isRecoveryFlow:e=!1})=>{var t,n,r,i,o,s;const{projectSettings:a}=Te(),{t:c}=ut(),{initPasskeyRecoveryProcess:l}=Id(),d=(t=a==null?void 0:a.general)===null||t===void 0?void 0:t.supportEmail,f=((n=a==null?void 0:a.general)===null||n===void 0?void 0:n.supportUrls)&&((r=Object.values(a==null?void 0:a.general.supportUrls))===null||r===void 0?void 0:r[0]),p=!e&&((i=a==null?void 0:a.providers)===null||i===void 0?void 0:i.find(v=>v.provider===br.Turnkey&&v.enabledAt))&&!!(!((s=(o=a==null?void 0:a.sdk)===null||o===void 0?void 0:o.embeddedWallets)===null||s===void 0)&&s.emailRecoveryEnabled),m=!!(d||f),g=()=>m?u.jsxs("div",{className:"need-help-section__links",children:[f&&u.jsx(ie,{variant:"body_small",color:"link",copykey:"dyn_need_help_section.contact_support",children:u.jsx("a",{href:f,rel:"noreferrer",target:"_blank",children:c("dyn_need_help_section.contact_support")})}),d&&u.jsx(ie,{variant:"body_small",color:"link",children:u.jsx("a",{href:`mailto:${d}`,children:d})})]}):null,y=()=>{if(!p)return null;const v=c("dyn_need_help_section.help_button"),w=m?v:v.slice(0,1).toUpperCase()+v.slice(1);return u.jsxs(u.Fragment,{children:[m&&u.jsx(ie,{color:"secondary",variant:"body_small",copykey:"dyn_need_help_section.divider",children:c("dyn_need_help_section.divider")}),u.jsx(Ma,{copykey:"dyn_need_help_section.help_button",className:We("need-help-section__helper-link"),onClick:()=>l(void 0,"helpSession"),children:w})]})};return!m&&!p?null:u.jsxs("div",{className:"need-help-section",children:[u.jsx(ie,{color:"secondary",variant:"body_small",copykey:"dyn_need_help_section.info",children:c("dyn_need_help_section.info")}),g(),y()]})},Rqe=()=>{const{primaryWallet:e,environmentId:t,user:n,setShowAuthFlow:r,setPasskeySuccessPopup:i}=Te(),{isTurnkeyWalletWithoutAuthenticator:o}=Ns(),{t:s}=ut(),{mutate:a,isLoading:c,error:l}=ac(()=>ae(void 0,void 0,void 0,function*(){const p=Ou(e,(n==null?void 0:n.verifiedCredentials)||[]);if(!(yield y$e({environmentId:t,user:n,wallet:p})))throw new Ae("Error completing passkey recovery");Kt.emit("passkeyRecoveryCompleted",e),r(!1),i(h0.CREATED)}),{onFailure:p=>{Ne.error("Failed to init passkey recovery",p),Kt.emit("passkeyRecoveryFailed",p)}}),d=k.useMemo(()=>{if(l)return l instanceof Ae?l.message:ey(l)},[l]),f=o?"dyn_passkey_secure_modal":"dyn_passkey_recovery";return u.jsxs("div",{className:"passkey-recovery-view",children:[u.jsx("div",{className:"passkey-recovery-view__header",children:u.jsx(EX,{})}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-recovery-view__subtitle",children:s(`${f}.complete.description`)}),d&&u.jsx(Ao,{children:d}),u.jsx("div",{className:"passkey-recovery-view__actions",children:u.jsx(Qt,{buttonVariant:"brand-primary",buttonPadding:"large",dataTestId:"passkey-recovery-complete-button",onClick:()=>a(),disabled:c,showInternalLoading:!1,typographyProps:{color:"inherit"},children:u.jsxs("div",{className:"passkey-recovery-view__inline-button",children:[u.jsx(X3,{size:"small"}),u.jsx(ie,{children:s(`${f}.complete.complete_button`)})]})})}),u.jsx(Q3,{isRecoveryFlow:!0})]})},Pqe=({authenticatorType:e})=>{const{setShowAuthFlow:t}=Te(),{isTurnkeyWalletWithoutAuthenticator:n}=Ns(),{initAuthMethod:r,isLoading:i,error:o}=sR(),{createRootElement:s}=qp(),a=s(iR),{t:c}=ut(),l=k.useMemo(()=>{if(o)return o instanceof Ae?o.message:"Something went wrong."},[o]),d=u.jsx(un,{color:"brand-primary",children:u.jsx(Z3,{})}),f=n?"dyn_passkey_secure_modal":"dyn_passkey_recovery",p=u.jsx(Vr,{type:"button",onClick:()=>t(!1,{emitCancelAuth:!0}),"data-testid":"close-button",children:u.jsx(vo,{})});return u.jsxs(u.Fragment,{children:[u.jsx(ji,{trailing:p,children:u.jsx(ie,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",children:c(`${f}.start.title`)})}),u.jsxs("div",{className:"passkey-recovery-view",children:[u.jsx(bo,{Icon:d,isSpinning:i,iconSize:96}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-recovery-view__subtitle",children:c(`${f}.start.description`)}),l&&u.jsx(Ao,{children:l}),u.jsx("div",{className:"passkey-recovery-view__actions",children:u.jsx(Qt,{buttonPadding:"large",dataTestId:"passkey-recovery-button",onClick:()=>r({authenticatorType:e,iframeContainer:a.current}),disabled:i,showInternalLoading:!1,children:u.jsx("div",{children:u.jsx(ie,{children:c(`${f}.start.start_button`)})})})}),u.jsx(Q3,{isRecoveryFlow:!0})]})]})},Oqe=()=>{var e;const{passkey:t,setPasskey:n,passkeyIcon:r,passkeyEdited:i,setPasskeyEdited:o}=ah(),{t:s}=ut(),{environmentId:a,setShowAuthFlow:c,setPasskeySuccessPopup:l}=Te(),[d,f]=k.useState(!1),p=y=>ae(void 0,void 0,void 0,function*(){if(y&&(t!=null&&t.id)){const v=yield tBe({alias:y.trim(),environmentId:a,id:t.id});v?(n(v),o(!i),c(!1),l(h0.EDITED)):f(!0)}else f(!0)}),m=u.jsx(Vr,{type:"button",onClick:()=>{c(!1)},"data-testid":"back-button",children:u.jsx(nc,{})}),g=u.jsx(Vr,{onClick:()=>c(!1),type:"button",id:"close-button","data-testid":"close-button",children:u.jsx(vo,{})});return t?u.jsxs("div",{className:"edit-passkeys-widget-view",children:[u.jsx(ji,{leading:m,trailing:g}),u.jsx("div",{className:"edit-passkeys-widget-view__icon",children:r}),u.jsx(ie,{as:"h1",variant:"title",color:"primary",className:"edit-passkeys-widget-view__title",copykey:"dyn_rename_passkeys.title",children:s("dyn_rename_passkeys.title")}),u.jsx(P3,{initialValues:{alias:(e=t.alias)!==null&&e!==void 0?e:""},onSubmit:y=>{p(y.alias)},children:({values:y})=>u.jsxs(O1,{className:"edit-passkeys-widget-view__body",children:[u.jsx(qf,{"data-testid":"input-field",name:"alias",type:"text",label:s("dyn_rename_passkeys.input_label"),copykey:"dyn_rename_passkeys.input_label",className:"edit-passkeys-widget-view__input",as:ea,error:d,maxLength:32}),u.jsx(Qt,{type:"submit",className:"edit-passkeys-widget-view__body",buttonPadding:"large",disabled:!y.alias,copykey:"dyn_rename_passkeys.save",children:s("dyn_rename_passkeys.save")}),d&&u.jsx(ie,{as:"h1",variant:"body_small",color:"error-1",copykey:"dyn_rename_passkeys.error",children:s("dyn_rename_passkeys.error")})]})})]}):u.jsx(ie,{as:"h1",variant:"title",color:"primary",className:"edit-passkeys-widget-view__title",children:s("dyn_rename_passkeys.not_found")})};var tL,nL,Nqe=["title","titleId"];function y4(){return y4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y4.apply(this,arguments)}function jqe(e,t){if(e==null)return{};var n=Bqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var $qe=function(t){var n=t.title,r=t.titleId,i=jqe(t,Nqe);return k.createElement("svg",y4({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,tL||(tL=k.createElement("g",{clipPath:"url(#multiple-account-security_svg__a)"},k.createElement("circle",{cx:164,cy:114,r:114,fill:"url(#multiple-account-security_svg__b)",fillOpacity:.12}),k.createElement("g",{clipPath:"url(#multiple-account-security_svg__c)"},k.createElement("g",{clipPath:"url(#multiple-account-security_svg__d)"},k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M118.709 55.166a14.617 14.617 0 0 0 1.054-10.366c-2.097-7.824-10.139-12.467-17.963-10.371-7.824 2.096-12.468 10.139-10.371 17.963a14.612 14.612 0 0 0 6.097 8.451c1.808-3.916 6.565-6.42 9.647-7.247 3.083-.826 7.955-1.146 11.536 1.57Zm-19.375-8.688a5.5 5.5 0 1 1 10.625-2.848 5.5 5.5 0 0 1-10.625 2.848Z",fill:"#4779FF"}))),k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.269 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.844 9.844 0 0 0-3.409-1.665 9.847 9.847 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.313.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.336 9.336 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm7.008 18.695c0-1.726-1.4-3.126-3.127-3.126h-14.069a6.253 6.253 0 0 0-6.153 5.133 6.234 6.234 0 0 1 4.589-2.007h18.76Zm1.562 3.127c3.454 0 6.253 2.8 6.253 6.253v12.506a6.253 6.253 0 0 1-6.253 6.254h-18.759a6.253 6.253 0 0 1-6.253-6.254V60.14a6.253 6.253 0 0 1 6.253-6.253h18.759Z",fill:"#4779FF"}))),nL||(nL=k.createElement("defs",null,k.createElement("clipPath",{id:"multiple-account-security_svg__a"},k.createElement("rect",{width:327,height:112,rx:12,fill:"#fff"})),k.createElement("clipPath",{id:"multiple-account-security_svg__c"},k.createElement("path",{fill:"#fff",transform:"rotate(-15 184.593 -307.976)",d:"M0 0h32v32H0z"})),k.createElement("clipPath",{id:"multiple-account-security_svg__d"},k.createElement("rect",{x:87.633,y:38.225,width:29.333,height:29.333,rx:14.667,transform:"rotate(-15 87.633 38.225)",fill:"#fff"})),k.createElement("linearGradient",{id:"multiple-account-security_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#4779FF"}),k.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))},rL,iL,Mqe=["title","titleId"];function v4(){return v4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v4.apply(this,arguments)}function Dqe(e,t){if(e==null)return{};var n=Lqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Uqe=function(t){var n=t.title,r=t.titleId,i=Dqe(t,Mqe);return k.createElement("svg",v4({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,rL||(rL=k.createElement("g",{clipPath:"url(#passkey-account-security_svg__a)"},k.createElement("circle",{cx:164,cy:114,r:114,fill:"url(#passkey-account-security_svg__b)",fillOpacity:.12}),k.createElement("g",{clipPath:"url(#passkey-account-security_svg__c)",fill:"#4779FF"},k.createElement("path",{d:"M106.009 34.681a2.666 2.666 0 0 1 3.266 1.886l-15.454 4.141a5.319 5.319 0 0 0-3.339 2.666 5.335 5.335 0 0 1 3.936-5.587l11.591-3.105ZM117.785 42.57a5.333 5.333 0 0 0-6.532-3.772l-15.455 4.141a5.333 5.333 0 0 0-3.771 6.532l2.76 10.303a5.334 5.334 0 0 0 6.533 3.771l15.454-4.14a5.333 5.333 0 0 0 3.772-6.533l-2.761-10.303Z"})),k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.268 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.846 9.846 0 0 0-3.409-1.665 9.849 9.849 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.313.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.336 9.336 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm-1.34 14.592a15.89 15.89 0 0 0-7.978 2.135 1.772 1.772 0 1 0 1.776 3.069 12.34 12.34 0 0 1 6.202-1.66c6.853 0 12.408 5.556 12.408 12.409a44.34 44.34 0 0 1-1.688 12.156 1.772 1.772 0 1 0 3.41.97 47.883 47.883 0 0 0 1.823-13.126c0-8.81-7.142-15.953-15.953-15.953Zm-10.749 9.75a1.772 1.772 0 1 0-3.068-1.775 15.882 15.882 0 0 0-2.136 7.978c0 2.499-.573 4.86-1.594 6.96a1.772 1.772 0 1 0 3.189 1.55 19.43 19.43 0 0 0 1.95-8.51c0-2.263.605-4.38 1.659-6.203Zm10.749-2.66a8.863 8.863 0 0 0-8.863 8.863c0 4.516-1.29 8.704-3.518 12.246l1.5.944-1.5-.944a8.75 8.75 0 0 0-.12.196 1.773 1.773 0 1 0 3.048 1.81c.023-.04.048-.079.072-.118a26.434 26.434 0 0 0 4.063-14.134 5.318 5.318 0 0 1 10.636 0c0 1.722-.118 3.417-.344 5.077a1.772 1.772 0 1 0 3.512.48 41.12 41.12 0 0 0 .377-5.557 8.863 8.863 0 0 0-8.863-8.863Zm1.772 8.863a1.772 1.772 0 1 0-3.545 0c0 5.89-1.688 11.381-4.607 16.021a1.773 1.773 0 0 0 3.001 1.888 33.528 33.528 0 0 0 5.151-17.91Zm5.554 11.117a1.773 1.773 0 0 0-3.411-.965 37.01 37.01 0 0 1-2.523 6.502 1.771 1.771 0 1 0 3.169 1.588 40.517 40.517 0 0 0 2.765-7.124Z",fill:"#4779FF"}))),iL||(iL=k.createElement("defs",null,k.createElement("clipPath",{id:"passkey-account-security_svg__a"},k.createElement("rect",{width:327,height:112,rx:12,fill:"#fff"})),k.createElement("clipPath",{id:"passkey-account-security_svg__c"},k.createElement("path",{fill:"#fff",transform:"rotate(-15 184.593 -307.976)",d:"M0 0h32v32H0z"})),k.createElement("linearGradient",{id:"passkey-account-security_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},k.createElement("stop",{stopColor:"#4779FF"}),k.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))};const Fqe=({titleKey:e,descriptionKey:t,description:n,LeadingIcon:r,action:i,badgeVariant:o,badgeKey:s,isLoading:a,dataTestId:c})=>{const{t:l}=ut();return u.jsxs("button",{className:"action-card",onClick:i,"data-testid":c,children:[u.jsx(un,{className:"action-card__icon",children:r}),u.jsxs("div",{className:"action-card__content",children:[u.jsxs("div",{className:"action-card__content__row",children:[u.jsx(ie,{variant:"body_normal",weight:"medium",copykey:e,children:l(e)}),u.jsx(hd,{text:l(s),className:We("action-card__content__row__badge",{"action-card__content__row__badge--primary":o==="primary"},{"action-card__content__row__badge--secondary":o==="secondary"}),copykey:s})]}),u.jsx(ie,{variant:"body_small",color:"secondary",copykey:t,children:n})]}),u.jsx(un,{color:"text-tertiary",className:"action-card__action-icon",children:a?u.jsx(Kf,{}):u.jsx(nc,{})})]})},CX=({currentAction:e,supportedAuthenticators:t})=>{var n,r;const[i,o]=k.useState(),{projectSettings:s}=Te(),{t:a}=ut(),{initAuthMethod:c,isLoading:l}=sR(),{createRootElement:d}=qp(),f=d(iR),p={email:{badgeKey:"dyn_embedded_authenticator.email.badge",description:a("dyn_embedded_authenticator.email.description",{expiration:(r=(n=s==null?void 0:s.sdk.embeddedWallets)===null||n===void 0?void 0:n.sessionKeyDuration)===null||r===void 0?void 0:r.amount}),descriptionKey:"dyn_embedded_authenticator.email.description",icon:u.jsx(un,{color:"text-tertiary",size:"small",children:u.jsx(OY,{})},"one-time-code-icon"),titleKey:"dyn_embedded_authenticator.email.title"},passkey:{badgeKey:"dyn_embedded_authenticator.passkey.badge",description:a("dyn_embedded_authenticator.passkey.description"),descriptionKey:"dyn_embedded_authenticator.passkey.description",icon:u.jsx(X3,{defaultIcon:u.jsx($R,{"data-testid":"default-icon"})}),titleKey:e==="reveal"?"dyn_embedded_authenticator.passkey.reveal_title":"dyn_embedded_authenticator.passkey.title"}},m=g=>()=>ae(void 0,void 0,void 0,function*(){o(g),yield c({authenticatorType:g,currentAction:e,iframeContainer:f.current})});return u.jsx("div",{className:"embedded-auth-choice-cards",children:t&&t.map(g=>u.jsx(Fqe,{LeadingIcon:p[g].icon,action:m(g),badgeKey:p[g].badgeKey,badgeVariant:g==="passkey"?"primary":"secondary",descriptionKey:p[g].descriptionKey,description:p[g].description,titleKey:p[g].titleKey,isLoading:l&&g===i,dataTestId:`embedded-auth-choice__item-${g}`},g))})},Wqe={helpSession:{description:"dyn_embedded_authenticator.need_help_description",title:"dyn_embedded_authenticator.need_help_title"},reveal:{description:"dyn_embedded_authenticator.reveal_description",title:"dyn_embedded_authenticator.reveal_title"},sendTransaction:{description:"dyn_embedded_authenticator.description",title:"dyn_embedded_authenticator.title"},signMessage:{description:"dyn_embedded_authenticator.description",title:"dyn_embedded_authenticator.title"}},zqe=({currentAction:e})=>{const{t}=ut(),{primaryWallet:n,projectSettings:r,setShowAuthFlow:i}=Te(),{initPasskeyRecoveryProcess:o}=Id(),{isTurnkeyWallet:s}=Ns(),a=k.useMemo(()=>{var m;const g=nR((m=r==null?void 0:r.sdk.embeddedWallets)===null||m===void 0?void 0:m.supportedSecurityMethods),y=Object.keys(g);return!e||!["helpSession","reveal"].includes(e)?y.filter(v=>v!=="email"):y},[r==null?void 0:r.sdk.embeddedWallets]),c=()=>!n||!s?!1:n.connector.getAuthenticatorHandler().isSessionActive(),l=()=>a.length>1?u.jsx($qe,{}):u.jsx(Uqe,{}),d=c()?"dyn_embedded_authenticator.passkey.auth_info.start_button":"dyn_embedded_authenticator.passkey.auth_info.add_button",{title:f,description:p}=Wqe[e||"signMessage"];return a!=null&&a.length?u.jsxs(u.Fragment,{children:[u.jsx(ji,{children:u.jsx(ie,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:f,children:t(f)})}),u.jsxs("div",{className:"embedded-auth-choice",children:[u.jsx("div",{className:"embedded-auth-choice__header",children:l()}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",className:"embedded-auth-choice__subtitle",copykey:p,children:t(p)}),a.length>1?u.jsx(CX,{currentAction:e,supportedAuthenticators:a}):u.jsxs(u.Fragment,{children:[u.jsx(SX,{choice:"passkey"}),u.jsx(Qt,{dataTestId:"passkey-only-choice-button",buttonVariant:"brand-primary",color:"brand-primary",expanded:!0,onClick:()=>o("passkey"),copykey:d,typographyProps:{color:"inherit"},children:t(d)})]}),e!=="reveal"&&u.jsx(Qt,{buttonVariant:"primary",buttonClassName:"embedded-auth-choice__skip-button",expanded:!0,onClick:()=>i(!1),copykey:"dyn_embedded_authenticator.skip",children:t("dyn_embedded_authenticator.skip")})]})]}):null},oL=()=>{const[e,t]=k.useState(!1),{selectedWalletConnector:n}=Te(),{signAlreadyConnectedUser:r}=CR(),{t:i}=ut(),o=96,s=BY(n);if(!n)return null;const a=()=>ae(void 0,void 0,void 0,function*(){try{t(!0),yield r({walletConnector:n})}catch(d){Ne.error(d)}finally{t(!1)}}),c=u.jsx(bi,{walletKey:n.key,style:{height:En(o*Ol),width:En(o*Ol)}}),l=i(s?"dyn_pending_signature.phantom_ledger_sign":"dyn_pending_signature.regular_sign_description");return u.jsxs("div",{className:"pending-signature__container","data-testid":"pending-signature-view",children:[u.jsx(bo,{Icon:c,iconSize:o,isSpinning:!0,indicator:"connected",className:"pending-signature__icon-with-spinner"}),u.jsx(ie,{variant:"body_normal",weight:"regular",className:We("pending-signature__copy"),copykey:s?"dyn_pending_signature.phantom_ledger_sign":"dyn_pending_signature.regular_sign_description",children:l}),s&&u.jsxs(ie,{variant:"body_small",weight:"regular",className:We("pending-signature__copy","pending-signature__copy--mini"),copykey:"dyn_pending_signature.phantom_ledger_warning",children:[u.jsx("strong",{children:i("dyn_pending_signature.note")}),i("dyn_pending_signature.phantom_ledger_warning")]}),ER(n)&&u.jsx(Qt,{buttonClassName:"pending-signature__button",onClick:a,loading:e,buttonVariant:"primary",buttonPadding:"large",expanded:!0,typographyProps:{variant:"button_primary",weight:"medium"},copykey:"dyn_pending_signature.click_to_sign",children:i("dyn_pending_signature.click_to_sign")})]})},qqe=()=>{var e;const{theme:{theme:t}}=Lu(),{name:n}=t,{qrcodeUri:r,desktopUri:i,selectedWalletConnector:o}=Te(),{walletBook:s}=$a();if(!o)return null;const a=u.jsx(bi,{walletKey:o.key,style:{height:En(32),width:En(32)}});return u.jsx(mX,{uri:r,desktopUri:i,accentColor:n==="dark"?t.colors.textPrimary:(e=jH(s,o.key))!==null&&e!==void 0?e:"",icon:a,showCopyToClipboardButton:o.isWalletConnect,walletConnector:o})},Vqe=()=>{const{selectedWalletConnector:e}=Te(),{t}=ut(),n=94,r=u.jsx(bi,{walletKey:e==null?void 0:e.key,style:{height:En(n*Ol),width:En(n*Ol)}});return u.jsxs("div",{className:"pending-connect__container",children:[u.jsx(bo,{Icon:r,iconSize:n,isSpinning:!0,className:"pending-connect__icon-with-spinner"}),u.jsx(ie,{variant:"body_normal",weight:"regular",className:"pending-connect__copy-text",copykey:di()?"dyn_pending_connection.mobile":"dyn_pending_connection.computer",children:di()?t("dyn_pending_connection.mobile"):t("dyn_pending_connection.computer")})]})},Hqe=e=>{var{icon:t,variant:n="primary",className:r}=e,i=na(e,["icon","variant","className"]);return u.jsxs("label",{className:We("toggle",r),children:[u.jsx("input",Object.assign({type:"checkbox",className:"toggle--input"},i)),u.jsx("div",{className:We("toggle--content",`toggle--content__variant-${n}`),children:u.jsx("div",{className:"toggle--knob",children:t})})]})},MR=({connectors:e,label:t,copykey:n})=>{const r=u.jsx(Hqe,{defaultChecked:e.some(i=>i.isHardwareWalletEnabled),onChange:i=>{e.forEach(o=>{o.isHardwareWalletEnabled=i.target.checked})},"data-testid":"hardware-wallet-toggle",icon:u.jsx(un,{size:"small",children:u.jsx(Td,{})})});return u.jsx(Y0,{trailing:r,children:u.jsx("span",{copykey:n,children:t})})},Kqe=({wallet:e,onSelectWallet:t})=>{const{t:n}=ut();return u.jsx("div",{className:"select-hardware-wallet-view",children:u.jsxs("div",{className:"select-hardware-wallet-view__container",children:[u.jsx(un,{className:"select-hardware-wallet-view__icon",children:u.jsx(bi,{walletKey:e.key})}),u.jsx(ie,{className:"select-hardware-wallet-view__text",as:"p",color:"secondary",variant:"body_normal",copykey:"dyn_select_hardware_wallet.description",children:n("dyn_select_hardware_wallet.description")}),x1(e.walletConnector)&&u.jsxs(u.Fragment,{children:[u.jsx(MR,{connectors:[e.walletConnector],copykey:"dyn_select_chain.using_hardware_wallet_toggle_label",label:n("dyn_select_chain.using_hardware_wallet_toggle_label")}),u.jsx(Ul,{})]}),u.jsx(Qt,{buttonVariant:"primary",onClick:()=>t==null?void 0:t(e),copykey:"dyn_select_hardware_wallet.button",dataTestId:"select-hardware-wallet-connect-button",children:n("dyn_select_hardware_wallet.button")})]})})},IX=({icon:e,title:t,titleCopyKey:n,children:r})=>u.jsxs("div",{className:"wallet-group-view-layout__container",children:[u.jsx(bo,{className:"wallet-group-view-layout__icon",Icon:e,iconSize:96}),u.jsxs("div",{className:"wallet-group-view-layout__body",children:[u.jsx(ie,{className:"wallet-group-view-layout__title",as:"p",color:"secondary",variant:"body_normal",copykey:n,children:t}),u.jsx("div",{className:"wallet-group-view-layout__list",children:r})]})]}),Gqe=({groupKey:e,wallet:t,onClick:n})=>{const{recommendedWallets:r}=Te(),{walletBook:i}=$a(),o=$H(i,e,t.key),s=zo(i,t.key),a=(o==null?void 0:o.brand)||(s==null?void 0:s.brand),c=(o==null?void 0:o.name)||(s==null?void 0:s.name),l=a?u.jsx(cK,{brand:a,walletKey:t.key,style:{height:En(28),width:En(28)}}):null,d=xR({recommendedWallets:r,wallet:t}),f=u.jsx(IR,{hoverElement:u.jsx(un,{color:"text-tertiary",size:"mini",children:u.jsx(f0,{})}),children:d&&u.jsx(hd,{dot:!d.isRecommended,variant:d.isRecommended?"primary":"secondary",text:u.jsx(ie,{variant:"body_small",children:d.label})})});return u.jsx(Y0,{onClick:n,leading:l,trailing:f,children:c})},Zqe=()=>{const{selectedWalletGroup:e}=KT(),{walletBook:t}=$a(),{handleWalletItemClick:n}=J0(),{t:r}=ut();if(!e)throw new Error("Could not access WalletGroup view without selected group");const i=g1(t,e==null?void 0:e.key);return u.jsx(IX,{icon:u.jsx(bi,{walletKey:i.key}),title:r("dyn_select_wallet.description",{walletName:i.name}),titleCopyKey:"dyn_select_wallet.description",children:e.groupedWallets.map((o,s)=>u.jsx(Gqe,{groupKey:e.key,wallet:o,onClick:()=>n(o)},`${o.key}_${s}`))})};var sL,Jqe=["title","titleId"];function b4(){return b4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b4.apply(this,arguments)}function Yqe(e,t){if(e==null)return{};var n=Xqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Qqe=function(t){var n=t.title,r=t.titleId,i=Yqe(t,Jqe);return k.createElement("svg",b4({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,sL||(sL=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 64c17.673 0 32-14.327 32-32C64 14.327 49.673 0 32 0 14.327 0 0 14.327 0 32c0 17.673 14.327 32 32 32Zm-7.91-50h14.892a4.092 4.092 0 0 1 4.09 4.09v27.82a4.092 4.092 0 0 1-4.09 4.09H24.09A4.092 4.092 0 0 1 20 45.91V18.09A4.092 4.092 0 0 1 24.09 14Zm4.992 31.91a2.451 2.451 0 0 0 2.454 2.454 2.451 2.451 0 0 0 2.455-2.455 2.451 2.451 0 0 0-2.455-2.454 2.451 2.451 0 0 0-2.454 2.454Zm-5.81-4.092H39.8V18.91H23.273v22.91Z",fill:"#4779FF"})))};const eVe=e=>u.jsx(un,{color:"brand-primary",children:u.jsx(Qqe,Object.assign({},e,{"data-testid":"sign-in-with-sms-icon"}))}),tVe=e=>{const{verificationUUID:t,displayedDestination:n,retryData:r}=Ll(),{environmentId:i,user:o,userWithMissingInfo:s}=Te(),[a,c]=k.useState(),{verifyOtp:l}=tX(),{initAuth:d,completeAuth:f,cancelAuth:p}=Hp({authMethod:"sms"}),m=k.useRef(!1);dX(()=>{const E=r??{dialCode:"",iso2:"",phone:""};r||Ne.warn("WARNING: emitted smsVerificationResult with incomplete params because retryData was undefined"),Kt.emit("smsVerificationResult",m.current,E),m.current||Kt.emit("authFailure",{option:E,phone:E,type:"sms"},"user-cancelled")});const g=()=>ae(void 0,void 0,void 0,function*(){if(c(void 0),!t||!r){yield p();return}YFe({environmentId:i,isoCountryCode:r.iso2,phoneCountryCode:r.dialCode,phoneNumber:E1({dialCode:r.dialCode,phone:r.phone}),verificationUUID:t})}),y=k.useCallback(E=>ae(void 0,void 0,void 0,function*(){if(!t||!o&&!s){yield p();return}yield f({onValidUpdatedJwt:()=>m.current=!0,updateJwtFunction:()=>ae(void 0,void 0,void 0,function*(){return l(E,"sms",t)})})}),[p,f,o,s,t,l]),v=k.useCallback(E=>ae(void 0,void 0,void 0,function*(){if(!t){yield p();return}yield d({onError:C=>c(C),onVerifySuccess:()=>{m.current=!0},options:{phone:r},showSuccessMessage:!0,verifyFunction:()=>QY({environmentId:i,verificationToken:E,verificationUUID:t})})}),[t,d,r,p,i]),{isLoading:w,mutate:_}=ac(e==="login"?v:y,{onFailure:E=>{c(E)}});return{error:a,formattedPhone:n??"",isLoading:w,isValid:m.current,onSubmit:_,retryOneTimePassword:g,setError:c}},aL=()=>{const{view:e}=dn(),{handleLogOut:t}=Te(),{t:n}=ut(),r=e.type==="login-with-sms-verification",{error:i,formattedPhone:o,isLoading:s,isValid:a,onSubmit:c,retryOneTimePassword:l,setError:d}=tVe(r?"login":"verify-only"),f=r?void 0:u.jsx(Ma,{className:"sms-verification__log-out",onClick:t,copykey:"dyn_otp_verification.log_out_button",children:n("dyn_otp_verification.log_out_button")});return u.jsx(J3,{MainIcon:eVe,displayedDestination:o,error:i,hideHeader:!0,isLoading:s,onPinComplete:c,isValid:a,retryHandler:l,onPinChange:()=>d(void 0),appendToEnd:f})},nVe=()=>{const{socialProvider:e,signInProvider:t}=Fu(),n=F3(),{t:r}=ut();return u.jsxs("div",{className:We("social-redirect-view__container"),children:[e&&u.jsx(bo,{iconSize:64,Icon:n(e),isSpinning:!0}),u.jsx(ie,{weight:"medium",variant:"title",className:We("social-redirect-view__title"),copykey:"dyn_social_redirect.logging_in",children:r("dyn_social_redirect.logging_in")}),t!==xb.MagicLink&&u.jsx(Ad,{classNameRoot:"powered-by-dynamic"})]})},rVe=()=>{const[e,t]=k.useState(!1),{socialWalletConnector:n,socialAccount:r}=Fu(),{t:i}=ut(),o=F3();return!r||!n?null:u.jsxs("div",{className:We("social-wrong-account-view__container"),children:[u.jsx(bo,{Icon:o(r.oauthProvider),isSpinning:e,iconSize:64}),u.jsx(ie,{weight:"medium",variant:"title",className:We("social-wrong-account-view__title"),copykey:"dyn_login.wrong_social_account.title",children:i("dyn_login.wrong_social_account.title")}),u.jsx(ie,{variant:"body_normal",weight:"regular",className:We("social-wrong-account-view__copy"),copykey:"dyn_login.wrong_social_account.subtitle",children:i("dyn_login.wrong_social_account.subtitle")}),u.jsxs(ie,{variant:"body_normal",weight:"regular",className:We("social-wrong-account-view__copy"),copykey:"dyn_login.wrong_social_account.retry_title",children:[i("dyn_login.wrong_social_account.retry_title"),u.jsx("b",{children:r.oauthUsername})]}),u.jsx(Qt,{buttonClassName:"social-wrong-account-view__button",buttonVariant:"primary",buttonPadding:"large",expanded:!0,typographyProps:{variant:"button_primary",weight:"medium"},disabled:e,onClick:()=>{t(!0),n.connect(r.oauthProvider)},copykey:"dyn_login.wrong_social_account.retry_button",children:i("dyn_login.wrong_social_account.retry_button")})]})},iVe=()=>{const{goToInitialView:e}=dn(),{selectedWalletConnector:t}=Te(),{t:n}=ut(),{data:r}=Ki(()=>ae(void 0,void 0,void 0,function*(){const i=yield t==null?void 0:t.getConnectedAccounts();return Gi(i==null?void 0:i[0])}),{deps:[t]});return u.jsxs("div",{className:"wallet-cannot-be-transferred-view__container",children:[u.jsx(ie,{className:"wallet-cannot-be-transferred-view__title",as:"h6",variant:"title",color:"primary",weight:"medium",copykey:"dyn_wallet_link.cannot_link.title",children:n("dyn_wallet_link.cannot_link.title")}),u.jsx("div",{className:"wallet-cannot-be-transferred-view__icon",children:u.jsx(bi,{walletKey:t==null?void 0:t.key,width:64,height:64})}),u.jsx(ie,{className:"wallet-cannot-be-transferred-view__shorten-wallet-address",variant:"body_normal",weight:"regular",color:"primary",children:r}),u.jsx(ie,{className:"wallet-cannot-be-transferred-view__copy",variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_wallet_link.cannot_link.description",children:n("dyn_wallet_link.cannot_link.description")}),u.jsx(Qt,{buttonClassName:"wallet-cannot-be-transferred-view__transfer-alt-wallet-button",buttonVariant:"primary",expanded:!0,buttonPadding:"large",onClick:e,dataTestId:"wallet-cannot-be-transferred-view-transfer-alt-wallet",copykey:"dyn_wallet_link.cannot_link.link_other_button",children:n("dyn_wallet_link.cannot_link.link_other_button")}),u.jsx(Qt,{dataTestId:"wallet-cannot-be-transferred-view-cancel",buttonPadding:"small",buttonClassName:"wallet-cannot-be-transferred-view__cancel",onClick:e,copykey:"dyn_wallet_link.cannot_link.cancel_button",children:n("dyn_wallet_link.cannot_link.cancel_button")})]})},oVe=({wallet:e,onClick:t})=>{const[n]=e.walletConnector.supportedChains,{walletBook:r}=$a(),i=Al(n),o=e.group?$H(r,e.group,e.key):void 0,s=xR({wallet:e}),a=u.jsx(IR,{hoverElement:u.jsx(un,{color:"text-tertiary",size:"mini",children:u.jsx(f0,{})}),children:s&&u.jsx(hd,{dot:!s.isRecommended,variant:s.isRecommended?"primary":"secondary",text:u.jsx(ie,{variant:"body_small",children:s.label})})}),c=k.useMemo(()=>{const d={height:En(28),width:En(28)};if(o!=null&&o.brand)return u.jsx(cK,{brand:o.brand,walletKey:e.key,style:d});const f=Cd(n);return u.jsx(f,{style:d})},[n,e.key,o]),l=(o==null?void 0:o.name)||(i==null?void 0:i.displayName)||e.name;return u.jsx(Y0,{className:"chain-card",onClick:t,leading:c,trailing:a,children:l},e.key)},sVe=()=>{const{selectedWalletGroup:e}=KT(),{walletBook:t}=$a(),{handleWalletItemClick:n}=J0(),{t:r}=ut();if(!e)throw new Error("Could not access WalletGroup view without selected group");const i=g1(t,e==null?void 0:e.key),o=e.groupedWallets.map(({walletConnector:s})=>s).filter(x1).filter(s=>s.canConnectWithHardwareWallet());return u.jsx(IX,{icon:u.jsx(bi,{walletKey:i.key}),title:r("dyn_select_chain.description"),titleCopyKey:"dyn_select_chain.description",children:u.jsxs("div",{className:"wallet-group__list",children:[!!o.length&&u.jsxs(u.Fragment,{children:[u.jsx(MR,{connectors:o,copykey:"dyn_select_chain.using_hardware_wallet_toggle_label",label:r("dyn_select_chain.using_hardware_wallet_toggle_label")}),u.jsx(Ul,{})]}),u.jsx("div",{className:"wallet-group-view-layout__list",children:e.groupedWallets.map((s,a)=>u.jsx(oVe,{wallet:s,onClick:()=>n(s)},`${s.key}_${a}`))})]})})},oE=64,aVe=()=>{const{handleLogOut:e,primaryWallet:t,setShowAuthFlow:n,appName:r}=Te(),{t:i}=ut();if(!t)return null;const o=()=>ae(void 0,void 0,void 0,function*(){try{yield t.connector.connect(),n(!1)}catch{Ne.info("could not connect wallet")}}),s=u.jsx(bi,{walletKey:t.connector.key,style:{height:En(oE*Ol),width:En(oE*Ol)}});return u.jsxs("div",{"data-testid":"wallet-locked-view",children:[u.jsx(Ao,{withIcon:!1,variant:"success",className:"wallet-locked-view__error-container",copykey:"dyn_wallet_locked.connect_continue",children:i("dyn_wallet_locked.connect_continue")}),u.jsxs("div",{className:"wallet-locked-view__content",children:[u.jsx(bo,{Icon:s,iconSize:oE,className:"wallet-locked-view__icon",isSpinning:!0}),u.jsx(ie,{variant:"title",color:"primary",weight:"medium",className:"wallet-locked-view__title",copykey:"dyn_wallet_locked.title",children:i("dyn_wallet_locked.title")}),u.jsxs(ie,{variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_wallet_locked.subtitle",children:[i("dyn_wallet_locked.subtitle"),r,"."]}),u.jsx(Qt,{onClick:()=>o(),buttonClassName:"wallet-locked-view__button",copykey:"dyn_wallet_locked.connect",children:i("dyn_wallet_locked.connect")}),u.jsx(Ul,{text:"Or"}),u.jsx(Ma,{className:"wallet-locked-view__log-out",onClick:e,copykey:"dyn_wallet_locked.logout",children:i("dyn_wallet_locked.logout")})]})]})},cVe=()=>{const{t:e}=ut(),{selectedWalletConnector:t}=Te();return u.jsxs("div",{className:We("wallet-redirect-view__container"),children:[t&&u.jsx(bo,{iconSize:64,Icon:u.jsx(bi,{walletKey:t.key}),isSpinning:!0}),u.jsx(ie,{weight:"medium",variant:"title",className:We("wallet-redirect-view__title"),copykey:"dyn_wallet_redirect.loading",children:e("dyn_wallet_redirect.loading")}),u.jsx(Ad,{classNameRoot:"powered-by-dynamic"})]})},lVe=()=>{const{goToInitialView:e}=dn(),{t}=ut(),{setMultiWalletWidgetState:n,setSelectedWalletConnectorKey:r,selectedWalletConnector:i}=Te();if(!i)return null;const{key:o}=i,s=96,a=()=>ae(void 0,void 0,void 0,function*(){e(),n("idle"),r(null),yield i==null?void 0:i.endSession()}),c=u.jsx(bi,{walletKey:o,style:{height:En(s*Ol),width:En(s*Ol)}});return u.jsxs("div",{className:"wallet-sign-spinner__container","data-testid":"wallet-sign-spinner-view",children:[u.jsx(bo,{Icon:c,iconSize:s,isSpinning:!0}),u.jsx(ie,{variant:"body_normal",weight:"regular",className:We("wallet-sign-spinner__copy"),copykey:"dyn_wallet_transfer.sign.spinner.confirm_transfer",children:t("dyn_wallet_transfer.sign.spinner.confirm_transfer")}),u.jsx(Qt,{expanded:!0,buttonPadding:"large",buttonVariant:"primary",buttonClassName:"wallet-sign-spinner__button",onClick:()=>a(),typographyProps:{variant:"button_primary",weight:"medium"},copykey:"dyn_wallet_transfer.sign.spinner.cancel",children:t("dyn_wallet_transfer.sign.spinner.cancel")})]})},AX=()=>{const{displaySiweStatement:e,environmentId:t,user:n,primaryWallet:r,setPrimaryWalletId:i}=Te(),{addedWalletsIds:o}=Dp(),s=k.useCallback((a,c)=>{const l=a.key;if(c.lastVerifiedCredentialId){if(!r){i(c.lastVerifiedCredentialId);return}const d=r.connector.key;l===d&&i(c.lastVerifiedCredentialId),r.connector.connectedChain==="FLOW"&&a.connectedChain==="FLOW"&&i(c.lastVerifiedCredentialId)}},[r,i]);return k.useCallback(a=>ae(void 0,void 0,void 0,function*(){if(!n)throw new Ae(li);const{overrideSiweStatement:c,walletConnector:l}=a,d="nonce"in a?Object.assign(Object.assign({},a),{displaySiweStatement:e,environmentId:t,siweStatement:c,walletProvider:u0(l)}):Object.assign(Object.assign({},a),{displaySiweStatement:e,environmentId:t,nonce:"",siweStatement:a.overrideSiweStatement,walletProvider:u0(l)}),f=yield zT(d),p=yield Rje(t,f);if(!p)throw new Ae("Error transferring wallet.");s(l,p);const m=p.lastVerifiedCredentialId;m&&o.current.push(m)}),[o,e,t,s,n])},dVe=()=>{const[e,t]=k.useState(!1),{t:n}=ut(),{setErrorMessage:r}=Po(),{loading:i,setLoading:o}=X0(),{setView:s,goToInitialView:a}=dn(),{setShowAuthFlow:c,appName:l,siweStatement:d,setMultiWalletWidgetState:f,connectWallet:p,selectedWalletConnector:m,isSingleWalletAccount:g,consumeNonce:y,handleLogOut:v}=Te(),{data:w}=Ki(()=>ae(void 0,void 0,void 0,function*(){const T=yield m==null?void 0:m.getConnectedAccounts();return T==null?void 0:T[0]}),{deps:[m]}),_=Gi(w),E=AX(),C=()=>ae(void 0,void 0,void 0,function*(){if(!m)return;const T=y();if(!T){a(),r("missing-nonce");return}f("awaiting_signature",void 0,"transferring_wallet"),o(!0),s("wallet-sign");const A=j3({appName:l,siweStatement:d});try{const S=yield p(m);if(!(S!=null&&S.address))return;m.key==="phantom"&&di()&&Ft.setToLS(Sp,{loseOriginalAccountOnTransfer:e,submittedAtTimestamp:new Date().toString(),verificationType:"awaiting_transfer"}),yield E({nonce:T,overrideSiweStatement:A,publicWalletAddress:S.address,skipEmptyAccountCheck:e,walletConnector:m}),c(!1)}catch(S){Ne.error(S),c(!1,{emitCancelAuth:!0})}finally{o(!1),f("idle")}});return u.jsxs("div",{className:"wallet-used-view__container",children:[u.jsx("div",{className:"wallet-used-view__icon",children:u.jsx(bi,{walletKey:m==null?void 0:m.key,width:64,height:64})}),u.jsx(ie,{className:"wallet-used-view__shorten-wallet-address",variant:"body_normal",weight:"medium",color:"primary",children:_}),u.jsx(ie,{className:"wallet-used-view__copy",variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_wallet_link.existent_account.warning",children:n("dyn_wallet_link.existent_account.warning")}),g&&u.jsxs("label",{htmlFor:"skipEmptyAccountCheck",className:"wallet-used-view__checkbox-label",children:[u.jsx(Yf,{id:"skipEmptyAccountCheck",className:"wallet-used-view__checkbox-container",defaultChecked:e,onChange:()=>t(!e),ariaLabel:"skip empty account check"}),u.jsx(ie,{variant:"body_small",color:"secondary",copykey:"dyn_wallet_link.existent_account.acceptance",children:n("dyn_wallet_link.existent_account.acceptance")})]}),u.jsx(Qt,{buttonClassName:"wallet-used-view__accept-button",buttonVariant:"primary",expanded:!0,buttonPadding:"large",onClick:()=>C(),disabled:!e&&g||i,dataTestId:"wallet-used-view-transfer-wallet",copykey:"dyn_wallet_link.confirm_button",children:n("dyn_wallet_link.confirm_button")}),u.jsx(Qt,{dataTestId:"wallet-used-view-log-out",buttonPadding:"small",buttonClassName:"wallet-used-view__logout",onClick:v,copykey:"dyn_wallet_link.log_out_button",children:n("dyn_wallet_link.log_out_button")})]})},uVe=()=>{const{setShowAuthFlow:e}=Te(),[t,n]=k.useState(!1),{t:r}=ut(),{getRecoveryCodes:i}=Y3(),{data:o,isLoading:s}=Ki(()=>i()),a=(o||[]).join(`
`);return u.jsxs("div",{className:"mfa-display-backup-codes-view__body","data-testid":"mfa-display-backup-codes-view",children:[u.jsx(ie,{className:"mfa-display-backup-codes-view__copy",variant:"body_normal",weight:"regular",color:"secondary",children:r("dyn_mfa.display_backup_codes_view.body")}),u.jsx(fd,{variant:"warning",copykey:"dyn_mfa.display_backup_codes_view.warning",className:"mfa-display-backup-codes-view__warning",children:r("dyn_mfa.display_backup_codes_view.warning")}),s?u.jsx(Kf,{className:"mfa-display-backup-codes-view__loading-spinner"}):u.jsxs("div",{className:"mfa-display-backup-codes-view__codes",children:[o==null?void 0:o.map((c,l)=>u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",className:"mfa-display-backup-codes-view__code",children:c},l)),u.jsxs("div",{className:"mfa-display-backup-codes-view__actions",children:[u.jsx(Jf,{variant:"button",textToCopy:a,copykey:"dyn_mfa.display_backup_codes_view.copy_all",startSlot:u.jsx(un,{size:"mini",color:"text-tertiary",children:u.jsx(Zf,{})}),children:r("dyn_mfa.display_backup_codes_view.copy_all")}),u.jsx(Qt,{dataTestId:"download-button",buttonPadding:"small",buttonVariant:"primary",onClick:c=>{c.preventDefault(),aX("mfa-backup-codes.txt",a)},startSlot:u.jsx(sX,{}),expanded:!0,copykey:"dyn_mfa.display_backup_codes_view.download",children:r("dyn_mfa.display_backup_codes_view.download")})]})]}),u.jsxs("div",{className:"mfa-display-backup-codes-view__complete",children:[u.jsx(Qt,{buttonClassName:"mfa-display-backup-codes-view__acknowledgement",dataTestId:"ack-button",buttonPadding:"small",buttonVariant:"primary",onClick:()=>n(!t),startSlot:u.jsx(Yf,{checked:t,onChange:()=>{n(!t)},className:"mfa-display-backup-codes-view__acknowledgement__checkbox"}),expanded:!0,typographyProps:{color:"secondary"},copykey:"dyn_mfa.display_backup_codes_view.checkbox",children:r("dyn_mfa.display_backup_codes_view.checkbox")}),u.jsx(Qt,{dataTestId:"complete-button",buttonPadding:"large",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},disabled:!t,expanded:!0,copykey:"dyn_mfa.display_backup_codes_view.complete",onClick:()=>e(!1),children:r("dyn_mfa.display_backup_codes_view.complete")})]})]})},fVe=({type:e})=>{const{t}=ut(),{setView:n}=dn(),{authDevice:r}=Y3(),[i,o]=k.useState(""),[s,a]=k.useState(),{data:c,isLoading:l}=Ki(()=>r(i,e),{deps:[i],enabled:(i==null?void 0:i.length)===6,onReject:()=>{a(new Ae(t("dyn_mfa.otp_verification_view.error")))},onResolve:()=>ae(void 0,void 0,void 0,function*(){yield o3(1500),n("mfa-display-backup-codes")})}),d=p=>{a(void 0),o(p)},f=p=>{o(p)};return u.jsx(J3,{MainIcon:G3,error:s,hideHeader:!0,isLoading:l,onPinComplete:f,isValid:!!c,onPinChange:d,description:t("dyn_mfa.otp_verification_view.body")})};var cL,hVe=["title","titleId"];function w4(){return w4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w4.apply(this,arguments)}function pVe(e,t){if(e==null)return{};var n=mVe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mVe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var gVe=function(t){var n=t.title,r=t.titleId,i=pVe(t,hVe);return k.createElement("svg",w4({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,cL||(cL=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm-9.322-18.117a1.828 1.828 0 1 0 3.613.568l1.152-7.457h7.144l-1.1 6.89a1.828 1.828 0 1 0 3.612.567l1.153-7.457h3.504a1.691 1.691 0 0 0 0-3.383h-2.948l1.16-7.222h3.597a1.691 1.691 0 0 0 0-3.383h-3.087l1.1-6.89a1.829 1.829 0 1 0-3.612-.567l-1.153 7.457H30.17l1.1-6.89a1.828 1.828 0 1 0-3.613-.567l-1.152 7.457h-3.458a1.691 1.691 0 0 0 0 3.383h2.901l-1.16 7.222h-3.597a1.691 1.691 0 0 0 0 3.383h3.087l-1.1 6.89Zm12.42-10.272H28.5l1.16-7.222h7.097l-1.16 7.222Z",fill:"#4779FF"})))};const yVe=e=>u.jsx(un,{color:"brand-primary",children:u.jsx(gVe,Object.assign({},e,{"data-testid":"mfa-recovery-icon"}))}),vVe=e=>/^(\w+\s){23}\w+$/.test(e),bVe=()=>{const{t:e}=ut(),{authRecoveryCode:t}=Y3(),[n,r]=k.useState(""),[i,o]=k.useState(!1),[s,a]=k.useState(""),c=()=>{},l=()=>ae(void 0,void 0,void 0,function*(){if(!n){o(!1);return}try{yield t(n)}catch(f){a(f.message||"Something went wrong")}}),d=f=>{const p=f.target.value;r(p),vVe(p)?o(!0):(o(!1),a(""))};return u.jsxs("div",{className:"mfa-recovery-view",children:[s&&u.jsx(Ao,{children:s}),!s&&!i&&u.jsx(bo,{Icon:yVe,isSpinning:!s&&!i,iconSize:96}),u.jsx("div",{className:"mfa-recovery-view__body",children:u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",children:e("dyn_mfa.recovery_view.body")})}),u.jsxs("div",{className:"mfa-recovery-view__actions",children:[u.jsx(ea,{id:"mfa-recovery-input","data-testid":"mfa-recovery-input",label:e("dyn_mfa.recovery_view.input_label"),onChange:d,value:n}),u.jsx(eR,{expanded:!0,buttonVariant:"brand-primary",disabled:!i,onClick:l,dataTestId:"mfa-recovery-submit",children:u.jsx(ie,{children:e("dyn_mfa.recovery_view.button_label")})})]}),u.jsxs("div",{className:"mfa-recovery-view__get-help",children:[u.jsx(ie,{variant:"body_small",color:"secondary",children:e("dyn_mfa.recovery_view.get_help.description")}),u.jsx("button",{onClick:c,children:u.jsx(ie,{variant:"body_small",color:"link",children:e("dyn_mfa.recovery_view.get_help.button_label")})})]})]})};var lL,wVe=["title","titleId"];function _4(){return _4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_4.apply(this,arguments)}function _Ve(e,t){if(e==null)return{};var n=xVe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xVe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var kVe=function(t){var n=t.title,r=t.titleId,i=_Ve(t,wVe);return k.createElement("svg",_4({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,lL||(lL=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm-4.928-29.305h9.717c-.207 4.908-1.087 9.168-2.3 12.206-.7 1.756-1.433 2.9-2.036 3.54-.245.26-.42.387-.523.448-.102-.06-.277-.189-.522-.449-.603-.638-1.336-1.783-2.037-3.539-1.213-3.038-2.092-7.298-2.3-12.206Zm2.3-16.655c-1.242 3.108-2.134 7.497-2.314 12.55h9.744c-.18-5.053-1.071-9.442-2.313-12.55-.7-1.756-1.433-2.9-2.036-3.54-.245-.26-.42-.388-.523-.449-.102.061-.277.19-.522.45-.603.638-1.336 1.783-2.037 3.539ZM14.5 30.59h8.951c.216-6.53 1.541-12.27 3.503-16.036C20.23 16.789 15.22 23.03 14.5 30.59Zm.036 4.105h8.928c.25 6.387 1.563 11.993 3.49 15.692-6.622-2.201-11.582-8.288-12.418-15.692Zm35.789 0h-8.928c-.25 6.387-1.563 11.993-3.49 15.692 6.621-2.201 11.581-8.288 12.418-15.692Zm.125-2.224v.066-.133.066Zm-9.04-1.88h8.95c-.719-7.56-5.73-13.802-12.454-16.037 1.962 3.766 3.288 9.507 3.503 16.036Zm-9.09 20.35c0-.001.008-.004.023-.007-.015.006-.023.008-.023.007Zm.198-.007a.072.072 0 0 1 .023.007s-.008-.001-.023-.007ZM32.541 14s-.008.004-.023.007c.015-.006.023-.008.023-.007Zm-.198.007A.068.068 0 0 1 32.32 14s.008.001.023.007Z",fill:"#4779FF"})))};const SVe=()=>{const{t:e}=ut(),{projectSettings:t}=Te(),n=k.useMemo(()=>{var r;const i=nR((r=t==null?void 0:t.sdk.embeddedWallets)===null||r===void 0?void 0:r.supportedSecurityMethods);return Object.keys(i).filter(o=>o!=="email")},[t==null?void 0:t.sdk.embeddedWallets]);return u.jsxs(u.Fragment,{children:[u.jsx(ji,{children:u.jsx(ie,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:"dyn_passkey_new_domain_detected.title",children:e("dyn_passkey_new_domain_detected.title")})}),u.jsxs("div",{className:"passkey-new-domain-detected",children:[u.jsx(kVe,{className:"passkey-new-domain-detected__header"}),u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",children:e("dyn_passkey_new_domain_detected.description")}),u.jsx(CX,{supportedAuthenticators:n}),u.jsx(Q3,{isRecoveryFlow:!0})]})]})},EVe={"access-blocked":rqe,"account-exists":CFe,"bridge-next-wallet-connection":AFe,"bridge-summary":RFe,"bridge-welcome":NFe,captcha:BFe,"chainalysis-blocked-wallet":iE,"collect-user-data":iWe,"collect-user-data-login-no-wallet":oWe,"create-password-view":cX,"email-wallet-otp-verification-view":DWe,"embedded-reveal-account-view":SD,"embedded-reveal-view":SD,"embedded-wallet-auth-choice":zqe,"farcaster-connect-view":gX,"gate-blocked-wallet":iE,"login-with-email-or-wallet":PD,"login-with-email-or-wallet-full-wallet-list":lv,"login-with-email-verification":vD,"login-with-sms-verification":aL,"login-with-wallet-only":PD,"merge-user-accounts":Mze,"merge-user-accounts-conflicts":mFe,"merge-user-accounts-with-same-email":$ze,"mfa-choose-device":Wze,"mfa-display-backup-codes":uVe,"mfa-recovery":bVe,"mfa-secure-device":zze,"mfa-verification":fVe,"multi-wallet-wallet-list":lv,"network-not-supported":Hze,"network-not-supported-manual":Kze,"no-access":iE,"no-qr-not-installed":Xze,"passkey-intro":kqe,"passkey-new-domain-detected":SVe,"passkey-recovery-add-email":Iqe,"passkey-recovery-bundle":Tqe,"passkey-recovery-complete":Rqe,"passkey-recovery-start":Pqe,"pending-connect":Vqe,"pending-signature":oL,"pending-signature-without-back-button":oL,"qr-code":qqe,"rename-passkey":Oqe,"select-hardware-wallet":Kqe,"select-wallet-in-wallet-group":Zqe,"social-redirect-view":nVe,"social-wrong-account":rVe,"verify-email":vD,"verify-sms":aL,"wait-for-email-confirmation-view":SWe,"wallet-cannot-be-transferred":iVe,"wallet-claim-intro":KFe,"wallet-connect-mobile-wallets-list":()=>u.jsx(lv,{isWalletConnectList:!0}),"wallet-group":sVe,"wallet-list":lv,"wallet-locked-view":aVe,"wallet-redirect-view":cVe,"wallet-sign":lVe,"wallet-used":dVe},TX=()=>{const{view:e}=dn(),t=EVe[e.type];return u.jsx(t,Object.assign({},e.props||{}))},CVe=Yr.createContext(void 0),dL="wallets",IVe=({children:e})=>{const t=k.useRef(null),n=k.useRef(null),[r,i]=k.useState(dL),o=k.useCallback(()=>{i(dL)},[]),s=k.useCallback(()=>{i("profile")},[]),a={bridgeWidgetView:r,events:{onDynamicBridgeWidgetClose:o},goToProfileView:s,inlineControlsRef:n,setBridgeWidgetView:i,widgetRef:t};return u.jsx(CVe.Provider,{value:a,children:e})},AVe=k.forwardRef(({children:e},t)=>u.jsx("div",{ref:t,className:"dynamic-widget-card",children:e}));AVe.displayName="DynamicWidgetCard";const TVe=k.createContext(null),RVe=({children:e})=>{const[t,n]=k.useState({}),r=k.useCallback((s,a)=>{n(c=>Object.assign(Object.assign({},c),{[s]:{type:a}}))},[n]),i=k.useCallback(s=>{n(a=>{const c=Object.assign({},a);return delete c[s],c})},[n]),o=k.useCallback(s=>Object.values(t).some(a=>a.type===s),[t]);return u.jsx(TVe.Provider,{value:{checkWidgetPresence:o,registerId:r,removeId:i},children:e})},PVe=k.createContext(void 0),OVe={dynamic:br.Dynamic,magicLink:br.MagicLink},NVe=Object.values(OVe);function jVe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var BVe='@layer dynamic-sdk-styles{#argent-mobile-modal-overlay,iframe[src*="wallet-dev.blocto.app"],iframe[src*="wallet-staging.blocto.app"],iframe[src*="wallet-testnet.blocto.app"],iframe[src*="wallet.blocto.app"]{z-index:2147483647!important}iframe[id*=dyn-passkey-recovery-element-id],iframe[id*=dyn-secure-enclave-element-id]{display:none!important}#pera-wallet-connect-modal-wrapper{position:relative;z-index:2147483647!important}@font-face{font-display:swap;font-family:DM Sans;font-style:normal;font-weight:400;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-400-normal.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-400-normal.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:italic;font-weight:400;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-400-italic.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-400-italic.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:normal;font-weight:500;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-500-normal.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-500-normal.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:italic;font-weight:500;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-500-italic.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-500-italic.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:normal;font-weight:700;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-700-normal.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-700-normal.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:italic;font-weight:700;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-700-italic.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-700-italic.woff) format("woff")}@layer light-theme-default{:root{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-search-border-radius:1rem;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#f7f7f9;--dynamic-base-2:#fff;--dynamic-base-3:#eeeef1;--dynamic-base-4:#e7e8ed;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#30a67b;--dynamic-success-2:#e3f7ef;--dynamic-border-radius:1.5rem;--dynamic-hover:rgba(22,37,77,.03);--dynamic-info-2:rgba(71,121,255,.1);--dynamic-error-1:#ff4646;--dynamic-error-2:rgba(255,70,70,.1);--dynamic-alert-1:#dd8500;--dynamic-alert-2:#faedd9;--dynamic-footer-background-color:#fff;--dynamic-footer-text-color:#383c48;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.2) 20%,hsla(0,0%,100%,.5) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(24,27,34,.15);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#0047ff;--dynamic-text-primary:#383c48;--dynamic-text-secondary:#7b7d86;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#abacb2;--dynamic-badge-background:#eeeef1;--dynamic-badge-color:#7b7d86;--dynamic-badge-primary-background:#e3f7ef;--dynamic-badge-primary-color:#30a67b;--dynamic-badge-dot-background:#4779ff;--dynamic-search-bar-background:#fff;--dynamic-search-bar-background-hover:#fff;--dynamic-search-bar-background-focus:#fff;--dynamic-search-bar-border:0.0625rem solid #eeeef1;--dynamic-search-bar-border-hover:0.0625rem solid #e7e8ed;--dynamic-search-bar-border-focus:0.0625rem solid #e7e8ed;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#fff;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#fff;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-border-radius:0.75rem;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#383c48;--dynamic-tooltip-text-color:#fff;--dynamic-button-border-radius:0.75rem;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#fff;--dynamic-button-primary-background:#fff;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #e7e8ed;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#f7f8fa;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#fff;--dynamic-connect-button-background-hover:#fff;--dynamic-connect-button-color:#383c48;--dynamic-connect-button-border:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#383c48;--dynamic-connect-button-border-hover:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #e7e8ed;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme-brand=bold],:root[data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme-brand=subtle],:root[data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#abacb2}@media (prefers-color-scheme:light){:root [data-dynamic-theme=auto]{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-search-border-radius:1rem;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#f7f7f9;--dynamic-base-2:#fff;--dynamic-base-3:#eeeef1;--dynamic-base-4:#e7e8ed;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#30a67b;--dynamic-success-2:#e3f7ef;--dynamic-border-radius:1.5rem;--dynamic-hover:rgba(22,37,77,.03);--dynamic-info-2:rgba(71,121,255,.1);--dynamic-error-1:#ff4646;--dynamic-error-2:rgba(255,70,70,.1);--dynamic-alert-1:#dd8500;--dynamic-alert-2:#faedd9;--dynamic-footer-background-color:#fff;--dynamic-footer-text-color:#383c48;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.2) 20%,hsla(0,0%,100%,.5) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(24,27,34,.15);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#0047ff;--dynamic-text-primary:#383c48;--dynamic-text-secondary:#7b7d86;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#abacb2;--dynamic-badge-background:#eeeef1;--dynamic-badge-color:#7b7d86;--dynamic-badge-primary-background:#e3f7ef;--dynamic-badge-primary-color:#30a67b;--dynamic-badge-dot-background:#4779ff;--dynamic-search-bar-background:#fff;--dynamic-search-bar-background-hover:#fff;--dynamic-search-bar-background-focus:#fff;--dynamic-search-bar-border:0.0625rem solid #eeeef1;--dynamic-search-bar-border-hover:0.0625rem solid #e7e8ed;--dynamic-search-bar-border-focus:0.0625rem solid #e7e8ed;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#fff;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#fff;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-border-radius:0.75rem;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#383c48;--dynamic-tooltip-text-color:#fff;--dynamic-button-border-radius:0.75rem;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#fff;--dynamic-button-primary-background:#fff;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #e7e8ed;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#f7f8fa;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#fff;--dynamic-connect-button-background-hover:#fff;--dynamic-connect-button-color:#383c48;--dynamic-connect-button-border:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#383c48;--dynamic-connect-button-border-hover:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #e7e8ed;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme=auto] [data-dynamic-theme-brand=bold],:root [data-dynamic-theme=auto][data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme=auto] [data-dynamic-theme-brand=subtle],:root [data-dynamic-theme=auto][data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#abacb2}}:root [data-dynamic-theme=light]{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-search-border-radius:1rem;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#f7f7f9;--dynamic-base-2:#fff;--dynamic-base-3:#eeeef1;--dynamic-base-4:#e7e8ed;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#30a67b;--dynamic-success-2:#e3f7ef;--dynamic-border-radius:1.5rem;--dynamic-hover:rgba(22,37,77,.03);--dynamic-info-2:rgba(71,121,255,.1);--dynamic-error-1:#ff4646;--dynamic-error-2:rgba(255,70,70,.1);--dynamic-alert-1:#dd8500;--dynamic-alert-2:#faedd9;--dynamic-footer-background-color:#fff;--dynamic-footer-text-color:#383c48;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.2) 20%,hsla(0,0%,100%,.5) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(24,27,34,.15);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#0047ff;--dynamic-text-primary:#383c48;--dynamic-text-secondary:#7b7d86;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#abacb2;--dynamic-badge-background:#eeeef1;--dynamic-badge-color:#7b7d86;--dynamic-badge-primary-background:#e3f7ef;--dynamic-badge-primary-color:#30a67b;--dynamic-badge-dot-background:#4779ff;--dynamic-search-bar-background:#fff;--dynamic-search-bar-background-hover:#fff;--dynamic-search-bar-background-focus:#fff;--dynamic-search-bar-border:0.0625rem solid #eeeef1;--dynamic-search-bar-border-hover:0.0625rem solid #e7e8ed;--dynamic-search-bar-border-focus:0.0625rem solid #e7e8ed;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#fff;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#fff;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-border-radius:0.75rem;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#383c48;--dynamic-tooltip-text-color:#fff;--dynamic-button-border-radius:0.75rem;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#fff;--dynamic-button-primary-background:#fff;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #e7e8ed;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#f7f8fa;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#fff;--dynamic-connect-button-background-hover:#fff;--dynamic-connect-button-color:#383c48;--dynamic-connect-button-border:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#383c48;--dynamic-connect-button-border-hover:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #e7e8ed;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme=light] [data-dynamic-theme-brand=bold],:root [data-dynamic-theme=light][data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme=light] [data-dynamic-theme-brand=subtle],:root [data-dynamic-theme=light][data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#abacb2}}@layer dark-theme-default{@media (prefers-color-scheme:dark){:root [data-dynamic-theme=auto]{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-search-border-radius:1rem;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#0c0e13;--dynamic-base-2:#1b1d22;--dynamic-base-3:#24272e;--dynamic-base-4:#282b33;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#79ffcf;--dynamic-success-2:#192d2c;--dynamic-border-radius:1.5rem;--dynamic-hover:hsla(0,0%,100%,.1);--dynamic-error-1:#ff6a6a;--dynamic-error-2:hsla(0,100%,71%,.2);--dynamic-alert-1:#e2a140;--dynamic-alert-2:#2b2621;--dynamic-footer-background-color:#0c0e13;--dynamic-footer-text-color:#fbfcff;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.01) 20%,hsla(0,0%,100%,.05) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(0,0,0,.25);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#69a5ff;--dynamic-text-primary:#fbfcff;--dynamic-text-secondary:#a8aab0;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#6f7177;--dynamic-badge-background:#24272e;--dynamic-badge-color:#a8aab0;--dynamic-badge-dot-background:#4779ff;--dynamic-search-bar-background:#1b1d22;--dynamic-search-bar-background-hover:#1b1d22;--dynamic-search-bar-background-focus:#1b1d22;--dynamic-search-bar-border:0.0625rem solid #24272e;--dynamic-search-bar-border-hover:0.0625rem solid #282b33;--dynamic-search-bar-border-focus:0.0625rem solid #282b33;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#24272e;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#282b33;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-border-radius:0.75rem;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#fbfcff;--dynamic-tooltip-text-color:#0c0e13;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#1b1d22;--dynamic-button-primary-background:#1b1d22;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #282b33;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#1a1c21;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#1b1d22;--dynamic-connect-button-background-hover:#1b1d22;--dynamic-connect-button-color:#fbfcff;--dynamic-connect-button-border:0.0625rem solid #282b33;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#fbfcff;--dynamic-connect-button-border-hover:0.0625rem solid #282b33;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #282b33;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme=auto] [data-dynamic-theme-brand=bold],:root [data-dynamic-theme=auto][data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fbfcff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme=auto] [data-dynamic-theme-brand=subtle],:root [data-dynamic-theme=auto][data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#6f7177;--dynamic-footer-icon-color:#6f7177}}:root [data-dynamic-theme=dark]{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-search-border-radius:1rem;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#0c0e13;--dynamic-base-2:#1b1d22;--dynamic-base-3:#24272e;--dynamic-base-4:#282b33;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#79ffcf;--dynamic-success-2:#192d2c;--dynamic-border-radius:1.5rem;--dynamic-hover:hsla(0,0%,100%,.1);--dynamic-error-1:#ff6a6a;--dynamic-error-2:hsla(0,100%,71%,.2);--dynamic-alert-1:#e2a140;--dynamic-alert-2:#2b2621;--dynamic-footer-background-color:#0c0e13;--dynamic-footer-text-color:#fbfcff;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.01) 20%,hsla(0,0%,100%,.05) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(0,0,0,.25);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#69a5ff;--dynamic-text-primary:#fbfcff;--dynamic-text-secondary:#a8aab0;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#6f7177;--dynamic-badge-background:#24272e;--dynamic-badge-color:#a8aab0;--dynamic-badge-dot-background:#4779ff;--dynamic-search-bar-background:#1b1d22;--dynamic-search-bar-background-hover:#1b1d22;--dynamic-search-bar-background-focus:#1b1d22;--dynamic-search-bar-border:0.0625rem solid #24272e;--dynamic-search-bar-border-hover:0.0625rem solid #282b33;--dynamic-search-bar-border-focus:0.0625rem solid #282b33;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#24272e;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#282b33;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-border-radius:0.75rem;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#fbfcff;--dynamic-tooltip-text-color:#0c0e13;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#1b1d22;--dynamic-button-primary-background:#1b1d22;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #282b33;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#1a1c21;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#1b1d22;--dynamic-connect-button-background-hover:#1b1d22;--dynamic-connect-button-color:#fbfcff;--dynamic-connect-button-border:0.0625rem solid #282b33;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#fbfcff;--dynamic-connect-button-border-hover:0.0625rem solid #282b33;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #282b33;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme=dark] [data-dynamic-theme-brand=bold],:root [data-dynamic-theme=dark][data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fbfcff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme=dark] [data-dynamic-theme-brand=subtle],:root [data-dynamic-theme=dark][data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#6f7177;--dynamic-footer-icon-color:#6f7177}}.dynamic-shadow-dom{position:relative}#dynamic-tooltips{left:0;position:absolute;top:0}@supports (overflow:clip){.dynamic-no-scroll{overflow:clip}}@supports not (overflow:clip){.dynamic-no-scroll{overflow:hidden}}}';jVe(BVe);const $Ve=()=>{const{awaitingSignatureState:e,multiWalletWidgetState:t,setMultiWalletWidgetState:n,legacyIsVerifying:r,setLegacyIsVerifying:i,selectedWalletConnector:o}=Te(),s=SR(),a=k.useRef(!1),c=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){if(Ne.debug("runConnectAndSign",{selectedWalletConnector:o}),!!o){a.current=!0,i(!0);try{yield s({walletConnector:o})}catch(l){Ne.error(l)}n("idle"),i(!1),a.current=!1}}),[o==null?void 0:o.key,i,n,s]);k.useEffect(()=>{!r&&!a.current&&t==="awaiting_signature"&&o&&e==="linking_new_wallet"&&!ER(o)&&c()},[c,e,r,t,o==null?void 0:o.key,i,n]),Lo("triggerConnectAndSign",c)},MVe=["email-wallet-otp-verification-view","social-redirect-view","passkey-intro"],DVe=()=>{const{selectedWalletConnector:e,linkedWallets:t,isProjectSettingsLoading:n,projectSettings:r,setShowAuthFlow:i,showAuthFlow:o,walletConnectorOptions:s,clearStatesOnBackClick:a,user:c,disconnectWallet:l,authMode:d,connectedWallets:f,handleLogOut:p}=Te(),{view:m,goToInitialView:g}=dn(),{setDeniedAddress:y,setDeniedOauthProvider:v}=h3(),{setExistentAccountData:w}=C1(),{setSocialProvider:_}=Fu();W0(o);const E=p3(),C=()=>ae(void 0,void 0,void 0,function*(){var I;if(!MVe.includes(m.type)){if(!((I=m.events)===null||I===void 0)&&I.onClose){m.events.onClose();return}(m.type==="network-not-supported"||m.type==="network-not-supported-manual")&&E.length===1&&(yield p()),m.type==="farcaster-connect-view"&&(_(void 0),Kt.emit("farcasterConnectCancelled")),i(!1,{emitCancelAuth:!0}),y(""),v(void 0),w(void 0),a()}}),T=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){const I=["network-not-supported","network-not-supported-manual"];if(!I1(c,d)||!I.includes(m.type)||!e)return;const x=f.find(P=>P.connector.key===e.key);x&&(Mp({network:yield x.connector.getNetwork(),walletConnector:x.connector})||l(x.id))}),[e,d,f,l,c,m]),A=k.useCallback(()=>{g()},[g]);$Ve();const{handleAlreadyConnectedWallet:S,handleCustodialWalletClick:O,handleInstalledExtensionClick:D,handleMobileWalletClick:K,handleUninstalledClick:H}=J0(),X=I=>ae(void 0,void 0,void 0,function*(){i(!0),_Y(t,I,c)?S(I):I.canConnectViaCustodialService?O(I):di()?K(I):I.isInstalledOnBrowser()?D(I):H(I)});k.useEffect(()=>{const I=Ft.getFromLS(_I);if(s!=null&&s.length&&I){const x=s.find(P=>P.key===I);x!=null&&x.walletConnector&&X(x.walletConnector),Ft.removeFromLS(_I)}},[s]);const U=o&&!n;return u.jsx(LG,{children:u.jsx(G0,{zIndex:U0,isShown:U,handleClose:C,withBackdrop:!0,transitionEvents:{onExiting:T,onUnmount:A},children:u.jsx(v3,{children:u.jsx(dFe,{transitionProps:{isShown:U},onClose:C,projectSettings:r,children:u.jsx(TX,{})})})})})},LVe=()=>u.jsx($I,{children:u.jsx(DVe,{})}),UVe=({authMode:e,connectedInfo:t,connectedWallets:n,projectSettings:r,primaryWallet:i,user:o,walletBook:s,enableInstrumentation:a,appName:c})=>{var l,d;const f=k.useRef(!1),p=k.useRef(new Date().getTime()),m=()=>{if(!f.current&&(f.current=!0,a)){const w=new Date().getTime()-p.current,_={appName:c,loadingTime:w,primaryWalletId:i==null?void 0:i.id,projectDisplayName:r==null?void 0:r.general.displayName};Ne.emitHttpLogs(hs.INFO,`SDK loaded in (ms) ${w}`,{args:[_],transformMeta:E=>{var C;return E&&{userId:(C=E.user)===null||C===void 0?void 0:C.userId}}})}};if(f.current)return!0;const g=!!Object.keys((l=s==null?void 0:s.wallets)!==null&&l!==void 0?l:{}).length,y=o&&((d=pJ(o))===null||d===void 0?void 0:d.format)==="blockchain"&&!i,v=e==="connect-only"&&t&&n.length===0;return g&&r&&!y&&!v&&m(),f.current},sE=({as:e,href:t,id:n,type:r})=>{if(z0()||document.head.querySelector(`#${n}`))return;const o=document.createElement("link");o.setAttribute("id",n),o.setAttribute("rel","prefetch"),o.setAttribute("href",t),o.setAttribute("as",e),o.setAttribute("type",r),document.head.insertAdjacentElement("beforeend",o)},FVe=e=>ae(void 0,void 0,void 0,function*(){try{return yield zn().getEnvironmentSettings({environmentId:e,sdkVersion:`WalletKit/${LA}`},{credentials:"omit"})}catch(t){Ne.error(t);return}}),RX=(e,t)=>ae(void 0,void 0,void 0,function*(){try{const{dynamicContextProps:n,dynamicWagmiSettings:r,frameworkSettings:i}=t;n&&(yield uL(e,{dynamicContextProps:n,frameworkSettings:i},qK,NIe)),r&&(yield uL(e,{dynamicWagmiSettings:r},VK,jIe))}catch(n){Ne.warn("Error caught when sending sdkSettings to api. Please notify Dynamic, and send the DynamicContextProvider settings you currently have configured",{error:n})}}),uL=(e,t,n,r)=>ae(void 0,void 0,void 0,function*(){n()&&(yield zn().logDynamicSdkSettings({environmentId:e,sdkSettingsRequest:t}),r())}),WVe=e=>ae(void 0,void 0,void 0,function*(){try{return(yield zn().getNonce({environmentId:e})).nonce}catch{return}}),zVe=e=>!(!e||new Date().getTime()>e.expiry),qVe=(e,t=2)=>{const[n,r,i]=Wf(fIe,void 0,zVe),o=(n==null?void 0:n.value)!==""&&(n==null?void 0:n.value)!==void 0;n&&n.environmentId&&n.environmentId!==e&&i(),Ki(()=>ae(void 0,void 0,void 0,function*(){return WVe(e).then(a=>{if(!a)throw new Ae("Nonce is not defined");const c=new Date().getTime()+6e4*60*24;return{environmentId:e,expiry:c,value:a}})}),{deps:[e,o],enabled:!o,onResolve:r,retries:t});const s=k.useCallback(()=>{const a=n==null?void 0:n.value;return i(),a},[i,n==null?void 0:n.value]);return{consumeNonce:()=>s()}},VVe=(e,t)=>{!e||!(t!=null&&t.length)||t.forEach(n=>{n.walletConnector.setVerifiedCredentials(e.verifiedCredentials)})},HVe=()=>Pl().setState(Pl().getInitialState()),KVe=e=>Pl().setState({environmentId:e}),GVe=()=>Pl().getState().environmentId,ZVe=({environmentId:e,handleLogOut:t})=>{const[n,r]=k.useState(!1),i=(a,c)=>ae(void 0,void 0,void 0,function*(){r(!0),Ne.debug(`Logging out - Reason: ${a}`,Object.assign({},c)),yield t()}),o=()=>ae(void 0,void 0,void 0,function*(){const a=N3(),c=F0(),l=gJ();if(!(c||!l)){if(l&&!c&&a){try{yield u$e({environmentId:e})}catch(d){d instanceof VH&&(yield i("user auth cookie invalid",{authToken:c,user:l}))}return}yield i("user data out of sync",{authToken:c,user:l})}}),s=()=>ae(void 0,void 0,void 0,function*(){const a=GVe();!a||e===a||(yield i("store and environment are out of sync",{currentEnvId:e,storedEnvId:a}),KVe(e))});return k.useEffect(()=>{n||(s(),o())},[n]),{setHasLoggedOut:r}},PX=e=>{try{return e?e.map(t=>t.name):void 0}catch(t){Ne.error("error serializing walletConnectors",t);return}};class OX extends Ae{constructor(t,n){super(`${t} is enabled but ${n} is not in your walletConnectors list. See https://docs.dynamic.xyz/react-sdk/wallet-connectors for more information.`)}}const JVe="magicemailotp",YVe="magicsocial",XVe=(e,t)=>{var n;const r=fa((n=e.providers)!==null&&n!==void 0?n:[],br.MagicLink),i=t.some(({key:o})=>[JVe,YVe].includes(o));if(r&&!i)throw new OX("Magic","MagicWalletConnectors")},QVe="zerodev",eHe=(e,t)=>{var n;const r=fa((n=e.providers)!==null&&n!==void 0?n:[],br.Zerodev),i=t.some(({key:o})=>o===QVe);if(r&&!i)throw new OX("ZeroDev","ZeroDevSmartWalletConnectors")},tHe=(e,t)=>{XVe(e,t),eHe(e,t)},nHe=({projectSettings:e,appLogoUrl:t,appName:n,coinbaseWalletPreference:r,deepLinkPreference:i,flowNetwork:o,mobileExperience:s,networkConfigurations:a,walletBook:c,walletUiUtils:l,walletConnectorsProp:d,walletConnectPreferredChains:f,walletConnectorExtensions:p})=>{const m=k.useMemo(()=>{var v;return(v=PX(d))===null||v===void 0?void 0:v.join(",")},[d]),g=k.useMemo(()=>Object.keys(c??{}).length,[c]),y=k.useMemo(()=>!e||!Object.keys(c??{}).length||!a?[]:EIe({getSupportedWalletOpts:{appLogoUrl:t,appName:n,coinbaseWalletPreference:r,deepLinkPreference:i,flowNetwork:o,mobileExperience:s,networkConfigurations:a,settings:e,skipMemo:!0,walletBook:c,walletConnectPreferredChains:f,walletConnectorsProp:d??[],walletUiUtils:l},walletConnectorExtensions:p}),[t,n,e,m,f,o,g,a]);return k.useEffect(()=>{!e||y.length===0||tHe(e,y.map(({walletConnector:v})=>v))},[y,e]),{walletConnectorOptions:y}},DR=({address:e,connector:t})=>`${e}+${t.key}`,rHe=(e,t)=>{const n=k.useRef(t);n.current=t,k.useEffect(()=>{if(!(window!=null&&window.addEventListener))return;const r=i=>n.current(i);return window.addEventListener(e,r),()=>{window.removeEventListener(e,r)}},[e])},iHe=(e,t,n)=>ae(void 0,void 0,void 0,function*(){const r={};return yield Promise.all(e.filter(i=>i.id===n||!di()&&_ke(zo(t,i.key),"getConnectedAccounts",fJ(i.connector))).map(i=>ae(void 0,void 0,void 0,function*(){r[DR(i)]=yield tY(i)}))),r}),oHe=(e,t,n,r)=>{const[i,o]=k.useState({}),s=k.useRef(!1),a=k.useRef(void 0),c=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){s.current=!1;const g=yield iHe(e,t,n);if(Object.values(g).length===0){o({});return}if(s.current=!0,a.current)if(e.some(v=>Af(a.current,v.address,v.chain)))a.current=void 0;else return;o(g)}),[n,t,e]),l=e.map(DR).join("-"),d=e.map(({connector:g})=>g),f=IY(()=>{l&&c()},1e3);Uc(d,"accountChange",({accounts:g})=>{a.current=g[0],f()}),Uc(d,"disconnect",f),Uc(d,"chainChange",f);const m=r==="connect-and-sign"?`${n}-${l}`:l;return k.useEffect(()=>{c()},[m]),rHe("focus",c),{connectedWalletsMap:i,didConnectedStateLoad:s}},sHe=(e,t)=>ae(void 0,void 0,void 0,function*(){if(!L0(t.connector))return;const n=O3(e,t.id);!n||!n.oauthProvider||(yield t.connector.connect(n.oauthProvider))}),NX=e=>e.connectedChain==="STARK"||e.connectedChain==="FLOW",aHe=e=>Object.assign(Object.assign({},e),{walletName:"phantom",walletProperties:{hardwareWallet:fI.Ledger}}),cHe=({user:e,walletConnectorOptions:t,primaryWalletId:n})=>!t||!e?[]:e.verifiedCredentials.map(lHe).map(r=>{var i;const o=v8(r,t);return!o||(r.id===n&&NX(o.walletConnector)&&o.walletConnector.connect(),bDe(r,e.verifiedCredentials))?null:r.address&&r.chain?(r.walletProvider===kp.SmartContractWallet&&gR({account:r,verifiedCredentials:e.verifiedCredentials,walletConnectorOptions:t}),{additionalAddresses:r.walletAdditionalAddresses,address:r.address,authenticated:!0,chain:r.chain,connected:!1,connector:o.walletConnector,id:r.id,key:(i=r.walletName)!==null&&i!==void 0?i:o.walletConnector.key}):null}).filter(r=>r!==null),lHe=e=>e.walletName==="phantomledger"?aHe(e):e,dHe=(e,t)=>{const n=[...e],r=new Set;for(const i of t){r.add(i.address);const o=n.findIndex(s=>s.address===i.address);if(o===-1){n.push(i);continue}n[o]=i}return n.filter(i=>r.has(i.address))},uHe=({authMode:e,connectedWallets:t,walletConnectorOptions:n,multiWalletWidgetState:r,setDesktopUri:i,setMultiWalletWidgetState:o,setQrcodeUri:s,primaryWalletId:a,setPrimaryWalletId:c,user:l,canHaveMultipleWalletsConnected:d,walletBook:f})=>{const[p,m]=k.useState(!1),g=k.useMemo(()=>l?cHe({primaryWalletId:a,user:l,walletConnectorOptions:n}):[],[l,a,n]);Ss("linkedWallets",g);const y=k.useMemo(()=>e==="connect-and-sign"&&l||e==="connect-only"&&g.find(K=>_1(K.connector))?g:t??[],[e,t,g,l]);Ss("walletsBasedOnAuthMode",y),k.useEffect(()=>y.forEach(K=>{K.connector.initEventListener()}),[y]);const{connectedWalletsMap:v,didConnectedStateLoad:w}=oHe(y,f,a,e),_=k.useMemo(()=>y.map(K=>Object.assign(Object.assign({},K),{connected:!!v[DR(K)]})),[v,y]);Ss("wallets",_),Ss("didConnectedStateLoad",w);const{setUserWallets:E}=Dp();k.useEffect(()=>{Ss("[useWalletConnectors] will call setUserWallets",_),E(K=>dHe(K,_))},[E,_]);const C=k.useMemo(()=>{var K;return(K=_.find(H=>H.id===a))!==null&&K!==void 0?K:null},[a,_]),T=k.useMemo(()=>d?_.filter(K=>K.id!==a):[],[a,_,d]),A=k.useCallback(K=>ae(void 0,void 0,void 0,function*(){const H=_.find(({id:U})=>U===K);if(!H)throw new Ae(`Wallet with id: ${K} not found`);return{connectedAccounts:yield H.connector.getConnectedAccounts(),newWallet:H}}),[_]),S=k.useCallback((K,H,X)=>{if(!K||r!=="idle")return;const U=X&&!X.find(I=>I.toLowerCase()===H.address.toLowerCase());return H.connector.key===K.connector.key||U},[r]),O=k.useCallback(K=>!K.connector.isInstalledOnBrowser()&&!K.connector.canConnectViaCustodialService,[]),D=k.useCallback(K=>ae(void 0,void 0,void 0,function*(){const{newWallet:H,connectedAccounts:X}=yield A(K);if(!a&&!O(H)){yield H.connector.connect(),c(K);return}if(a===K)return;if(S(C,H)){yield H.connector.connect(),c(K);return}if(X.length||(o("awaiting_connection"),m(O(H))),Tl(H.connector)){const x=H.connector,P=localStorage.getItem("magic-link-email");P&&x.setEmail(P)}if(L0(H.connector)&&!H.connected){sHe(l,H);return}const U=yield H.connector.getAddress({onDesktopUri:x=>ae(void 0,void 0,void 0,function*(){i(x)}),onDisplayUri:x=>ae(void 0,void 0,void 0,function*(){s(x)})}),I=yield H.connector.getConnectedAccounts();if(S(C,H,I)&&!Tl(H.connector)){o("awaiting_account_switch","switching_primary");return}U?(c(K),o("idle")):Ne.error("Failed to connect to wallet")}),[l,S,O,C,A,a,i,o,c,s]);return{didConnectedStateLoad:w.current,primaryWallet:C,secondaryWallets:T,setPrimaryWallet:D,setShowQrcodeModal:m,showQrcodeModal:p,wallets:_}},jX=({modalId:e,closeModal:t,show:n,zIndex:r,handleOnModalUnmount:i,children:o})=>u.jsx(G0,{elementId:e,handleClose:t,isShown:n,zIndex:r??U0+1,withBackdrop:!0,transitionEvents:{onUnmount:i},children:u.jsx(K0,{children:u.jsx(Nu,{children:o})})}),BX=({onResolve:e,onReject:t,defaultErrorMessage:n})=>{W0(!0);const[r,i]=k.useState(!0),o=k.useRef(null),s=k.useRef(null),a=k.useCallback(()=>{i(!1)},[i]),c=k.useCallback(()=>{if(s.current)return e(s.current);const f=o.current||new tt(n||"Something went wrong");return t(f)},[e,t,n]);return{closeModal:a,handleOnModalUnmount:c,onError:(f,p=!1)=>{s.current=null,o.current=f,p&&a()},onSuccess:(f,p=!0)=>{o.current=null,s.current=f,p&&a()},show:r}},fHe=({onResolve:e,onReject:t,closeView:n})=>{const{onSuccess:r,onError:i,show:o,handleOnModalUnmount:s,closeModal:a}=BX({defaultErrorMessage:"User canceled",onReject:t,onResolve:e});return u.jsx(jX,{modalId:"create-password-modal",show:o,closeModal:a,handleOnModalUnmount:s,children:u.jsx(cX,{closeView:n,onSuccess:r,onError:i})})},hHe=({mutation:e,onSuccess:t,onError:n,closeView:r=!0})=>{const{setShowAuthFlow:i}=Te(),[o,s]=k.useState(""),[a,c]=k.useState("password"),{t:l}=ut(),{mutate:d,isLoading:f,hasError:p}=ac(()=>e(o),{onFailure:n,onSuccess:()=>{r&&i(!1),t==null||t(o)}}),m=()=>{if(n){n==null||n(l("dyn_enter_password.error.invalid_password"));return}i(!1)},g=p?l("dyn_enter_password.error.invalid_password"):void 0,y=u.jsx(Vr,{onClick:m,type:"button",children:u.jsx(vo,{})}),v=u.jsx(NR,{initialState:a==="password",onClick:_=>c(_?"password":"text"),className:"enter-password-view__password-input__suffix-icon"}),w=_=>{const E=_.target.value;s(E)};return u.jsxs(u.Fragment,{children:[u.jsx(ji,{trailing:y,children:u.jsx(ie,{as:"h1",variant:"title",color:"primary",className:"header__typography",copykey:"dyn_enter_password.title",children:l("dyn_enter_password.title")})}),u.jsx("div",{className:"enter-password-view",children:u.jsxs("form",{className:"enter-password-view__body",onSubmit:_=>{_.preventDefault(),d()},children:[u.jsx("div",{className:"enter-password-view__body__icon",children:u.jsx(G3,{})}),u.jsx("div",{className:"enter-password-view__body__description",children:u.jsx(ie,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_enter_password.description",children:l("dyn_enter_password.description")})}),!!g&&u.jsx(Ao,{copykey:"dyn_enter_password.error",children:g}),u.jsx("div",{children:u.jsx(ea,{id:"password",placeholder:l("dyn_enter_password.input.placeholder"),type:a,suffix:v,label:l("dyn_enter_password.input.label"),value:o,onChange:w,copykey:"dyn_enter_password.input"})}),u.jsx(Qt,{buttonPadding:"large",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},disabled:!o&&!g,loading:f,copykey:"dyn_enter_password.continue_button_label",type:"submit",children:l("dyn_enter_password.continue_button_label")})]})})]})},pHe=({handler:e,onResolve:t,onReject:n,closeView:r})=>{const{onSuccess:i,onError:o,show:s,handleOnModalUnmount:a,closeModal:c}=BX({defaultErrorMessage:"User canceled",onReject:n,onResolve:t});return u.jsx(jX,{modalId:"enter-password-modal",show:s,closeModal:c,handleOnModalUnmount:a,children:u.jsx(hHe,{mutation:e,closeView:r,onSuccess:i,onError:o})})},mHe=e=>{if(typeof e!="object"||e===null)return!1;const{types:t,message:n,primaryType:r}=e;return typeof t=="object"&&t!==null&&typeof n=="object"&&n!==null&&typeof r=="string"},gHe=e=>typeof e!="object"||e===null?!1:typeof e.raw=="string",x4=({currentType:e,types:t,showTypeName:n=!1,data:r})=>{const i=t[e].map(o=>{var s;const a=o.type.replace("[]",""),c=o.type.endsWith("[]"),l=a in t;if(c&&l)return u.jsx(H_,{title:xu(o.name),children:(s=r==null?void 0:r[o.name])===null||s===void 0?void 0:s.map((p,m)=>u.jsx(H_,{title:m.toString(),children:u.jsx(x4,{currentType:a,types:t,data:p})},m))},o.name);if(l)return u.jsx(H_,{title:xu(o.name),children:u.jsx(x4,{currentType:a,types:t,data:r==null?void 0:r[o.name]})},o.name);const d=r==null?void 0:r[o.name],f=o.type;return u.jsx(wHe,{name:xu(o.name),data:d,displayValue:f==="address"?Gi(d,4,4):d},o.name)});return n?u.jsx(H_,{title:e,children:i}):u.jsx("div",{className:"sign-typed-data-preview--fields-list",children:i})},$X=({children:e})=>u.jsx(ie,{color:"secondary",weight:"medium",children:e}),yHe=$X,vHe=({children:e,title:t})=>u.jsx(ie,{as:"span",weight:"regular",color:"primary",title:t,children:e}),bHe=({children:e})=>u.jsx("div",{className:"sign-typed-data-preview--type-container",children:e}),H_=({title:e,children:t})=>u.jsxs("div",{children:[u.jsx($X,{children:e}),u.jsx(bHe,{children:t})]}),wHe=({name:e,displayValue:t,data:n})=>u.jsxs("div",{className:"sign-typed-data-preview--attribute-row",children:[u.jsxs(yHe,{children:[xu(e),": "]}),u.jsx(vHe,{title:n,children:t})]}),_He=e=>/[^ -~\s]/.test(e),xHe=({message:e})=>{const t=k.useMemo(()=>{try{return JSON.parse(e)}catch{return}},[e]),n=k.useMemo(()=>{const r=gHe(t)?t.raw:e,i=l3e(r)?c3e(r):r;return _He(i)?r:i},[t,e]);return mHe(t)?u.jsx(x4,{currentType:t.primaryType,types:t.types,showTypeName:!0,data:t.message}):u.jsx(ie,{color:"primary",variant:"body_normal",children:u.jsx("span",{style:{whiteSpace:"pre-line"},children:n})})},kHe=({appLogoUrl:e,appName:t,appOrigin:n,message:r,handler:i,onReject:o,onSignMessage:s,hideModal:a})=>{W0(!0);const c=k.useRef(!1),[l,d]=k.useState(!0),{initPasskeyRecoveryProcess:f,shouldInitRecovery:p}=Id(),{isTurnkeyWallet:m}=Ns(),{setShowAuthFlow:g}=Te(),{setView:y}=dn(),{userNeedsCrossDomainPasskey:v}=ah(),{t:w}=ut(),_=k.useCallback(()=>{c.current=!1,d(!1)},[d]),{isLoading:E,mutate:C,data:T,error:A}=ac(()=>i(r),{onSuccess:()=>{c.current=!0,d(!1)}}),S=k.useMemo(()=>{if(A){if(A instanceof Ae)return A.message;try{return ey(A)}catch(H){H instanceof c2&&y("access-blocked");return}}},[A,y]),O=k.useCallback(()=>{if(T)return s(T);o(A||new Error("user rejected signing"))},[T,s,o,A]),D=H=>ae(void 0,void 0,void 0,function*(){if((yield p())&&(yield f("email","signMessage")),H===!0){s("callHandlerOutsideModal");return}if(m&&v){y("passkey-new-domain-detected"),g(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),Kt.once("passkeyRecoveryCompleted",()=>{C()});return}C()});ch(()=>{a&&D(!0)});const K=u.jsx(Vr,{type:"button",onClick:_,"data-testid":"close",disabled:E,children:u.jsx(vo,{})});return a?null:u.jsx(G0,{handleClose:_,isShown:l,zIndex:U0,withBackdrop:!0,elementId:"dynamic-sign-message",transitionEvents:{onUnmount:O},children:u.jsx(K0,{children:u.jsxs(Nu,{children:[u.jsx(ji,{trailing:K,alignContent:"bottom",children:u.jsx(bo,{Icon:H=>u.jsx(un,{color:"brand-primary",children:u.jsx(lR,Object.assign({},H))}),iconSize:64,isSpinning:!0})}),u.jsx(V3,{}),u.jsxs("div",{className:"sign-message-confirmation__body",children:[u.jsx(ie,{variant:"title",color:"primary",className:"sign-message-confirmation__title",copykey:"dyn_sign_message.title",children:w("dyn_sign_message.title")}),u.jsx(sd,{animationComponent:u.jsx(Ip,{}),children:A&&u.jsx("div",{className:"sign-message-confirmation__error",children:u.jsx(Ao,{children:S})})}),u.jsxs("div",{className:"sign-message-confirmation__message-container",children:[u.jsx(KJ,{appLogoUrl:e,appName:t,appOrigin:n}),u.jsx("div",{className:"sign-message-confirmation__message",children:u.jsx(xHe,{message:r.toString()})})]}),u.jsxs("div",{className:"sign-message-confirmation__actions",children:[u.jsx(Qt,{buttonVariant:"secondary",onClick:_,expanded:!0,buttonPadding:"large",disabled:E,copykey:"dyn_sign_message.cancel_button",children:w("dyn_sign_message.cancel_button")}),u.jsx(Qt,{buttonVariant:"primary",buttonPadding:"large",onClick:D,expanded:!0,loading:E,copykey:"dyn_sign_message.sign_button",dataTestId:"sign-button",children:w("dyn_sign_message.sign_button")})]}),u.jsx(Q3,{}),u.jsx(Ad,{})]})]})})})},SHe=({title:e,onReject:t,onTransactionResponseSuccess:n,transaction:r,copykey:i,walletConnector:o,hideModal:s})=>{W0(!0);const[a,c]=k.useState(!0),l=k.useRef(null),d=k.useRef(null),f=k.useCallback(()=>{c(!1)},[c]),p=k.useCallback(()=>d.current?n(d.current):t(l.current||new zH),[n,t]);return u.jsx(G0,{handleClose:f,isShown:a,zIndex:U0,withBackdrop:!0,elementId:"dynamic-send-transaction",transitionEvents:{onUnmount:p},children:u.jsx(K0,{children:u.jsx(Nu,{children:u.jsx(GJ,{transaction:r,title:e,copykey:i,hideModal:s,mutation:()=>r.submit(),onClickClose:f,onError:m=>l.current=m,displayPoweredByDynamicFooter:!0,walletConnector:o,onSuccess:m=>{l.current=null,d.current=m,f()}})})})})},EHe=({appLogoUrl:e,appName:t,getAppOrigin:n,hideEmbeddedWalletTransactionUIs:r=!1})=>{const i=k.useRef("enabled"),{t:o}=ut(),{modal:s,open:a}=gg({elementId:"dynamic-send-transaction"}),{modal:c,open:l}=gg({elementId:"dynamic-sign-message"}),{modal:d,open:f}=gg({elementId:"dynamic-enter-password"}),{modal:p,open:m}=gg({elementId:"dynamic-create-password"}),g=k.useCallback(()=>i.current==="disabled"?(i.current="enabled",!1):!0,[i,r]),y=k.useCallback(T=>ae(void 0,[T],void 0,function*({message:A,handler:S}){return g()?l((O,D)=>u.jsx(kHe,{appLogoUrl:e,appName:t,appOrigin:n(),message:A,handler:S,onSignMessage:O,onReject:D,hideModal:r})).then(O=>ae(void 0,void 0,void 0,function*(){return O==="callHandlerOutsideModal"?S():O})):S()}),[e,t,n,l,g]),v=k.useCallback((T,A)=>ae(void 0,void 0,void 0,function*(){return g()?a((S,O)=>u.jsx(SHe,{copykey:"dyn_send_transaction.confirmation.title",title:o("dyn_send_transaction.confirmation.title"),transaction:A,onTransactionResponseSuccess:S,onReject:O,walletConnector:T,hideModal:r})).then(S=>ae(void 0,void 0,void 0,function*(){return S==="callHandlerOutsideModal"?A.submit():S})):A.submit()}),[a,g,o]),w=k.useCallback(T=>ae(void 0,[T],void 0,function*({handler:A,closeView:S=!0}){return f((O,D)=>u.jsx(pHe,{handler:A,onResolve:O,onReject:D,closeView:S}))}),[f]),_=k.useCallback(T=>ae(void 0,[T],void 0,function*({closeView:A=!0}){return m((S,O)=>u.jsx(fHe,{onResolve:S,onReject:O,closeView:A}))}),[m]),E=k.useCallback(()=>{i.current="disabled"},[]),C=k.useMemo(()=>({createPassword:_,disabledConfirmationOnce:E,enterPassword:w,sendTransaction:v,signMessage:y}),[y,E,v,w,_]);return k.useMemo(()=>[c||s||d||p,C],[c,s,d,p,C])},CHe=(e,t)=>{if(!(e!=null&&e.length))return;const{fetchAuthToken:n,fetchBackupCode:r,fetchPasscode:i}=pY({environmentId:t});e.forEach(o=>{ih(o.walletConnector)&&(o.walletConnector.setAuthTokenFetcher(n),o.walletConnector.setBackupCodeFetcher(r),o.walletConnector.setPasscodeFetcher(i))})},IHe=({settings:e,environmentId:t})=>{ch(()=>{const n={settings:Object.assign(Object.assign({},e),{customPrivacyPolicy:!!e.customPrivacyPolicy,customTermsOfServices:!!e.customTermsOfServices,policiesConsentInnerComponent:!!e.policiesConsentInnerComponent})},r=AHe(e.events),i=PX(e.walletConnectors),o=Object.assign(Object.assign({},n),{settings:Object.assign(Object.assign({},n.settings),{events:r,walletConnectors:i})});RX(t,{dynamicContextProps:o,frameworkSettings:THe()})})},AHe=e=>{try{if(!e)return;const t=Object.values(e);return Object.keys(e).filter((r,i)=>t[i]===void 0?!1:r)}catch(t){Ne.error("error serializing events",t);return}},THe=()=>{var e;return{nextJs:{version:(e=window.next)===null||e===void 0?void 0:e.version},react:{version:k.version}}},RHe=({environmentId:e,projectSettings:t,setPrimaryWalletId:n})=>{const r=k.useRef(!1),i=gJ();k.useEffect(()=>{const o=()=>ae(void 0,void 0,void 0,function*(){if(!i&&N3()){r.current=!0;try{const s=yield DJ({environmentId:e}),a=s==null?void 0:s.verifiedCredentials.find(c=>c.format===od.Blockchain&&c.id===s.lastVerifiedCredentialId);a&&n(a.id)}catch{Ne.debug("Ignore failed refreshUserJwt in useResetCookieLocalStorage")}}});r.current||o()},[i,t])},PHe=()=>{const{projectSettings:e,isProjectSettingsLoading:t,user:n,primaryWalletId:r,walletConnectorOptions:i,setShowAuthFlow:o}=Te(),{isLoadingEmbeddedWallet:s}=Q0(),{loading:a}=X0(),{createEmbeddedWallet:c,shouldAutoCreateEmbeddedWallet:l}=Z0(),d=k.useRef(!1);Lo("logout",()=>{d.current=!1}),k.useEffect(()=>{const f=()=>ae(void 0,void 0,void 0,function*(){d.current=!0;try{yield c()}catch(m){m instanceof GA?Ne.debug("Error creating embedded wallet",m):Ne.error("Error creating embedded wallet",m),o(!1)}});!l()||!n||t||!e||!i.length||s||a||d.current||f()},[n,t,e,r,c,s,i,a,l,o])},OHe=()=>{const{setShowAuthFlow:e,userWithMissingInfo:t,handlers:n,headless:r,sdkHasLoaded:i,setSelectedWalletConnectorKey:o}=Te(),{setView:s}=dn(),{updateUser:a}=OR({validationSchemaStripUnknown:!1}),{completeAuth:c,handleAuthError:l}=Hp({}),{displayedDestination:d}=Ll(),f=k.useRef(!1);Lo("logout",()=>{f.current=!1}),k.useEffect(()=>{var p;const m=()=>ae(void 0,void 0,void 0,function*(){var y;if(!(!(n!=null&&n.handleUserOnboarding)||!(!((y=t==null?void 0:t.missingFields)===null||y===void 0)&&y.length))){f.current=!0;try{const v=t.missingFields.map(C=>({isCustom:C.type==="custom",key:C.name,label:C.label,required:C.required})),w=yield n.handleUserOnboarding(v),_={},E=Object.assign({},t==null?void 0:t.metadata);w.forEach(C=>{C.isCustom?E[C.key]=C.value:_[C.key]=C.value}),yield c({updateJwtFunction:()=>ae(void 0,void 0,void 0,function*(){return a(Object.assign(Object.assign({},_),{metadata:E}))})})}catch(v){Ne.error("Error handling user onboarding",v),l(v,{})}}}),g=()=>ae(void 0,void 0,void 0,function*(){f.current=!0,e(!0);const y=t==null?void 0:t.verifiedCredentials.find(v=>v.id===(t==null?void 0:t.lastVerifiedCredentialId));switch(y!=null&&y.walletName&&o(y==null?void 0:y.walletName),y==null?void 0:y.format){case od.Email:case od.Oauth:s("collect-user-data-login-no-wallet",{userIdentification:"email"});break;case od.PhoneNumber:s("collect-user-data-login-no-wallet",{userIdentification:"phoneNumber",userIdentificationOverride:d});break;default:s("collect-user-data")}});if(!(!i||f.current||!(!((p=t==null?void 0:t.missingFields)===null||p===void 0)&&p.length))){if(n!=null&&n.handleUserOnboarding){m();return}if(r){Ne.error("No onboarding handler found. Please add a handleUserOnboarding handler to your dynamic provider settings.");return}g()}},[i,t,n,c,a,r,e,s,d,l,o])},NHe=()=>(OHe(),PHe(),null),LR=({disabled:e=!1,firstButton:t,secondButton:n,thirdButton:r})=>u.jsxs("div",{className:We("switch__container",{disabled:e}),children:[u.jsx("button",{disabled:e,className:We("button",{active:t.active}),onClick:t.handleButtonClick,children:t.name}),u.jsx("button",{disabled:e,className:We("button",{active:n.active}),onClick:n.handleButtonClick,children:n.name}),r&&u.jsx("button",{disabled:e,className:We("button",{active:r.active}),onClick:r.handleButtonClick,children:r.name})]}),jHe=()=>{const{changeTheme:e,theme:t}=Lu();return u.jsx(LR,{firstButton:{active:t.theme.name==="light",handleButtonClick:()=>e("light"),name:"Light"},secondButton:{active:t.theme.name==="dark",handleButtonClick:()=>e("dark"),name:"Dark"},thirdButton:{active:t.theme.name==="auto",handleButtonClick:()=>e("auto"),name:"Auto"}})},BHe=()=>{const{changePrimaryColor:e,theme:t}=Lu(),[n,r]=k.useState(t.customColor);return u.jsx(ea,{id:"primary-color",label:"Primary color",value:n,onChange:i=>r(i.target.value),onBlur:i=>{const o=n||t.customColor;r(o),e(o)}})},$He=({authMode:e,setAuthMode:t})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"auth-mode-switch__container",children:[u.jsx(Yf,{checked:e==="connect-and-sign",onChange:()=>t("connect-and-sign"),id:"connect-and-sign"}),u.jsx("label",{htmlFor:"connect-and-sign",children:u.jsx(ie,{color:"primary",weight:"regular",children:"Connect and sign"})})]}),u.jsxs("div",{className:"auth-mode-switch__container",children:[u.jsx(Yf,{checked:e==="connect-only",onChange:()=>t("connect-only"),id:"connect-only"}),u.jsx("label",{htmlFor:"connect-only",children:u.jsx(ie,{color:"primary",weight:"regular",children:"Connect only"})})]})]}),MHe=()=>{const{loginWithEmail:e,setLogInWithEmail:t}=Te();return u.jsx(LR,{firstButton:{active:e,handleButtonClick:()=>t(!0),name:"True"},secondButton:{active:!e,handleButtonClick:()=>t(!1),name:"False"}})},DHe=()=>{const{authorizationViewDisplayOrder:e,setAuthorizationViewDisplayOrder:t,loginWithEmail:n}=Te();return u.jsx(LR,{disabled:!n,firstButton:{active:e==="web2",handleButtonClick:()=>t("web2"),name:"Email"},secondButton:{active:e==="web3",handleButtonClick:()=>t("web3"),name:"Wallet"}})},LHe=()=>{const{theme:e,changeTemplate:t}=Lu(),n=r=>{t(r.target.value)};return u.jsxs(TY,{label:"template",value:e.template,onChange:n,selectDataTestId:"template-select",children:[u.jsx("option",{value:"default",children:"Default"}),u.jsx("option",{value:"matrix",children:"Matrix"}),u.jsx("option",{value:"minimal",children:"Minimal"}),u.jsx("option",{value:"rounded",children:"Rounded"}),u.jsx("option",{value:"trinity",children:"Trinity"})]})},UHe=()=>{const{projectSettings:e,user:t,showAuthFlow:n,showDynamicUserProfile:r,toolkitEnabled:i,authMode:o,setAuthMode:s}=Te();return k.useMemo(()=>i?r||n:!1,[n,r,i])?u.jsx(dh,{dataTestId:"toolkit-shadowdom",className:"toolkit-shadowdom",zIndex:xIe,children:u.jsxs("div",{className:"toolkit__container",children:[u.jsxs("div",{className:"toolkit__switcher",children:[u.jsx(ie,{className:"switcher__copy",as:"h2",variant:"body_normal",children:"Theme"}),u.jsx(jHe,{})]}),u.jsxs("div",{className:"toolkit__switcher",children:[u.jsx(ie,{className:"switcher__copy",as:"h2",variant:"body_normal",children:"Template"}),u.jsx(LHe,{})]}),u.jsxs("div",{className:"toolkit__switcher",children:[u.jsx(ie,{className:"switcher__copy",as:"h2",variant:"body_normal",children:"Primary Color"}),u.jsx(BHe,{})]}),!t&&u.jsxs("div",{className:"toolkit__switcher",children:[u.jsx(ie,{className:"switcher__copy",as:"h2",variant:"body_normal",children:"Auth mode"}),u.jsx($He,{authMode:o,setAuthMode:s})]}),K3((e==null?void 0:e.providers)||[])&&!t&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"toolkit__switcher",children:[u.jsx(ie,{className:"switcher__copy",as:"h2",variant:"body_normal",children:"Log in with Email"}),u.jsx(MHe,{})]}),u.jsxs("div",{className:"toolkit__switcher",children:[u.jsx(ie,{className:"switcher__copy",as:"h2",variant:"body_normal",children:"Email vs Wallet priority"}),u.jsx(DHe,{})]})]})]})}):null},FHe=(e,t)=>{if(!e||!t)return;const n=new Set(t.map(i=>i.walletChain));return e.filter(i=>!n.has(i.chain))},WHe=["light","dark","auto"],zHe=e=>WHe.includes(e),qHe=(e,t)=>zHe(e)?II(t,e):e,VHe={idle:["linking_new_wallet","primary_not_connected","switching_primary"],linking_new_wallet:["idle"],primary_not_connected:["idle"],switching_primary:["idle"]},HHe=({from:e,to:t})=>{if(e!==t&&!VHe[e].includes(t))throw new Error(`Invalid AccountSwitch state transition from ${e} to ${t}`);return!0},KHe=e=>{if(e!=="awaiting_account_switch")throw new Error(`Invalid MultiWalletWidget state while trying to set AccountSwitch state: ${e}
Expected: awaiting_account_switch`)},GHe=()=>{const[e,t]=k.useState("idle"),n=k.useCallback(()=>{t("idle")},[t]),r=k.useCallback((i,o)=>{KHe(o),HHe({from:e,to:i}),t(i)},[e]);return[e,r,n]},ZHe={idle:["linking_new_wallet","transferring_wallet"],linking_new_wallet:["idle"],transferring_wallet:["idle"]},JHe=({from:e,to:t})=>{if(e!==t&&!ZHe[e].includes(t))throw new Error(`Invalid AwaitingSignature state transition from ${e} to ${t}`);return!0},YHe=e=>{if(e!=="awaiting_signature")throw new Error(`Invalid MultiWalletWidget state while trying to set AwaitingSignature state: ${e}
Expected: awaiting_signature`)},XHe=()=>{const[e,t]=k.useState("idle"),n=k.useCallback(()=>{t("idle")},[t]),r=k.useCallback((i,o)=>{YHe(o),JHe({from:e,to:i}),t(i)},[e]);return[e,r,n]},QHe={awaiting_account_switch:["awaiting_signature","idle"],awaiting_connection:["idle"],awaiting_signature:["idle"],detected_new_wallet:["awaiting_signature","idle"],idle:["awaiting_account_switch","awaiting_connection","awaiting_signature","detected_new_wallet"]},eKe=({from:e,to:t})=>{if(e!==t&&!QHe[e].includes(t))throw new Error(`Invalid MultiWalletWidget state transition from ${e} to ${t}`);return!0},tKe=()=>{const[e,t]=k.useState("idle"),[n,r,i]=GHe(),[o,s,a]=XHe(),c=k.useCallback(()=>{i(),a()},[i,a]),l=k.useCallback((d,f,p)=>{eKe({from:e,to:d}),t(d),c(),f&&r(f,d),p&&s(p,d)},[e,c,r,s]);return[e,l,{awaiting_account_switch:[n,r],awaiting_signature:[o,s]}]},nKe=({connectors:e})=>{const t=()=>{if(!(typeof window>"u")){for(const n of Ft.getKeys())(n.startsWith("walletconnect")||n.startsWith("walletlink")||n.startsWith("wc@2"))&&localStorage.removeItem(n);e==null||e.forEach(n=>{var r,i,o;!((i=(r=n==null?void 0:n.name)===null||r===void 0?void 0:r.toLowerCase())===null||i===void 0)&&i.startsWith("turnkey")&&((o=n.getAuthenticatorHandler())===null||o===void 0||o.clear(),Ft.removeFromLS(i0),Ft.removeFromLS($K))})}};return k.useEffect(()=>{if(typeof window>"u"||e.length===0)return;const n=new Set(e.map(r=>r.key));for(const r of Ft.getKeys())r.startsWith("walletconnect")&&!n.has(r.replace("walletconnect-",""))&&localStorage.removeItem(r)},[e]),{clearAllWalletConnectSessions:t}},rKe=e=>ae(void 0,[e],void 0,function*({environmentId:t,sessionId:n}){try{yield zn().revokeSession({environmentId:t})}catch(r){const i=yield r.json();Ne.error(Error(i.error.message))}}),iKe=e=>{const t=Object.values(Oi).find(n=>n===e);if(!t)throw new Ae(`Invalid chain ${e}`);return t},oKe=e=>{const t=Object.values(kp).find(n=>n===e);if(!t)throw new Ae(`Invalid provider ${e}`);return t},sKe=e=>{const t=Object.values(dI).find(n=>n===e);if(!t)throw new Ae(`Invalid authMode ${e}`);return t},aKe=e=>ae(void 0,[e],void 0,function*({authMode:t,chain:n,environmentId:r,walletProvider:i,publicWalletAddress:o,walletName:s}){try{const a={address:o,authMode:sKe(t),chain:iKe(n),provider:oKe(i),walletName:s};yield zn().createVisit({connectRequest:a,environmentId:r})}catch(a){Ne.error(a)}}),cKe=(e,t)=>{const n=[...e],r=new Set;for(const i of t){r.add(i.address);const o=n.find(s=>s.address===i.address);if(!o){n.push(i);continue}o.connected=i.connected,o.network=i.network}return n.filter(i=>r.has(i.address)||i.authenticated)},lKe=({authMode:e,clearPrimaryWalletId:t,enableVisitTrackingOnConnectOnly:n,environmentId:r,primaryWalletId:i,setPrimaryWalletId:o,walletConnectorOptions:s,handleConnectedWallet:a,setShowAuthFlow:c,isBridgeFlow:l,user:d})=>{const[f,p,m]=Wf(NK,[]),[g,y]=k.useState([]),{setUserWallets:v,addedWalletsIds:w,removedWalletsIds:_}=Dp(),E=k.useCallback(X=>{y(X),v(U=>cKe(U,X))},[v]),C=k.useCallback(X=>ae(void 0,void 0,void 0,function*(){const U=g.find(P=>P.id===X);yield U==null?void 0:U.connector.endSession();const I=f.filter(P=>P.id!==X);if(p(I),_.current.push(X),X!==i)return;const x=I.length>0;l||!x?t():o(I[0].id)}),[t,g,f,l,i,p,o]),T=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){const X=s.map(I=>I.walletConnector);if(!X.length)return;const U=(yield Promise.all(f.map(I=>ae(void 0,void 0,void 0,function*(){const x=ASe(X,I.walletConnectorKey);if(!x)return Jr.error("Could not find walletConnector: "+I.walletConnectorKey),yield C(I.id),null;const[P]=yield x.getConnectedAccounts();if(!P)return yield C(I.id),null;const[N,$]=yield Promise.all([x.getNetwork(),x.getAdditionalAddresses(P)]),L=x.connectedChain;return{additionalAddresses:$,address:P||"",authenticated:!1,chain:L||"",connected:!0,connector:x,id:I.id,key:x.key,network:N}})))).filter(I=>!!I);E(U)}),[f,C,E,s]);k.useEffect(()=>{T()},[f,s]);const A=k.useCallback(X=>{const I=X.map(({id:x})=>x).map(x=>Number(x.replace("connect-wallet-",""))).sort((x,P)=>x-P);for(let x=0;x<I.length;x++)if(I[x]!==x)return x;return I.length},[]),S=k.useCallback((X,U)=>{const I=[...g],x=I.findIndex(P=>P.id===X);x>-1&&(U.address&&U.network?I[x]=Object.assign(Object.assign({},I[x]),{address:U.address,network:U.network}):U.address?I[x]=Object.assign(Object.assign({},I[x]),{address:U.address}):I[x]=Object.assign(Object.assign({},I[x]),{network:U.network}),E(I))},[g]),O=({walletId:X,walletConnectorKey:U,walletChain:I,provider:x})=>{const P=[...f];P.push({id:X,provider:x,walletChain:I,walletConnectorKey:U}),p(P)},D=X=>ae(void 0,void 0,void 0,function*(){const U=X.connector;NX(U)&&(yield U.connect());const I=X.key==="binance"?X.address:yield U.getAddress();if(X.connected&&I&&a&&!(yield a({address:I,chain:U.connectedChain,connector:U}))){Jr.info("Connection was not established because handleConnectedWallet returned false"),C(X.id),c(!1,{emitCancelAuth:!0});return}const x=yield U.getNetwork();S(X.id,{address:I,network:x})}),K=(X,U,I)=>ae(void 0,void 0,void 0,function*(){const{applyHandleConnectedWallet:x=!0}=I??{},P=yield X.getAddress(U);if(!P)throw new LH;if(a&&x&&!(yield a({address:P,chain:X.connectedChain,connector:X}))){Jr.info("Connection was not established because handleConnectedWallet returned false"),c(!1);return}const N=f.some(({walletConnectorKey:q})=>q===X.key),$=X.connectedChain;if(!N&&(e!=="connect-only"||n)&&aKe({authMode:e,chain:$||"",environmentId:r,publicWalletAddress:P,walletName:X.key,walletProvider:u0(X)}),!I1(d,e))return{address:P,id:""};const z=`connect-wallet-${A(f)}`;return i||o(z),w.current.push(z),N?yield T():O({provider:u0(X),walletAddress:P,walletChain:$,walletConnectorKey:X.key,walletId:z}),{address:P,id:z}}),H=k.useCallback(X=>g.find(U=>U.id===X),[g]);return{connectWallet:K,connectedWallets:g,connectedWalletsInfo:f,disconnectWallet:C,getConnectedWalletById:H,refreshConnectedWallet:D,removeConnectedWalletsInfo:m}},dKe=e=>({walletsForChainsMap:k.useMemo(()=>e?Object.assign(Object.assign({},j6),{primary_chain:e.primary_chain,wallets:Object.assign(Object.assign({},j6.wallets),!!e.wallets&&e.wallets)}):j6,[e])}),uKe=({verifiedCredentials:e,environmentId:t,primaryWalletId:n,secondaryWallets:r})=>{const{removedWalletsIds:i}=Dp();return k.useCallback(s=>ae(void 0,void 0,void 0,function*(){var a;const c=(a=Ft.getFromLS(l3))!==null&&a!==void 0?a:n;if(s===c)return;yield Tje({environmentId:t,onSuccess:()=>{i.current.push(s)},primaryWalletId:c,walletId:s});const l=r.find(f=>f.id===s);e.filter(f=>f.walletName===((l==null?void 0:l.connector.key)||"")).length===1&&(yield l==null?void 0:l.connector.endSession())}),[n,t,r,e,i])},fKe=e=>typeof e=="string"||typeof e>"u",hKe=({environmentId:e,user:t})=>{const[n,r,i]=Wf(l3,void 0,fKe),o=k.useCallback(s=>ae(void 0,void 0,void 0,function*(){r(s),t&&(yield Aje({environmentId:e,walletId:s}))}),[e,r,t]);return{clearPrimaryWalletId:i,primaryWalletId:n,setPrimaryWalletId:o}};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const al=BigInt(0),_a=BigInt(1),K_=BigInt(2),pKe=BigInt(8),mKe={zip215:!0};function gKe(e){const t=DA(e);return M0(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function yKe(e){const t=gKe(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=t,l=K_<<BigInt(a*8)-_a,d=n.create,f=Qk(t.n,t.nBitLength),p=t.uvRatio||((P,N)=>{try{return{isValid:!0,value:n.sqrt(P*n.inv(N))}}catch{return{isValid:!1,value:al}}}),m=t.adjustScalarBytes||(P=>P),g=t.domain||((P,N,$)=>{if(bu("phflag",$),N.length||$)throw new Error("Contexts/pre-hash are not supported");return P});function y(P,N){Fc("coordinate "+P,N,al,l)}function v(P){if(!(P instanceof E))throw new Error("ExtendedPoint expected")}const w=ib((P,N)=>{const{ex:$,ey:L,ez:z}=P,q=P.is0();N==null&&(N=q?pKe:n.inv(z));const j=d($*N),W=d(L*N),re=d(z*N);if(q)return{x:al,y:_a};if(re!==_a)throw new Error("invZ was invalid");return{x:j,y:W}}),_=ib(P=>{const{a:N,d:$}=t;if(P.is0())throw new Error("bad point: ZERO");const{ex:L,ey:z,ez:q,et:j}=P,W=d(L*L),re=d(z*z),de=d(q*q),te=d(de*de),ce=d(W*N),ge=d(de*d(ce+re)),Ce=d(te+d($*d(W*re)));if(ge!==Ce)throw new Error("bad point: equation left != right (1)");const qe=d(L*z),J=d(q*j);if(qe!==J)throw new Error("bad point: equation left != right (2)");return!0});class E{constructor(N,$,L,z){this.ex=N,this.ey=$,this.ez=L,this.et=z,y("x",N),y("y",$),y("z",L),y("t",z),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(N){if(N instanceof E)throw new Error("extended point not allowed");const{x:$,y:L}=N||{};return y("x",$),y("y",L),new E($,L,_a,d($*L))}static normalizeZ(N){const $=n.invertBatch(N.map(L=>L.ez));return N.map((L,z)=>L.toAffine($[z])).map(E.fromAffine)}static msm(N,$){return dH(E,f,N,$)}_setWindowSize(N){A.setWindowSize(this,N)}assertValidity(){_(this)}equals(N){v(N);const{ex:$,ey:L,ez:z}=this,{ex:q,ey:j,ez:W}=N,re=d($*W),de=d(q*z),te=d(L*W),ce=d(j*z);return re===de&&te===ce}is0(){return this.equals(E.ZERO)}negate(){return new E(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:N}=t,{ex:$,ey:L,ez:z}=this,q=d($*$),j=d(L*L),W=d(K_*d(z*z)),re=d(N*q),de=$+L,te=d(d(de*de)-q-j),ce=re+j,ge=ce-W,Ce=re-j,qe=d(te*ge),J=d(ce*Ce),G=d(te*Ce),we=d(ge*ce);return new E(qe,J,we,G)}add(N){v(N);const{a:$,d:L}=t,{ex:z,ey:q,ez:j,et:W}=this,{ex:re,ey:de,ez:te,et:ce}=N;if($===BigInt(-1)){const ve=d((q-z)*(de+re)),Ue=d((q+z)*(de-re)),Qe=d(Ue-ve);if(Qe===al)return this.double();const Ze=d(j*K_*ce),it=d(W*K_*te),It=it+Ze,kt=Ue+ve,St=it-Ze,Dn=d(It*Qe),fn=d(kt*St),cn=d(It*St),Cr=d(Qe*kt);return new E(Dn,fn,Cr,cn)}const ge=d(z*re),Ce=d(q*de),qe=d(W*L*ce),J=d(j*te),G=d((z+q)*(re+de)-ge-Ce),we=J-qe,$e=J+qe,yt=d(Ce-$*ge),Gt=d(G*we),_t=d($e*yt),Rn=d(G*yt),mr=d(we*$e);return new E(Gt,_t,mr,Rn)}subtract(N){return this.add(N.negate())}wNAF(N){return A.wNAFCached(this,N,E.normalizeZ)}multiply(N){const $=N;Fc("scalar",$,_a,r);const{p:L,f:z}=this.wNAF($);return E.normalizeZ([L,z])[0]}multiplyUnsafe(N,$=E.ZERO){const L=N;return Fc("scalar",L,al,r),L===al?T:this.is0()||L===_a?this:A.wNAFCachedUnsafe(this,L,E.normalizeZ,$)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(N){return w(this,N)}clearCofactor(){const{h:N}=t;return N===_a?this:this.multiplyUnsafe(N)}static fromHex(N,$=!1){const{d:L,a:z}=t,q=n.BYTES;N=Go("pointHex",N,q),bu("zip215",$);const j=N.slice(),W=N[q-1];j[q-1]=W&-129;const re=Ig(j),de=$?l:n.ORDER;Fc("pointHex.y",re,al,de);const te=d(re*re),ce=d(te-_a),ge=d(L*te-z);let{isValid:Ce,value:qe}=p(ce,ge);if(!Ce)throw new Error("Point.fromHex: invalid y coordinate");const J=(qe&_a)===_a,G=(W&128)!==0;if(!$&&qe===al&&G)throw new Error("Point.fromHex: x=0 and x_0=1");return G!==J&&(qe=d(-qe)),E.fromAffine({x:qe,y:re})}static fromPrivateKey(N){return D(N).point}toRawBytes(){const{x:N,y:$}=this.toAffine(),L=rb($,n.BYTES);return L[L.length-1]|=N&_a?128:0,L}toHex(){return mp(this.toRawBytes())}}E.BASE=new E(t.Gx,t.Gy,_a,d(t.Gx*t.Gy)),E.ZERO=new E(al,_a,_a,al);const{BASE:C,ZERO:T}=E,A=lH(E,a*8);function S(P){return so(P,r)}function O(P){return S(Ig(P))}function D(P){const N=n.BYTES;P=Go("private key",P,N);const $=Go("hashed private key",o(P),2*N),L=m($.slice(0,N)),z=$.slice(N,2*N),q=O(L),j=C.multiply(q),W=j.toRawBytes();return{head:L,prefix:z,scalar:q,point:j,pointBytes:W}}function K(P){return D(P).pointBytes}function H(P=new Uint8Array,...N){const $=gp(...N);return O(o(g($,Go("context",P),!!i)))}function X(P,N,$={}){P=Go("message",P),i&&(P=i(P));const{prefix:L,scalar:z,pointBytes:q}=D(N),j=H($.context,L,P),W=C.multiply(j).toRawBytes(),re=H($.context,W,q,P),de=S(j+re*z);Fc("signature.s",de,al,r);const te=gp(W,rb(de,n.BYTES));return Go("result",te,n.BYTES*2)}const U=mKe;function I(P,N,$,L=U){const{context:z,zip215:q}=L,j=n.BYTES;P=Go("signature",P,2*j),N=Go("message",N),$=Go("publicKey",$,j),q!==void 0&&bu("zip215",q),i&&(N=i(N));const W=Ig(P.slice(j,2*j));let re,de,te;try{re=E.fromHex($,q),de=E.fromHex(P.slice(0,j),q),te=C.multiplyUnsafe(W)}catch{return!1}if(!q&&re.isSmallOrder())return!1;const ce=H(z,de.toRawBytes(),re.toRawBytes(),N);return de.add(re.multiplyUnsafe(ce)).subtract(te).clearCofactor().equals(E.ZERO)}return C._setWindowSize(8),{CURVE:t,getPublicKey:K,sign:X,verify:I,ExtendedPoint:E,utils:{getExtendedPublicKey:D,randomPrivateKey:()=>s(n.BYTES),precompute(P=8,N=E.BASE){return N._setWindowSize(P),N.multiply(BigInt(3)),N}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const UR=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),fL=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const vKe=BigInt(1),hL=BigInt(2);BigInt(3);const bKe=BigInt(5),wKe=BigInt(8);function _Ke(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=UR,a=e*e%o*e%o,c=xo(a,hL,o)*a%o,l=xo(c,vKe,o)*e%o,d=xo(l,bKe,o)*l%o,f=xo(d,t,o)*d%o,p=xo(f,n,o)*f%o,m=xo(p,r,o)*p%o,g=xo(m,i,o)*m%o,y=xo(g,i,o)*m%o,v=xo(y,t,o)*d%o;return{pow_p_5_8:xo(v,hL,o)*e%o,b2:a}}function xKe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function kKe(e,t){const n=UR,r=so(t*t*t,n),i=so(r*r*t,n),o=_Ke(e*i).pow_p_5_8;let s=so(e*r*o,n);const a=so(t*s*s,n),c=s,l=so(s*fL,n),d=a===e,f=a===so(-e,n),p=a===so(-e*fL,n);return d&&(s=c),(f||p)&&(s=l),Pxe(s,n)&&(s=so(-s,n)),{isValid:d||f,value:s}}const SKe=Qk(UR,void 0,!0),EKe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:SKe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:wKe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Qxe,randomBytes:$z,adjustScalarBytes:xKe,uvRatio:kKe},cc=yKe(EKe);var FR={exports:{}};FR.exports;(function(e){(function(t,n){function r(U,I){if(!U)throw new Error(I||"Assertion failed")}function i(U,I){U.super_=I;var x=function(){};x.prototype=I.prototype,U.prototype=new x,U.prototype.constructor=U}function o(U,I,x){if(o.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((I==="le"||I==="be")&&(x=I,I=10),this._init(U||0,I||10,x||"be"))}typeof t=="object"?t.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=vk.Buffer}catch{}o.isBN=function(I){return I instanceof o?!0:I!==null&&typeof I=="object"&&I.constructor.wordSize===o.wordSize&&Array.isArray(I.words)},o.max=function(I,x){return I.cmp(x)>0?I:x},o.min=function(I,x){return I.cmp(x)<0?I:x},o.prototype._init=function(I,x,P){if(typeof I=="number")return this._initNumber(I,x,P);if(typeof I=="object")return this._initArray(I,x,P);x==="hex"&&(x=16),r(x===(x|0)&&x>=2&&x<=36),I=I.toString().replace(/\s+/g,"");var N=0;I[0]==="-"&&(N++,this.negative=1),N<I.length&&(x===16?this._parseHex(I,N,P):(this._parseBase(I,x,N),P==="le"&&this._initArray(this.toArray(),x,P)))},o.prototype._initNumber=function(I,x,P){I<0&&(this.negative=1,I=-I),I<67108864?(this.words=[I&67108863],this.length=1):I<4503599627370496?(this.words=[I&67108863,I/67108864&67108863],this.length=2):(r(I<9007199254740992),this.words=[I&67108863,I/67108864&67108863,1],this.length=3),P==="le"&&this._initArray(this.toArray(),x,P)},o.prototype._initArray=function(I,x,P){if(r(typeof I.length=="number"),I.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(I.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var $,L,z=0;if(P==="be")for(N=I.length-1,$=0;N>=0;N-=3)L=I[N]|I[N-1]<<8|I[N-2]<<16,this.words[$]|=L<<z&67108863,this.words[$+1]=L>>>26-z&67108863,z+=24,z>=26&&(z-=26,$++);else if(P==="le")for(N=0,$=0;N<I.length;N+=3)L=I[N]|I[N+1]<<8|I[N+2]<<16,this.words[$]|=L<<z&67108863,this.words[$+1]=L>>>26-z&67108863,z+=24,z>=26&&(z-=26,$++);return this._strip()};function a(U,I){var x=U.charCodeAt(I);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;r(!1,"Invalid character in "+U)}function c(U,I,x){var P=a(U,x);return x-1>=I&&(P|=a(U,x-1)<<4),P}o.prototype._parseHex=function(I,x,P){this.length=Math.ceil((I.length-x)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var $=0,L=0,z;if(P==="be")for(N=I.length-1;N>=x;N-=2)z=c(I,x,N)<<$,this.words[L]|=z&67108863,$>=18?($-=18,L+=1,this.words[L]|=z>>>26):$+=8;else{var q=I.length-x;for(N=q%2===0?x+1:x;N<I.length;N+=2)z=c(I,x,N)<<$,this.words[L]|=z&67108863,$>=18?($-=18,L+=1,this.words[L]|=z>>>26):$+=8}this._strip()};function l(U,I,x,P){for(var N=0,$=0,L=Math.min(U.length,x),z=I;z<L;z++){var q=U.charCodeAt(z)-48;N*=P,q>=49?$=q-49+10:q>=17?$=q-17+10:$=q,r(q>=0&&$<P,"Invalid character"),N+=$}return N}o.prototype._parseBase=function(I,x,P){this.words=[0],this.length=1;for(var N=0,$=1;$<=67108863;$*=x)N++;N--,$=$/x|0;for(var L=I.length-P,z=L%N,q=Math.min(L,L-z)+P,j=0,W=P;W<q;W+=N)j=l(I,W,W+N,x),this.imuln($),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(z!==0){var re=1;for(j=l(I,W,I.length,x),W=0;W<z;W++)re*=x;this.imuln(re),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this._strip()},o.prototype.copy=function(I){I.words=new Array(this.length);for(var x=0;x<this.length;x++)I.words[x]=this.words[x];I.length=this.length,I.negative=this.negative,I.red=this.red};function d(U,I){U.words=I.words,U.length=I.length,U.negative=I.negative,U.red=I.red}if(o.prototype._move=function(I){d(I,this)},o.prototype.clone=function(){var I=new o(null);return this.copy(I),I},o.prototype._expand=function(I){for(;this.length<I;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(I,x){I=I||10,x=x|0||1;var P;if(I===16||I==="hex"){P="";for(var N=0,$=0,L=0;L<this.length;L++){var z=this.words[L],q=((z<<N|$)&16777215).toString(16);$=z>>>24-N&16777215,N+=2,N>=26&&(N-=26,L--),$!==0||L!==this.length-1?P=p[6-q.length]+q+P:P=q+P}for($!==0&&(P=$.toString(16)+P);P.length%x!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}if(I===(I|0)&&I>=2&&I<=36){var j=m[I],W=g[I];P="";var re=this.clone();for(re.negative=0;!re.isZero();){var de=re.modrn(W).toString(I);re=re.idivn(W),re.isZero()?P=de+P:P=p[j-de.length]+de+P}for(this.isZero()&&(P="0"+P);P.length%x!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var I=this.words[0];return this.length===2?I+=this.words[1]*67108864:this.length===3&&this.words[2]===1?I+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-I:I},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(I,x){return this.toArrayLike(s,I,x)}),o.prototype.toArray=function(I,x){return this.toArrayLike(Array,I,x)};var y=function(I,x){return I.allocUnsafe?I.allocUnsafe(x):new I(x)};o.prototype.toArrayLike=function(I,x,P){this._strip();var N=this.byteLength(),$=P||Math.max(1,N);r(N<=$,"byte array longer than desired length"),r($>0,"Requested array length <= 0");var L=y(I,$),z=x==="le"?"LE":"BE";return this["_toArrayLike"+z](L,N),L},o.prototype._toArrayLikeLE=function(I,x){for(var P=0,N=0,$=0,L=0;$<this.length;$++){var z=this.words[$]<<L|N;I[P++]=z&255,P<I.length&&(I[P++]=z>>8&255),P<I.length&&(I[P++]=z>>16&255),L===6?(P<I.length&&(I[P++]=z>>24&255),N=0,L=0):(N=z>>>24,L+=2)}if(P<I.length)for(I[P++]=N;P<I.length;)I[P++]=0},o.prototype._toArrayLikeBE=function(I,x){for(var P=I.length-1,N=0,$=0,L=0;$<this.length;$++){var z=this.words[$]<<L|N;I[P--]=z&255,P>=0&&(I[P--]=z>>8&255),P>=0&&(I[P--]=z>>16&255),L===6?(P>=0&&(I[P--]=z>>24&255),N=0,L=0):(N=z>>>24,L+=2)}if(P>=0)for(I[P--]=N;P>=0;)I[P--]=0},Math.clz32?o.prototype._countBits=function(I){return 32-Math.clz32(I)}:o.prototype._countBits=function(I){var x=I,P=0;return x>=4096&&(P+=13,x>>>=13),x>=64&&(P+=7,x>>>=7),x>=8&&(P+=4,x>>>=4),x>=2&&(P+=2,x>>>=2),P+x},o.prototype._zeroBits=function(I){if(I===0)return 26;var x=I,P=0;return x&8191||(P+=13,x>>>=13),x&127||(P+=7,x>>>=7),x&15||(P+=4,x>>>=4),x&3||(P+=2,x>>>=2),x&1||P++,P},o.prototype.bitLength=function(){var I=this.words[this.length-1],x=this._countBits(I);return(this.length-1)*26+x};function v(U){for(var I=new Array(U.bitLength()),x=0;x<I.length;x++){var P=x/26|0,N=x%26;I[x]=U.words[P]>>>N&1}return I}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var I=0,x=0;x<this.length;x++){var P=this._zeroBits(this.words[x]);if(I+=P,P!==26)break}return I},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(I){return this.negative!==0?this.abs().inotn(I).iaddn(1):this.clone()},o.prototype.fromTwos=function(I){return this.testn(I-1)?this.notn(I).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(I){for(;this.length<I.length;)this.words[this.length++]=0;for(var x=0;x<I.length;x++)this.words[x]=this.words[x]|I.words[x];return this._strip()},o.prototype.ior=function(I){return r((this.negative|I.negative)===0),this.iuor(I)},o.prototype.or=function(I){return this.length>I.length?this.clone().ior(I):I.clone().ior(this)},o.prototype.uor=function(I){return this.length>I.length?this.clone().iuor(I):I.clone().iuor(this)},o.prototype.iuand=function(I){var x;this.length>I.length?x=I:x=this;for(var P=0;P<x.length;P++)this.words[P]=this.words[P]&I.words[P];return this.length=x.length,this._strip()},o.prototype.iand=function(I){return r((this.negative|I.negative)===0),this.iuand(I)},o.prototype.and=function(I){return this.length>I.length?this.clone().iand(I):I.clone().iand(this)},o.prototype.uand=function(I){return this.length>I.length?this.clone().iuand(I):I.clone().iuand(this)},o.prototype.iuxor=function(I){var x,P;this.length>I.length?(x=this,P=I):(x=I,P=this);for(var N=0;N<P.length;N++)this.words[N]=x.words[N]^P.words[N];if(this!==x)for(;N<x.length;N++)this.words[N]=x.words[N];return this.length=x.length,this._strip()},o.prototype.ixor=function(I){return r((this.negative|I.negative)===0),this.iuxor(I)},o.prototype.xor=function(I){return this.length>I.length?this.clone().ixor(I):I.clone().ixor(this)},o.prototype.uxor=function(I){return this.length>I.length?this.clone().iuxor(I):I.clone().iuxor(this)},o.prototype.inotn=function(I){r(typeof I=="number"&&I>=0);var x=Math.ceil(I/26)|0,P=I%26;this._expand(x),P>0&&x--;for(var N=0;N<x;N++)this.words[N]=~this.words[N]&67108863;return P>0&&(this.words[N]=~this.words[N]&67108863>>26-P),this._strip()},o.prototype.notn=function(I){return this.clone().inotn(I)},o.prototype.setn=function(I,x){r(typeof I=="number"&&I>=0);var P=I/26|0,N=I%26;return this._expand(P+1),x?this.words[P]=this.words[P]|1<<N:this.words[P]=this.words[P]&~(1<<N),this._strip()},o.prototype.iadd=function(I){var x;if(this.negative!==0&&I.negative===0)return this.negative=0,x=this.isub(I),this.negative^=1,this._normSign();if(this.negative===0&&I.negative!==0)return I.negative=0,x=this.isub(I),I.negative=1,x._normSign();var P,N;this.length>I.length?(P=this,N=I):(P=I,N=this);for(var $=0,L=0;L<N.length;L++)x=(P.words[L]|0)+(N.words[L]|0)+$,this.words[L]=x&67108863,$=x>>>26;for(;$!==0&&L<P.length;L++)x=(P.words[L]|0)+$,this.words[L]=x&67108863,$=x>>>26;if(this.length=P.length,$!==0)this.words[this.length]=$,this.length++;else if(P!==this)for(;L<P.length;L++)this.words[L]=P.words[L];return this},o.prototype.add=function(I){var x;return I.negative!==0&&this.negative===0?(I.negative=0,x=this.sub(I),I.negative^=1,x):I.negative===0&&this.negative!==0?(this.negative=0,x=I.sub(this),this.negative=1,x):this.length>I.length?this.clone().iadd(I):I.clone().iadd(this)},o.prototype.isub=function(I){if(I.negative!==0){I.negative=0;var x=this.iadd(I);return I.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(I),this.negative=1,this._normSign();var P=this.cmp(I);if(P===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,$;P>0?(N=this,$=I):(N=I,$=this);for(var L=0,z=0;z<$.length;z++)x=(N.words[z]|0)-($.words[z]|0)+L,L=x>>26,this.words[z]=x&67108863;for(;L!==0&&z<N.length;z++)x=(N.words[z]|0)+L,L=x>>26,this.words[z]=x&67108863;if(L===0&&z<N.length&&N!==this)for(;z<N.length;z++)this.words[z]=N.words[z];return this.length=Math.max(this.length,z),N!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(I){return this.clone().isub(I)};function w(U,I,x){x.negative=I.negative^U.negative;var P=U.length+I.length|0;x.length=P,P=P-1|0;var N=U.words[0]|0,$=I.words[0]|0,L=N*$,z=L&67108863,q=L/67108864|0;x.words[0]=z;for(var j=1;j<P;j++){for(var W=q>>>26,re=q&67108863,de=Math.min(j,I.length-1),te=Math.max(0,j-U.length+1);te<=de;te++){var ce=j-te|0;N=U.words[ce]|0,$=I.words[te]|0,L=N*$+re,W+=L/67108864|0,re=L&67108863}x.words[j]=re|0,q=W|0}return q!==0?x.words[j]=q|0:x.length--,x._strip()}var _=function(I,x,P){var N=I.words,$=x.words,L=P.words,z=0,q,j,W,re=N[0]|0,de=re&8191,te=re>>>13,ce=N[1]|0,ge=ce&8191,Ce=ce>>>13,qe=N[2]|0,J=qe&8191,G=qe>>>13,we=N[3]|0,$e=we&8191,yt=we>>>13,Gt=N[4]|0,_t=Gt&8191,Rn=Gt>>>13,mr=N[5]|0,ve=mr&8191,Ue=mr>>>13,Qe=N[6]|0,Ze=Qe&8191,it=Qe>>>13,It=N[7]|0,kt=It&8191,St=It>>>13,Dn=N[8]|0,fn=Dn&8191,cn=Dn>>>13,Cr=N[9]|0,Pn=Cr&8191,jn=Cr>>>13,Dr=$[0]|0,yn=Dr&8191,Ir=Dr>>>13,wo=$[1]|0,Lr=wo&8191,ur=wo>>>13,as=$[2]|0,Qr=as&8191,ri=as>>>13,Ms=$[3]|0,Xt=Ms&8191,fr=Ms>>>13,Fi=$[4]|0,zr=Fi&8191,Ur=Fi>>>13,Ds=$[5]|0,si=Ds&8191,or=Ds>>>13,Oo=$[6]|0,F=Oo&8191,Z=Oo>>>13,Y=$[7]|0,B=Y&8191,Q=Y>>>13,_e=$[8]|0,xe=_e&8191,Fe=_e>>>13,at=$[9]|0,ct=at&8191,ot=at>>>13;P.negative=I.negative^x.negative,P.length=19,q=Math.imul(de,yn),j=Math.imul(de,Ir),j=j+Math.imul(te,yn)|0,W=Math.imul(te,Ir);var Zn=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,q=Math.imul(ge,yn),j=Math.imul(ge,Ir),j=j+Math.imul(Ce,yn)|0,W=Math.imul(Ce,Ir),q=q+Math.imul(de,Lr)|0,j=j+Math.imul(de,ur)|0,j=j+Math.imul(te,Lr)|0,W=W+Math.imul(te,ur)|0;var At=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(At>>>26)|0,At&=67108863,q=Math.imul(J,yn),j=Math.imul(J,Ir),j=j+Math.imul(G,yn)|0,W=Math.imul(G,Ir),q=q+Math.imul(ge,Lr)|0,j=j+Math.imul(ge,ur)|0,j=j+Math.imul(Ce,Lr)|0,W=W+Math.imul(Ce,ur)|0,q=q+Math.imul(de,Qr)|0,j=j+Math.imul(de,ri)|0,j=j+Math.imul(te,Qr)|0,W=W+Math.imul(te,ri)|0;var pn=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(pn>>>26)|0,pn&=67108863,q=Math.imul($e,yn),j=Math.imul($e,Ir),j=j+Math.imul(yt,yn)|0,W=Math.imul(yt,Ir),q=q+Math.imul(J,Lr)|0,j=j+Math.imul(J,ur)|0,j=j+Math.imul(G,Lr)|0,W=W+Math.imul(G,ur)|0,q=q+Math.imul(ge,Qr)|0,j=j+Math.imul(ge,ri)|0,j=j+Math.imul(Ce,Qr)|0,W=W+Math.imul(Ce,ri)|0,q=q+Math.imul(de,Xt)|0,j=j+Math.imul(de,fr)|0,j=j+Math.imul(te,Xt)|0,W=W+Math.imul(te,fr)|0;var kn=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(kn>>>26)|0,kn&=67108863,q=Math.imul(_t,yn),j=Math.imul(_t,Ir),j=j+Math.imul(Rn,yn)|0,W=Math.imul(Rn,Ir),q=q+Math.imul($e,Lr)|0,j=j+Math.imul($e,ur)|0,j=j+Math.imul(yt,Lr)|0,W=W+Math.imul(yt,ur)|0,q=q+Math.imul(J,Qr)|0,j=j+Math.imul(J,ri)|0,j=j+Math.imul(G,Qr)|0,W=W+Math.imul(G,ri)|0,q=q+Math.imul(ge,Xt)|0,j=j+Math.imul(ge,fr)|0,j=j+Math.imul(Ce,Xt)|0,W=W+Math.imul(Ce,fr)|0,q=q+Math.imul(de,zr)|0,j=j+Math.imul(de,Ur)|0,j=j+Math.imul(te,zr)|0,W=W+Math.imul(te,Ur)|0;var mn=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(mn>>>26)|0,mn&=67108863,q=Math.imul(ve,yn),j=Math.imul(ve,Ir),j=j+Math.imul(Ue,yn)|0,W=Math.imul(Ue,Ir),q=q+Math.imul(_t,Lr)|0,j=j+Math.imul(_t,ur)|0,j=j+Math.imul(Rn,Lr)|0,W=W+Math.imul(Rn,ur)|0,q=q+Math.imul($e,Qr)|0,j=j+Math.imul($e,ri)|0,j=j+Math.imul(yt,Qr)|0,W=W+Math.imul(yt,ri)|0,q=q+Math.imul(J,Xt)|0,j=j+Math.imul(J,fr)|0,j=j+Math.imul(G,Xt)|0,W=W+Math.imul(G,fr)|0,q=q+Math.imul(ge,zr)|0,j=j+Math.imul(ge,Ur)|0,j=j+Math.imul(Ce,zr)|0,W=W+Math.imul(Ce,Ur)|0,q=q+Math.imul(de,si)|0,j=j+Math.imul(de,or)|0,j=j+Math.imul(te,si)|0,W=W+Math.imul(te,or)|0;var vn=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(vn>>>26)|0,vn&=67108863,q=Math.imul(Ze,yn),j=Math.imul(Ze,Ir),j=j+Math.imul(it,yn)|0,W=Math.imul(it,Ir),q=q+Math.imul(ve,Lr)|0,j=j+Math.imul(ve,ur)|0,j=j+Math.imul(Ue,Lr)|0,W=W+Math.imul(Ue,ur)|0,q=q+Math.imul(_t,Qr)|0,j=j+Math.imul(_t,ri)|0,j=j+Math.imul(Rn,Qr)|0,W=W+Math.imul(Rn,ri)|0,q=q+Math.imul($e,Xt)|0,j=j+Math.imul($e,fr)|0,j=j+Math.imul(yt,Xt)|0,W=W+Math.imul(yt,fr)|0,q=q+Math.imul(J,zr)|0,j=j+Math.imul(J,Ur)|0,j=j+Math.imul(G,zr)|0,W=W+Math.imul(G,Ur)|0,q=q+Math.imul(ge,si)|0,j=j+Math.imul(ge,or)|0,j=j+Math.imul(Ce,si)|0,W=W+Math.imul(Ce,or)|0,q=q+Math.imul(de,F)|0,j=j+Math.imul(de,Z)|0,j=j+Math.imul(te,F)|0,W=W+Math.imul(te,Z)|0;var bn=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(bn>>>26)|0,bn&=67108863,q=Math.imul(kt,yn),j=Math.imul(kt,Ir),j=j+Math.imul(St,yn)|0,W=Math.imul(St,Ir),q=q+Math.imul(Ze,Lr)|0,j=j+Math.imul(Ze,ur)|0,j=j+Math.imul(it,Lr)|0,W=W+Math.imul(it,ur)|0,q=q+Math.imul(ve,Qr)|0,j=j+Math.imul(ve,ri)|0,j=j+Math.imul(Ue,Qr)|0,W=W+Math.imul(Ue,ri)|0,q=q+Math.imul(_t,Xt)|0,j=j+Math.imul(_t,fr)|0,j=j+Math.imul(Rn,Xt)|0,W=W+Math.imul(Rn,fr)|0,q=q+Math.imul($e,zr)|0,j=j+Math.imul($e,Ur)|0,j=j+Math.imul(yt,zr)|0,W=W+Math.imul(yt,Ur)|0,q=q+Math.imul(J,si)|0,j=j+Math.imul(J,or)|0,j=j+Math.imul(G,si)|0,W=W+Math.imul(G,or)|0,q=q+Math.imul(ge,F)|0,j=j+Math.imul(ge,Z)|0,j=j+Math.imul(Ce,F)|0,W=W+Math.imul(Ce,Z)|0,q=q+Math.imul(de,B)|0,j=j+Math.imul(de,Q)|0,j=j+Math.imul(te,B)|0,W=W+Math.imul(te,Q)|0;var gn=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(gn>>>26)|0,gn&=67108863,q=Math.imul(fn,yn),j=Math.imul(fn,Ir),j=j+Math.imul(cn,yn)|0,W=Math.imul(cn,Ir),q=q+Math.imul(kt,Lr)|0,j=j+Math.imul(kt,ur)|0,j=j+Math.imul(St,Lr)|0,W=W+Math.imul(St,ur)|0,q=q+Math.imul(Ze,Qr)|0,j=j+Math.imul(Ze,ri)|0,j=j+Math.imul(it,Qr)|0,W=W+Math.imul(it,ri)|0,q=q+Math.imul(ve,Xt)|0,j=j+Math.imul(ve,fr)|0,j=j+Math.imul(Ue,Xt)|0,W=W+Math.imul(Ue,fr)|0,q=q+Math.imul(_t,zr)|0,j=j+Math.imul(_t,Ur)|0,j=j+Math.imul(Rn,zr)|0,W=W+Math.imul(Rn,Ur)|0,q=q+Math.imul($e,si)|0,j=j+Math.imul($e,or)|0,j=j+Math.imul(yt,si)|0,W=W+Math.imul(yt,or)|0,q=q+Math.imul(J,F)|0,j=j+Math.imul(J,Z)|0,j=j+Math.imul(G,F)|0,W=W+Math.imul(G,Z)|0,q=q+Math.imul(ge,B)|0,j=j+Math.imul(ge,Q)|0,j=j+Math.imul(Ce,B)|0,W=W+Math.imul(Ce,Q)|0,q=q+Math.imul(de,xe)|0,j=j+Math.imul(de,Fe)|0,j=j+Math.imul(te,xe)|0,W=W+Math.imul(te,Fe)|0;var wn=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(wn>>>26)|0,wn&=67108863,q=Math.imul(Pn,yn),j=Math.imul(Pn,Ir),j=j+Math.imul(jn,yn)|0,W=Math.imul(jn,Ir),q=q+Math.imul(fn,Lr)|0,j=j+Math.imul(fn,ur)|0,j=j+Math.imul(cn,Lr)|0,W=W+Math.imul(cn,ur)|0,q=q+Math.imul(kt,Qr)|0,j=j+Math.imul(kt,ri)|0,j=j+Math.imul(St,Qr)|0,W=W+Math.imul(St,ri)|0,q=q+Math.imul(Ze,Xt)|0,j=j+Math.imul(Ze,fr)|0,j=j+Math.imul(it,Xt)|0,W=W+Math.imul(it,fr)|0,q=q+Math.imul(ve,zr)|0,j=j+Math.imul(ve,Ur)|0,j=j+Math.imul(Ue,zr)|0,W=W+Math.imul(Ue,Ur)|0,q=q+Math.imul(_t,si)|0,j=j+Math.imul(_t,or)|0,j=j+Math.imul(Rn,si)|0,W=W+Math.imul(Rn,or)|0,q=q+Math.imul($e,F)|0,j=j+Math.imul($e,Z)|0,j=j+Math.imul(yt,F)|0,W=W+Math.imul(yt,Z)|0,q=q+Math.imul(J,B)|0,j=j+Math.imul(J,Q)|0,j=j+Math.imul(G,B)|0,W=W+Math.imul(G,Q)|0,q=q+Math.imul(ge,xe)|0,j=j+Math.imul(ge,Fe)|0,j=j+Math.imul(Ce,xe)|0,W=W+Math.imul(Ce,Fe)|0,q=q+Math.imul(de,ct)|0,j=j+Math.imul(de,ot)|0,j=j+Math.imul(te,ct)|0,W=W+Math.imul(te,ot)|0;var Nt=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,q=Math.imul(Pn,Lr),j=Math.imul(Pn,ur),j=j+Math.imul(jn,Lr)|0,W=Math.imul(jn,ur),q=q+Math.imul(fn,Qr)|0,j=j+Math.imul(fn,ri)|0,j=j+Math.imul(cn,Qr)|0,W=W+Math.imul(cn,ri)|0,q=q+Math.imul(kt,Xt)|0,j=j+Math.imul(kt,fr)|0,j=j+Math.imul(St,Xt)|0,W=W+Math.imul(St,fr)|0,q=q+Math.imul(Ze,zr)|0,j=j+Math.imul(Ze,Ur)|0,j=j+Math.imul(it,zr)|0,W=W+Math.imul(it,Ur)|0,q=q+Math.imul(ve,si)|0,j=j+Math.imul(ve,or)|0,j=j+Math.imul(Ue,si)|0,W=W+Math.imul(Ue,or)|0,q=q+Math.imul(_t,F)|0,j=j+Math.imul(_t,Z)|0,j=j+Math.imul(Rn,F)|0,W=W+Math.imul(Rn,Z)|0,q=q+Math.imul($e,B)|0,j=j+Math.imul($e,Q)|0,j=j+Math.imul(yt,B)|0,W=W+Math.imul(yt,Q)|0,q=q+Math.imul(J,xe)|0,j=j+Math.imul(J,Fe)|0,j=j+Math.imul(G,xe)|0,W=W+Math.imul(G,Fe)|0,q=q+Math.imul(ge,ct)|0,j=j+Math.imul(ge,ot)|0,j=j+Math.imul(Ce,ct)|0,W=W+Math.imul(Ce,ot)|0;var zt=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(zt>>>26)|0,zt&=67108863,q=Math.imul(Pn,Qr),j=Math.imul(Pn,ri),j=j+Math.imul(jn,Qr)|0,W=Math.imul(jn,ri),q=q+Math.imul(fn,Xt)|0,j=j+Math.imul(fn,fr)|0,j=j+Math.imul(cn,Xt)|0,W=W+Math.imul(cn,fr)|0,q=q+Math.imul(kt,zr)|0,j=j+Math.imul(kt,Ur)|0,j=j+Math.imul(St,zr)|0,W=W+Math.imul(St,Ur)|0,q=q+Math.imul(Ze,si)|0,j=j+Math.imul(Ze,or)|0,j=j+Math.imul(it,si)|0,W=W+Math.imul(it,or)|0,q=q+Math.imul(ve,F)|0,j=j+Math.imul(ve,Z)|0,j=j+Math.imul(Ue,F)|0,W=W+Math.imul(Ue,Z)|0,q=q+Math.imul(_t,B)|0,j=j+Math.imul(_t,Q)|0,j=j+Math.imul(Rn,B)|0,W=W+Math.imul(Rn,Q)|0,q=q+Math.imul($e,xe)|0,j=j+Math.imul($e,Fe)|0,j=j+Math.imul(yt,xe)|0,W=W+Math.imul(yt,Fe)|0,q=q+Math.imul(J,ct)|0,j=j+Math.imul(J,ot)|0,j=j+Math.imul(G,ct)|0,W=W+Math.imul(G,ot)|0;var vt=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(vt>>>26)|0,vt&=67108863,q=Math.imul(Pn,Xt),j=Math.imul(Pn,fr),j=j+Math.imul(jn,Xt)|0,W=Math.imul(jn,fr),q=q+Math.imul(fn,zr)|0,j=j+Math.imul(fn,Ur)|0,j=j+Math.imul(cn,zr)|0,W=W+Math.imul(cn,Ur)|0,q=q+Math.imul(kt,si)|0,j=j+Math.imul(kt,or)|0,j=j+Math.imul(St,si)|0,W=W+Math.imul(St,or)|0,q=q+Math.imul(Ze,F)|0,j=j+Math.imul(Ze,Z)|0,j=j+Math.imul(it,F)|0,W=W+Math.imul(it,Z)|0,q=q+Math.imul(ve,B)|0,j=j+Math.imul(ve,Q)|0,j=j+Math.imul(Ue,B)|0,W=W+Math.imul(Ue,Q)|0,q=q+Math.imul(_t,xe)|0,j=j+Math.imul(_t,Fe)|0,j=j+Math.imul(Rn,xe)|0,W=W+Math.imul(Rn,Fe)|0,q=q+Math.imul($e,ct)|0,j=j+Math.imul($e,ot)|0,j=j+Math.imul(yt,ct)|0,W=W+Math.imul(yt,ot)|0;var wt=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(wt>>>26)|0,wt&=67108863,q=Math.imul(Pn,zr),j=Math.imul(Pn,Ur),j=j+Math.imul(jn,zr)|0,W=Math.imul(jn,Ur),q=q+Math.imul(fn,si)|0,j=j+Math.imul(fn,or)|0,j=j+Math.imul(cn,si)|0,W=W+Math.imul(cn,or)|0,q=q+Math.imul(kt,F)|0,j=j+Math.imul(kt,Z)|0,j=j+Math.imul(St,F)|0,W=W+Math.imul(St,Z)|0,q=q+Math.imul(Ze,B)|0,j=j+Math.imul(Ze,Q)|0,j=j+Math.imul(it,B)|0,W=W+Math.imul(it,Q)|0,q=q+Math.imul(ve,xe)|0,j=j+Math.imul(ve,Fe)|0,j=j+Math.imul(Ue,xe)|0,W=W+Math.imul(Ue,Fe)|0,q=q+Math.imul(_t,ct)|0,j=j+Math.imul(_t,ot)|0,j=j+Math.imul(Rn,ct)|0,W=W+Math.imul(Rn,ot)|0;var gt=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(gt>>>26)|0,gt&=67108863,q=Math.imul(Pn,si),j=Math.imul(Pn,or),j=j+Math.imul(jn,si)|0,W=Math.imul(jn,or),q=q+Math.imul(fn,F)|0,j=j+Math.imul(fn,Z)|0,j=j+Math.imul(cn,F)|0,W=W+Math.imul(cn,Z)|0,q=q+Math.imul(kt,B)|0,j=j+Math.imul(kt,Q)|0,j=j+Math.imul(St,B)|0,W=W+Math.imul(St,Q)|0,q=q+Math.imul(Ze,xe)|0,j=j+Math.imul(Ze,Fe)|0,j=j+Math.imul(it,xe)|0,W=W+Math.imul(it,Fe)|0,q=q+Math.imul(ve,ct)|0,j=j+Math.imul(ve,ot)|0,j=j+Math.imul(Ue,ct)|0,W=W+Math.imul(Ue,ot)|0;var xt=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(xt>>>26)|0,xt&=67108863,q=Math.imul(Pn,F),j=Math.imul(Pn,Z),j=j+Math.imul(jn,F)|0,W=Math.imul(jn,Z),q=q+Math.imul(fn,B)|0,j=j+Math.imul(fn,Q)|0,j=j+Math.imul(cn,B)|0,W=W+Math.imul(cn,Q)|0,q=q+Math.imul(kt,xe)|0,j=j+Math.imul(kt,Fe)|0,j=j+Math.imul(St,xe)|0,W=W+Math.imul(St,Fe)|0,q=q+Math.imul(Ze,ct)|0,j=j+Math.imul(Ze,ot)|0,j=j+Math.imul(it,ct)|0,W=W+Math.imul(it,ot)|0;var Be=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(Be>>>26)|0,Be&=67108863,q=Math.imul(Pn,B),j=Math.imul(Pn,Q),j=j+Math.imul(jn,B)|0,W=Math.imul(jn,Q),q=q+Math.imul(fn,xe)|0,j=j+Math.imul(fn,Fe)|0,j=j+Math.imul(cn,xe)|0,W=W+Math.imul(cn,Fe)|0,q=q+Math.imul(kt,ct)|0,j=j+Math.imul(kt,ot)|0,j=j+Math.imul(St,ct)|0,W=W+Math.imul(St,ot)|0;var je=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(je>>>26)|0,je&=67108863,q=Math.imul(Pn,xe),j=Math.imul(Pn,Fe),j=j+Math.imul(jn,xe)|0,W=Math.imul(jn,Fe),q=q+Math.imul(fn,ct)|0,j=j+Math.imul(fn,ot)|0,j=j+Math.imul(cn,ct)|0,W=W+Math.imul(cn,ot)|0;var Xe=(z+q|0)+((j&8191)<<13)|0;z=(W+(j>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,q=Math.imul(Pn,ct),j=Math.imul(Pn,ot),j=j+Math.imul(jn,ct)|0,W=Math.imul(jn,ot);var Ke=(z+q|0)+((j&8191)<<13)|0;return z=(W+(j>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,L[0]=Zn,L[1]=At,L[2]=pn,L[3]=kn,L[4]=mn,L[5]=vn,L[6]=bn,L[7]=gn,L[8]=wn,L[9]=Nt,L[10]=zt,L[11]=vt,L[12]=wt,L[13]=gt,L[14]=xt,L[15]=Be,L[16]=je,L[17]=Xe,L[18]=Ke,z!==0&&(L[19]=z,P.length++),P};Math.imul||(_=w);function E(U,I,x){x.negative=I.negative^U.negative,x.length=U.length+I.length;for(var P=0,N=0,$=0;$<x.length-1;$++){var L=N;N=0;for(var z=P&67108863,q=Math.min($,I.length-1),j=Math.max(0,$-U.length+1);j<=q;j++){var W=$-j,re=U.words[W]|0,de=I.words[j]|0,te=re*de,ce=te&67108863;L=L+(te/67108864|0)|0,ce=ce+z|0,z=ce&67108863,L=L+(ce>>>26)|0,N+=L>>>26,L&=67108863}x.words[$]=z,P=L,L=N}return P!==0?x.words[$]=P:x.length--,x._strip()}function C(U,I,x){return E(U,I,x)}o.prototype.mulTo=function(I,x){var P,N=this.length+I.length;return this.length===10&&I.length===10?P=_(this,I,x):N<63?P=w(this,I,x):N<1024?P=E(this,I,x):P=C(this,I,x),P},o.prototype.mul=function(I){var x=new o(null);return x.words=new Array(this.length+I.length),this.mulTo(I,x)},o.prototype.mulf=function(I){var x=new o(null);return x.words=new Array(this.length+I.length),C(this,I,x)},o.prototype.imul=function(I){return this.clone().mulTo(I,this)},o.prototype.imuln=function(I){var x=I<0;x&&(I=-I),r(typeof I=="number"),r(I<67108864);for(var P=0,N=0;N<this.length;N++){var $=(this.words[N]|0)*I,L=($&67108863)+(P&67108863);P>>=26,P+=$/67108864|0,P+=L>>>26,this.words[N]=L&67108863}return P!==0&&(this.words[N]=P,this.length++),x?this.ineg():this},o.prototype.muln=function(I){return this.clone().imuln(I)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(I){var x=v(I);if(x.length===0)return new o(1);for(var P=this,N=0;N<x.length&&x[N]===0;N++,P=P.sqr());if(++N<x.length)for(var $=P.sqr();N<x.length;N++,$=$.sqr())x[N]!==0&&(P=P.mul($));return P},o.prototype.iushln=function(I){r(typeof I=="number"&&I>=0);var x=I%26,P=(I-x)/26,N=67108863>>>26-x<<26-x,$;if(x!==0){var L=0;for($=0;$<this.length;$++){var z=this.words[$]&N,q=(this.words[$]|0)-z<<x;this.words[$]=q|L,L=z>>>26-x}L&&(this.words[$]=L,this.length++)}if(P!==0){for($=this.length-1;$>=0;$--)this.words[$+P]=this.words[$];for($=0;$<P;$++)this.words[$]=0;this.length+=P}return this._strip()},o.prototype.ishln=function(I){return r(this.negative===0),this.iushln(I)},o.prototype.iushrn=function(I,x,P){r(typeof I=="number"&&I>=0);var N;x?N=(x-x%26)/26:N=0;var $=I%26,L=Math.min((I-$)/26,this.length),z=67108863^67108863>>>$<<$,q=P;if(N-=L,N=Math.max(0,N),q){for(var j=0;j<L;j++)q.words[j]=this.words[j];q.length=L}if(L!==0)if(this.length>L)for(this.length-=L,j=0;j<this.length;j++)this.words[j]=this.words[j+L];else this.words[0]=0,this.length=1;var W=0;for(j=this.length-1;j>=0&&(W!==0||j>=N);j--){var re=this.words[j]|0;this.words[j]=W<<26-$|re>>>$,W=re&z}return q&&W!==0&&(q.words[q.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(I,x,P){return r(this.negative===0),this.iushrn(I,x,P)},o.prototype.shln=function(I){return this.clone().ishln(I)},o.prototype.ushln=function(I){return this.clone().iushln(I)},o.prototype.shrn=function(I){return this.clone().ishrn(I)},o.prototype.ushrn=function(I){return this.clone().iushrn(I)},o.prototype.testn=function(I){r(typeof I=="number"&&I>=0);var x=I%26,P=(I-x)/26,N=1<<x;if(this.length<=P)return!1;var $=this.words[P];return!!($&N)},o.prototype.imaskn=function(I){r(typeof I=="number"&&I>=0);var x=I%26,P=(I-x)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=P)return this;if(x!==0&&P++,this.length=Math.min(P,this.length),x!==0){var N=67108863^67108863>>>x<<x;this.words[this.length-1]&=N}return this._strip()},o.prototype.maskn=function(I){return this.clone().imaskn(I)},o.prototype.iaddn=function(I){return r(typeof I=="number"),r(I<67108864),I<0?this.isubn(-I):this.negative!==0?this.length===1&&(this.words[0]|0)<=I?(this.words[0]=I-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(I),this.negative=1,this):this._iaddn(I)},o.prototype._iaddn=function(I){this.words[0]+=I;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},o.prototype.isubn=function(I){if(r(typeof I=="number"),r(I<67108864),I<0)return this.iaddn(-I);if(this.negative!==0)return this.negative=0,this.iaddn(I),this.negative=1,this;if(this.words[0]-=I,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},o.prototype.addn=function(I){return this.clone().iaddn(I)},o.prototype.subn=function(I){return this.clone().isubn(I)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(I,x,P){var N=I.length+P,$;this._expand(N);var L,z=0;for($=0;$<I.length;$++){L=(this.words[$+P]|0)+z;var q=(I.words[$]|0)*x;L-=q&67108863,z=(L>>26)-(q/67108864|0),this.words[$+P]=L&67108863}for(;$<this.length-P;$++)L=(this.words[$+P]|0)+z,z=L>>26,this.words[$+P]=L&67108863;if(z===0)return this._strip();for(r(z===-1),z=0,$=0;$<this.length;$++)L=-(this.words[$]|0)+z,z=L>>26,this.words[$]=L&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(I,x){var P=this.length-I.length,N=this.clone(),$=I,L=$.words[$.length-1]|0,z=this._countBits(L);P=26-z,P!==0&&($=$.ushln(P),N.iushln(P),L=$.words[$.length-1]|0);var q=N.length-$.length,j;if(x!=="mod"){j=new o(null),j.length=q+1,j.words=new Array(j.length);for(var W=0;W<j.length;W++)j.words[W]=0}var re=N.clone()._ishlnsubmul($,1,q);re.negative===0&&(N=re,j&&(j.words[q]=1));for(var de=q-1;de>=0;de--){var te=(N.words[$.length+de]|0)*67108864+(N.words[$.length+de-1]|0);for(te=Math.min(te/L|0,67108863),N._ishlnsubmul($,te,de);N.negative!==0;)te--,N.negative=0,N._ishlnsubmul($,1,de),N.isZero()||(N.negative^=1);j&&(j.words[de]=te)}return j&&j._strip(),N._strip(),x!=="div"&&P!==0&&N.iushrn(P),{div:j||null,mod:N}},o.prototype.divmod=function(I,x,P){if(r(!I.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var N,$,L;return this.negative!==0&&I.negative===0?(L=this.neg().divmod(I,x),x!=="mod"&&(N=L.div.neg()),x!=="div"&&($=L.mod.neg(),P&&$.negative!==0&&$.iadd(I)),{div:N,mod:$}):this.negative===0&&I.negative!==0?(L=this.divmod(I.neg(),x),x!=="mod"&&(N=L.div.neg()),{div:N,mod:L.mod}):this.negative&I.negative?(L=this.neg().divmod(I.neg(),x),x!=="div"&&($=L.mod.neg(),P&&$.negative!==0&&$.isub(I)),{div:L.div,mod:$}):I.length>this.length||this.cmp(I)<0?{div:new o(0),mod:this}:I.length===1?x==="div"?{div:this.divn(I.words[0]),mod:null}:x==="mod"?{div:null,mod:new o(this.modrn(I.words[0]))}:{div:this.divn(I.words[0]),mod:new o(this.modrn(I.words[0]))}:this._wordDiv(I,x)},o.prototype.div=function(I){return this.divmod(I,"div",!1).div},o.prototype.mod=function(I){return this.divmod(I,"mod",!1).mod},o.prototype.umod=function(I){return this.divmod(I,"mod",!0).mod},o.prototype.divRound=function(I){var x=this.divmod(I);if(x.mod.isZero())return x.div;var P=x.div.negative!==0?x.mod.isub(I):x.mod,N=I.ushrn(1),$=I.andln(1),L=P.cmp(N);return L<0||$===1&&L===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},o.prototype.modrn=function(I){var x=I<0;x&&(I=-I),r(I<=67108863);for(var P=(1<<26)%I,N=0,$=this.length-1;$>=0;$--)N=(P*N+(this.words[$]|0))%I;return x?-N:N},o.prototype.modn=function(I){return this.modrn(I)},o.prototype.idivn=function(I){var x=I<0;x&&(I=-I),r(I<=67108863);for(var P=0,N=this.length-1;N>=0;N--){var $=(this.words[N]|0)+P*67108864;this.words[N]=$/I|0,P=$%I}return this._strip(),x?this.ineg():this},o.prototype.divn=function(I){return this.clone().idivn(I)},o.prototype.egcd=function(I){r(I.negative===0),r(!I.isZero());var x=this,P=I.clone();x.negative!==0?x=x.umod(I):x=x.clone();for(var N=new o(1),$=new o(0),L=new o(0),z=new o(1),q=0;x.isEven()&&P.isEven();)x.iushrn(1),P.iushrn(1),++q;for(var j=P.clone(),W=x.clone();!x.isZero();){for(var re=0,de=1;!(x.words[0]&de)&&re<26;++re,de<<=1);if(re>0)for(x.iushrn(re);re-- >0;)(N.isOdd()||$.isOdd())&&(N.iadd(j),$.isub(W)),N.iushrn(1),$.iushrn(1);for(var te=0,ce=1;!(P.words[0]&ce)&&te<26;++te,ce<<=1);if(te>0)for(P.iushrn(te);te-- >0;)(L.isOdd()||z.isOdd())&&(L.iadd(j),z.isub(W)),L.iushrn(1),z.iushrn(1);x.cmp(P)>=0?(x.isub(P),N.isub(L),$.isub(z)):(P.isub(x),L.isub(N),z.isub($))}return{a:L,b:z,gcd:P.iushln(q)}},o.prototype._invmp=function(I){r(I.negative===0),r(!I.isZero());var x=this,P=I.clone();x.negative!==0?x=x.umod(I):x=x.clone();for(var N=new o(1),$=new o(0),L=P.clone();x.cmpn(1)>0&&P.cmpn(1)>0;){for(var z=0,q=1;!(x.words[0]&q)&&z<26;++z,q<<=1);if(z>0)for(x.iushrn(z);z-- >0;)N.isOdd()&&N.iadd(L),N.iushrn(1);for(var j=0,W=1;!(P.words[0]&W)&&j<26;++j,W<<=1);if(j>0)for(P.iushrn(j);j-- >0;)$.isOdd()&&$.iadd(L),$.iushrn(1);x.cmp(P)>=0?(x.isub(P),N.isub($)):(P.isub(x),$.isub(N))}var re;return x.cmpn(1)===0?re=N:re=$,re.cmpn(0)<0&&re.iadd(I),re},o.prototype.gcd=function(I){if(this.isZero())return I.abs();if(I.isZero())return this.abs();var x=this.clone(),P=I.clone();x.negative=0,P.negative=0;for(var N=0;x.isEven()&&P.isEven();N++)x.iushrn(1),P.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;P.isEven();)P.iushrn(1);var $=x.cmp(P);if($<0){var L=x;x=P,P=L}else if($===0||P.cmpn(1)===0)break;x.isub(P)}while(!0);return P.iushln(N)},o.prototype.invm=function(I){return this.egcd(I).a.umod(I)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(I){return this.words[0]&I},o.prototype.bincn=function(I){r(typeof I=="number");var x=I%26,P=(I-x)/26,N=1<<x;if(this.length<=P)return this._expand(P+1),this.words[P]|=N,this;for(var $=N,L=P;$!==0&&L<this.length;L++){var z=this.words[L]|0;z+=$,$=z>>>26,z&=67108863,this.words[L]=z}return $!==0&&(this.words[L]=$,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(I){var x=I<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var P;if(this.length>1)P=1;else{x&&(I=-I),r(I<=67108863,"Number is too big");var N=this.words[0]|0;P=N===I?0:N<I?-1:1}return this.negative!==0?-P|0:P},o.prototype.cmp=function(I){if(this.negative!==0&&I.negative===0)return-1;if(this.negative===0&&I.negative!==0)return 1;var x=this.ucmp(I);return this.negative!==0?-x|0:x},o.prototype.ucmp=function(I){if(this.length>I.length)return 1;if(this.length<I.length)return-1;for(var x=0,P=this.length-1;P>=0;P--){var N=this.words[P]|0,$=I.words[P]|0;if(N!==$){N<$?x=-1:N>$&&(x=1);break}}return x},o.prototype.gtn=function(I){return this.cmpn(I)===1},o.prototype.gt=function(I){return this.cmp(I)===1},o.prototype.gten=function(I){return this.cmpn(I)>=0},o.prototype.gte=function(I){return this.cmp(I)>=0},o.prototype.ltn=function(I){return this.cmpn(I)===-1},o.prototype.lt=function(I){return this.cmp(I)===-1},o.prototype.lten=function(I){return this.cmpn(I)<=0},o.prototype.lte=function(I){return this.cmp(I)<=0},o.prototype.eqn=function(I){return this.cmpn(I)===0},o.prototype.eq=function(I){return this.cmp(I)===0},o.red=function(I){return new H(I)},o.prototype.toRed=function(I){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),I.convertTo(this)._forceRed(I)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(I){return this.red=I,this},o.prototype.forceRed=function(I){return r(!this.red,"Already a number in reduction context"),this._forceRed(I)},o.prototype.redAdd=function(I){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,I)},o.prototype.redIAdd=function(I){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,I)},o.prototype.redSub=function(I){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,I)},o.prototype.redISub=function(I){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,I)},o.prototype.redShl=function(I){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,I)},o.prototype.redMul=function(I){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.mul(this,I)},o.prototype.redIMul=function(I){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.imul(this,I)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(I){return r(this.red&&!I.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,I)};var T={k256:null,p224:null,p192:null,p25519:null};function A(U,I){this.name=U,this.p=new o(I,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}A.prototype._tmp=function(){var I=new o(null);return I.words=new Array(Math.ceil(this.n/13)),I},A.prototype.ireduce=function(I){var x=I,P;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),P=x.bitLength();while(P>this.n);var N=P<this.n?-1:x.ucmp(this.p);return N===0?(x.words[0]=0,x.length=1):N>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},A.prototype.split=function(I,x){I.iushrn(this.n,0,x)},A.prototype.imulK=function(I){return I.imul(this.k)};function S(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(S,A),S.prototype.split=function(I,x){for(var P=4194303,N=Math.min(I.length,9),$=0;$<N;$++)x.words[$]=I.words[$];if(x.length=N,I.length<=9){I.words[0]=0,I.length=1;return}var L=I.words[9];for(x.words[x.length++]=L&P,$=10;$<I.length;$++){var z=I.words[$]|0;I.words[$-10]=(z&P)<<4|L>>>22,L=z}L>>>=22,I.words[$-10]=L,L===0&&I.length>10?I.length-=10:I.length-=9},S.prototype.imulK=function(I){I.words[I.length]=0,I.words[I.length+1]=0,I.length+=2;for(var x=0,P=0;P<I.length;P++){var N=I.words[P]|0;x+=N*977,I.words[P]=x&67108863,x=N*64+(x/67108864|0)}return I.words[I.length-1]===0&&(I.length--,I.words[I.length-1]===0&&I.length--),I};function O(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(O,A);function D(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(D,A);function K(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(K,A),K.prototype.imulK=function(I){for(var x=0,P=0;P<I.length;P++){var N=(I.words[P]|0)*19+x,$=N&67108863;N>>>=26,I.words[P]=$,x=N}return x!==0&&(I.words[I.length++]=x),I},o._prime=function(I){if(T[I])return T[I];var x;if(I==="k256")x=new S;else if(I==="p224")x=new O;else if(I==="p192")x=new D;else if(I==="p25519")x=new K;else throw new Error("Unknown prime "+I);return T[I]=x,x};function H(U){if(typeof U=="string"){var I=o._prime(U);this.m=I.p,this.prime=I}else r(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}H.prototype._verify1=function(I){r(I.negative===0,"red works only with positives"),r(I.red,"red works only with red numbers")},H.prototype._verify2=function(I,x){r((I.negative|x.negative)===0,"red works only with positives"),r(I.red&&I.red===x.red,"red works only with red numbers")},H.prototype.imod=function(I){return this.prime?this.prime.ireduce(I)._forceRed(this):(d(I,I.umod(this.m)._forceRed(this)),I)},H.prototype.neg=function(I){return I.isZero()?I.clone():this.m.sub(I)._forceRed(this)},H.prototype.add=function(I,x){this._verify2(I,x);var P=I.add(x);return P.cmp(this.m)>=0&&P.isub(this.m),P._forceRed(this)},H.prototype.iadd=function(I,x){this._verify2(I,x);var P=I.iadd(x);return P.cmp(this.m)>=0&&P.isub(this.m),P},H.prototype.sub=function(I,x){this._verify2(I,x);var P=I.sub(x);return P.cmpn(0)<0&&P.iadd(this.m),P._forceRed(this)},H.prototype.isub=function(I,x){this._verify2(I,x);var P=I.isub(x);return P.cmpn(0)<0&&P.iadd(this.m),P},H.prototype.shl=function(I,x){return this._verify1(I),this.imod(I.ushln(x))},H.prototype.imul=function(I,x){return this._verify2(I,x),this.imod(I.imul(x))},H.prototype.mul=function(I,x){return this._verify2(I,x),this.imod(I.mul(x))},H.prototype.isqr=function(I){return this.imul(I,I.clone())},H.prototype.sqr=function(I){return this.mul(I,I)},H.prototype.sqrt=function(I){if(I.isZero())return I.clone();var x=this.m.andln(3);if(r(x%2===1),x===3){var P=this.m.add(new o(1)).iushrn(2);return this.pow(I,P)}for(var N=this.m.subn(1),$=0;!N.isZero()&&N.andln(1)===0;)$++,N.iushrn(1);r(!N.isZero());var L=new o(1).toRed(this),z=L.redNeg(),q=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new o(2*j*j).toRed(this);this.pow(j,q).cmp(z)!==0;)j.redIAdd(z);for(var W=this.pow(j,N),re=this.pow(I,N.addn(1).iushrn(1)),de=this.pow(I,N),te=$;de.cmp(L)!==0;){for(var ce=de,ge=0;ce.cmp(L)!==0;ge++)ce=ce.redSqr();r(ge<te);var Ce=this.pow(W,new o(1).iushln(te-ge-1));re=re.redMul(Ce),W=Ce.redSqr(),de=de.redMul(W),te=ge}return re},H.prototype.invm=function(I){var x=I._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},H.prototype.pow=function(I,x){if(x.isZero())return new o(1).toRed(this);if(x.cmpn(1)===0)return I.clone();var P=4,N=new Array(1<<P);N[0]=new o(1).toRed(this),N[1]=I;for(var $=2;$<N.length;$++)N[$]=this.mul(N[$-1],I);var L=N[0],z=0,q=0,j=x.bitLength()%26;for(j===0&&(j=26),$=x.length-1;$>=0;$--){for(var W=x.words[$],re=j-1;re>=0;re--){var de=W>>re&1;if(L!==N[0]&&(L=this.sqr(L)),de===0&&z===0){q=0;continue}z<<=1,z|=de,q++,!(q!==P&&($!==0||re!==0))&&(L=this.mul(L,N[z]),q=0,z=0)}j=26}return L},H.prototype.convertTo=function(I){var x=I.umod(this.m);return x===I?x.clone():x},H.prototype.convertFrom=function(I){var x=I.clone();return x.red=null,x},o.mont=function(I){return new X(I)};function X(U){H.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(X,H),X.prototype.convertTo=function(I){return this.imod(I.ushln(this.shift))},X.prototype.convertFrom=function(I){var x=this.imod(I.mul(this.rinv));return x.red=null,x},X.prototype.imul=function(I,x){if(I.isZero()||x.isZero())return I.words[0]=0,I.length=1,I;var P=I.imul(x),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=P.isub(N).iushrn(this.shift),L=$;return $.cmp(this.m)>=0?L=$.isub(this.m):$.cmpn(0)<0&&(L=$.iadd(this.m)),L._forceRed(this)},X.prototype.mul=function(I,x){if(I.isZero()||x.isZero())return new o(0)._forceRed(this);var P=I.mul(x),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=P.isub(N).iushrn(this.shift),L=$;return $.cmp(this.m)>=0?L=$.isub(this.m):$.cmpn(0)<0&&(L=$.iadd(this.m)),L._forceRed(this)},X.prototype.invm=function(I){var x=this.imod(I._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(e,cr)})(FR);var MX=FR.exports;const pd=qo(MX);var k4={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var n=Se,r=n.Buffer;function i(s,a){for(var c in s)a[c]=s[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o);function o(s,a,c){return r(s,a,c)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,c)},o.alloc=function(s,a,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var l=r(s);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(k4,k4.exports);var Da=k4.exports,G_=Da.Buffer;function CKe(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=G_.from(m)),!G_.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var g=0,y=0,v=0,w=m.length;v!==w&&m[v]===0;)v++,g++;for(var _=(w-v)*l+1>>>0,E=new Uint8Array(_);v!==w;){for(var C=m[v],T=0,A=_-1;(C!==0||T<y)&&A!==-1;A--,T++)C+=256*E[A]>>>0,E[A]=C%s>>>0,C=C/s>>>0;if(C!==0)throw new Error("Non-zero carry");y=T,v++}for(var S=_-y;S!==_&&E[S]===0;)S++;for(var O=a.repeat(g);S<_;++S)O+=e.charAt(E[S]);return O}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return G_.alloc(0);for(var g=0,y=0,v=0;m[g]===a;)y++,g++;for(var w=(m.length-g)*c+1>>>0,_=new Uint8Array(w);g<m.length;){var E=m.charCodeAt(g);if(E>255)return;var C=t[E];if(C===255)return;for(var T=0,A=w-1;(C!==0||T<v)&&A!==-1;A--,T++)C+=s*_[A]>>>0,_[A]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");v=T,g++}for(var S=w-v;S!==w&&_[S]===0;)S++;var O=G_.allocUnsafe(y+(w-S));O.fill(0,0,y);for(var D=y;S!==w;)O[D++]=_[S++];return O}function p(m){var g=f(m);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:f,decode:p}}var IKe=CKe,AKe=IKe,TKe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",RKe=AKe(TKe);const As=qo(RKe);var Es={},Z_=Da.Buffer;function PKe(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=Z_.from(m)),!Z_.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var g=0,y=0,v=0,w=m.length;v!==w&&m[v]===0;)v++,g++;for(var _=(w-v)*l+1>>>0,E=new Uint8Array(_);v!==w;){for(var C=m[v],T=0,A=_-1;(C!==0||T<y)&&A!==-1;A--,T++)C+=256*E[A]>>>0,E[A]=C%s>>>0,C=C/s>>>0;if(C!==0)throw new Error("Non-zero carry");y=T,v++}for(var S=_-y;S!==_&&E[S]===0;)S++;for(var O=a.repeat(g);S<_;++S)O+=e.charAt(E[S]);return O}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return Z_.alloc(0);for(var g=0,y=0,v=0;m[g]===a;)y++,g++;for(var w=(m.length-g)*c+1>>>0,_=new Uint8Array(w);g<m.length;){var E=m.charCodeAt(g);if(E>255)return;var C=t[E];if(C===255)return;for(var T=0,A=w-1;(C!==0||T<v)&&A!==-1;A--,T++)C+=s*_[A]>>>0,_[A]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");v=T,g++}for(var S=w-v;S!==w&&_[S]===0;)S++;var O=Z_.allocUnsafe(y+(w-S));O.fill(0,0,y);for(var D=y;S!==w;)O[D++]=_[S++];return O}function p(m){var g=f(m);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:f,decode:p}}var OKe=PKe,NKe=OKe,jKe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",BKe=NKe(jKe);function hu(e,t,n){return t<=e&&e<=n}function eS(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function $Ke(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var o=t.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=e.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=o&1023,c=s&1023;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}function MKe(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var K2=-1;function WR(e){this.tokens=[].slice.call(e)}WR.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():K2},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var p0=-1;function aE(e,t){if(e)throw TypeError("Decoder error");return t||65533}var G2="utf-8";function Z2(e,t){if(!(this instanceof Z2))return new Z2(e,t);if(e=e!==void 0?String(e).toLowerCase():G2,e!==G2)throw new Error("Encoding not supported. Only utf-8 is supported");t=eS(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Z2.prototype={decode:function(t,n){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),n=eS(n),this._streaming||(this._decoder=new DKe({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new WR(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==p0);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===p0)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),MKe(o)}};function J2(e,t){if(!(this instanceof J2))return new J2(e,t);if(e=e!==void 0?String(e).toLowerCase():G2,e!==G2)throw new Error("Encoding not supported. Only utf-8 is supported");t=eS(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}J2.prototype={encode:function(t,n){t=t?String(t):"",n=eS(n),this._streaming||(this._encoder=new LKe(this._options)),this._streaming=!!n.stream;for(var r=[],i=new WR($Ke(t)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==p0);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==p0;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function DKe(e){var t=e.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(a,c){if(c===K2&&i!==0)return i=0,aE(t);if(c===K2)return p0;if(i===0){if(hu(c,0,127))return c;if(hu(c,194,223))i=1,n=c-192;else if(hu(c,224,239))c===224&&(o=160),c===237&&(s=159),i=2,n=c-224;else if(hu(c,240,244))c===240&&(o=144),c===244&&(s=143),i=3,n=c-240;else return aE(t);return n=n<<6*i,null}if(!hu(c,o,s))return n=i=r=0,o=128,s=191,a.prepend(c),aE(t);if(o=128,s=191,r+=1,n+=c-128<<6*(i-r),r!==i)return null;var l=n;return n=i=r=0,l}}function LKe(e){e.fatal,this.handler=function(t,n){if(n===K2)return p0;if(hu(n,0,127))return n;var r,i;hu(n,128,2047)?(r=1,i=192):hu(n,2048,65535)?(r=2,i=224):hu(n,65536,1114111)&&(r=3,i=240);for(var o=[(n>>6*r)+i];r>0;){var s=n>>6*(r-1);o.push(128|s&63),r-=1}return o}}const UKe=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Z2,TextEncoder:J2},Symbol.toStringTag,{value:"Module"})),FKe=Dl(UKe);var WKe=cr&&cr.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),zKe=cr&&cr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Rd=cr&&cr.__decorate||function(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},qKe=cr&&cr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&WKe(t,e,n);return zKe(t,e),t},DX=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Es,"__esModule",{value:!0});var ty=Es.deserializeUnchecked=ry=Es.deserialize=ny=Es.serialize=Es.BinaryReader=Es.BinaryWriter=Es.BorshError=Es.baseDecode=Es.baseEncode=void 0;const Sf=DX(MX),LX=DX(BKe),VKe=qKe(FKe),HKe=typeof TextDecoder!="function"?VKe.TextDecoder:TextDecoder,KKe=new HKe("utf-8",{fatal:!0});function GKe(e){return typeof e=="string"&&(e=Buffer.from(e,"utf8")),LX.default.encode(Buffer.from(e))}Es.baseEncode=GKe;function ZKe(e){return Buffer.from(LX.default.decode(e))}Es.baseDecode=ZKe;const cE=1024;class ua extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Es.BorshError=ua;class UX{constructor(){this.buf=Buffer.alloc(cE),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(cE)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Sf.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Sf.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Sf.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Sf.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(cE)]),this.length+=t.length}writeString(t){this.maybeResize();const n=Buffer.from(t,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,n){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Es.BinaryWriter=UX;function Pd(e,t,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(o){if(o instanceof RangeError){const s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new ua("Reached the end of buffer when deserializing")}throw o}}}class lc{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new Sf.default(t,"le")}readU128(){const t=this.readBuffer(16);return new Sf.default(t,"le")}readU256(){const t=this.readBuffer(32);return new Sf.default(t,"le")}readU512(){const t=this.readBuffer(64);return new Sf.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new ua(`Expected buffer length ${t} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,n}readString(){const t=this.readU32(),n=this.readBuffer(t);try{return KKe.decode(n)}catch(r){throw new ua(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(t());return r}}Rd([Pd],lc.prototype,"readU8",null);Rd([Pd],lc.prototype,"readU16",null);Rd([Pd],lc.prototype,"readU32",null);Rd([Pd],lc.prototype,"readU64",null);Rd([Pd],lc.prototype,"readU128",null);Rd([Pd],lc.prototype,"readU256",null);Rd([Pd],lc.prototype,"readU512",null);Rd([Pd],lc.prototype,"readString",null);Rd([Pd],lc.prototype,"readFixedArray",null);Rd([Pd],lc.prototype,"readArray",null);Es.BinaryReader=lc;function FX(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Hh(e,t,n,r,i){try{if(typeof r=="string")i[`write${FX(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new ua(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new ua(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let o=0;o<r[1];o++)Hh(e,null,n[o],r[0],i)}else i.writeArray(n,o=>{Hh(e,t,o,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Hh(e,t,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((o,s)=>{Hh(e,t,s,r.key,i),Hh(e,t,o,r.value,i)});break}default:throw new ua(`FieldType ${r} unrecognized`)}else WX(e,n,i)}catch(o){throw o instanceof ua&&o.addToFieldPath(t),o}}function WX(e,t,n){if(typeof t.borshSerialize=="function"){t.borshSerialize(n);return}const r=e.get(t.constructor);if(!r)throw new ua(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,o])=>{Hh(e,i,t[i],o,n)});else if(r.kind==="enum"){const i=t[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),Hh(e,s,t[s],a,n);break}}}else throw new ua(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function JKe(e,t,n=UX){const r=new n;return WX(e,t,r),r.toArray()}var ny=Es.serialize=JKe;function Kh(e,t,n,r){try{if(typeof n=="string")return r[`read${FX(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let o=0;o<n[1];o++)i.push(Kh(e,null,n[0],r));return i}else return r.readArray(()=>Kh(e,t,n[0],r))}if(n.kind==="option")return r.readU8()?Kh(e,t,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const a=Kh(e,t,n.key,r),c=Kh(e,t,n.value,r);i.set(a,c)}return i}return zR(e,n,r)}catch(i){throw i instanceof ua&&i.addToFieldPath(t),i}}function zR(e,t,n){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new ua(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[o,s]of e.get(t).fields)i[o]=Kh(e,o,s,n);return new t(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new ua(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=Kh(e,o,s,n);return new t({[o]:a})}throw new ua(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function YKe(e,t,n,r=lc){const i=new r(n),o=zR(e,t,i);if(i.offset<n.length)throw new ua(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o}var ry=Es.deserialize=YKe;function XKe(e,t,n,r=lc){const i=new r(n);return zR(e,t,i)}ty=Es.deserializeUnchecked=XKe;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.s16=Le.s8=Le.nu64be=Le.u48be=Le.u40be=Le.u32be=Le.u24be=Le.u16be=Ot=Le.nu64=Le.u48=Le.u40=he=Le.u32=Le.u24=Mn=Le.u16=Ve=Le.u8=vi=Le.offset=Le.greedy=Le.Constant=Le.UTF8=Le.CString=Le.Blob=Le.Boolean=Le.BitField=Le.BitStructure=Le.VariantLayout=Le.Union=Le.UnionLayoutDiscriminator=Le.UnionDiscriminator=Le.Structure=Le.Sequence=Le.DoubleBE=Le.Double=Le.FloatBE=Le.Float=Le.NearInt64BE=Le.NearInt64=Le.NearUInt64BE=Le.NearUInt64=Le.IntBE=Le.Int=Le.UIntBE=Le.UInt=Le.OffsetLayout=Le.GreedyCount=Le.ExternalLayout=Le.bindConstructorLayout=Le.nameWithProperty=Le.Layout=Le.uint8ArrayToBuffer=Le.checkUint8Array=void 0;Le.constant=Le.utf8=Le.cstr=Et=Le.blob=Le.unionLayoutDiscriminator=Le.union=Tn=Le.seq=Le.bits=le=Le.struct=Le.f64be=Le.f64=Le.f32be=Le.f32=Le.ns64be=Le.s48be=Le.s40be=Le.s32be=Le.s24be=Le.s16be=xn=Le.ns64=Le.s48=Le.s40=Le.s32=Le.s24=void 0;const qR=Se;function iy(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Le.checkUint8Array=iy;function hi(e){return iy(e),qR.Buffer.from(e.buffer,e.byteOffset,e.length)}Le.uint8ArrayToBuffer=hi;class Ei{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}}Le.Layout=Ei;function VR(e,t){return t.property?e+"["+t.property+"]":e}Le.nameWithProperty=VR;function QKe(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Ei))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(n,r){return t.encode(this,n,r)},writable:!0}),Object.defineProperty(e,"decode",{value(n,r){return t.decode(n,r)},writable:!0})}Le.bindConstructorLayout=QKe;class Ia extends Ei{isCount(){throw new Error("ExternalLayout is abstract")}}Le.ExternalLayout=Ia;class zX extends Ia{constructor(t=1,n){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=t}isCount(){return!0}decode(t,n=0){iy(t);const r=t.length-n;return Math.floor(r/this.elementSpan)}encode(t,n,r){return 0}}Le.GreedyCount=zX;class HR extends Ia{constructor(t,n=0,r){if(!(t instanceof Ei))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof Hc||this.layout instanceof kl}decode(t,n=0){return this.layout.decode(t,n+this.offset)}encode(t,n,r=0){return this.layout.encode(t,n,r+this.offset)}}Le.OffsetLayout=HR;class Hc extends Ei{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return hi(t).readUIntLE(n,this.span)}encode(t,n,r=0){return hi(n).writeUIntLE(t,r,this.span),this.span}}Le.UInt=Hc;class kl extends Ei{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return hi(t).readUIntBE(n,this.span)}encode(t,n,r=0){return hi(n).writeUIntBE(t,r,this.span),this.span}}Le.UIntBE=kl;class Kp extends Ei{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return hi(t).readIntLE(n,this.span)}encode(t,n,r=0){return hi(n).writeIntLE(t,r,this.span),this.span}}Le.Int=Kp;class oy extends Ei{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return hi(t).readIntBE(n,this.span)}encode(t,n,r=0){return hi(n).writeIntBE(t,r,this.span),this.span}}Le.IntBE=oy;const S4=Math.pow(2,32);function tS(e){const t=Math.floor(e/S4),n=e-t*S4;return{hi32:t,lo32:n}}function nS(e,t){return e*S4+t}class qX extends Ei{constructor(t){super(8,t)}decode(t,n=0){const r=hi(t),i=r.readUInt32LE(n),o=r.readUInt32LE(n+4);return nS(o,i)}encode(t,n,r=0){const i=tS(t),o=hi(n);return o.writeUInt32LE(i.lo32,r),o.writeUInt32LE(i.hi32,r+4),8}}Le.NearUInt64=qX;class VX extends Ei{constructor(t){super(8,t)}decode(t,n=0){const r=hi(t),i=r.readUInt32BE(n),o=r.readUInt32BE(n+4);return nS(i,o)}encode(t,n,r=0){const i=tS(t),o=hi(n);return o.writeUInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}}Le.NearUInt64BE=VX;class HX extends Ei{constructor(t){super(8,t)}decode(t,n=0){const r=hi(t),i=r.readUInt32LE(n),o=r.readInt32LE(n+4);return nS(o,i)}encode(t,n,r=0){const i=tS(t),o=hi(n);return o.writeUInt32LE(i.lo32,r),o.writeInt32LE(i.hi32,r+4),8}}Le.NearInt64=HX;class KX extends Ei{constructor(t){super(8,t)}decode(t,n=0){const r=hi(t),i=r.readInt32BE(n),o=r.readUInt32BE(n+4);return nS(i,o)}encode(t,n,r=0){const i=tS(t),o=hi(n);return o.writeInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}}Le.NearInt64BE=KX;class GX extends Ei{constructor(t){super(4,t)}decode(t,n=0){return hi(t).readFloatLE(n)}encode(t,n,r=0){return hi(n).writeFloatLE(t,r),4}}Le.Float=GX;class ZX extends Ei{constructor(t){super(4,t)}decode(t,n=0){return hi(t).readFloatBE(n)}encode(t,n,r=0){return hi(n).writeFloatBE(t,r),4}}Le.FloatBE=ZX;class JX extends Ei{constructor(t){super(8,t)}decode(t,n=0){return hi(t).readDoubleLE(n)}encode(t,n,r=0){return hi(n).writeDoubleLE(t,r),8}}Le.Double=JX;class YX extends Ei{constructor(t){super(8,t)}decode(t,n=0){return hi(t).readDoubleBE(n)}encode(t,n,r=0){return hi(n).writeDoubleBE(t,r),8}}Le.DoubleBE=YX;class XX extends Ei{constructor(t,n,r){if(!(t instanceof Ei))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Ia&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Ia)&&0<t.span&&(i=n*t.span),super(i,r),this.elementLayout=t,this.count=n}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Ia&&(i=i.decode(t,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(t,n+r),++o}return r}decode(t,n=0){const r=[];let i=0,o=this.count;for(o instanceof Ia&&(o=o.decode(t,n));i<o;)r.push(this.elementLayout.decode(t,n)),n+=this.elementLayout.getSpan(t,n),i+=1;return r}encode(t,n,r=0){const i=this.elementLayout,o=t.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof Ia&&this.count.encode(t.length,n,r),o}}Le.Sequence=XX;class QX extends Ei{constructor(t,n,r){if(!(Array.isArray(t)&&t.reduce((o,s)=>o&&s instanceof Ei,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of t)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=t,this.decodePrefixes=!!r}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(t,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,n=0){iy(t);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(t,n)),n+=i.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return r}encode(t,n,r=0){const i=r;let o=0,s=0;for(const a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){const l=t[a.property];l!==void 0&&(s=a.encode(l,n,r),0>c&&(c=a.getSpan(n,r)))}o=r,r+=c}return o+s-i}fromArray(t){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(n[r.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===t)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}Le.Structure=QX;class KR{constructor(t){this.property=t}decode(t,n){throw new Error("UnionDiscriminator is abstract")}encode(t,n,r){throw new Error("UnionDiscriminator is abstract")}}Le.UnionDiscriminator=KR;class Y2 extends KR{constructor(t,n){if(!(t instanceof Ia&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,r){return this.layout.encode(t,n,r)}}Le.UnionLayoutDiscriminator=Y2;class GR extends Ei{constructor(t,n,r){let i;if(t instanceof Hc||t instanceof kl)i=new Y2(new HR(t));else if(t instanceof Ia&&t.isCount())i=new Y2(t);else if(t instanceof KR)i=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Ei))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&(t instanceof Hc||t instanceof kl)&&(o+=i.layout.span)),super(o,r),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof Hc||t instanceof kl,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(t,n=0){if(0<=this.span)return this.span;const r=this.getVariant(t,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,n)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(t,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,n=0){let r;const i=this.discriminator,o=i.decode(t,n),s=this.registry[o];if(s===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[a.property]=a.decode(t,n+c)}else r=s.decode(t,n);return r}encode(t,n,r=0){const i=this.getSourceVariant(t);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(t[o.property],n,r),a+s.encode(t[s.property],n,r+a)}return i.encode(t,n,r)}addVariant(t,n,r){const i=new eQ(this,t,n,r);return this.registry[t]=i,i}getVariant(t,n=0){let r;return t instanceof Uint8Array?r=this.discriminator.decode(t,n):r=t,this.registry[r]}}Le.Union=GR;class eQ extends Ei{constructor(t,n,r,i){if(!(t instanceof GR))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Ei))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=r?r.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,i),this.union=t,this.variant=n,this.layout=r||null}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,n+r)),r+i}decode(t,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(t[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}Le.VariantLayout=eQ;function Qm(e){return 0>e&&(e+=4294967296),e}class ZR extends Ei{constructor(t,n,r){if(!(t instanceof Hc||t instanceof kl))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Qm(o),this},this._packedGetValue=function(){return i}}decode(t,n=0){const r=this.makeDestinationObject(),i=this.word.decode(t,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(t));return r}encode(t,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=t[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(t,n){const r=new JR(this,t,n);return this.fields.push(r),r}addBoolean(t){const n=new tQ(this,t);return this.fields.push(n),n}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}}Le.BitStructure=ZR;class JR{constructor(t,n,r){if(!(t instanceof ZR))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*t.span,o=t.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=t,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=Qm(this.valueMask<<this.start),this.property=r}decode(t,n){const r=this.container._packedGetValue();return Qm(r&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Qm(t&this.valueMask))throw new TypeError(VR("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Qm(t<<this.start);this.container._packedSetValue(Qm(n&~this.wordMask)|r)}}Le.BitField=JR;let tQ=class extends JR{constructor(t,n){super(t,1,n)}decode(t,n){return!!super.decode(t,n)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};Le.Boolean=tQ;let nQ=class extends Ei{constructor(t,n){if(!(t instanceof Ia&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof Ia||(r=t),super(r,n),this.length=t}getSpan(t,n){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),r}decode(t,n=0){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),hi(t).slice(n,n+r)}encode(t,n,r){let i=this.length;if(this.length instanceof Ia&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(VR("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const o=hi(t);return hi(n).write(o.toString("hex"),r,i,"hex"),this.length instanceof Ia&&this.length.encode(i,n,r),i}};Le.Blob=nQ;class rQ extends Ei{constructor(t){super(-1,t)}getSpan(t,n=0){iy(t);let r=n;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-n}decode(t,n=0){const r=this.getSpan(t,n);return hi(t).slice(n,n+r-1).toString("utf-8")}encode(t,n,r=0){typeof t!="string"&&(t=String(t));const i=qR.Buffer.from(t,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");const s=hi(n);return i.copy(s,r),s[r+o]=0,o+1}}Le.CString=rQ;class iQ extends Ei{constructor(t,n){if(typeof t=="string"&&n===void 0&&(n=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=t}getSpan(t,n=0){return iy(t),t.length-n}decode(t,n=0){const r=this.getSpan(t,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return hi(t).slice(n,n+r).toString("utf-8")}encode(t,n,r=0){typeof t!="string"&&(t=String(t));const i=qR.Buffer.from(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(hi(n),r),o}}Le.UTF8=iQ;class oQ extends Ei{constructor(t,n){super(0,n),this.value=t}decode(t,n){return this.value}encode(t,n,r){return 0}}Le.Constant=oQ;Le.greedy=(e,t)=>new zX(e,t);var vi=Le.offset=(e,t,n)=>new HR(e,t,n),Ve=Le.u8=e=>new Hc(1,e),Mn=Le.u16=e=>new Hc(2,e);Le.u24=e=>new Hc(3,e);var he=Le.u32=e=>new Hc(4,e);Le.u40=e=>new Hc(5,e);Le.u48=e=>new Hc(6,e);var Ot=Le.nu64=e=>new qX(e);Le.u16be=e=>new kl(2,e);Le.u24be=e=>new kl(3,e);Le.u32be=e=>new kl(4,e);Le.u40be=e=>new kl(5,e);Le.u48be=e=>new kl(6,e);Le.nu64be=e=>new VX(e);Le.s8=e=>new Kp(1,e);Le.s16=e=>new Kp(2,e);Le.s24=e=>new Kp(3,e);Le.s32=e=>new Kp(4,e);Le.s40=e=>new Kp(5,e);Le.s48=e=>new Kp(6,e);var xn=Le.ns64=e=>new HX(e);Le.s16be=e=>new oy(2,e);Le.s24be=e=>new oy(3,e);Le.s32be=e=>new oy(4,e);Le.s40be=e=>new oy(5,e);Le.s48be=e=>new oy(6,e);Le.ns64be=e=>new KX(e);Le.f32=e=>new GX(e);Le.f32be=e=>new ZX(e);Le.f64=e=>new JX(e);Le.f64be=e=>new YX(e);var le=Le.struct=(e,t,n)=>new QX(e,t,n);Le.bits=(e,t,n)=>new ZR(e,t,n);var Tn=Le.seq=(e,t,n)=>new XX(e,t,n);Le.union=(e,t,n)=>new GR(e,t,n);Le.unionLayoutDiscriminator=(e,t)=>new Y2(e,t);var Et=Le.blob=(e,t)=>new nQ(e,t);Le.cstr=e=>new rQ(e);Le.utf8=(e,t)=>new iQ(e,t);Le.constant=(e,t)=>new oQ(e,t);var $1={};Object.defineProperty($1,"__esModule",{value:!0});function eGe(e){{const t=Buffer.from(e);t.reverse();const n=t.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var M1=$1.toBigIntLE=eGe;function tGe(e){{const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}$1.toBigIntBE=tGe;function nGe(e,t){{const n=e.toString(16),r=Buffer.from(n.padStart(t*2,"0").slice(0,t*2),"hex");return r.reverse(),r}}var D1=$1.toBufferLE=nGe;function rGe(e,t){{const n=e.toString(16);return Buffer.from(n.padStart(t*2,"0").slice(0,t*2),"hex")}}$1.toBufferBE=rGe;let iGe=class extends TypeError{constructor(t,n){let r;const{message:i,explanation:o,...s}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}};function oGe(e){return ku(e)&&typeof e[Symbol.iterator]=="function"}function ku(e){return typeof e=="object"&&e!=null}function Nl(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function sGe(e){const{done:t,value:n}=e.next();return t?void 0:n}function aGe(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Nl(r)}\``}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*pL(e,t,n,r){oGe(e)||(e=[e]);for(const i of e){const o=aGe(i,t,n,r);o&&(yield o)}}function*YR(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&t.type!=="type"&&ku(t.schema)&&ku(e)&&!Array.isArray(e)))for(const l in e)t.schema[l]===void 0&&delete e[l];let c="valid";for(const l of t.validator(e,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,d,f]of t.entries(e,a)){const p=YR(d,f,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,d],coerce:o,mask:s,message:n.message});for(const m of p)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(d=m[1],l===void 0?e=d:e instanceof Map?e.set(l,d):e instanceof Set?e.add(d):ku(e)&&(d!==void 0||l in e)&&(e[l]=d))}if(c!=="not_valid")for(const l of t.refiner(e,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}let Od=class{constructor(t){const{type:n,schema:r,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{const d=i(c,l);return pL(d,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{const d=o(c,l);return pL(d,l,this,c)}:this.refiner=()=>[]}assert(t,n){return cGe(t,this,n)}create(t,n){return jt(t,this,n)}is(t){return sQ(t,this)}mask(t,n){return lGe(t,this,n)}validate(t,n={}){return L1(t,this,n)}};function cGe(e,t,n){const r=L1(e,t,{message:n});if(r[0])throw r[0]}function jt(e,t,n){const r=L1(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function lGe(e,t,n){const r=L1(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function sQ(e,t){return!L1(e,t)[0]}function L1(e,t,n={}){const r=YR(e,t,n),i=sGe(r);return i[0]?[new iGe(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Gp(e,t){return new Od({type:e,schema:null,validator:t})}function dGe(){return Gp("any",()=>!0)}function Zt(e){return new Od({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Nl(t)}`}})}function md(){return Gp("boolean",e=>typeof e=="boolean")}function XR(e){return Gp("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Nl(t)}`)}function fo(e){const t=Nl(e),n=typeof e;return new Od({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${Nl(r)}`}})}function uGe(){return Gp("never",()=>!1)}function qt(e){return new Od({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function Re(){return Gp("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Nl(e)}`)}function er(e){return new Od({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function aQ(e,t){return new Od({type:"record",schema:null,*entries(n){if(ku(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator(n){return ku(n)||`Expected an object, but received: ${Nl(n)}`}})}function Tt(){return Gp("string",e=>typeof e=="string"||`Expected a string, but received: ${Nl(e)}`)}function QR(e){const t=uGe();return new Od({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Nl(n)}`}})}function ft(e){const t=Object.keys(e);return new Od({type:"type",schema:e,*entries(n){if(ku(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return ku(n)||`Expected an object, but received: ${Nl(n)}`},coercer(n){return ku(n)?{...n}:n}})}function Pa(e){const t=e.map(n=>n.type).join(" | ");return new Od({type:"union",schema:null,coercer(n){for(const r of e){const[i,o]=r.validate(n,{coerce:!0});if(!i)return o}return n},validator(n,r){const i=[];for(const o of e){const[...s]=YR(n,o,r),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Nl(n)}`,...i]}})}function U1(){return Gp("unknown",()=>!0)}function F1(e,t,n){return new Od({...e,coercer:(r,i)=>sQ(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var J_,fGe=new Uint8Array(16);function cQ(){if(!J_&&(J_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!J_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return J_(fGe)}const hGe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function rS(e){return typeof e=="string"&&hGe.test(e)}var ks=[];for(var lE=0;lE<256;++lE)ks.push((lE+256).toString(16).substr(1));function iS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ks[e[t+0]]+ks[e[t+1]]+ks[e[t+2]]+ks[e[t+3]]+"-"+ks[e[t+4]]+ks[e[t+5]]+"-"+ks[e[t+6]]+ks[e[t+7]]+"-"+ks[e[t+8]]+ks[e[t+9]]+"-"+ks[e[t+10]]+ks[e[t+11]]+ks[e[t+12]]+ks[e[t+13]]+ks[e[t+14]]+ks[e[t+15]]).toLowerCase();if(!rS(n))throw TypeError("Stringified UUID is invalid");return n}var mL,dE,uE=0,fE=0;function pGe(e,t,n){var r=t&&n||0,i=t||new Array(16);e=e||{};var o=e.node||mL,s=e.clockseq!==void 0?e.clockseq:dE;if(o==null||s==null){var a=e.random||(e.rng||cQ)();o==null&&(o=mL=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=dE=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:fE+1,d=c-uE+(l-fE)/1e4;if(d<0&&e.clockseq===void 0&&(s=s+1&16383),(d<0||c>uE)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");uE=c,fE=l,dE=s,c+=122192928e5;var f=((c&268435455)*1e4+l)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;var p=c/4294967296*1e4&268435455;i[r++]=p>>>8&255,i[r++]=p&255,i[r++]=p>>>24&15|16,i[r++]=p>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var m=0;m<6;++m)i[r+m]=o[m];return t||iS(i)}function lQ(e){if(!rS(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function mGe(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var gGe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",yGe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function dQ(e,t,n){function r(i,o,s,a){if(typeof i=="string"&&(i=mGe(i)),typeof o=="string"&&(o=lQ(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=n(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,s){a=a||0;for(var l=0;l<16;++l)s[a+l]=c[l];return s}return iS(c)}try{r.name=e}catch{}return r.DNS=gGe,r.URL=yGe,r}function vGe(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return bGe(wGe(_Ge(e),e.length*8))}function bGe(e){for(var t=[],n=e.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);t.push(s)}return t}function uQ(e){return(e+64>>>9<<4)+14+1}function wGe(e,t){e[t>>5]|=128<<t%32,e[uQ(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=r,l=i,d=o;n=Fs(n,r,i,o,e[s],7,-680876936),o=Fs(o,n,r,i,e[s+1],12,-389564586),i=Fs(i,o,n,r,e[s+2],17,606105819),r=Fs(r,i,o,n,e[s+3],22,-1044525330),n=Fs(n,r,i,o,e[s+4],7,-176418897),o=Fs(o,n,r,i,e[s+5],12,1200080426),i=Fs(i,o,n,r,e[s+6],17,-1473231341),r=Fs(r,i,o,n,e[s+7],22,-45705983),n=Fs(n,r,i,o,e[s+8],7,1770035416),o=Fs(o,n,r,i,e[s+9],12,-1958414417),i=Fs(i,o,n,r,e[s+10],17,-42063),r=Fs(r,i,o,n,e[s+11],22,-1990404162),n=Fs(n,r,i,o,e[s+12],7,1804603682),o=Fs(o,n,r,i,e[s+13],12,-40341101),i=Fs(i,o,n,r,e[s+14],17,-1502002290),r=Fs(r,i,o,n,e[s+15],22,1236535329),n=Ws(n,r,i,o,e[s+1],5,-165796510),o=Ws(o,n,r,i,e[s+6],9,-1069501632),i=Ws(i,o,n,r,e[s+11],14,643717713),r=Ws(r,i,o,n,e[s],20,-373897302),n=Ws(n,r,i,o,e[s+5],5,-701558691),o=Ws(o,n,r,i,e[s+10],9,38016083),i=Ws(i,o,n,r,e[s+15],14,-660478335),r=Ws(r,i,o,n,e[s+4],20,-405537848),n=Ws(n,r,i,o,e[s+9],5,568446438),o=Ws(o,n,r,i,e[s+14],9,-1019803690),i=Ws(i,o,n,r,e[s+3],14,-187363961),r=Ws(r,i,o,n,e[s+8],20,1163531501),n=Ws(n,r,i,o,e[s+13],5,-1444681467),o=Ws(o,n,r,i,e[s+2],9,-51403784),i=Ws(i,o,n,r,e[s+7],14,1735328473),r=Ws(r,i,o,n,e[s+12],20,-1926607734),n=zs(n,r,i,o,e[s+5],4,-378558),o=zs(o,n,r,i,e[s+8],11,-2022574463),i=zs(i,o,n,r,e[s+11],16,1839030562),r=zs(r,i,o,n,e[s+14],23,-35309556),n=zs(n,r,i,o,e[s+1],4,-1530992060),o=zs(o,n,r,i,e[s+4],11,1272893353),i=zs(i,o,n,r,e[s+7],16,-155497632),r=zs(r,i,o,n,e[s+10],23,-1094730640),n=zs(n,r,i,o,e[s+13],4,681279174),o=zs(o,n,r,i,e[s],11,-358537222),i=zs(i,o,n,r,e[s+3],16,-722521979),r=zs(r,i,o,n,e[s+6],23,76029189),n=zs(n,r,i,o,e[s+9],4,-640364487),o=zs(o,n,r,i,e[s+12],11,-421815835),i=zs(i,o,n,r,e[s+15],16,530742520),r=zs(r,i,o,n,e[s+2],23,-995338651),n=qs(n,r,i,o,e[s],6,-198630844),o=qs(o,n,r,i,e[s+7],10,1126891415),i=qs(i,o,n,r,e[s+14],15,-1416354905),r=qs(r,i,o,n,e[s+5],21,-57434055),n=qs(n,r,i,o,e[s+12],6,1700485571),o=qs(o,n,r,i,e[s+3],10,-1894986606),i=qs(i,o,n,r,e[s+10],15,-1051523),r=qs(r,i,o,n,e[s+1],21,-2054922799),n=qs(n,r,i,o,e[s+8],6,1873313359),o=qs(o,n,r,i,e[s+15],10,-30611744),i=qs(i,o,n,r,e[s+6],15,-1560198380),r=qs(r,i,o,n,e[s+13],21,1309151649),n=qs(n,r,i,o,e[s+4],6,-145523070),o=qs(o,n,r,i,e[s+11],10,-1120210379),i=qs(i,o,n,r,e[s+2],15,718787259),r=qs(r,i,o,n,e[s+9],21,-343485551),n=Ef(n,a),r=Ef(r,c),i=Ef(i,l),o=Ef(o,d)}return[n,r,i,o]}function _Ge(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(uQ(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function Ef(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function xGe(e,t){return e<<t|e>>>32-t}function oS(e,t,n,r,i,o){return Ef(xGe(Ef(Ef(t,e),Ef(r,o)),i),n)}function Fs(e,t,n,r,i,o,s){return oS(t&n|~t&r,e,t,i,o,s)}function Ws(e,t,n,r,i,o,s){return oS(t&r|n&~r,e,t,i,o,s)}function zs(e,t,n,r,i,o,s){return oS(t^n^r,e,t,i,o,s)}function qs(e,t,n,r,i,o,s){return oS(n^(t|~r),e,t,i,o,s)}var kGe=dQ("v3",48,vGe);function SGe(e,t,n){e=e||{};var r=e.random||(e.rng||cQ)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return iS(r)}function EGe(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function hE(e,t){return e<<t|e>>>32-t}function CGe(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),d=0;d<16;++d)l[d]=e[c*64+d*4]<<24|e[c*64+d*4+1]<<16|e[c*64+d*4+2]<<8|e[c*64+d*4+3];a[c]=l}a[s-1][14]=(e.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(e.length-1)*8&4294967295;for(var f=0;f<s;++f){for(var p=new Uint32Array(80),m=0;m<16;++m)p[m]=a[f][m];for(var g=16;g<80;++g)p[g]=hE(p[g-3]^p[g-8]^p[g-14]^p[g-16],1);for(var y=n[0],v=n[1],w=n[2],_=n[3],E=n[4],C=0;C<80;++C){var T=Math.floor(C/20),A=hE(y,5)+EGe(T,v,w,_)+E+t[T]+p[C]>>>0;E=_,_=w,w=hE(v,30)>>>0,v=y,y=A}n[0]=n[0]+y>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+w>>>0,n[3]=n[3]+_>>>0,n[4]=n[4]+E>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var IGe=dQ("v5",80,CGe);const AGe="00000000-0000-0000-0000-000000000000";function TGe(e){if(!rS(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const RGe=Object.freeze(Object.defineProperty({__proto__:null,NIL:AGe,parse:lQ,stringify:iS,v1:pGe,v3:kGe,v4:SGe,v5:IGe,validate:rS,version:TGe},Symbol.toStringTag,{value:"Module"})),fQ=Dl(RGe),PGe=fQ.v4,OGe=function(e,t,n,r){if(typeof e!="string")throw new TypeError(e+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const o={method:e};if(i===2&&(o.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(typeof n>"u"){const s=typeof r.generator=="function"?r.generator:function(){return PGe()};o.id=s(o,r)}else i===2&&n===null?r.notificationIdNull&&(o.id=null):o.id=n;return o};var NGe=OGe;const jGe=fQ.v4,BGe=NGe,Nb=function(e,t){if(!(this instanceof Nb))return new Nb(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return jGe()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};var $Ge=Nb;Nb.prototype.request=function(e,t,n,r){const i=this;let o=null;const s=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&e&&typeof e=="object"&&typeof t=="function")r=t,o=e;else{typeof n=="function"&&(r=n,n=void 0);const l=typeof r=="function";try{o=BGe(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(l)return r(d);throw d}if(!l)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(l){return r(l)}return this.callServer(c,function(l,d){i._parseResponse(l,d,r)}),o};Nb.prototype._parseResponse=function(e,t,n){if(e){n(e);return}if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return n(null,r.filter(i),r.filter(o))}else return n(null,r.error,r.result);n(null,r)};const eP=qo($Ge);var hQ={},pQ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,d){this.fn=c,this.context=l,this.once=d||!1}function o(c,l,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,p),g=n?n+l:l;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],d,f;if(this._eventsCount===0)return l;for(f in d=this._events)t.call(d,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},a.prototype.listeners=function(l){var d=n?n+l:l,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},a.prototype.listenerCount=function(l){var d=n?n+l:l,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,d,f,p,m,g){var y=n?n+l:l;if(!this._events[y])return!1;var v=this._events[y],w=arguments.length,_,E;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,m),!0;case 6:return v.fn.call(v.context,d,f,p,m,g),!0}for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];v.fn.apply(v.context,_)}else{var C=v.length,T;for(E=0;E<C;E++)switch(v[E].once&&this.removeListener(l,v[E].fn,void 0,!0),w){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,d);break;case 3:v[E].fn.call(v[E].context,d,f);break;case 4:v[E].fn.call(v[E].context,d,f,p);break;default:if(!_)for(T=1,_=new Array(w-1);T<w;T++)_[T-1]=arguments[T];v[E].fn.apply(v[E].context,_)}}return!0},a.prototype.on=function(l,d,f){return o(this,l,d,f,!1)},a.prototype.once=function(l,d,f){return o(this,l,d,f,!0)},a.prototype.removeListener=function(l,d,f,p){var m=n?n+l:l;if(!this._events[m])return this;if(!d)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&s(this,m);else{for(var y=0,v=[],w=g.length;y<w;y++)(g[y].fn!==d||p&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(l){var d;return l?(d=n?n+l:l,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(pQ);var mQ=pQ.exports,m0={};Object.defineProperty(m0,"__esModule",{value:!0});m0.createError=m0.DefaultDataPack=void 0;const MGe=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let DGe=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}};m0.DefaultDataPack=DGe;function LGe(e,t){const n={code:e,message:MGe.get(e)||"Internal Server Error"};return t&&(n.data=t),n}m0.createError=LGe;Object.defineProperty(hQ,"__esModule",{value:!0});const UGe=mQ,FGe=m0;let WGe=class extends UGe.EventEmitter{constructor(n,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:o=!0,reconnect_interval:s=1e3,max_reconnects:a=5,...c}={},l,d){super();en(this,"address");en(this,"rpc_id");en(this,"queue");en(this,"options");en(this,"autoconnect");en(this,"ready");en(this,"reconnect");en(this,"reconnect_timer_id");en(this,"reconnect_interval");en(this,"max_reconnects");en(this,"rest_options");en(this,"current_reconnects");en(this,"generate_request_id");en(this,"socket");en(this,"webSocketFactory");en(this,"dataPack");this.webSocketFactory=n,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=o,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=l||(()=>++this.rpc_id),d?this.dataPack=d:this.dataPack=new FGe.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(n,r,i,o){return!o&&typeof i=="object"&&(o=i,i=null),new Promise((s,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(n,r),l={jsonrpc:"2.0",method:n,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(l),o,d=>{if(d)return a(d);this.queue[c]={promise:[s,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(n){const r=await this.call("rpc.login",n);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(n,r){return new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const s={jsonrpc:"2.0",method:n,params:r};this.socket.send(this.dataPack.encode(s),a=>{if(a)return o(a);i()})})}async subscribe(n){typeof n=="string"&&(n=[n]);const r=await this.call("rpc.on",n);if(typeof n=="string"&&r[n]!=="ok")throw new Error("Failed subscribing to an event '"+n+"' with: "+r[n]);return r}async unsubscribe(n){typeof n=="string"&&(n=[n]);const r=await this.call("rpc.off",n);if(typeof n=="string"&&r[n]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(n,r){this.socket.close(n||1e3,r)}setAutoReconnect(n){this.reconnect=n}setReconnectInterval(n){this.reconnect_interval=n}setMaxReconnects(n){this.max_reconnects=n}_connect(n,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(n,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const o=[i.notification];if(i.params.constructor===Object)o.push(i.params);else for(let s=0;s<i.params.length;s++)o.push(i.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,o)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:o})=>{this.ready&&setTimeout(()=>this.emit("close",i,o),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(n,r),this.reconnect_interval)))})}};var zGe=hQ.default=WGe,gQ={};Object.defineProperty(gQ,"__esModule",{value:!0});const qGe=mQ;let VGe=class extends qGe.EventEmitter{constructor(n,r,i){super();en(this,"socket");this.socket=new window.WebSocket(n,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=o=>this.emit("message",o.data),this.socket.onerror=o=>this.emit("error",o),this.socket.onclose=o=>{this.emit("close",o.code,o.reason)}}send(n,r,i){const o=i||r;try{this.socket.send(n),o()}catch(s){o(s)}}close(n,r){this.socket.close(n,r)}addEventListener(n,r,i){this.socket.addEventListener(n,r,i)}};function HGe(e,t){return new VGe(e,t)}var KGe=gQ.default=HGe;function gL(e){try{return cc.ExtendedPoint.fromHex(e),!0}catch{return!1}}const GGe=(e,t)=>cc.sign(e,t.slice(0,32)),ZGe=cc.verify,g0=e=>Se.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Se.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Se.Buffer.from(e);let JGe=class{constructor(t){Object.assign(this,t)}encode(){return Se.Buffer.from(ny(Dx,this))}static decode(t){return ry(Dx,this,t)}static decodeUnchecked(t){return ty(Dx,this,t)}};const Dx=new Map;var yQ;const YGe=32,Pf=32;function XGe(e){return e._bn!==void 0}let yL=1,wr=class eg extends JGe{constructor(t){if(super({}),this._bn=void 0,XGe(t))this._bn=t._bn;else{if(typeof t=="string"){const n=As.decode(t);if(n.length!=Pf)throw new Error("Invalid public key input");this._bn=new pd(n)}else this._bn=new pd(t);if(this._bn.byteLength()>Pf)throw new Error("Invalid public key input")}}static unique(){const t=new eg(yL);return yL+=1,new eg(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return As.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Se.Buffer);if(t.length===Pf)return t;const n=Se.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Se.Buffer.concat([t.toBuffer(),Se.Buffer.from(n),r.toBuffer()]),o=El(i);return new eg(o)}static createProgramAddressSync(t,n){let r=Se.Buffer.alloc(0);t.forEach(function(o){if(o.length>YGe)throw new TypeError("Max seed length exceeded");r=Se.Buffer.concat([r,g0(o)])}),r=Se.Buffer.concat([r,n.toBuffer(),Se.Buffer.from("ProgramDerivedAddress")]);const i=El(r);if(gL(i))throw new Error("Invalid seeds, address must fall off the curve");return new eg(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Se.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new eg(t);return gL(n.toBytes())}};yQ=wr;wr.default=new yQ("11111111111111111111111111111111");Dx.set(wr,{kind:"struct",fields:[["_bn","u256"]]});new wr("BPFLoader1111111111111111111111111111111111");const jg=1232,vQ=127,bQ=64;let wQ=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(wQ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let _Q=class extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(_Q.prototype,"name",{value:"TransactionExpiredTimeoutError"});let dv=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(dv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let X2=class{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}};const Kr=(e="publicKey")=>Et(32,e),yg=(e="string")=>{const t=le([he("length"),he("lengthPadding"),Et(vi(he(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const c={chars:Se.Buffer.from(o,"utf8")};return r(c,s,a)},i.alloc=o=>he().span+he().span+Se.Buffer.from(o,"utf8").length,i},QGe=(e="authorized")=>le([Kr("staker"),Kr("withdrawer")],e),eZe=(e="lockup")=>le([xn("unixTimestamp"),xn("epoch"),Kr("custodian")],e),tZe=(e="voteInit")=>le([Kr("nodePubkey"),Kr("authorizedVoter"),Kr("authorizedWithdrawer"),Ve("commission")],e),nZe=(e="voteAuthorizeWithSeedArgs")=>le([he("voteAuthorizationType"),Kr("currentAuthorityDerivedKeyOwnerPubkey"),yg("currentAuthorityDerivedKeySeed"),Kr("newAuthorized")],e);function Nc(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,!(r&128))break}return t}function jc(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function Zo(e,t){if(!e)throw new Error(t||"Assertion failed")}let xQ=class kQ{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new kQ(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Zo(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,c])=>c.isSigner&&c.isWritable),r=t.filter(([,c])=>c.isSigner&&!c.isWritable),i=t.filter(([,c])=>!c.isSigner&&c.isWritable),o=t.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Zo(n.length>0,"Expected at least one writable signer key");const[c]=n[0];Zo(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new wr(c)),...r.map(([c])=>new wr(c)),...i.map(([c])=>new wr(c)),...o.map(([c])=>new wr(c))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new wr(o),c=t.findIndex(l=>l.equals(a));c>=0&&(Zo(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}};const SQ="Reached end of buffer unexpectedly";function pu(e){if(e.length===0)throw new Error(SQ);return e.shift()}function Bc(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(SQ);return e.splice(...t)}let jb=class E4{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new wr(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:As.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new X2(this.staticAccountKeys)}static compile(t){const n=xQ.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new X2(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:As.encode(a.data)}));return new E4({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];jc(n,t);const r=this.instructions.map(f=>{const{accounts:p,programIdIndex:m}=f,g=Array.from(As.decode(f.data));let y=[];jc(y,p.length);let v=[];return jc(v,g.length),{programIdIndex:m,keyIndicesCount:Se.Buffer.from(y),keyIndices:p,dataLength:Se.Buffer.from(v),data:g}});let i=[];jc(i,r.length);let o=Se.Buffer.alloc(jg);Se.Buffer.from(i).copy(o);let s=i.length;r.forEach(f=>{const m=le([Ve("programIdIndex"),Et(f.keyIndicesCount.length,"keyIndicesCount"),Tn(Ve("keyIndex"),f.keyIndices.length,"keyIndices"),Et(f.dataLength.length,"dataLength"),Tn(Ve("userdatum"),f.data.length,"data")]).encode(f,o,s);s+=m}),o=o.slice(0,s);const a=le([Et(1,"numRequiredSignatures"),Et(1,"numReadonlySignedAccounts"),Et(1,"numReadonlyUnsignedAccounts"),Et(n.length,"keyCount"),Tn(Kr("key"),t,"keys"),Kr("recentBlockhash")]),c={numRequiredSignatures:Se.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Se.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Se.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Se.Buffer.from(n),keys:this.accountKeys.map(f=>g0(f.toBytes())),recentBlockhash:As.decode(this.recentBlockhash)};let l=Se.Buffer.alloc(2048);const d=a.encode(c,l);return o.copy(l,d),l.slice(0,d+o.length)}static from(t){let n=[...t];const r=pu(n);if(r!==(r&vQ))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=pu(n),o=pu(n),s=Nc(n);let a=[];for(let p=0;p<s;p++){const m=Bc(n,0,Pf);a.push(new wr(Se.Buffer.from(m)))}const c=Bc(n,0,Pf),l=Nc(n);let d=[];for(let p=0;p<l;p++){const m=pu(n),g=Nc(n),y=Bc(n,0,g),v=Nc(n),w=Bc(n,0,v),_=As.encode(Se.Buffer.from(w));d.push({programIdIndex:m,accounts:y,data:_})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:As.encode(Se.Buffer.from(c)),accountKeys:a,instructions:d};return new E4(f)}},rZe=class C4{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new X2(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const i=t-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){const i=t-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=xQ.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const d of o){const f=n.extractTableLookup(d);if(f!==void 0){const[p,{writable:m,readonly:g}]=f;r.push(p),i.writable.push(...m),i.readonly.push(...g)}}const[s,a]=n.getMessageComponents(),l=new X2(a,i).compileInstructions(t.instructions);return new C4({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:l,addressTableLookups:r})}serialize(){const t=Array();jc(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();jc(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();jc(o,this.addressTableLookups.length);const s=le([Ve("prefix"),le([Ve("numRequiredSignatures"),Ve("numReadonlySignedAccounts"),Ve("numReadonlyUnsignedAccounts")],"header"),Et(t.length,"staticAccountKeysLength"),Tn(Kr(),this.staticAccountKeys.length,"staticAccountKeys"),Kr("recentBlockhash"),Et(r.length,"instructionsLength"),Et(n.length,"serializedInstructions"),Et(o.length,"addressTableLookupsLength"),Et(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(jg),l=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:As.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,l)}serializeInstructions(){let t=0;const n=new Uint8Array(jg);for(const r of this.compiledInstructions){const i=Array();jc(i,r.accountKeyIndexes.length);const o=Array();jc(o,r.data.length);const s=le([Ve("programIdIndex"),Et(i.length,"encodedAccountKeyIndexesLength"),Tn(Ve(),r.accountKeyIndexes.length,"accountKeyIndexes"),Et(o.length,"encodedDataLength"),Et(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(jg);for(const r of this.addressTableLookups){const i=Array();jc(i,r.writableIndexes.length);const o=Array();jc(o,r.readonlyIndexes.length);const s=le([Kr("accountKey"),Et(i.length,"encodedWritableIndexesLength"),Tn(Ve(),r.writableIndexes.length,"writableIndexes"),Et(o.length,"encodedReadonlyIndexesLength"),Tn(Ve(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=pu(n),i=r&vQ;Zo(r!==i,"Expected versioned message but received legacy message");const o=i;Zo(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:pu(n),numReadonlySignedAccounts:pu(n),numReadonlyUnsignedAccounts:pu(n)},a=[],c=Nc(n);for(let g=0;g<c;g++)a.push(new wr(Bc(n,0,Pf)));const l=As.encode(Bc(n,0,Pf)),d=Nc(n),f=[];for(let g=0;g<d;g++){const y=pu(n),v=Nc(n),w=Bc(n,0,v),_=Nc(n),E=new Uint8Array(Bc(n,0,_));f.push({programIdIndex:y,accountKeyIndexes:w,data:E})}const p=Nc(n),m=[];for(let g=0;g<p;g++){const y=new wr(Bc(n,0,Pf)),v=Nc(n),w=Bc(n,0,v),_=Nc(n),E=Bc(n,0,_);m.push({accountKey:y,writableIndexes:w,readonlyIndexes:E})}return new C4({header:s,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:f,addressTableLookups:m})}},cf=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const iZe=Se.Buffer.alloc(bQ).fill(0);let vL=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Se.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},qy=class I4{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new vL(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<n.length;y++)if(n[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],o=[];n.forEach(y=>{y.keys.forEach(w=>{o.push({...w})});const v=y.programId.toString();i.includes(v)||i.push(v)}),i.forEach(y=>{o.push({pubkey:new wr(y),isSigner:!1,isWritable:!1})});const s=[];o.forEach(y=>{const v=y.pubkey.toString(),w=s.findIndex(_=>_.pubkey.toString()===v);w>-1?(s[w].isWritable=s[w].isWritable||y.isWritable,s[w].isSigner=s[w].isSigner||y.isSigner):s.push(y)}),s.sort(function(y,v){if(y.isSigner!==v.isSigner)return y.isSigner?-1:1;if(y.isWritable!==v.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(v.pubkey.toBase58(),"en",w)});const a=s.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=s.splice(a,1);y.isSigner=!0,y.isWritable=!0,s.unshift(y)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const v=s.findIndex(w=>w.pubkey.equals(y.publicKey));if(v>-1)s[v].isSigner||(s[v].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,l=0,d=0;const f=[],p=[];s.forEach(({pubkey:y,isSigner:v,isWritable:w})=>{v?(f.push(y.toString()),c+=1,w||(l+=1)):(p.push(y.toString()),w||(d+=1))});const m=f.concat(p),g=n.map(y=>{const{data:v,programId:w}=y;return{programIdIndex:m.indexOf(w.toString()),accounts:y.keys.map(_=>m.indexOf(_.pubkey.toString())),data:As.encode(v)}});return g.forEach(y=>{Zo(y.programIdIndex>=0),y.accounts.forEach(v=>Zo(v>=0))}),new jb({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:g})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=GGe(r,i.secretKey);this._addSignature(i.publicKey,g0(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){Zo(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Se.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):ZGe(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];jc(r,n.length);const i=r.length+n.length*64+t.length,o=Se.Buffer.alloc(i);return Zo(n.length<256),Se.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(Zo(s.length===64,"signature has invalid length"),Se.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),Zo(o.length<=jg,`Transaction too large: ${o.length} > ${jg}`),o}get keys(){return Zo(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Zo(this.instructions.length===1),this.instructions[0].programId}get data(){return Zo(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=Nc(n);let i=[];for(let o=0;o<r;o++){const s=Bc(n,0,bQ);i.push(As.encode(Se.Buffer.from(s)))}return I4.populate(jb.from(n),i)}static populate(t,n=[]){const r=new I4;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==As.encode(iZe)?null:As.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new vL({keys:o,programId:t.accountKeys[i.programIdIndex],data:As.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}};const oZe=160,sZe=64,aZe=oZe/sZe,cZe=1e3/aZe;new wr("SysvarC1ock11111111111111111111111111111111");new wr("SysvarEpochSchedu1e111111111111111111111111");new wr("Sysvar1nstructions1111111111111111111111111");new wr("SysvarRecentB1ockHashes11111111111111111111");new wr("SysvarRent111111111111111111111111111111111");new wr("SysvarRewards111111111111111111111111111111");new wr("SysvarS1otHashes111111111111111111111111111");new wr("SysvarS1otHistory11111111111111111111111111");new wr("SysvarStakeHistory1111111111111111111111111");let bL=class extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:i}){let o;switch(t){case"send":o=`Transaction ${n} resulted in an error. 
${r}. `+(i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"")+"\nCatch the SendTransactionError and call `getLogs()` on it for full details.";break;case"simulate":o=`Simulation failed. 
Message: ${r}. 
`+(i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"")+"\nCatch the SendTransactionError and call `getLogs()` on it for full details.";break;default:o="Unknown action"}super(o),this.signature=void 0,this.transactionMessage=void 0,this.logs=void 0,this.signature=n,this.transactionMessage=r,this.logs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.logs)?this.logs:void 0}}async getLogs(t){return Array.isArray(this.logs)||(this.logs=new Promise((n,r)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.logs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.logs}},Cn=class extends Error{constructor({code:t,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}};function tg(e){return new Promise(t=>setTimeout(t,e))}const lZe=Ot("lamportsPerSignature"),EQ=le([he("version"),he("state"),Kr("authorizedPubkey"),Kr("nonce"),le([lZe],"feeCalculator")]);EQ.span;let dZe=class CQ{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=EQ.decode(g0(t),0);return new CQ({authorizedPubkey:new wr(n.authorizedPubkey),nonce:new wr(n.nonce).toString(),feeCalculator:n.feeCalculator})}};const uZe=e=>{const t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}},fZe=e=>t=>{const n=Et(e,t),{encode:r,decode:i}=uZe(n),o=n;return o.decode=(s,a)=>{const c=i(s,a);return M1(Se.Buffer.from(c))},o.encode=(s,a,c)=>{const l=D1(s,e);return r(l,a,c)},o},y0=fZe(8);Object.freeze({Create:{index:0,layout:le([he("instruction"),xn("lamports"),xn("space"),Kr("programId")])},Assign:{index:1,layout:le([he("instruction"),Kr("programId")])},Transfer:{index:2,layout:le([he("instruction"),y0("lamports")])},CreateWithSeed:{index:3,layout:le([he("instruction"),Kr("base"),yg("seed"),xn("lamports"),xn("space"),Kr("programId")])},AdvanceNonceAccount:{index:4,layout:le([he("instruction")])},WithdrawNonceAccount:{index:5,layout:le([he("instruction"),xn("lamports")])},InitializeNonceAccount:{index:6,layout:le([he("instruction"),Kr("authorized")])},AuthorizeNonceAccount:{index:7,layout:le([he("instruction"),Kr("authorized")])},Allocate:{index:8,layout:le([he("instruction"),xn("space")])},AllocateWithSeed:{index:9,layout:le([he("instruction"),Kr("base"),yg("seed"),xn("space"),Kr("programId")])},AssignWithSeed:{index:10,layout:le([he("instruction"),Kr("base"),yg("seed"),Kr("programId")])},TransferWithSeed:{index:11,layout:le([he("instruction"),y0("lamports"),yg("seed"),Kr("programId")])},UpgradeNonceAccount:{index:12,layout:le([he("instruction")])}});new wr("11111111111111111111111111111111");new wr("BPFLoader2111111111111111111111111111111111");function hZe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pZe=Object.prototype.toString,mZe=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function uv(e,t){var n,r,i,o,s,a,c;if(e===!0)return"true";if(e===!1)return"false";switch(typeof e){case"object":if(e===null)return null;if(e.toJSON&&typeof e.toJSON=="function")return uv(e.toJSON(),t);if(c=pZe.call(e),c==="[object Array]"){for(i="[",r=e.length-1,n=0;n<r;n++)i+=uv(e[n],!0)+",";return r>-1&&(i+=uv(e[n],!0)),i+"]"}else if(c==="[object Object]"){for(o=mZe(e).sort(),r=o.length,i="",n=0;n<r;)s=o[n],a=uv(e[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),n++;return"{"+i+"}"}else return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var gZe=function(e){var t=uv(e,!1);if(t!==void 0)return""+t},wL=hZe(gZe);const Vy=32;function pE(e){let t=0;for(;e>1;)e/=2,t++;return t}function yZe(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}let vZe=class{constructor(t,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=pE(yZe(t+Vy+1))-pE(Vy)-1,r=this.getSlotsInEpoch(n),i=t-(r-Vy);return[n,i]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Vy:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+pE(Vy)):this.slotsPerEpoch}};var bZe=globalThis.fetch;let wZe=class extends zGe{constructor(t,n,r){const i=o=>{const s=KGe(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,t,n,r),this.underlyingSocket=void 0}call(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}};function _Ze(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const _L=56;let xL=class{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=_Ze(xZe,t),r=t.length-_L;Zo(r>=0,"lookup table is invalid"),Zo(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=le([Tn(Kr(),i,"addresses")]).decode(t.slice(_L));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new wr(n.authority[0]):void 0,addresses:o.map(s=>new wr(s))}}};const xZe={index:1,layout:le([he("typeIndex"),y0("deactivationSlot"),Ot("lastExtendedSlot"),Ve("lastExtendedStartIndex"),Ve(),Tn(Kr(),vi(Ve(),-1),"authority")])},kZe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function SZe(e){const t=e.match(kZe);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${r}${c}${o}`}const Xo=F1(XR(wr),Tt(),e=>new wr(e)),IQ=QR([Tt(),fo("base64")]),tP=F1(XR(Se.Buffer),IQ,e=>Se.Buffer.from(e[0],"base64")),EZe=30*1e3;function CZe(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Qi(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function AQ(e){return Pa([ft({jsonrpc:fo("2.0"),id:Tt(),result:e}),ft({jsonrpc:fo("2.0"),id:Tt(),error:ft({code:U1(),message:Tt(),data:er(dGe())})})])}const IZe=AQ(U1());function jr(e){return F1(AQ(e),IZe,t=>"error"in t?t:{...t,result:jt(t.result,e)})}function ko(e){return jr(ft({context:ft({slot:Re()}),value:e}))}function sS(e){return ft({context:ft({slot:Re()}),value:e})}function mE(e,t){return e===0?new rZe({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new wr(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:As.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new jb(t)}const AZe=ft({foundation:Re(),foundationTerm:Re(),initial:Re(),taper:Re(),terminal:Re()}),TZe=jr(Zt(qt(ft({epoch:Re(),effectiveSlot:Re(),amount:Re(),postBalance:Re(),commission:er(qt(Re()))})))),RZe=Zt(ft({slot:Re(),prioritizationFee:Re()})),PZe=ft({total:Re(),validator:Re(),foundation:Re(),epoch:Re()}),OZe=ft({epoch:Re(),slotIndex:Re(),slotsInEpoch:Re(),absoluteSlot:Re(),blockHeight:er(Re()),transactionCount:er(Re())}),NZe=ft({slotsPerEpoch:Re(),leaderScheduleSlotOffset:Re(),warmup:md(),firstNormalEpoch:Re(),firstNormalSlot:Re()}),jZe=aQ(Tt(),Zt(Re())),Zp=qt(Pa([ft({}),Tt()])),BZe=ft({err:Zp}),$Ze=fo("receivedSignature"),MZe=ft({"solana-core":Tt(),"feature-set":er(Re())}),kL=ko(ft({err:qt(Pa([ft({}),Tt()])),logs:qt(Zt(Tt())),accounts:er(qt(Zt(qt(ft({executable:md(),owner:Tt(),lamports:Re(),data:Zt(Tt()),rentEpoch:er(Re())}))))),unitsConsumed:er(Re()),returnData:er(qt(ft({programId:Tt(),data:QR([Tt(),fo("base64")])})))})),DZe=ko(ft({byIdentity:aQ(Tt(),Zt(Re())),range:ft({firstSlot:Re(),lastSlot:Re()})}));function LZe(e,t,n,r,i,o){const s=n||bZe;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(d,f)=>{const p=await new Promise((m,g)=>{try{r(d,f,(y,v)=>m([y,v]))}catch(y){g(y)}});return await s(...p)}),new eP(async(d,f)=>{const p={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},UJe)};try{let m=5,g,y=500;for(;c?g=await c(e,p):g=await s(e,p),!(g.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await tg(y),y*=2;const v=await g.text();g.ok?f(null,v):f(new Error(`${g.status} ${g.statusText}: ${v}`))}catch(m){m instanceof Error&&f(m)}},{})}function UZe(e){return(t,n)=>new Promise((r,i)=>{e.request(t,n,(o,s)=>{if(o){i(o);return}r(s)})})}function FZe(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const i=t.map(o=>e.request(o.methodName,o.args));e.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const WZe=jr(AZe),zZe=jr(PZe),qZe=jr(RZe),VZe=jr(OZe),HZe=jr(NZe),KZe=jr(jZe),GZe=jr(Re()),ZZe=ko(ft({total:Re(),circulating:Re(),nonCirculating:Re(),nonCirculatingAccounts:Zt(Xo)})),A4=ft({amount:Tt(),uiAmount:qt(Re()),decimals:Re(),uiAmountString:er(Tt())}),JZe=ko(Zt(ft({address:Xo,amount:Tt(),uiAmount:qt(Re()),decimals:Re(),uiAmountString:er(Tt())}))),YZe=ko(Zt(ft({pubkey:Xo,account:ft({executable:md(),owner:Xo,lamports:Re(),data:tP,rentEpoch:Re()})}))),T4=ft({program:Tt(),parsed:U1(),space:Re()}),XZe=ko(Zt(ft({pubkey:Xo,account:ft({executable:md(),owner:Xo,lamports:Re(),data:T4,rentEpoch:Re()})}))),QZe=ko(Zt(ft({lamports:Re(),address:Xo}))),Bb=ft({executable:md(),owner:Xo,lamports:Re(),data:tP,rentEpoch:Re()}),eJe=ft({pubkey:Xo,account:Bb}),tJe=F1(Pa([XR(Se.Buffer),T4]),Pa([IQ,T4]),e=>Array.isArray(e)?jt(e,tP):e),R4=ft({executable:md(),owner:Xo,lamports:Re(),data:tJe,rentEpoch:Re()}),nJe=ft({pubkey:Xo,account:R4}),rJe=ft({state:Pa([fo("active"),fo("inactive"),fo("activating"),fo("deactivating")]),active:Re(),inactive:Re()}),iJe=jr(Zt(ft({signature:Tt(),slot:Re(),err:Zp,memo:qt(Tt()),blockTime:er(qt(Re()))}))),oJe=jr(Zt(ft({signature:Tt(),slot:Re(),err:Zp,memo:qt(Tt()),blockTime:er(qt(Re()))}))),sJe=ft({subscription:Re(),result:sS(Bb)}),aJe=ft({pubkey:Xo,account:Bb}),cJe=ft({subscription:Re(),result:sS(aJe)}),lJe=ft({parent:Re(),slot:Re(),root:Re()}),dJe=ft({subscription:Re(),result:lJe}),uJe=Pa([ft({type:Pa([fo("firstShredReceived"),fo("completed"),fo("optimisticConfirmation"),fo("root")]),slot:Re(),timestamp:Re()}),ft({type:fo("createdBank"),parent:Re(),slot:Re(),timestamp:Re()}),ft({type:fo("frozen"),slot:Re(),timestamp:Re(),stats:ft({numTransactionEntries:Re(),numSuccessfulTransactions:Re(),numFailedTransactions:Re(),maxTransactionsPerEntry:Re()})}),ft({type:fo("dead"),slot:Re(),timestamp:Re(),err:Tt()})]),fJe=ft({subscription:Re(),result:uJe}),hJe=ft({subscription:Re(),result:sS(Pa([BZe,$Ze]))}),pJe=ft({subscription:Re(),result:Re()}),mJe=ft({pubkey:Tt(),gossip:qt(Tt()),tpu:qt(Tt()),rpc:qt(Tt()),version:qt(Tt())}),SL=ft({votePubkey:Tt(),nodePubkey:Tt(),activatedStake:Re(),epochVoteAccount:md(),epochCredits:Zt(QR([Re(),Re(),Re()])),commission:Re(),lastVote:Re(),rootSlot:qt(Re())}),gJe=jr(ft({current:Zt(SL),delinquent:Zt(SL)})),yJe=Pa([fo("processed"),fo("confirmed"),fo("finalized")]),vJe=ft({slot:Re(),confirmations:qt(Re()),err:Zp,confirmationStatus:er(yJe)}),bJe=ko(Zt(qt(vJe))),wJe=jr(Re()),TQ=ft({accountKey:Xo,writableIndexes:Zt(Re()),readonlyIndexes:Zt(Re())}),nP=ft({signatures:Zt(Tt()),message:ft({accountKeys:Zt(Tt()),header:ft({numRequiredSignatures:Re(),numReadonlySignedAccounts:Re(),numReadonlyUnsignedAccounts:Re()}),instructions:Zt(ft({accounts:Zt(Re()),data:Tt(),programIdIndex:Re()})),recentBlockhash:Tt(),addressTableLookups:er(Zt(TQ))})}),RQ=ft({pubkey:Xo,signer:md(),writable:md(),source:er(Pa([fo("transaction"),fo("lookupTable")]))}),PQ=ft({accountKeys:Zt(RQ),signatures:Zt(Tt())}),OQ=ft({parsed:U1(),program:Tt(),programId:Xo}),NQ=ft({accounts:Zt(Xo),data:Tt(),programId:Xo}),_Je=Pa([NQ,OQ]),xJe=Pa([ft({parsed:U1(),program:Tt(),programId:Tt()}),ft({accounts:Zt(Tt()),data:Tt(),programId:Tt()})]),jQ=F1(_Je,xJe,e=>"accounts"in e?jt(e,NQ):jt(e,OQ)),BQ=ft({signatures:Zt(Tt()),message:ft({accountKeys:Zt(RQ),instructions:Zt(jQ),recentBlockhash:Tt(),addressTableLookups:er(qt(Zt(TQ)))})}),Q2=ft({accountIndex:Re(),mint:Tt(),owner:er(Tt()),uiTokenAmount:A4}),$Q=ft({writable:Zt(Xo),readonly:Zt(Xo)}),aS=ft({err:Zp,fee:Re(),innerInstructions:er(qt(Zt(ft({index:Re(),instructions:Zt(ft({accounts:Zt(Re()),data:Tt(),programIdIndex:Re()}))})))),preBalances:Zt(Re()),postBalances:Zt(Re()),logMessages:er(qt(Zt(Tt()))),preTokenBalances:er(qt(Zt(Q2))),postTokenBalances:er(qt(Zt(Q2))),loadedAddresses:er($Q),computeUnitsConsumed:er(Re())}),rP=ft({err:Zp,fee:Re(),innerInstructions:er(qt(Zt(ft({index:Re(),instructions:Zt(jQ)})))),preBalances:Zt(Re()),postBalances:Zt(Re()),logMessages:er(qt(Zt(Tt()))),preTokenBalances:er(qt(Zt(Q2))),postTokenBalances:er(qt(Zt(Q2))),loadedAddresses:er($Q),computeUnitsConsumed:er(Re())}),sy=Pa([fo(0),fo("legacy")]),Jp=ft({pubkey:Tt(),lamports:Re(),postBalance:qt(Re()),rewardType:qt(Tt()),commission:er(qt(Re()))}),kJe=jr(qt(ft({blockhash:Tt(),previousBlockhash:Tt(),parentSlot:Re(),transactions:Zt(ft({transaction:nP,meta:qt(aS),version:er(sy)})),rewards:er(Zt(Jp)),blockTime:qt(Re()),blockHeight:qt(Re())}))),SJe=jr(qt(ft({blockhash:Tt(),previousBlockhash:Tt(),parentSlot:Re(),rewards:er(Zt(Jp)),blockTime:qt(Re()),blockHeight:qt(Re())}))),EJe=jr(qt(ft({blockhash:Tt(),previousBlockhash:Tt(),parentSlot:Re(),transactions:Zt(ft({transaction:PQ,meta:qt(aS),version:er(sy)})),rewards:er(Zt(Jp)),blockTime:qt(Re()),blockHeight:qt(Re())}))),CJe=jr(qt(ft({blockhash:Tt(),previousBlockhash:Tt(),parentSlot:Re(),transactions:Zt(ft({transaction:BQ,meta:qt(rP),version:er(sy)})),rewards:er(Zt(Jp)),blockTime:qt(Re()),blockHeight:qt(Re())}))),IJe=jr(qt(ft({blockhash:Tt(),previousBlockhash:Tt(),parentSlot:Re(),transactions:Zt(ft({transaction:PQ,meta:qt(rP),version:er(sy)})),rewards:er(Zt(Jp)),blockTime:qt(Re()),blockHeight:qt(Re())}))),AJe=jr(qt(ft({blockhash:Tt(),previousBlockhash:Tt(),parentSlot:Re(),rewards:er(Zt(Jp)),blockTime:qt(Re()),blockHeight:qt(Re())}))),TJe=jr(qt(ft({blockhash:Tt(),previousBlockhash:Tt(),parentSlot:Re(),transactions:Zt(ft({transaction:nP,meta:qt(aS)})),rewards:er(Zt(Jp)),blockTime:qt(Re())}))),EL=jr(qt(ft({blockhash:Tt(),previousBlockhash:Tt(),parentSlot:Re(),signatures:Zt(Tt()),blockTime:qt(Re())}))),gE=jr(qt(ft({slot:Re(),meta:qt(aS),blockTime:er(qt(Re())),transaction:nP,version:er(sy)}))),Y_=jr(qt(ft({slot:Re(),transaction:BQ,meta:qt(rP),blockTime:er(qt(Re())),version:er(sy)}))),RJe=ko(ft({blockhash:Tt(),feeCalculator:ft({lamportsPerSignature:Re()})})),PJe=ko(ft({blockhash:Tt(),lastValidBlockHeight:Re()})),OJe=ko(md()),NJe=ft({slot:Re(),numTransactions:Re(),numSlots:Re(),samplePeriodSecs:Re()}),jJe=jr(Zt(NJe)),BJe=ko(qt(ft({feeCalculator:ft({lamportsPerSignature:Re()})}))),$Je=jr(Tt()),MJe=jr(Tt()),DJe=ft({err:Zp,logs:Zt(Tt()),signature:Tt()}),LJe=ft({result:sS(DJe),subscription:Re()}),UJe={"solana-client":"js/0.0.0-development"};let FJe=class{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const l={};return async d=>{const{commitment:f,config:p}=Qi(d),m=this._buildArgs([],f,void 0,p),g=wL(m);return l[g]=l[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",m),v=jt(y,jr(Re()));if("error"in v)throw new Cn(v.error,"failed to get block height information");return v.result}finally{delete l[g]}})(),await l[g]}})();let r,i,o,s,a,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,c=n.httpAgent),this._rpcEndpoint=CZe(t),this._rpcWsEndpoint=r||SZe(t),this._rpcClient=LZe(t,i,o,s,a,c),this._rpcRequest=UZe(this._rpcClient),this._rpcBatchRequest=FZe(this._rpcClient),this._rpcWebSocket=new wZe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:i}=Qi(n),o=this._buildArgs([t.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=jt(s,ko(Re()));if("error"in a)throw new Cn(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=jt(n,jr(qt(Re())));if("error"in r)throw new Cn(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=jt(t,jr(Re()));if("error"in n)throw new Cn(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=jt(t,GZe);if("error"in n)throw new Cn(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=jt(r,ZZe);if("error"in i)throw new Cn(i.error,"failed to get supply");return i.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=jt(i,ko(A4));if("error"in o)throw new Cn(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=jt(i,ko(A4));if("error"in o)throw new Cn(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,n,r){const{commitment:i,config:o}=Qi(r);let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),l=jt(c,YZe);if("error"in l)throw new Cn(l.error,`failed to get token accounts owned by account ${t.toBase58()}`);return l.result}async getParsedTokenAccountsByOwner(t,n,r){let i=[t.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=jt(s,XZe);if("error"in a)throw new Cn(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=jt(i,QZe);if("error"in o)throw new Cn(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=jt(i,JZe);if("error"in o)throw new Cn(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:i}=Qi(n),o=this._buildArgs([t.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=jt(s,ko(qt(Bb)));if("error"in a)throw new Cn(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:i}=Qi(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=jt(s,ko(qt(R4)));if("error"in a)throw new Cn(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:i}=Qi(n),o=t.map(l=>l.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=jt(a,ko(Zt(qt(R4))));if("error"in c)throw new Cn(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:i}=Qi(n),o=t.map(l=>l.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=jt(a,ko(Zt(qt(Bb))));if("error"in c)throw new Cn(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:i,config:o}=Qi(n),s=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),c=jt(a,jr(rJe));if("error"in c)throw new Cn(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,n){const{commitment:r,config:i}=Qi(n),{encoding:o,...s}=i||{},a=this._buildArgs([t.toBase58()],r,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),l=Zt(eJe),d=s.withContext===!0?jt(c,ko(l)):jt(c,jr(l));if("error"in d)throw new Cn(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:i}=Qi(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=jt(s,jr(Zt(nJe)));if("error"in a)throw new Cn(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){var o;let r;if(typeof t=="string")r=t;else{const s=t;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=As.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Zo(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,i,o=!1;const s=new Promise((c,l)=>{try{r=this.onSignature(n,(f,p)=>{r=void 0;const m={context:p,value:f};c({__type:cf.PROCESSED,response:m})},t);const d=new Promise(f=>{r==null?f():i=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&f()})});(async()=>{if(await d,o)return;const f=await this.getSignatureStatus(n);if(o||f==null)return;const{context:p,value:m}=f;if(m!=null)if(m!=null&&m.err)l(m.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:cf.PROCESSED,response:{context:p,value:m}})}})()}catch(d){l(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(f=>{const p=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let m=await p();if(!o){for(;m<=r;)if(await tg(1e3),o||(m=await p(),o))return;f({__type:cf.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),l=this.getCancellationPromise(n);let d;try{const f=await Promise.race([l,c,s]);if(f.__type===cf.PROCESSED)d=f.response;else throw new wQ(i)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const c=new Promise(m=>{let g=o,y=null;const v=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await v(),!a)for(;;){if(o!==g){m({__type:cf.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await tg(2e3),a||(g=await v(),a))return}})()}),{abortConfirmation:l,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),f=this.getCancellationPromise(n);let p;try{const m=await Promise.race([f,d,c]);if(m.__type===cf.PROCESSED)p=m.response;else{let g;for(;;){const y=await this.getSignatureStatus(s);if(y==null)break;if(y.context.slot<(m.slotInWhichNonceDidAdvance??r)){await tg(400);continue}g=y;break}if(g!=null&&g.value){const y=t||"finalized",{confirmationStatus:v}=g.value;switch(y){case"processed":case"recent":if(v!=="processed"&&v!=="confirmed"&&v!=="finalized")throw new dv(s);break;case"confirmed":case"single":case"singleGossip":if(v!=="confirmed"&&v!=="finalized")throw new dv(s);break;case"finalized":case"max":case"root":if(v!=="finalized")throw new dv(s);break;default:}p={context:g.context,value:{err:g.value.err}}}else throw new dv(s)}}finally{a=!0,l()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const i=new Promise(c=>{let l=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{l=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:cf.TIMED_OUT,timeoutMs:l}),l)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const c=await Promise.race([s,i]);if(c.__type===cf.PROCESSED)a=c.response;else throw new _Q(n,c.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=jt(t,jr(Zt(mJe)));if("error"in n)throw new Cn(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),i=jt(r,gJe);if("error"in i)throw new Cn(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:n,config:r}=Qi(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=jt(o,jr(Re()));if("error"in s)throw new Cn(s.error,"failed to get slot");return s.result}async getSlotLeader(t){const{commitment:n,config:r}=Qi(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=jt(o,jr(Tt()));if("error"in s)throw new Cn(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,n){const r=[t,n],i=await this._rpcRequest("getSlotLeaders",r),o=jt(i,jr(Zt(Xo)));if("error"in o)throw new Cn(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,n){const{context:r,value:i}=await this.getSignatureStatuses([t],n);Zo(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=jt(i,bJe);if("error"in o)throw new Cn(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:n,config:r}=Qi(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=jt(o,jr(Re()));if("error"in s)throw new Cn(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),i=jt(r,WZe);if("error"in i)throw new Cn(i.error,"failed to get inflation");return i.result}async getInflationReward(t,n,r){const{commitment:i,config:o}=Qi(r),s=this._buildArgs([t.map(l=>l.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),c=jt(a,TZe);if("error"in c)throw new Cn(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=jt(t,zZe);if("error"in n)throw new Cn(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=Qi(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=jt(o,VZe);if("error"in s)throw new Cn(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=jt(t,HZe);if("error"in n)throw new Cn(n.error,"failed to get epoch schedule");const r=n.result;return new vZe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=jt(t,KZe);if("error"in n)throw new Cn(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=jt(i,wJe);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getRecentBlockhash",n),i=jt(r,RJe);if("error"in i)throw new Cn(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=jt(n,jJe);if("error"in r)throw new Cn(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=jt(i,BJe);if("error"in o)throw new Cn(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=g0(t.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=jt(o,ko(qt(Re())));if("error"in s)throw new Cn(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(t){var s;const n=(s=t==null?void 0:t.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=jt(i,qZe);if("error"in o)throw new Cn(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=Qi(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=jt(o,PJe);if("error"in s)throw new Cn(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(t,n){const{commitment:r,config:i}=Qi(n),o=this._buildArgs([t],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=jt(s,OJe);if("error"in a)throw new Cn(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=jt(t,jr(MZe));if("error"in n)throw new Cn(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=jt(t,jr(Tt()));if("error"in n)throw new Cn(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:i}=Qi(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=jt(s,EJe);if("error"in a)throw a.error;return a.result}case"none":{const a=jt(s,SJe);if("error"in a)throw a.error;return a.result}default:{const a=jt(s,kJe);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:l,meta:d,version:f})=>({meta:d,transaction:{...l,message:mE(f,l.message)},version:f}))}:null}}}catch(a){throw new Cn(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:i}=Qi(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=jt(s,IJe);if("error"in a)throw a.error;return a.result}case"none":{const a=jt(s,AJe);if("error"in a)throw a.error;return a.result}default:{const a=jt(s,CJe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Cn(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...c}=t;r=a,n=c}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=jt(o,DZe);if("error"in s)throw new Cn(s.error,"failed to get block production information");return s.result}async getTransaction(t,n){const{commitment:r,config:i}=Qi(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=jt(s,gE);if("error"in a)throw new Cn(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:mE(c.version,c.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:i}=Qi(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=jt(s,Y_);if("error"in a)throw new Cn(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:i}=Qi(n),o=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{const l=jt(c,Y_);if("error"in l)throw new Cn(l.error,"failed to get transactions");return l.result})}async getTransactions(t,n){const{commitment:r,config:i}=Qi(n),o=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{const l=jt(c,gE);if("error"in l)throw new Cn(l.error,"failed to get transactions");const d=l.result;return d&&{...d,transaction:{...d.transaction,message:mE(d.version,d.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getConfirmedBlock",r),o=jt(i,TJe);if("error"in o)throw new Cn(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");const a={...s,transactions:s.transactions.map(({transaction:c,meta:l})=>{const d=new jb(c.message);return{meta:l,transaction:{...c,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:l})=>({meta:l,transaction:qy.populate(c.message,c.signatures)}))}}async getBlocks(t,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),o=await this._rpcRequest("getBlocks",i),s=jt(o,jr(Zt(Re())));if("error"in s)throw new Cn(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=jt(i,EL);if("error"in o)throw new Cn(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),o=jt(i,EL);if("error"in o)throw new Cn(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getConfirmedTransaction",r),o=jt(i,gE);if("error"in o)throw new Cn(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new jb(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:qy.populate(a,c)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),o=jt(i,Y_);if("error"in o)throw new Cn(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,n){const r=t.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=jt(s,Y_);if("error"in a)throw new Cn(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const c=await this.getConfirmedBlockSignatures(n,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=jt(o,iJe);if("error"in s)throw new Cn(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=jt(o,oJe);if("error"in s)throw new Cn(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=new xL({key:t,state:xL.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=dZe.fromAccountData(i.data)),{context:r,value:o}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),i=jt(r,$Je);if("error"in i)throw new Cn(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await tg(100);const r=Date.now()-this._blockhashInfo.lastFetch>=EZe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await tg(cZe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=Qi(t),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=jt(o,ko(Re()));if("error"in s)throw new Cn(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,n,r){if("message"in t){const y=t.serialize(),v=Se.Buffer.from(y).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const w=n||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[v,w],E=await this._rpcRequest("simulateTransaction",_),C=jt(E,kL);if("error"in C)throw new Error("failed to simulate transaction: "+C.error.message);return C.result}let i;if(t instanceof qy){let g=t;i=new qy,i.feePayer=g.feePayer,i.instructions=t.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=qy.populate(t),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const v=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(v)&&!this._blockhashInfo.transactionSignatures.includes(v)){this._blockhashInfo.simulatedSignatures.push(v);break}else g=!0}}const s=i._compile(),a=s.serialize(),l=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:s.nonProgramIds()).map(y=>y.toBase58());d.accounts={encoding:"base64",addresses:g}}o&&(d.sigVerify=!0);const f=[l,d],p=await this._rpcRequest("simulateTransaction",f),m=jt(p,kL);if("error"in m){let g;if("data"in m.error&&(g=m.error.data.logs,g&&Array.isArray(g))){const y=`
    `,v=y+g.join(y);console.error(m.error.message,v)}throw new bL({action:"simulate",signature:"",transactionMessage:m.error.message,logs:g})}return m.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=t.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(t.nonceInfo)t.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const o=t.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(t,n){const r=g0(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[t,r],a=await this._rpcRequest("sendTransaction",s),c=jt(a,MJe);if("error"in c){let l;throw"data"in c.error&&(l=c.error.data.logs),new bL({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:l})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){var i;const r=(i=this._subscriptionsByHash[t])==null?void 0:i.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){var o;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=jt(t,sJe);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,i=wL([t.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];Zo(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const i=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=jt(t,cJe);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,i){const o=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=jt(t,LJe);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=jt(t,dJe);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=jt(t,fJe);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,i)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=jt(t,hJe);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const i=this._buildArgs([t],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,o),a=this._makeSubscription({callback:(c,l)=>{n(c,l);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=jt(t,pJe);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}};Object.freeze({CreateLookupTable:{index:0,layout:le([he("instruction"),y0("recentSlot"),Ve("bumpSeed")])},FreezeLookupTable:{index:1,layout:le([he("instruction")])},ExtendLookupTable:{index:2,layout:le([he("instruction"),y0(),Tn(Kr(),vi(he(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:le([he("instruction")])},CloseLookupTable:{index:4,layout:le([he("instruction")])}});new wr("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:le([Ve("instruction"),he("units"),he("additionalFee")])},RequestHeapFrame:{index:1,layout:le([Ve("instruction"),he("bytes")])},SetComputeUnitLimit:{index:2,layout:le([Ve("instruction"),he("units")])},SetComputeUnitPrice:{index:3,layout:le([Ve("instruction"),y0("microLamports")])}});new wr("ComputeBudget111111111111111111111111111111");le([Ve("numSignatures"),Ve("padding"),Mn("signatureOffset"),Mn("signatureInstructionIndex"),Mn("publicKeyOffset"),Mn("publicKeyInstructionIndex"),Mn("messageDataOffset"),Mn("messageDataSize"),Mn("messageInstructionIndex")]);new wr("Ed25519SigVerify111111111111111111111111111");m1.utils.isValidPrivateKey;le([Ve("numSignatures"),Mn("signatureOffset"),Ve("signatureInstructionIndex"),Mn("ethAddressOffset"),Ve("ethAddressInstructionIndex"),Mn("messageDataOffset"),Mn("messageDataSize"),Ve("messageInstructionIndex"),Et(20,"ethAddress"),Et(64,"signature"),Ve("recoveryId")]);new wr("KeccakSecp256k11111111111111111111111111111");var MQ;new wr("StakeConfig11111111111111111111111111111111");let DQ=class{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}};MQ=DQ;DQ.default=new MQ(0,0,wr.default);Object.freeze({Initialize:{index:0,layout:le([he("instruction"),QGe(),eZe()])},Authorize:{index:1,layout:le([he("instruction"),Kr("newAuthorized"),he("stakeAuthorizationType")])},Delegate:{index:2,layout:le([he("instruction")])},Split:{index:3,layout:le([he("instruction"),xn("lamports")])},Withdraw:{index:4,layout:le([he("instruction"),xn("lamports")])},Deactivate:{index:5,layout:le([he("instruction")])},Merge:{index:7,layout:le([he("instruction")])},AuthorizeWithSeed:{index:8,layout:le([he("instruction"),Kr("newAuthorized"),he("stakeAuthorizationType"),yg("authoritySeed"),Kr("authorityOwner")])}});new wr("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:le([he("instruction"),tZe()])},Authorize:{index:1,layout:le([he("instruction"),Kr("newAuthorized"),he("voteAuthorizationType")])},Withdraw:{index:3,layout:le([he("instruction"),xn("lamports")])},UpdateValidatorIdentity:{index:4,layout:le([he("instruction")])},AuthorizeWithSeed:{index:10,layout:le([he("instruction"),nZe()])}});new wr("Vote111111111111111111111111111111111111111");new wr("Va1idator1nfo111111111111111111111111111111");ft({name:Tt(),website:er(Tt()),details:er(Tt()),keybaseUsername:er(Tt())});new wr("Vote111111111111111111111111111111111111111");le([Kr("nodePubkey"),Kr("authorizedWithdrawer"),Ve("commission"),Ot(),Tn(le([Ot("slot"),he("confirmationCount")]),vi(he(),-8),"votes"),Ve("rootSlotValid"),Ot("rootSlot"),Ot(),Tn(le([Ot("epoch"),Kr("authorizedVoter")]),vi(he(),-8),"authorizedVoters"),le([Tn(le([Kr("authorizedPubkey"),Ot("epochOfLastAuthorizedSwitch"),Ot("targetEpoch")]),32,"buf"),Ot("idx"),Ve("isEmpty")],"priorVoters"),Ot(),Tn(le([Ot("epoch"),Ot("credits"),Ot("prevCredits")]),vi(he(),-8),"epochCredits"),le([Ot("slot"),Ot("timestamp")],"lastTimestamp")]);Gs.getSolanaRpcProviderByChainId=(e,t)=>{var n;return(n=Gs.getProviders(e).solana)===null||n===void 0?void 0:n.find(o=>o.chainId===t)};Gs.registerSolanaProviders=()=>{Gs.registerChainProviders(n0.SOLANA,e=>{const t={};return e!=null&&e.solana&&(t.solana=e.solana.map(n=>{var r;const i=((r=n.privateCustomerRpcUrls)===null||r===void 0?void 0:r[0])||n.rpcUrls[0],o=new FJe(i);return{chainId:n.chainId.toString(),chainName:n.name,provider:o}})),t.solana})};const WJe=({networkConfigurations:e})=>{var t,n;let r,i,o;if(e)try{r=Gs.getProviders(e),i=(t=Gs.getEvmProviderByChainId)===null||t===void 0?void 0:t.call(Gs,e,1),o=(n=Gs.getSolanaRpcProviderByChainId)===null||n===void 0?void 0:n.call(Gs,e,"101")}catch(a){Ne.error(a)}const s=k.useCallback(a=>{var c;if(e)return(c=Gs.getEvmProviderByChainId)===null||c===void 0?void 0:c.call(Gs,e,a)},[e]);return{evmDefaultProvider:i,evmProviders:r==null?void 0:r.evm,getEvmRpcProviderByChainId:s,solanaDefaultProvider:o,solanaProviders:r==null?void 0:r.solana}},zJe=({disconnectWallet:e,handleLogOut:t,multiWallet:n,multiWalletWidgetState:r,primaryWallet:i,secondaryWallets:o,selectedWalletConnector:s,selectedWalletWithAction:a,setSelectedWalletConnectorKey:c,setSelectedWalletWithAction:l,setMultiWalletWidgetState:d,user:f,setPrimaryWalletId:p,authMode:m,refreshConnectedWallet:g})=>{Uc(i==null?void 0:i.connector,"disconnect",()=>{Ne.debug("primary wallet disconnect"),t()}),Uc(i==null?void 0:i.connector,"chainChange",({chain:_})=>{Ne.debug("primary wallet chain change",{chain:_}),i&&g(i)});const y=k.useCallback((_,E)=>{Ne.debug("handleAccountChangeWhenAwaitingAccountSwitch",{isPrimaryWallet:_,newAddress:E});const C=o.find(A=>Af(A.address,E,A.chain));if(Ss("[handleAccountChangeWhenAwaitingAccountSwitch]",{linkedSecondaryWallet:C}),!C){d("awaiting_signature",void 0,"linking_new_wallet"),_&&i&&c(i.connector.key);return}if(C.connector.key==="unknown"){Kt.emit("triggerConnectAndSign");return}l(null),p(C.id),d("idle")},[d,i,o,c,l,p]),v=k.useCallback(({accounts:_})=>{if(Ne.debug("calculatePrimaryWalletMultiWalletStateFromAccounts",{accounts:_,authMode:m,multiWallet:n,multiWalletWidgetState:r,primaryWallet:i}),!i)return;const[E]=_,C=!Af(E,i.address,i.chain);if(C&&m==="connect-only"){g(i);return}const T=o.find(A=>Af(A.address,E,A.chain));if(!C)d("idle");else if(n)if(r==="awaiting_account_switch")y(!0,E);else if(r==="idle"&&T)p(T.id);else if(r==="idle"&&!T){if(f){d("detected_new_wallet"),c(i.connector.key);return}}else Ne.error(`Unexpected multiWalletWidgetState (${r}) and onAccountChange combination. Resetting state to idle.`),d("idle");else{l({action:"select",wallet:i}),d("awaiting_account_switch","primary_not_connected");return}},[m,y,n,r,i,g,o,d,p,c,l,f]);Lo("triggerComputePrimaryWalletMultiWalletStateFromAccounts",v),Uc(i==null?void 0:i.connector,"accountChange",({accounts:_})=>{Ne.debug("primary wallet account change",{accounts:_}),v({accounts:_})});const w=k.useMemo(()=>{const _=i==null?void 0:i.connector,E=o.map(({connector:T})=>T),C=new Set([...E,_,s].filter(T=>!!T));return _&&C.delete(_),Array.from(C)},[o,s,i==null?void 0:i.connector]);Uc(w,"accountChange",(_,E)=>ae(void 0,void 0,void 0,function*(){if(Ne.debug("secondary wallet account change"),m==="connect-only"&&o.length){const C=o.filter(({connector:T})=>T.key===E.key);for(const T of C)g(T);return}r==="awaiting_account_switch"&&y(!1,(a==null?void 0:a.wallet.address)||"")})),Uc(w,"chainChange",(_,E)=>ae(void 0,void 0,void 0,function*(){Ne.debug("secondary wallet chain change");const C=o.filter(({connector:T})=>T.key===E.key);for(const T of C)g(T)})),Uc(w,"disconnect",_=>{if(Ne.debug("secondary wallet disconnect"),m==="connect-only"){const E=o.filter(({connector:C})=>C.key===_.key);for(const C of E)e(C.id)}})},qJe=({onrampUrl:e})=>{const{fundingRef:t,setShowFunding:n}=aR();return b3(t,()=>{n(!1)}),u.jsx("div",{className:"fund-wallet__modal","data-testid":"fund-wallet-modal",children:u.jsx("div",{className:"fund-wallet__modal-content",ref:t,children:u.jsx("iframe",{id:"onramp-iframe",src:e,allow:"camera *;geolocation *",title:"Crypto Onramp"})})})},VJe=()=>{const{primaryWallet:e}=Te(),{showFunding:t,fundingUrl:n,fundingEnabled:r}=aR();return!r||!t||!n||!(e!=null&&e.address)?null:u.jsx(dh,{children:u.jsxs(Eb,{isShown:t,children:[u.jsx("div",{className:"fund-wallet__backdrop","aria-hidden":"true"}),u.jsx("div",{className:"fund-wallet__modal-container",children:u.jsx(qJe,{onrampUrl:n})})]})})},HJe=()=>u.jsx(VJe,{}),KJe=e=>t=>ae(void 0,void 0,void 0,function*(){const{verificationUUID:n}=yield VY({email:t,environmentId:e});return{type:"email",verify:r=>ae(void 0,void 0,void 0,function*(){const i=yield HY({environmentId:e,verificationToken:r,verificationUUID:n});return To(i),{destination:t,verified:!!i.jwt}})}}),GJe=(e,t)=>n=>ae(void 0,void 0,void 0,function*(){if(!e)throw new Error("OTP wallet connector was not found");return e.setEmail(n),t(e),{retry:()=>e.retryOneTimePassword(),type:"email",verify:r=>ae(void 0,void 0,void 0,function*(){return{destination:n,verified:yield e.verifyOneTimePassword(r)}})}}),ZJe=e=>t=>ae(void 0,void 0,void 0,function*(){const{verificationUUID:n}=yield XY({environmentId:e,isoCountryCode:t.iso2,phoneCountryCode:t.dialCode,phoneNumber:t.phone});return{type:"sms",verify:r=>ae(void 0,void 0,void 0,function*(){const i=yield QY({environmentId:e,verificationToken:r,verificationUUID:n});return To(i),{destination:t,verified:!!i.jwt}})}}),JJe=(e,t)=>ae(void 0,void 0,void 0,function*(){const{emailProvider:n}=yield qY({email:t,environmentId:e});if(!NVe.includes(n))throw new Error("Email provider is not supported");return n}),{Provider:YJe}=PVe,XJe=({children:e})=>{const{walletConnectorOptions:t,environmentId:n,projectSettings:r,setCallback:i}=Te(),{handleInstalledExtensionClick:o}=J0(),s=k.useRef(null),a=(r==null?void 0:r.providers)||[],c=t.map(({walletConnector:g})=>g).find(D0),l={[br.Dynamic]:{enabled:fa(a,br.Dynamic),handler:KJe(n)},[br.MagicLink]:{enabled:fa(a,br.MagicLink),handler:GJe(c,o)}},d=(g,...y)=>ae(void 0,[g,...y],void 0,function*(v,{provider:w}={}){if(!KY(v))throw new Error("Email is not valid");const _=w||(yield JJe(n,v));if(!l[_].enabled)throw new Error("Email provider is not enabled");const E=yield l[_].handler(v);s.current=E}),f=g=>ae(void 0,void 0,void 0,function*(){if(!fa(a,br.Sms))throw new Error("SMS provider is not enabled");const v=yield ZJe(n)(g);s.current=v}),p=g=>ae(void 0,void 0,void 0,function*(){if(!s.current)throw new Error("Verification has not started, use connectWithEmail or connectWithSms before verifying");const{type:y,verify:v}=s.current,{destination:w,verified:_}=yield v(g);if(y==="sms"?Kt.emit("smsVerificationResult",_,w):Kt.emit("emailVerificationResult",_,w),_)i("authSuccess");else throw new Error(`${y==="sms"?"SMS":"Email"} verification failed`)}),m=()=>ae(void 0,void 0,void 0,function*(){if(!s.current)throw new Error("Verification has not started, use connectWithEmail or connectWithSms before verifying");if(!s.current.retry)throw new Error("Re-send is not supported");return s.current.retry()});return u.jsx(YJe,{value:{connectWithEmail:d,connectWithSms:f,retryOneTimePassword:m,verifyOneTimePassword:p},children:e})};class QJe extends pT{constructor(t){super(t),this.state={error:null,hasError:!1}}componentDidCatch(t,n){var r;const{onError:i}=this.props;throw!((r=this.context)===null||r===void 0)&&r.isDynamicSdkError&&(i==null||i(t,n),Ne.error(t,{error:{bundleStack:t.stack,message:t,stack:n.componentStack}})),t}render(){const{children:t}=this.props,{hasError:n,error:r}=this.state;return n?(YK(this.context),this.context.error=r,this.context.hasError=n,null):t}}const eYe=e=>{var{children:t}=e,n=na(e,["children"]);return u.jsx(JK.Provider,{value:{error:null,hasError:!1,isDynamicSdkError:!0},children:u.jsx(QJe,Object.assign({},n,{children:t}))})};class tYe extends pT{render(){const{children:t}=this.props;return this.renderOrError(t,{isDynamicSdkError:!1})}}const nYe=()=>{const{walletConnectorOptions:e,consumeNonce:t,displaySiweStatement:n,environmentId:r,projectSettings:i,setIsSingleWalletAccount:o,connectWallet:s,setShowAuthFlow:a,setSelectedWalletConnectorKey:c,isAuthenticated:l,siweStatement:d,appName:f}=Te(),{setView:p}=dn(),{setErrorMessage:m}=Po(),{getCaptchaToken:g}=Du(),y=z3({consumeNonce:t,displaySiweStatement:n,environmentId:r,projectSettings:i,setIsSingleWalletAccount:o}),v=e.map(({walletConnector:T})=>T).find(pK),w=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){v&&(yield v.getSession(),yield s(v),a(!0,{ignoreIfIsEmbeddedWidget:!0}),p("pending-signature"),c("phantom"))}),[s,v,c,a,p]),_=AX(),E=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){if(!v)return;c("phantom");const[T]=yield v.getConnectedAccounts();switch(v.consumeMethod()){case"signAndSendTransaction":{const{signature:S}=v.extractSignature();v.emit("signAndSendTransaction",{signature:S});break}case"signAllTransactions":v.emit("signAllTransactions",{transactions:v.extractTransactions()});break;case"signTransaction":v.emit("signTransaction",{transaction:v.extractTransaction()});break;case"signMessage":{const{signature:S,message:O}=v.extractSignature(),D=Ft.getFromLS(Sp);if(Ft.removeFromLS(Sp),(D==null?void 0:D.verificationType)==="awaiting_transfer"){const K=j3({appName:f,siweStatement:d});yield _({messageToSignOverride:O,overrideSiweStatement:K,publicWalletAddress:T,signedMessageOverride:S,skipEmptyAccountCheck:D.loseOriginalAccountOnTransfer,walletConnector:v})}else(D==null?void 0:D.verificationType)==="awaiting_verification"||!l?(p("wallet-redirect-view"),yield y({captchaToken:g(),messageToSignOverride:O,publicWalletAddress:T,signedMessageOverride:S,walletConnector:v})):v.emit("signMessage",{signature:S});break}}}),[v,c,l,f,d,_,p,y,g]),C=k.useCallback(T=>{var A;if(!v)return;const S=T.get("errorCode"),O=(A=T.get("errorMessage"))!==null&&A!==void 0?A:void 0;if(!S)return;switch(m(S),T.delete("errorCode"),T.delete("errorMessage"),history.replaceState(null,"",`${window.location.origin}${window.location.pathname}?${T.toString()}`),v.consumeMethod()){case"signAndSendTransaction":v.emit("signAndSendTransaction",{errorCode:S,errorMessage:O});break;case"signAllTransactions":v.emit("signAllTransactions",{errorCode:S,errorMessage:O});break;case"signTransaction":v.emit("signTransaction",{errorCode:S,errorMessage:O});break;case"signMessage":v.emit("signMessage",{errorCode:S,errorMessage:O});break}},[v,m]);return{handleConnectResponse:w,handleErrorResponse:C,handleUserResponse:E,phantomRedirectConnector:v}},rYe=k.createContext(void 0),iYe=({children:e})=>{const{sdkHasLoaded:t}=Te(),{phantomRedirectConnector:n,handleConnectResponse:r,handleUserResponse:i,handleErrorResponse:o}=nYe();return k.useEffect(()=>{if(!n||!di()||!t)return;const s=new URLSearchParams(window.location.search);if(s.has("errorCode")){o(s);return}if(s.has("phantom_encryption_public_key")){r();return}if(s.has("data")){i();return}},[r,i,o,n,t]),u.jsx(rYe.Provider,{value:{phantomRedirectConnector:n},children:e})},cS=()=>{var e,t,n;const{user:r,primaryWallet:i,authMode:o,projectSettings:s}=Te(),a=Vf(s),c=!!r||o==="connect-only"&&!!i,l=(e=r==null?void 0:r.verifiedCredentials)===null||e===void 0?void 0:e.filter(({walletProvider:m})=>m),d=!!(l!=null&&l.find(({walletProvider:m})=>m==="embeddedWallet"));return a&&((n=(t=s==null?void 0:s.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.automaticEmbeddedWalletCreation)&&!(s!=null&&s.sdk.embeddedWallets.forceAuthenticatorAtSignup)&&(!(l!=null&&l.length)||d)?!!(i&&c):c},oYe=()=>{const{connectedWallets:e,selectedWalletConnector:t,setSelectedWalletConnectorKey:n,setShowAuthFlow:r,bridgeChainsToConnect:i,sdkHasLoaded:o}=Te(),{setView:s}=dn(),a=cS();k.useEffect(()=>{if(!o||!a)return;const c=e.filter(l=>{const d=i==null?void 0:i.some(p=>p.chain===l.chain),f=Mp({network:l.network,walletConnector:l.connector});return!d&&!f});if(c.length){const[l]=c;l.connector.key!==(t==null?void 0:t.key)&&n(l.connector.key);const d=kR(l.connector)?"network-not-supported":"network-not-supported-manual";r(!0),s(d)}},[o,e,t,n,r,s,i,a])},sYe=()=>(oYe(),null),iP=(e,t)=>{const n=()=>t(e.getState()),r=()=>t(e.getInitialState());return k.useSyncExternalStore(e.subscribe,n,r)},aYe=e=>Pl().setState({networkConfigurations:e}),X_=(e,t=n=>n)=>({blockExplorerUrls:e.blockExplorerUrls,chainId:t(e.chainId),iconUrls:e.iconUrls,lcdUrl:e.lcdUrl,name:e.name,nativeCurrency:e.nativeCurrency,networkId:t(e.networkId),privateCustomerRpcUrls:e.privateCustomerRpcUrls,rpcUrls:e.rpcUrls,vanityName:e.vanityName}),cYe=({environmentId:e,projectSettings:t,evmNetworksOverrides:n})=>{const r=iP(Pl(),({networkConfigurations:o})=>o),{isLoading:i}=Ki(()=>ae(void 0,void 0,void 0,function*(){var o,s,a,c;if(!(t!=null&&t.networks))return Promise.resolve({});const{networks:l}=t,d=l.find(_=>_.chainName==="evm"),f=l.find(_=>_.chainName==="solana"),p=l.find(_=>_.chainName==="cosmos"),m=l.find(_=>_.chainName==="starknet"),g=(o=p==null?void 0:p.networks)===null||o===void 0?void 0:o.map(_=>X_(_,parseInt));let y=(s=d==null?void 0:d.networks)===null||s===void 0?void 0:s.map(_=>X_(_,parseInt));const v=(a=m==null?void 0:m.networks)===null||a===void 0?void 0:a.map(_=>X_(_)),w=(c=f==null?void 0:f.networks)===null||c===void 0?void 0:c.map(_=>X_(_));return n&&(Array.isArray(n)?y=n:y=n(y??[])),Promise.resolve({cosmos:g,evm:y,solana:w,starknet:v})}),{deps:[e,t,n],enabled:!!(t!=null&&t.networks),onResolve:o=>{const s=new Date().getTime()+3e5;aYe({expiresAt:s,networkConfigurations:o})}});return{isLoading:i,networkConfigurations:r==null?void 0:r.networkConfigurations}},lYe=e=>Pl().setState({projectSettings:e}),dYe=({environmentId:e,retries:t=2})=>{const n=iP(Pl(),({projectSettings:o})=>o),r=!!(n!=null&&n.settings),{isLoading:i}=Ki(()=>ae(void 0,void 0,void 0,function*(){const o=yield FVe(e);if(!o)throw new Ae("Settings are not defined");return o}),{deps:[e],enabled:!r,onResolve:o=>{var s,a;const c=new Date().getTime()+3e5;Ft.setToLS(OK,((a=(s=o.security.auth)===null||s===void 0?void 0:s.storage)!==null&&a!==void 0?a:[]).includes(uI.Cookie)),lYe({expiresAt:c,settings:o})},retries:t});return{isLoading:i,projectSettings:n==null?void 0:n.settings}},uYe=()=>{var e,t;const n=iP(Pl(),({user:r})=>r);return!((e=n==null?void 0:n.missingFields)===null||e===void 0)&&e.length||!((t=n==null?void 0:n.scope)===null||t===void 0)&&t.includes("requiresAdditionalAuth")?{userWithMissingInfo:n}:{user:n}},CL=(e,t)=>{var n,r,i,o;if(!e||!(!((r=(n=e.tabs)===null||n===void 0?void 0:n.items)===null||r===void 0)&&r.length))return null;if(t<0)return 0;const s=((o=(i=e.tabs)===null||i===void 0?void 0:i.items.length)!==null&&o!==void 0?o:1)-1;return Math.min(s,t)},fYe=({defaultTabIndex:e,settingsOverrides:t})=>{var n,r,i;const o=(n=t==null?void 0:t.views)===null||n===void 0?void 0:n.find(l=>l.type==="wallet-list"),[s,a]=k.useState(()=>CL(o,e));k.useEffect(()=>{a(CL(o,e))},[e,o]);const c=s===null||(r=o==null?void 0:o.tabs)===null||r===void 0?void 0:r.items[s];return{selectedTabIndex:s,selectedTabSettings:c,setSelectedTabIndex:a,tabsItems:(i=o==null?void 0:o.tabs)===null||i===void 0?void 0:i.items}},hYe=e=>{if(e.length!==2)return!1;const[t,n]=e;return t==="wallet"&&n==="email"},pYe=e=>{const[t,n]=k.useState(null),r=k.useMemo(()=>{var i;const o=(i=e==null?void 0:e.design.modal)===null||i===void 0?void 0:i.displayOrder;return o?hYe(o)?"web3":"web2":"web3"},[e]);return[t||r,n]},mYe=(e,t)=>{const[n,r]=k.useState(null),i=()=>{r(null)},o=a=>{r(a)},s=k.useMemo(()=>t?!1:K3(e),[e,t]);return[n??s,o,i]},gYe=[c3,cT,r0,Sp,lT],yYe=e=>{const t=k.useRef(e);t.current=e;const n=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){const r=t.current;r.setSelectedWalletConnectorKey(null),r.clearAllWalletConnectSessions(),r.setShowDynamicUserProfile(!1),r.setShowBridgeWidget(!1),r.resetLoginWithEmail(),r.user&&(document.cookie=`${PK}=; Max-Age=-99999999; path=/; SameSite=Lax`,rKe({environmentId:r.environmentId,sessionId:r.user.sessionId})),r.setLegacyIsVerifying(!1);for(const i of gYe)Ft.removeFromLS(i);r.setAuthMode(r.initialAuthenticationMode),r.setShowAuthFlow(!1,{emitCancelAuth:!1,ignoreIfIsEmbeddedWidget:!1,initializeWalletConnect:!1,performMultiWalletChecks:!1}),r.setMultiWalletWidgetState("idle"),r.removeConnectedWalletsInfo(),r.removeBridgeOnboardingCompleted(),r.clearPrimaryWalletId(),r.removeConnectedNameService(),Kt.removeListener("embeddedWalletCreatePasswordCompleted"),Kt.removeListener("embeddedWalletCreatePasswordFailed"),Kt.removeListener("embeddedWalletUpdatePasswordCompleted"),Kt.removeListener("embeddedWalletUpdatePasswordFailed"),Kt.emit("logout"),HVe(),yield Promise.all(r.walletConnectors.map(i=>i.endSession())),yield Promise.all(r.connectedWallets.map(i=>i.connector.endSession()))}),[]);return Lo("triggerLogout",()=>n()),n},oP=(e,t,n)=>t==null?void 0:t.find(({address:r})=>Af(r||"",e||"",n)),vYe=({currentWallet:e,user:t})=>{const[n,r,i]=Wf(pIe,null),o=k.useRef(),s=k.useRef(),a=k.useCallback(l=>ae(void 0,void 0,void 0,function*(){const{address:d,connector:f}=l,p=yield f.getNetwork();if(d===o.current&&p===s.current)return;r(null),o.current=d,s.current=p;let m;try{m=yield f.getNameService()}catch{}if(o.current===d&&s.current===p)return r({address:d,avatar:m==null?void 0:m.avatar,name:m==null?void 0:m.name,network:p}),m}),[r]);return{getNameService:l=>ae(void 0,void 0,void 0,function*(){var d;if(!e)return;const f=yield e.connector.getNetwork(),p=t==null?void 0:t.verifiedCredentials;if(p){const m=oP(e==null?void 0:e.address,p,e.chain);if(m&&(!((d=m.nameService)===null||d===void 0)&&d.name))return m.nameService}if(!(l&&(e==null?void 0:e.address)!==l))return n&&n.address===(e==null?void 0:e.address)&&n.network===f?{avatar:n.avatar,name:n.name}:a(e)}),removeConnectedNameService:i}},bYe=({walletConnectorOptions:e})=>{const[t,n]=k.useState(null);return{selectedWalletConnector:k.useMemo(()=>{var i,o;return t&&(o=(i=e.find(({walletConnector:s})=>s.key===t))===null||i===void 0?void 0:i.walletConnector)!==null&&o!==void 0?o:null},[t,e]),setSelectedWalletConnectorKey:n}},wYe=({isAuthenticated:e,isRenderingEmbeddedAuthFlow:t,isMultiWalletEnabled:n,walletConnectorOptions:r,setShowDynamicUserProfile:i})=>{const[o,s]=k.useState(!1),{setError:a}=Po(),c=k.useCallback((l,d={})=>{var f;const{emitCancelAuth:p,ignoreIfIsEmbeddedWidget:m,initializeWalletConnect:g,performMultiWalletChecks:y,clearErrors:v}=Object.assign({clearErrors:!0,emitCancelAuth:!1,ignoreIfIsEmbeddedWidget:!0,initializeWalletConnect:!0,performMultiWalletChecks:!1},d);if(!o&&l?Kt.emit("authFlowOpen"):o&&!l&&Kt.emit("authFlowClose"),l){if(m&&t.current)return;if(y&&e){if(!n)return i(!0);Ne.warn("Use setShowLinkNewWalletModal to render the wallet list instead. For more information, see: https://docs.dynamic.xyz/react-sdk/hooks/usedynamiccontext");return}g&&((f=r.find(w=>w.walletConnector.key==="walletconnect"))===null||f===void 0||f.walletConnector.init())}else p&&o&&Kt.emit("authFlowCancelled");v&&a(void 0),s(l)},[e,n,t,a,i,o,r]);return[o,c]},_Ye=()=>{const[e,t]=k.useState(void 0);return{passkeySuccessPopup:e,setPasskeySuccessPopup:r=>{t(r),setTimeout(()=>{t(void 0)},2e3)}}},xYe=({clientCallbacks:e,user:t,setHasLoggedOut:n})=>{Lo("emailVerificationResult",(r,i)=>{var o;return(o=e==null?void 0:e.onOtpVerificationResult)===null||o===void 0?void 0:o.call(e,r,{type:"email",value:i})}),Lo("smsVerificationResult",(r,i)=>{var o;return(o=e==null?void 0:e.onOtpVerificationResult)===null||o===void 0?void 0:o.call(e,r,{type:"sms",value:i})}),Lo("authFlowCancelled",()=>{var r;return(r=e==null?void 0:e.onAuthFlowCancel)===null||r===void 0?void 0:r.call(e)}),Lo("authFlowOpen",()=>{var r;(r=e==null?void 0:e.onAuthFlowOpen)===null||r===void 0||r.call(e)}),Lo("authFlowClose",()=>{var r;(r=e==null?void 0:e.onAuthFlowClose)===null||r===void 0||r.call(e)}),Lo("walletAdded",(r,i)=>{var o;n(!1),Ne.debug("[walletAdded]",{userWallets:i,wallet:r}),(o=e==null?void 0:e.onWalletAdded)===null||o===void 0||o.call(e,{userWallets:i,wallet:r})}),Lo("walletRemoved",(r,i)=>{var o;Ne.debug("[walletRemoved]",{userWallets:i,wallet:r}),(o=e==null?void 0:e.onWalletRemoved)===null||o===void 0||o.call(e,{userWallets:i,wallet:r})}),Lo("embeddedWalletCreated",(r,i,o,s)=>{var a;Ne.debug("[embeddedWalletCreated]",{_wallet:r,authToken:o,jwtVerifiedCredential:i,user:s}),(a=e==null?void 0:e.onEmbeddedWalletCreated)===null||a===void 0||a.call(e,i,o,s)}),Lo("logout",()=>{var r;(r=e==null?void 0:e.onLogout)===null||r===void 0||r.call(e,t)}),Lo("authFailure",(r,i)=>{var o;Ne.debug("[authFailure]",{data:r,reason:i}),(o=e==null?void 0:e.onAuthFailure)===null||o===void 0||o.call(e,r,i)}),Lo("authInit",r=>{var i;Ne.debug("[authInit]",{data:r}),(i=e==null?void 0:e.onAuthInit)===null||i===void 0||i.call(e,r)})},kYe=({isBridgeFlow:e,multiWalletOverride:t,multiWalletSettings:n})=>{var r;return t!==void 0?t:(r=n||e)!==null&&r!==void 0?r:!1},SYe=()=>{if(k.useContext(sP))throw new Error("DynamicContextProvider should not be nested. Please wrap your application in a single DynamicContextProvider.")},EYe=({callbacks:{onAuthSuccess:e,onUserProfileUpdate:t},handleLogOut:n,primaryWallet:r,user:i,isAuthenticated:o,setHasLoggedOut:s})=>{const[a,c]=k.useState([]),l=k.useCallback((f,p,m,g)=>{switch(f==null?void 0:f.callback){case"authSuccess":{try{e==null||e({authToken:p,handleLogOut:n,isAuthenticated:o,minAuthToken:g,primaryWallet:r,user:m}),s(!1)}catch(y){Ne.error("Error calling onAuthSuccess: ",y)}break}case"userProfileUpdate":{try{t==null||t(m)}catch(y){Ne.error("Error calling userProfileUpdate: ",y)}break}}},[n,o,e,t,r,s]);return k.useEffect(()=>{if(!a.length||!i)return;const f=F0(),p=qT();!f||i.isAuthenticatedWithAWallet&&!r||(l(a[0],f,i,p),c(m=>{const[g,...y]=m;return g&&(Ne.debug("Resolved callback: ",g.callback),Ne.debug("Callbacks in queue: ",y.map(v=>v.callback))),y}))},[a,l,r,i]),{setCallback:(f,p)=>{c(m=>[...m,{callback:f,params:p}])}}},CYe=e=>!!e;var IYe={};const AYe="2762a57b-faa4-41ce-9f16-abff9300e2c9",sP=k.createContext(void 0),TYe=({children:e,theme:t,settings:n,locale:r,enableInstrumentation:i=!1})=>{var o,s,a,c,l,d,f,p,m;const{accessDeniedMessagePrimary:g,accessDeniedMessageSecondary:y,accessDeniedButton:v,defaultPhoneInputIso2:w,apiBaseUrl:_,coinbaseWalletPreference:E,enableConnectOnlyFallback:C=!1,deepLinkPreference:T="native",bridgeChains:A,cssOverrides:S,defaultNumberOfWalletsToShow:O=RK,flowNetwork:D,initialAuthenticationMode:K="connect-and-sign",debugError:H=!1,displaySiweStatement:X=!0,newToWeb3WalletChainMap:U,enableVisitTrackingOnConnectOnly:I=!0,environmentId:x,walletsFilter:P,logLevel:N="WARN",mobileExperience:$="in-app-browser",notInTheListImageUrl:L,onboardingImageUrl:z,policiesConsentInnerComponent:q,customPrivacyPolicy:j,privacyPolicyUrl:W,signWithEmailWalletName:re,socialMediaLinkText:de,socialMediaIconUrl:te,socialMediaUrl:ce,customTermsOfServices:ge,termsOfServiceUrl:Ce,toolkitEnabled:qe,siweStatement:J,shadowDOMEnabled:G=!0,walletConnectors:we,socialProvidersFilter:$e,showLockedWalletView:yt=!1,walletConnectPreferredChains:Gt,walletConnectorExtensions:_t,recommendedWallets:Rn,hideEmbeddedWalletTransactionUIs:mr,handlers:ve,headless:Ue=!1}=n;Ft.setSuffix(n.localStorageSuffix),Eje({environmentId:x,storageSuffix:n.localStorageSuffix}),SSe((o=n.overrides)===null||o===void 0?void 0:o.chainDisplayValues);const Qe=(s=n.events)!==null&&s!==void 0?s:n.eventsCallbacks,Ze=BIe({bridgeChains:n.bridgeChains,networkValidationMode:n.networkValidationMode});let{appLogoUrl:it="https://demo.dynamic.xyz/assets/dynamic-logo.svg",appName:It="Dynamic Example"}=n;if(!x)throw new Eke;try{Ne.setLogLevel(N),Jr.setLogLevel(N)}catch{}x===AYe&&Ne.warn(`WARNING: DYNAMIC is using a test environment ID ${x}. Please sign up on https://app.dynamic.xyz/ to get your production environment ID.`),Vc.setBaseUrl((a=IYe.DYNAMIC_API_BASE_URL)!==null&&a!==void 0?a:_);const kt=no.setup(r),St=!!A,Dn=$Ie(T,St),[fn,cn]=k.useState(0),{selectedTabIndex:Cr,setSelectedTabIndex:Pn,selectedTabSettings:jn,tabsItems:Dr}=fYe({defaultTabIndex:fn,settingsOverrides:n.overrides}),[yn,Ir,wo]=Wf(mIe,!1),[Lr,ur]=k.useState(!1),[as,Qr]=k.useState(!1),[ri,Ms]=k.useState(!1),{user:Xt,userWithMissingInfo:fr}=uYe(),Fi=CYe(Xt);try{Xt?Ne.setMetaData("user",Xt):Ne.setMetaData("user",void 0)}catch{}const{consumeNonce:zr}=qVe(x),[Ur,Ds]=k.useState(""),[si,or]=k.useState(""),[Oo,F,{awaiting_account_switch:[Z],awaiting_signature:[Y]}]=tKe(),{projectSettings:B,isLoading:Q}=dYe({environmentId:x});IHe({environmentId:x,settings:n});const _e=kYe({isBridgeFlow:St,multiWalletOverride:(c=n.overrides)===null||c===void 0?void 0:c.multiWallet,multiWalletSettings:(l=B==null?void 0:B.sdk)===null||l===void 0?void 0:l.multiWallet}),[xe,Fe]=k.useState(!_e),[at,ct]=k.useState(!1),ot=wSe(),{networkConfigurations:Zn}=cYe({environmentId:x,evmNetworksOverrides:(d=n.overrides)===null||d===void 0?void 0:d.evmNetworks,projectSettings:B}),{imageUserInAccessList:At,imageUserNotInAccessList:pn,displayName:kn,appLogo:mn}=(B==null?void 0:B.general)||{};it=mn||it,It=kn||It;const[vn,bn,gn]=mYe((B==null?void 0:B.providers)||[],Xt),[wn,Nt]=pYe(B),[zt,vt]=EHe({appLogoUrl:it,appName:It,getAppOrigin:()=>window.location.origin,hideEmbeddedWalletTransactionUIs:mr??!(!((p=(f=B==null?void 0:B.sdk)===null||f===void 0?void 0:f.embeddedWallets)===null||p===void 0)&&p.showEmbeddedWalletActionsUI)}),{walletConnectorOptions:wt}=nHe({appLogoUrl:it,appName:It,coinbaseWalletPreference:E,deepLinkPreference:Dn,flowNetwork:D,mobileExperience:$,networkConfigurations:Zn,projectSettings:B,walletBook:ot,walletConnectPreferredChains:Gt,walletConnectorExtensions:_t,walletConnectorsProp:we,walletUiUtils:vt}),[gt,xt]=Wf(hIe,K),{clearPrimaryWalletId:Be,primaryWalletId:je,setPrimaryWalletId:Xe}=hKe({environmentId:x,user:Xt}),[Ke,Je]=k.useState(!1),st=!!(gt==="connect-and-sign"?Xt:Ke),_n=k.useRef(!1),[Un,qn]=wYe({isAuthenticated:st,isMultiWalletEnabled:_e,isRenderingEmbeddedAuthFlow:_n,setShowDynamicUserProfile:ur,walletConnectorOptions:wt}),{connectWallet:Fn,removeConnectedWalletsInfo:pe,connectedWalletsInfo:ar,getConnectedWalletById:kr,connectedWallets:lr,disconnectWallet:Vn,refreshConnectedWallet:Ar}=lKe({authMode:gt,clearPrimaryWalletId:Be,enableVisitTrackingOnConnectOnly:I,environmentId:x,handleConnectedWallet:ve==null?void 0:ve.handleConnectedWallet,isBridgeFlow:St,primaryWalletId:je,setPrimaryWalletId:Xe,setShowAuthFlow:qn,user:Xt,walletConnectorOptions:wt}),dr=k.useMemo(()=>FHe(A,ar),[A,ar]),{selectedWalletConnector:qr,setSelectedWalletConnectorKey:gr}=bYe({walletConnectorOptions:wt}),[Tr,wi]=k.useState(null);VVe(Xt??fr,wt),CHe(wt,x);const{didConnectedStateLoad:ki,primaryWallet:Kn,showQrcodeModal:Zi,secondaryWallets:Bi,setPrimaryWallet:Ji,setShowQrcodeModal:ph,wallets:mh}=uHe({authMode:gt,canHaveMultipleWalletsConnected:_e,connectedWallets:lr,multiWalletWidgetState:Oo,primaryWalletId:je,setDesktopUri:or,setMultiWalletWidgetState:F,setPrimaryWalletId:Xe,setQrcodeUri:Ds,user:Xt||fr,walletBook:ot,walletConnectorOptions:wt});k.useEffect(()=>{Je(!(dr!=null&&dr.length)&&!!Kn)},[dr,Kn]);const dc=mh.map(Lt=>Lt.connector),gh=UVe({appName:It,authMode:gt,connectedInfo:ar[0],connectedWallets:lr,enableInstrumentation:i,primaryWallet:Kn,projectSettings:B,user:Xt??fr,walletBook:ot}),{getNameService:yh,removeConnectedNameService:qu}=vYe({currentWallet:Kn??lr[0],user:Xt}),{clearAllWalletConnectSessions:vh}=nKe({connectors:dc}),Fa=yYe({bridgeChains:A,clearAllWalletConnectSessions:vh,clearPrimaryWalletId:Be,connectedWallets:lr,environmentId:x,events:Qe,initialAuthenticationMode:K,removeBridgeOnboardingCompleted:wo,removeConnectedNameService:qu,removeConnectedWalletsInfo:pe,resetLoginWithEmail:gn,setAuthMode:xt,setLegacyIsVerifying:ct,setMultiWalletWidgetState:F,setSelectedWalletConnectorKey:gr,setShowAuthFlow:qn,setShowBridgeWidget:Qr,setShowDynamicUserProfile:ur,user:Xt,walletConnectors:dc}),{setHasLoggedOut:wm}=ZVe({environmentId:x,handleLogOut:Fa});RHe({environmentId:x,projectSettings:B,setPrimaryWalletId:Xe}),xYe({clientCallbacks:Qe,setHasLoggedOut:wm,user:Xt});const Ld=uKe({environmentId:x,primaryWalletId:je,secondaryWallets:Bi,verifiedCredentials:(Xt==null?void 0:Xt.verifiedCredentials)||[]}),{isLoading:bh,network:wh}=_X(Kn==null?void 0:Kn.connector);zJe({authMode:gt,disconnectWallet:Vn,handleLogOut:Fa,multiWallet:_e,multiWalletWidgetState:Oo,primaryWallet:Kn,refreshConnectedWallet:Ar,secondaryWallets:Bi,selectedWalletConnector:qr,selectedWalletWithAction:Tr,setMultiWalletWidgetState:F,setPrimaryWalletId:Xe,setSelectedWalletConnectorKey:gr,setSelectedWalletWithAction:wi,user:Xt});const{walletsForChainsMap:zl}=dKe(U),_h=WJe({networkConfigurations:Zn});k.useEffect(()=>{PIe(Fa)},[Fa,Fi]);const{setCallback:_m}=EYe({callbacks:{onAuthSuccess:Qe==null?void 0:Qe.onAuthSuccess,onUserProfileUpdate:Qe==null?void 0:Qe.onUserProfileUpdate},handleLogOut:Fa,isAuthenticated:Fi,primaryWallet:Kn,setHasLoggedOut:wm,user:Xt}),_i=k.useCallback(()=>Lt=>{const{dynamicWagmiSettings:ii}=Lt;ii&&RX(x,{dynamicWagmiSettings:{dynamicWagmiSettings:ii}})},[x]),pi=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){or(""),ct(!1),Xt||vh(),F("idle"),gt!=="connect-only"&&pe(),Ft.getFromLS(r0)&&Ft.removeFromLS(r0),Ft.removeFromLS(Sp),qr&&(!Kn||Kn.connector.key!==qr.key)&&(yield qr==null?void 0:qr.endSession())}),[Xt,F,gt,qr,Kn,vh,pe]),{passkeySuccessPopup:fe,setPasskeySuccessPopup:ke}=_Ye(),rt=k.useMemo(()=>{var Lt,ii;return{accessDeniedButton:v,accessDeniedMessagePrimary:g,accessDeniedMessageSecondary:y,accountSwitchState:Z,appLogoUrl:it,appName:It,authMode:gt,authToken:F0(),authorizationViewDisplayOrder:wn,awaitingSignatureState:Y,bridgeChains:A,bridgeChainsToConnect:dr,bridgeOnboardingCompleted:yn,clearStatesOnBackClick:pi,connectWallet:Fn,connectedWallets:lr,consumeNonce:zr,cssOverrides:S,customPrivacyPolicy:j,customTermsOfServices:ge,debugError:H,defaultNumberOfWalletsToShow:O,defaultPhoneInputIso2:w,defaultTabIndex:fn,desktopUri:si,disconnectWallet:Vn,displaySiweStatement:X,enableConnectOnlyFallback:C,environmentId:x,events:Qe,getConnectedWalletById:kr,getNameService:yh,handleLogOut:Fa,handleUnlinkWallet:gt==="connect-only"?Vn:Ld,handlers:ve,headless:Ue,i18nSDKInstance:kt,isAuthenticated:Fi,isBridgeFlow:St,isProjectSettingsLoading:Q,isRenderingEmbeddedAuthFlow:_n,isSingleWalletAccount:ri,legacyIsVerifying:at,linkedWallets:gt==="connect-only"||!Xt?[]:mh,loadingNetwork:bh,locale:{changeLanguage:no.getInstance().changeLanguage},loginWithEmail:vn,minAuthToken:qT(),multiWallet:_e,multiWalletWidgetState:Oo,network:wh,networkConfigurations:Zn,networkValidationMode:Ze,newToWeb3WalletChainMap:zl,notInTheListImageUrl:pn||L,onboardingImageUrl:At||z,overrides:n.overrides,passkeySuccessPopup:fe,policiesConsentInnerComponent:q,primaryWallet:Kn,primaryWalletId:je,privacyPolicyUrl:W,projectSettings:B,qrcodeUri:Ur,recommendedWallets:Rn,redirectUrl:n.redirectUrl,removeBridgeOnboardingCompleted:wo,removeConnectedWalletsInfo:pe,rpcProviders:_h,sdkHasLoaded:gh,secondaryWallets:Bi,selectedTabIndex:Cr,selectedTabSettings:jn,selectedWalletConnector:qr,selectedWalletWithAction:Tr,sendWagmiSettings:_i,setAuthMode:xt,setAuthorizationViewDisplayOrder:Nt,setBridgeOnboardingCompleted:Ir,setCallback:_m,setDefaultTabIndex:cn,setDesktopUri:or,setIsSingleWalletAccount:Ms,setLegacyIsVerifying:ct,setLogInWithEmail:bn,setMultiWalletWidgetState:F,setPasskeySuccessPopup:ke,setPrimaryWallet:Ji,setPrimaryWalletId:Xe,setQrcodeUri:Ds,setSelectedTabIndex:Pn,setSelectedWalletConnectorKey:gr,setSelectedWalletWithAction:wi,setShowAuthFlow:qn,setShowBridgeWidget:Qr,setShowDynamicUserProfile:ur,setShowQrcodeModal:ph,setShowWidgetStatePopup:Fe,setUser:mJ,shadowDOMEnabled:G,showAuthFlow:Un,showBridgeWidget:as,showDynamicUserProfile:Lr,showLockedWalletView:yt,showQrcodeModal:Zi,showWidgetStatePopup:xe,signWithEmailWalletName:re,siweStatement:J,socialMediaIconUrl:((Lt=B==null?void 0:B.general)===null||Lt===void 0?void 0:Lt.supportUrls)||te,socialMediaLinkText:de,socialMediaUrl:ce,socialProvidersFilter:$e,socialSettings:n.social,tabsItems:Dr,termsOfServiceUrl:Ce,theme:t,toolkitEnabled:qe,user:Xt,userWithMissingInfo:fr,walletConnector:(ii=Kn==null?void 0:Kn.connector)!==null&&ii!==void 0?ii:null,walletConnectorOptions:wt,walletUiUtils:vt,walletsFilter:P}},[v,g,y,Z,it,It,gt,wn,Y,A,dr,yn,pi,Fn,lr,zr,S,j,ge,H,O,w,fn,si,Vn,X,C,x,Qe,kr,yh,Fa,Ld,ve,Ue,kt,Fi,St,Q,ri,at,Xt,mh,bh,vn,_e,Oo,wh,Zn,Ze,zl,pn,L,At,z,n.overrides,n.redirectUrl,fe,q,Kn,je,W,B,Ur,Rn,wo,pe,_h,gh,n.social,Bi,Cr,jn,qr,Tr,_i,xt,Nt,Ir,_m,bn,F,ke,Ji,Xe,Pn,gr,qn,ph,G,Un,as,Lr,yt,Zi,xe,re,J,te,de,Dr,ce,$e,Ce,t,qe,fr,wt,vt,P]);return sE({as:"image",href:UA(),id:"sprite",type:"image/svg+xml"}),sE({as:"fetch",href:BH(),id:"wallet-book",type:"application/json"}),sE({as:"fetch",href:`${Vc.getBaseUrl()}/sdk/${x}/settings?sdkVersion=${encodeURIComponent(`WalletKit/${LA}`)}`,id:`project-settings-${x}`,type:"application/json"}),k.useEffect(()=>{!_e&&Oo!=="awaiting_account_switch"||Xt&&Oo!=="idle"&&!Lr&&ur(!0)},[_e,Oo,Lr]),u.jsx(YIe,{i18n:kt,children:u.jsx(sP.Provider,{value:rt,children:u.jsx(_Se,{walletBook:ot,children:u.jsx(n4e,{customerTheme:qHe(t,((m=B==null?void 0:B.design)===null||m===void 0?void 0:m.modal)||void 0),designSettings:B==null?void 0:B.design,children:u.jsx(fFe,{children:u.jsxs(dIe,{initialView:OIe({bridgeOnboardingCompleted:yn,connectedWallets:lr,isAuthenticated:Fi||!!Kn,isBridgeFlow:St,isMultiWalletEnabled:_e}),children:[Ze==="always"&&u.jsx(sYe,{}),u.jsx(r8e,{children:u.jsx(J8e,{children:u.jsx(pFe,{canSync:ki,children:u.jsx(zBe,{children:u.jsx(X8e,{children:u.jsx(qBe,{children:u.jsx(IVe,{children:u.jsx(k$e,{children:u.jsx(Z8e,{children:u.jsx(dMe,{children:u.jsx(Wje,{children:u.jsx(vUe,{children:u.jsx(XJe,{children:u.jsx(iYe,{children:u.jsxs(nLe,{children:[u.jsx(LVe,{}),u.jsx(UHe,{}),u.jsx(HJe,{}),u.jsx(NHe,{}),zt,u.jsx(tYe,{children:e})]})})})})})})})})})})})})})})})]})})})})})})},RYe=e=>{try{Cl.setEnvironmentId(e.settings.environmentId),Cl.setEmitErrors(e.emitErrors)}catch{}return SYe(),u.jsx(eYe,{children:u.jsx(lIe,{children:u.jsx(Y8e,{children:u.jsx(wAe,{children:u.jsx(Yje,{children:u.jsx(zje,{children:u.jsx(RVe,{children:u.jsx(TYe,Object.assign({},e))})})})})})})})};var IL,PYe=["title","titleId"];function P4(){return P4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P4.apply(this,arguments)}function OYe(e,t){if(e==null)return{};var n=NYe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NYe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var jYe=function(t){var n=t.title,r=t.titleId,i=OYe(t,PYe);return k.createElement("svg",P4({width:14,height:12,viewBox:"0 0 14 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,IL||(IL=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 1.333c-.736 0-1.333.597-1.333 1.334v6.666c0 .737.597 1.334 1.333 1.334h2.667C6.403 10.667 7 10.07 7 9.333v-.666a.667.667 0 0 1 1.333 0v.666A2.667 2.667 0 0 1 5.667 12H3A2.667 2.667 0 0 1 .333 9.333V2.667A2.667 2.667 0 0 1 3 0h2.667a2.667 2.667 0 0 1 2.666 2.667v.666a.667.667 0 1 1-1.333 0v-.666c0-.737-.597-1.334-1.333-1.334H3Zm6.862 1.529c.26-.26.682-.26.943 0l2.666 2.667c.26.26.26.682 0 .942l-2.666 2.667a.667.667 0 0 1-.943-.943l1.529-1.528H3.667a.667.667 0 0 1 0-1.334h7.724L9.862 3.805a.667.667 0 0 1 0-.943Z"})))},AL,BYe=["title","titleId"];function O4(){return O4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O4.apply(this,arguments)}function $Ye(e,t){if(e==null)return{};var n=MYe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function MYe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var DYe=function(t){var n=t.title,r=t.titleId,i=$Ye(t,BYe);return k.createElement("svg",O4({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,AL||(AL=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.04 1.96a1 1 0 0 0-1.414 0l-.528.528 1.414 1.414.529-.528a1 1 0 0 0 0-1.414Zm-1.47 2.885L9.154 3.431l-7.488 7.488v1.438h1.39l7.512-7.512Zm-.886-3.828a2.333 2.333 0 0 1 3.3 3.3l-9.18 9.178a.666.666 0 0 1-.47.195H1a.667.667 0 0 1-.667-.666v-2.381c0-.177.07-.347.196-.472l9.155-9.154Z",fill:"currentColor",fillOpacity:.65})))};const LQ=e=>{var t;return(t=e==null?void 0:e.filter(({enabledAt:n,authorizationUrl:r,redirectUrl:i})=>!!n&&!!r&&!!i))!==null&&t!==void 0?t:[]},LYe=e=>{if(!e)return[];const t=[];for(const n of e){const r=wX(n.provider);r&&n.enabled&&t.push(r)}return t},UYe=({sessionTimeout:e}={sessionTimeout:2e4})=>{var t;const{environmentId:n,user:r,projectSettings:i}=Te(),{setView:o}=dn(),{handleError:s,setError:a,setIsProcessing:c,checkValidProvider:l,error:d,isProcessing:f,connectSocialAccount:p}=q3({onFarcasterUrl:T=>o("farcaster-connect-view",{url:T}),sessionTimeout:e}),m=k.useMemo(()=>{var T,A;const S=(A=(T=r==null?void 0:r.verifiedCredentials)===null||T===void 0?void 0:T.filter(O=>O.format==="oauth"))!==null&&A!==void 0?A:[];return Object.fromEntries(new Map(S.map(O=>{var D;return[(D=O.oauthProvider)!==null&&D!==void 0?D:O.id,O]})))},[r==null?void 0:r.verifiedCredentials]),g=k.useCallback(T=>GT(i)?m[T]?(s(T,Do.ACCOUNT_ALREADY_LINKED,`Account already linked for provider: ${T}`,{raiseAuthFailure:!1}),!1):LQ(i==null?void 0:i.providers).find(D=>D.provider===T)?!0:(s(T,Do.PROVIDER_NOT_ENABLED,`Social linking provider is not enabled in Information Capture on the dashboard: ${T}`,{raiseAuthFailure:!1}),!1):(s(T,Do.SOCIAL_LINKING_NOT_ENABLED,"Social linking is not enabled in Information Capture on the dashboard",{raiseAuthFailure:!1}),!1),[s,i,m]),y=k.useCallback(T=>ae(void 0,void 0,void 0,function*(){p({authMode:"link",provider:T,validator:g})}),[g,p]),v=k.useCallback(T=>ae(void 0,void 0,void 0,function*(){var A;if(a(void 0),c(!0),!l(T,"unlink"))return;const S=m[T];if(!S){s(T,Do.NO_ACCOUNT_LINKED,`No account linked for provider: ${T}`,{raiseAuthFailure:!1});return}try{const O=Ft.getFromLS(l3);if(!(yield FDe({environmentId:n,primaryWalletId:O,verifiedCrentialId:(A=S.id)!==null&&A!==void 0?A:""}))){s(T,Do.UNLINK_ERROR,`Failed to unlink social account: ${T} | ${S.id}`,{raiseAuthFailure:!1});return}c(!1)}catch{s(T,Do.GENERAL_ERROR,`Failed to unlink social account: ${T} | ${S.id}`,{raiseAuthFailure:!1})}}),[l,n,s,a,c,m]),w=k.useCallback(T=>!!m[T],[m]),_=k.useCallback(T=>{const A=m[T];if(!A)return;const{id:S,oauthAccountId:O,oauthAccountPhotos:D,oauthDisplayName:K,oauthEmails:H,oauthProvider:X,oauthUsername:U,publicIdentifier:I}=A;return{accountId:O??void 0,avatar:D==null?void 0:D[0],displayName:K??void 0,email:H==null?void 0:H[0],id:S,provider:X,publicIdentifier:I,username:U}},[m]),E=k.useCallback(T=>{var A;return LYe((A=i==null?void 0:i.sdk.socialSignIn)===null||A===void 0?void 0:A.providers).find(O=>O===T)?!0:(s(T,Do.PROVIDER_NOT_ENABLED,`Provider is not enabled for sign-in on the dashboard: ${T}`,{raiseAuthFailure:!0}),!1)},[s,(t=i==null?void 0:i.sdk.socialSignIn)===null||t===void 0?void 0:t.providers]),C=k.useCallback(T=>ae(void 0,void 0,void 0,function*(){return p({authMode:"signin",provider:T,validator:E})}),[E,p]);return k.useMemo(()=>({error:d,getLinkedAccountInformation:_,isLinked:w,isProcessing:f,linkSocialAccount:y,signInWithSocialAccount:C,unlinkSocialAccount:v}),[d,_,w,f,y,C,v])},FYe=()=>{const{setShowWidgetStatePopup:e,setSelectedWalletWithAction:t,setPrimaryWallet:n,setSelectedWalletConnectorKey:r,user:i,primaryWallet:o}=Te(),s=p3();return a=>ae(void 0,void 0,void 0,function*(){var c,l;const d=s.find(m=>m.id===a);if(!d)throw new Error(`Wallet with id ${a} not found`);if(((c=d.connector)===null||c===void 0?void 0:c.key)==="unknown")throw new Error("Cannot make this wallet active, since this wallet doesn't have a compatible connector on this device.");const{connector:f}=d,p=(l=i==null?void 0:i.verifiedCredentials.find(m=>m.format==="email"))===null||l===void 0?void 0:l.email;Tl(f)&&p&&f.setEmail(p),(o==null?void 0:o.chain)==="flow"&&f.connectedChain==="FLOW"&&(yield f.endSession()),e(!0),t({action:"select",wallet:d}),n(a),r(f.key)})},WYe=()=>{const{primaryWallet:e,projectSettings:t,user:n,setShowAuthFlow:r}=Te(),{userHasEmbeddedWallet:i}=Z0(),{setView:o}=dn(),{isTurnkeyWallet:s}=Ns(),a=({user:d,recoveryPhrase:f})=>{var p,m;if(!Vf(t))throw new Error("Dynamic embedded wallet is not enabled. Go to the dashboard and make sure to have both Dynamic Embedded wallet and at least one EVM network enabled. Also, check if EthereumWalletConnectors is in the  DynamicContextProvider > settings > walletConnectors.");if(!i())throw new Error("Dynamic embedded wallet not found");const g=(m=(p=d.verifiedCredentials)===null||p===void 0?void 0:p.find(({walletName:v})=>v==null?void 0:v.startsWith("turnkey")))===null||m===void 0?void 0:m.walletProperties,y=g==null?void 0:g.turnkeyHDWalletId;if(f&&!y)throw new Error("Wallet is non-HD and does not have a recovery phrase")},c=()=>{if(!F2(t))throw new Error("Coinbase MPC is not enabled. Go to the dashboard and make sure to have Coinbase WaaS and at least one EVM network enabled. Also, make sure you are passing `EthereumWalletConnectors` to the `walletConnectors` prop in `DynamicContextProvider` `settings`.");if(!i())throw new Error("Coinbase MPC wallet not found")};return{initExportProcess:k.useCallback((...d)=>ae(void 0,[...d],void 0,function*(f=!1){if(!e)throw new Error("No primary wallet");if(!n)throw new Error(li);if(s&&a({recoveryPhrase:f,user:n}),ih(e.connector)&&c(),!i())throw new Error("Dynamic embedded wallet not found");return r(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),o("embedded-reveal-view",{exportPrivateKey:!f}),new Promise((p,m)=>{Kt.once("embeddedWalletRevealCompleted",g=>p(g)),Kt.once("embeddedWalletRevealFailed",g=>m(g))})}),[e,s,r,o,n])}},zYe=()=>{const{initPasskeyRecoveryProcess:e,shouldInitRecovery:t}=Id(),{setShowAuthFlow:n}=Te(),{setView:r}=dn();return{addEmbeddedWalletRecoveryEmail:()=>ae(void 0,void 0,void 0,function*(){r("passkey-recovery-add-email"),n(!0)}),createOrRefreshAuthenticatorSession:s=>ae(void 0,void 0,void 0,function*(){if(!(s!=="passkey"&&!(yield t())))return e(s)})}},qYe=e=>{var t;const n=(t=e==null?void 0:e.providers)!==null&&t!==void 0?t:[];return[br.Turnkey,br.CoinbaseWaas,br.MagicLink,br.Blocto].filter(i=>fa(n,i))},UQ=(e,t,n)=>n?!0:!e||!(t!=null&&t.length)?!1:!qYe(e).length&&!t.some(i=>i.walletProvider),VYe=()=>{var e;const{setShowAuthFlow:t,projectSettings:n}=Te(),{setView:r}=dn(),i=(e=n==null?void 0:n.security.mfa)===null||e===void 0?void 0:e.enabled,o=k.useCallback(d=>{if(d){if(!i)return;r("mfa-choose-device")}t(d,{emitCancelAuth:!0})},[i,t,r]),s=k.useCallback(d=>{if(d){if(!i)return;r("mfa-secure-device")}t(d,{emitCancelAuth:!0})},[i,t,r]),a=k.useCallback(d=>{if(d){if(!i)return;r("mfa-verification")}t(d,{emitCancelAuth:!0})},[i,t,r]),c=k.useCallback(d=>{if(d){if(!i)return;r("mfa-display-backup-codes")}t(d,{emitCancelAuth:!0})},[i,t,r]),l=k.useCallback(d=>{if(d){if(!i)return;r("mfa-recovery")}t(d,{emitCancelAuth:!0})},[i,t,r]);return{setShowMfaChooseType:o,setShowMfaEnterBackupCodes:l,setShowMfaQRCode:s,setShowMfaViewBackupCodes:c,setShowOTPVerification:a}},FQ=()=>{const{projectSettings:e,user:t,multiWallet:n,setShowAuthFlow:r}=Te(),i=cS(),{setView:o}=dn(),s=UQ(e,t==null?void 0:t.verifiedCredentials,n),{setShowMfaChooseType:a,setShowMfaEnterBackupCodes:c,setShowMfaQRCode:l,setShowMfaViewBackupCodes:d,setShowOTPVerification:f}=VYe();return{setShowLinkNewWalletModal:k.useCallback(m=>{if(m){if(!i){Ne.warn("setShowLinkNewWalletModal was called while the user was not logged in. This results in a no-op. To log the user in, use setShowAuthFlow. For more information, see: https://docs.dynamic.xyz/react-sdk/hooks/usedynamiccontext");return}if(!s){Ne.warn("setShowLinkNewWalletModal was called but the user is not allowed to link a wallet. This results in a no-op. Please double check that multi-wallet is enabled in the dashboard. For more information, see: https://docs.dynamic.xyz/branded-wallets/multi-wallet");return}o("multi-wallet-wallet-list")}r(m,{emitCancelAuth:!0,ignoreIfIsEmbeddedWidget:!0,initializeWalletConnect:!0,performMultiWalletChecks:!1})},[s,i,r,o]),setShowMfaChooseType:a,setShowMfaEnterBackupCodes:c,setShowMfaQRCode:l,setShowMfaViewBackupCodes:d,setShowOTPVerification:f}};var TL,HYe=["title","titleId"];function N4(){return N4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N4.apply(this,arguments)}function KYe(e,t){if(e==null)return{};var n=GYe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GYe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var ZYe=function(t){var n=t.title,r=t.titleId,i=KYe(t,HYe);return k.createElement("svg",N4({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,TL||(TL=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.25 3a3.751 3.751 0 0 0-3.59 4.84.743.743 0 0 1-.187.746L3 13.062V15h1.5v-.75a.75.75 0 0 1 .75-.75H6v-.75a.75.75 0 0 1 .75-.75h1.188l1.476-1.473a.743.743 0 0 1 .746-.187A3.751 3.751 0 1 0 11.25 3ZM6 15v.75a.75.75 0 0 1-.75.75H3A1.5 1.5 0 0 1 1.5 15v-1.938c0-.398.156-.78.438-1.062l4.171-4.172A5.251 5.251 0 0 1 11.25 1.5a5.251 5.251 0 0 1 5.251 5.25 5.251 5.251 0 0 1-6.328 5.14l-1.39 1.391a.75.75 0 0 1-.532.219H7.5v.75a.75.75 0 0 1-.75.75Zm4.5-9.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25.75.75 0 0 1-1.5 0 .75.75 0 0 0-.75-.75.75.75 0 0 1-.75-.75Zm0 0",fill:"currentColor"})))},RL,JYe=["title","titleId"];function j4(){return j4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j4.apply(this,arguments)}function YYe(e,t){if(e==null)return{};var n=XYe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XYe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var QYe=function(t){var n=t.title,r=t.titleId,i=YYe(t,JYe);return k.createElement("svg",j4({width:18,height:18,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,RL||(RL=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.256 5.244a.833.833 0 0 1 0 1.179l-3.333 3.333a.833.833 0 0 1-1.179-1.179l1.91-1.91H6.668a.833.833 0 0 1 0-1.667h7.988l-1.91-1.91a.833.833 0 1 1 1.178-1.18l3.333 3.334Zm-11.91 8.09h7.987a.833.833 0 1 1 0 1.666H5.345l1.91 1.91a.833.833 0 1 1-1.178 1.18l-3.333-3.334a.833.833 0 0 1 0-1.179l3.333-3.333a.833.833 0 1 1 1.179 1.179l-1.91 1.91Z",fill:"currentColor"})))},PL,eXe=["title","titleId"];function B4(){return B4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B4.apply(this,arguments)}function tXe(e,t){if(e==null)return{};var n=nXe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nXe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var WQ=function(t){var n=t.title,r=t.titleId,i=tXe(t,eXe);return k.createElement("svg",B4({width:18,height:18,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,PL||(PL=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.935 4.066a2.5 2.5 0 0 0-3.536 0l-.916.916a.833.833 0 0 1-1.179-1.179l.917-.916a4.167 4.167 0 0 1 5.892 5.893l-1.81 1.81-1.178-1.18 1.81-1.809a2.5 2.5 0 0 0 0-3.535Zm-10.06 6.523L4.698 9.411l-1.81 1.81a4.167 4.167 0 1 0 5.893 5.892l.918-.918a.833.833 0 0 0-1.179-1.178l-.918.917A2.5 2.5 0 0 1 4.066 12.4l1.81-1.81Zm-.488-6.38A.833.833 0 1 0 4.21 5.387l10.017 10.017a.833.833 0 1 0 1.179-1.178L5.387 4.209Z",fill:"currentColor"})))};const zQ=({wallet:e,ens:t})=>{var n,r;const{connector:i,address:o}=e,s=FYe(),{setSelectedWalletWithAction:a,projectSettings:c,authMode:l}=Te(),d=20,f=[{Icon:u.jsx(QYe,{}),callback:()=>s(e.id),hide:((n=e.connector)===null||n===void 0?void 0:n.key)==="unknown"||!(!((r=e.connector)===null||r===void 0)&&r.isAvailable),text:"Select wallet"}];t!=null&&t.name&&f.push({Icon:u.jsx(Zf,{}),callback:()=>W2(t.name),text:"Copy ENS"}),f.push({Icon:u.jsx(Zf,{}),callback:()=>W2(o||""),text:"Copy address"}),!_1(i)&&!(c!=null&&c.sdk.multiWalletUnlinkDisabled)&&f.push({Icon:u.jsx(WQ,{}),callback:()=>a({action:"unlink",wallet:e}),text:`${l==="connect-only"?"Disconnect":"Unlink"} from my account`});const p=XJ(i,c==null?void 0:c.providers);return p&&f.push({Icon:u.jsx(ZYe,{}),callback:p,text:"Export private keys"}),u.jsxs("div",{className:"wallet__container","data-testid":"wallet",children:[u.jsxs("div",{className:"wallet__row",children:[u.jsx("div",{className:"wallet__icon-container",children:u.jsx(j1,{iconSize:d,wallet:e,showStatus:!0})}),t!=null&&t.name?u.jsxs(u.Fragment,{children:[u.jsx(ie,{className:"wallet__ens-name",variant:"body_small",color:"primary",truncate:!0,children:t==null?void 0:t.name}),u.jsx("div",{className:"wallet__row__seperator"}),u.jsx(ie,{variant:"body_mini",color:"secondary",children:Gi(o,3,3)})]}):u.jsx(ie,{variant:"body_small",color:"primary",children:Gi(o,4,4)})]}),u.jsx(H0,{"data-testid":"dots-menu",options:f,buttonClassName:"wallet__menu",direction:"left"})]})},rXe=e=>u.jsx(ie,{variant:"numbers_medium",color:"tooltip",children:e}),iXe=({className:e,overwriteTooltipProps:t,tooltipContent:n,copykey:r})=>u.jsx(B1,Object.assign({content:rXe(n)},t,{copykey:r,children:u.jsx(Ng,{className:We("dynamic-verified-icon",e)})})),OL=({name:e,label:t,value:n,copykey:r,autoComplete:i})=>{var o,s;const{user:a}=Te(),{t:c}=ut(),l=n==="",d=e==="phoneNumber"&&typeof n=="string",f=e==="email"&&(a==null?void 0:a.email)&&((o=a==null?void 0:a.verifiedCredentials)===null||o===void 0?void 0:o.some(g=>g.email===n)),p=d&&(a==null?void 0:a.phoneNumber)&&((s=a==null?void 0:a.verifiedCredentials)===null||s===void 0?void 0:s.some(g=>`+${g.phoneCountryCode}${g.phoneNumber}`===n)),m=c(f?"dyn_user_profile.tooltips.verified_email":"dyn_user_profile.tooltips.verified_phone");return u.jsxs("div",{className:"user-profile-field",children:[t&&u.jsx(ie,{as:"h6",color:"secondary",weight:"regular",variant:"body_small",copykey:r,children:t}),u.jsxs("div",{className:"user-profile-field__value",children:[u.jsx(ie,{color:l?"tertiary":"primary",as:"p",weight:"regular",variant:"body_normal",children:d?D3(n):n}),(f||p)&&u.jsx(iXe,{className:"user-profile-field__verify-icon",overwriteTooltipProps:{as:"div"},tooltipContent:m,copykey:"dyn_user_profile.tooltips"})]})]})},Q_=({title:e,children:t})=>u.jsxs("div",{className:"user-profile-section",children:[e&&u.jsx(ie,{as:"h6",color:"secondary",weight:"medium",variant:"body_small",className:"user-profile-section__title",children:e}),t]}),oXe=({provider:e,avatarUrl:t,iconThemeVariant:n})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"user-profile-social-account__connected-avatar",children:u.jsx(tR,{className:"user-profile-social-account__image",src:t,alt:"User avatar",dataTestId:"user-avatar",fallback:u.jsx(e3,{})})}),u.jsx("div",{className:"user-profile-social-account__connected-provider-icon",children:u.jsx(t3,{name:e,variant:n})})]}),sXe=({provider:e})=>{var t;const{user:n,primaryWallet:r}=Te(),{linkSocialAccount:i,unlinkSocialAccount:o,isProcessing:s,isLinked:a,getLinkedAccountInformation:c}=UYe(),l=a(e),d=c(e),f=U3(),p=!r&&d&&(d==null?void 0:d.id)===(n==null?void 0:n.lastVerifiedCredentialId),m=()=>u.jsx(Qt,{buttonClassName:"user-profile-social-account__button",buttonVariant:"secondary",buttonPadding:"none",onClick:()=>l?o(e):i(e),loading:s,dataTestId:`social-account-${l?"disconnect":"connect"}-button`,typographyProps:{color:"secondary",variant:"button_tertiary"},startSlot:u.jsx(un,{color:"text-tertiary",size:"small",children:l?u.jsx(WQ,{}):u.jsx(Hf,{})}),children:l?null:"Connect"});return u.jsxs("div",{className:"user-profile-social-account","data-testid":`social-account-${e}`,children:[u.jsx("div",{className:"user-profile-social-account__icon",children:l?u.jsx(oXe,{provider:e,avatarUrl:d==null?void 0:d.avatar}):u.jsx(t3,{name:e,variant:f})}),u.jsx(ie,{weight:"medium",variant:"body_normal",color:"primary",truncate:!0,className:"user-profile-social-account__label",children:(t=d==null?void 0:d.publicIdentifier)!==null&&t!==void 0?t:vX(bR(e))}),p?null:m()]})},aXe=({rootClassName:e})=>{var t;const{projectSettings:n,user:r,setSelectedWalletConnectorKey:i,multiWallet:o,primaryWallet:s}=Te(),{error:a}=Po(),{setShowLinkNewWalletModal:c}=FQ(),{userWallets:l}=Dp(),{t:d}=ut(),{fieldsConfig:f}=y3(),p=k.useRef(null);k.useEffect(()=>{a&&p.current&&(p.current.scrollTop=0)},[a]);const m=$3({customFields:n==null?void 0:n.customFields,projectSettingsKyc:n==null?void 0:n.kyc,user:r}),g=GT(n)?LQ(n==null?void 0:n.providers):[],y=UQ(n,r==null?void 0:r.verifiedCredentials,o),v=()=>{c(!0),i(null)},w=E=>r==null?void 0:r[E];if(!r)return null;const _=!o&&!s&&l[0];return u.jsxs("div",{"data-testid":"userProfile",className:We("user-profile",e),ref:p,children:[a&&u.jsx(Ao,{children:a}),_&&u.jsx(Q_,{title:d("dyn_user_profile.my_wallet.title"),children:u.jsx(zQ,{ens:(t=oP(_.address,r==null?void 0:r.verifiedCredentials,_.chain))===null||t===void 0?void 0:t.nameService,wallet:_},_.id)}),(m==null?void 0:m.length)>0&&u.jsx(Q_,{title:d("dyn_user_profile.my_information.title"),children:u.jsx("div",{className:"user-profile__fields",children:m.map(({name:E,validationType:C,type:T,label:A})=>{var S,O;if(T===yl.Custom){const X=(O=(S=r.metadata)===null||S===void 0?void 0:S[E])!==null&&O!==void 0?O:"";let U=X;return C===Tf.Checkbox&&(U=X.length>0?"Checked":"Unchecked"),u.jsx(OL,{name:E,label:E,value:U},E)}const{label:D,key:K}=ep(f,E);A??(A=D);const H=w(E);return u.jsx(OL,{copykey:K,name:E,label:A,value:H},E)})})}),y&&!o&&u.jsx(Q_,{title:d("dyn_user_profile.wallets.title"),children:u.jsx(Qt,{dataTestId:"link-wallet-button",onClick:v,startSlot:u.jsx(Hf,{}),showInternalLoading:!1,children:u.jsx(ie,{color:"primary",weight:"medium",copykey:"dyn_user_profile.wallets.link_wallet_button",children:d("dyn_user_profile.wallets.link_wallet_button")})})}),(g==null?void 0:g.length)>0&&u.jsx(Q_,{title:d("dyn_user_profile.social_accounts.title"),children:u.jsx("div",{className:"user-profile__social-accounts",children:g.map(({provider:E})=>u.jsx(sXe,{provider:E},E))})})]})},W1=({buttonClassName:e="",isTextButton:t=!1})=>{const[n,r]=k.useState(!1),{handleLogOut:i}=Te(),o=()=>ae(void 0,void 0,void 0,function*(){try{r(!0),yield i()}catch(s){Ne.error(s)}finally{r(!1)}});return u.jsx(Qt,{buttonClassName:e,buttonVariant:"tertiary",buttonPadding:t?"none":"medium",loading:n,disabled:n,onClick:o,typographyProps:t?{color:"secondary",variant:"button_tertiary"}:{color:"primary",variant:"button_secondary"},dataTestId:"logout-button",startSlot:t?u.jsx(jYe,{}):void 0,expanded:!t,type:"button",children:"Log out"})},cXe=({background:e="none",className:t,style:n})=>{const r=cS(),{projectSettings:i,isRenderingEmbeddedAuthFlow:o,walletConnectorOptions:s}=Te();k.useEffect(()=>{var l;(l=s.find(d=>d.walletConnector.key==="walletconnect"))===null||l===void 0||l.walletConnector.init()},[s]);const{goToInitialView:a}=dn();if(k.useEffect(()=>(Kt.addListener("logout",a),()=>{Kt.removeListener("logout",a)}),[a]),o.current=!r,k.useEffect(()=>()=>{o.current=!1},[o]),r)return null;const c=u.jsx(UY,{className:t,style:n,projectSettings:i,children:u.jsx(TX,{})});return u.jsx(dh,{className:"embedded-widget",children:u.jsx(v3,{children:u.jsx(LG,{children:u.jsx(RR,{children:e==="none"?c:u.jsx(Nu,{border:e==="with-border",sharpBottomRadiusOnMobile:!1,children:c})})})})})},Wu=({children:e,onClose:t,disablePadding:n})=>u.jsx("div",{className:"widget-portal",onClick:t,"data-testid":"backdrop",children:u.jsxs("div",{className:We("widget-portal__container",{"widget-portal__container--no-padding":n}),onClick:r=>r.stopPropagation(),children:[t&&u.jsx("div",{className:"widget-portal__container__header",children:u.jsx(Vr,{className:"widget-portal__container__close-button",onClick:r=>t(r),type:"button","data-testid":"close-button",children:u.jsx(vo,{})})}),e]})}),Xf=()=>{const{setMultiWalletWidgetState:e,setSelectedWalletWithAction:t,setShowQrcodeModal:n,setDesktopUri:r,setSelectedWalletConnectorKey:i}=Te();return o=>{o.stopPropagation(),t(null),e("idle"),n(!1),r(""),i(null)}},ay=({children:e,className:t="",dataTestId:n="",icon:r,title:i})=>u.jsxs("div",{className:We("default-prompt-modal",t),"data-testid":n,children:[r&&u.jsx(bo,{Icon:r,iconSize:96,isSpinning:!0,className:"default-prompt-modal__icon-with-spinner"}),u.jsxs("div",{className:"default-prompt-modal__content",children:[i&&u.jsx(ie,{variant:"title",color:"primary","data-testid":"title",children:i}),e]})]}),lXe=e=>u.jsx(Wu,{onClose:e.onClose,children:u.jsx(ay,Object.assign({},e))}),dXe=()=>{const{t:e}=ut(),{setMultiWalletWidgetState:t,primaryWallet:n}=Te(),r=()=>{t("awaiting_signature",void 0,"linking_new_wallet")},i=n==null?void 0:n.connector;return u.jsxs(ay,{dataTestId:"detected-new-wallet-modal",icon:u.jsx(bi,{walletKey:i==null?void 0:i.key}),title:e("dyn_detected_new_wallet.title"),children:[u.jsxs("div",{className:"detected-new-wallet-modal__top-section",children:[u.jsx(ie,{variant:"body_normal",color:"secondary",weight:"regular","data-testid":"content",children:e("dyn_detected_new_wallet.description",{walletName:i==null?void 0:i.name})}),i&&x1(i)&&i.canConnectWithHardwareWallet()&&u.jsx(MR,{connectors:[i],copykey:"dyn_select_chain.using_hardware_wallet_toggle_label",label:e("dyn_select_chain.using_hardware_wallet_toggle_label")}),u.jsx(Qt,{expanded:!0,onClick:r,typographyProps:{variant:"button_secondary"},children:e("dyn_detected_new_wallet.confirm_button")})]}),u.jsx(Ul,{fullWidth:!0,text:"Or"}),u.jsx(W1,{isTextButton:!1,buttonClassName:"detected-new-wallet-modal__log-out-button"})]})},uXe=()=>u.jsx(Wu,{onClose:Xf(),children:u.jsx(dXe,{})}),fXe=(e,t)=>Ki(()=>{if(e)return e.getConnectedAccounts().then(n=>t.find(r=>{var i;return r.address.toLowerCase()===((i=n[0])===null||i===void 0?void 0:i.toLowerCase())}))},{deps:[e,t]}),hXe=({selectedWalletToSwitchTo:e})=>u.jsxs(u.Fragment,{children:[u.jsxs(ie,{variant:"body_normal",color:"secondary",weight:"regular","data-testid":"content",children:["Switch to wallet"," ",u.jsx(ie,{as:"span",weight:"medium",color:"primary",children:Gi(e==null?void 0:e.address,3,3)})," ","in ",e==null?void 0:e.connector.name," to make it active."]}),u.jsx(Ul,{fullWidth:!0,text:"Or"}),u.jsx(W1,{isTextButton:!1,buttonClassName:"primary-not-connected__log-out-button"})]}),pXe=({connectedWallet:e,selectedWalletToSwitchTo:t})=>{const{setSelectedWalletWithAction:n,setSelectedWalletConnectorKey:r,setPrimaryWallet:i}=Te(),o=k.useCallback(()=>ae(void 0,void 0,void 0,function*(){var s,a;e&&(e.connector.connectedChain==="FLOW"&&((a=(s=e.connector).endSession)===null||a===void 0||a.call(s)),n({action:"select",wallet:e}),i(e==null?void 0:e.id),r(e==null?void 0:e.connector.key))}),[e,n,i,r]);return u.jsxs(u.Fragment,{children:[u.jsxs(ie,{variant:"body_normal",color:"secondary",weight:"regular","data-testid":"content",children:["Wallet"," ",u.jsx(ie,{as:"span",weight:"medium",color:"primary",children:Gi(t==null?void 0:t.address,3,3)})," ","is not active in ",t==null?void 0:t.connector.name,". To make active, open your ",t==null?void 0:t.connector.name," wallet and switch to this account."]}),u.jsx(Ul,{fullWidth:!0,text:"Or"}),u.jsx(ie,{variant:"body_normal",color:"primary",children:"Use your active wallet"}),u.jsxs(Qt,{buttonClassName:"default-prompt-modal__button",expanded:!0,type:"button",buttonPadding:"medium",typographyProps:{variant:"button_secondary"},onClick:o,dataTestId:"use-active-wallet-button",children:["Select"," ",u.jsx(un,{size:"xsmall",children:u.jsx(bi,{walletKey:t==null?void 0:t.connector.key})})," ",Gi(e==null?void 0:e.address,3,3)]})]})},mXe=()=>{var e,t,n,r;const{selectedWalletWithAction:i,primaryWallet:o,secondaryWallets:s}=Te(),a=(e=i==null?void 0:i.wallet)===null||e===void 0?void 0:e.connector,c=(a==null?void 0:a.key)===(o==null?void 0:o.connector.key),{data:l}=fXe((t=i==null?void 0:i.wallet)===null||t===void 0?void 0:t.connector,s),d=(r=(n=i==null?void 0:i.wallet)!==null&&n!==void 0?n:o)!==null&&r!==void 0?r:void 0;return u.jsx(ay,{dataTestId:"pending-account-switch",icon:u.jsx(bi,{walletKey:a==null?void 0:a.key}),title:`Switch wallet in ${d==null?void 0:d.connector.name}`,children:c||!l?u.jsx(hXe,{selectedWalletToSwitchTo:d}):u.jsx(pXe,{connectedWallet:l,selectedWalletToSwitchTo:d})})},gXe=()=>u.jsx(Wu,{children:u.jsx(mXe,{})}),yXe=()=>{const{selectedWalletConnector:e}=Te();return u.jsx(ay,{dataTestId:"pending-account-switch",icon:u.jsx(bi,{walletKey:e==null?void 0:e.key}),title:`Switch wallet in ${e==null?void 0:e.name}`,children:u.jsxs(ie,{variant:"body_normal",color:"secondary",weight:"regular","data-testid":"content",children:["To link a new wallet, open"," ",u.jsx(ie,{as:"span",weight:"medium",color:"primary",children:e==null?void 0:e.name})," ","and switch to the account you want to link."]})})},vXe=()=>u.jsx(Wu,{onClose:Xf(),children:u.jsx(yXe,{})}),bXe=({onClickCancel:e})=>{var t;const{handleUnlinkWallet:n,setSelectedWalletWithAction:r,authMode:i,selectedWalletWithAction:o}=Te(),{t:s}=ut(),{loading:a,setLoading:c}=X0(),l=(t=o==null?void 0:o.wallet)===null||t===void 0?void 0:t.id;if(!l)throw new Error("Wallet id is not defined");const d=()=>ae(void 0,void 0,void 0,function*(){try{c(!0),yield n(l),r(null)}catch(f){Ne.error(f)}finally{c(!1)}});return u.jsxs("div",{className:"unlink-wallet-popup__container",children:[u.jsx(ie,{color:"primary",className:"unlink-wallet-popup__title",variant:"body_normal",as:"h6",children:s(i==="connect-only"?"dyn_unlink_wallet_pop_up.disconnect_title":"dyn_unlink_wallet_pop_up.unlink_title")}),u.jsx(ie,{className:"unlink-wallet-popup__label",variant:"body_small",color:"secondary",children:s(i==="connect-only"?"dyn_unlink_wallet_pop_up.disconnect_description":"dyn_unlink_wallet_pop_up.unlink_description")}),u.jsx(Qt,{buttonPadding:"small",onClick:d,disabled:a,buttonClassName:"unlink-wallet-popup__button unlink-wallet-popup__button--shadow",color:"primary",expanded:!0,typographyProps:{variant:"button_secondary",weight:"medium"},dataTestId:"unlink-wallet-popup-yes-button",children:s(i==="connect-only"?"dyn_unlink_wallet_pop_up.disconnect_button":"dyn_unlink_wallet_pop_up.unlink_button")}),u.jsx(Qt,{expanded:!0,buttonPadding:"small",onClick:e,buttonVariant:"secondary",buttonClassName:"unlink-wallet-popup__button",typographyProps:{variant:"button_secondary",weight:"medium"},children:s("dyn_unlink_wallet_pop_up.cancel_button")})]})},wXe=()=>u.jsx(Wu,{onClose:Xf(),children:u.jsx(bXe,{onClickCancel:Xf()})}),_Xe=()=>{const{accountSwitchState:e,multiWalletWidgetState:t,multiWallet:n,selectedWalletWithAction:r}=Te();if((r==null?void 0:r.action)==="unlink")return"unlink_wallet";if(t==="awaiting_signature")return"pending_sign";if(t==="awaiting_account_switch"){if(e==="linking_new_wallet")return"linking_new_wallet";if(e==="primary_not_connected")return n?"primary_not_connected":"pending_account_switch";if(e==="switching_primary")return"pending_account_switch"}return t==="awaiting_connection"?"awaiting_connection":t==="detected_new_wallet"?"detected_new_wallet":"idle"},xXe=()=>{const{selectedWalletConnector:e}=Te(),{walletBook:t}=$a(),n=pX(e);if(!e)return null;const r=rc(t,e.key,e.walletFallback).name;return u.jsxs("div",{className:"no-qr-code-not-installed-modal-view","data-testid":"no-qr-code-not-installed",children:[u.jsx(bi,{walletKey:e.key,style:{height:En(64),width:En(64)}}),u.jsxs(ie,{variant:"body_normal",color:"primary",children:["We can’t detect ",r," extension"]}),Array.isArray(n)&&u.jsx(ie,{variant:"body_normal",color:"secondary",children:"Select from your preferred options below:"}),u.jsx("div",{className:"no-qr-code-not-installed-modal-view__links-section",children:n.map(({key:i,name:o,link:s,Icon:a})=>u.jsx(kX,{name:o,link:s,Icon:a},i))}),u.jsx(ie,{variant:"body_mini",color:"secondary",children:"Refresh the page once installed"})]})},kXe=()=>{var e;const{selectedWalletConnector:t,user:n,selectedWalletWithAction:r}=Te();let i,o;if(r&&L0(r.wallet.connector)){const s=O3(n,r.wallet.id);i=`Reconnecting ${wMe((e=s==null?void 0:s.oauthProvider)!==null&&e!==void 0?e:"")}`}else i=`Connect ${t==null?void 0:t.name} wallet`,o=u.jsxs(u.Fragment,{children:["Connect your"," ",u.jsx(ie,{as:"span",weight:"medium",color:"primary",children:t==null?void 0:t.name})," ","wallet to make active."]});return u.jsx(ay,{dataTestId:"pending-connection-modal",icon:u.jsx(j1,{wallet:r==null?void 0:r.wallet}),title:i,children:u.jsx(ie,{variant:"body_normal",color:"secondary",weight:"regular","data-testid":"content",children:o})})},SXe=()=>u.jsx(Wu,{onClose:Xf(),children:u.jsx(kXe,{})}),EXe=({emailWalletConnector:e})=>u.jsxs("div",{className:"email-connector-pending-sign-modal-content",children:[u.jsx(bo,{Icon:yp,iconSize:80,isSpinning:!0}),u.jsxs("div",{className:"email-connector-pending-sign-modal-content__body",children:[u.jsx(ie,{weight:"medium",variant:"title",color:"primary",className:"email-connector-pending-sign-modal-content__title",children:"Confirm your email"}),u.jsxs(ie,{weight:"regular",variant:"body_normal",color:"secondary",children:["We’ve sent a verification email to"," ",u.jsx(ie,{variant:"body_normal",color:"secondary",weight:"medium",as:"span",children:e.email})]}),u.jsx(ie,{weight:"regular",variant:"body_small",color:"secondary",children:"Note: it might take a few seconds to proceed after clicking the link in your email"})]})]}),CXe=({walletConnector:e})=>{const{setSelectedWalletWithAction:t,selectedWalletWithAction:n,setPrimaryWalletId:r,setMultiWalletWidgetState:i}=Te(),[o,s]=k.useState(),{email:a}=e;if(!a)throw new Error("EmailOTPConnectorPendingSignModalContent requires a email");const{data:c,isLoading:l,mutate:d}=ac(f=>e.verifyOneTimePassword(f),{onFailure:f=>{s(f),Kt.emit("emailVerificationResult",!1,a)},onSuccess:()=>ae(void 0,void 0,void 0,function*(){n&&(i("idle"),t(null),r(n.wallet.id),Kt.emit("emailVerificationResult",!0,a))})});return u.jsx(J3,{MainIcon:hX,displayedDestination:Cp(a),error:o,isLoading:l,onPinComplete:d,retryHandler:e.retryOneTimePassword.bind(e),isValid:c===!0,onPinChange:()=>s(void 0)})},IXe=()=>{const{selectedWalletConnector:e,setMultiWalletWidgetState:t}=Te(),{signAlreadyConnectedUser:n}=CR(),r=()=>ae(void 0,void 0,void 0,function*(){try{e&&(yield n({walletConnector:e}))}catch(i){Jr.error(i)}finally{t("idle")}});return u.jsxs(lXe,{onClose:Xf(),dataTestId:"pending-account-switch",icon:u.jsx(bi,{walletKey:e==null?void 0:e.key}),children:[u.jsx(ie,{variant:"body_normal",color:"secondary",weight:"regular","data-testid":"content",children:"Sign the message in your wallet to approve linking this wallet to your account"}),di()&&!(e!=null&&e.canConnectViaCustodialService)&&u.jsx(Qt,{buttonClassName:"default-prompt-modal__button",expanded:!0,type:"button",buttonPadding:"medium",typographyProps:{variant:"button_secondary"},onClick:r,dataTestId:"click-to-sign-button",children:"Click to Sign"})]})},AXe=()=>{const{selectedWalletConnector:e}=Te();if(e!==null){if(D0(e))return u.jsx(CXe,{walletConnector:e});if(Tl(e))return u.jsx(EXe,{emailWalletConnector:e})}return u.jsx(IXe,{})},qQ=()=>u.jsx(Wu,{onClose:Xf(),children:u.jsx(AXe,{})}),TXe=({walletId:e})=>{var t,n;const{secondaryWallets:r,qrcodeUri:i,desktopUri:o}=Te(),{walletBook:s}=$a(),a=r.find(({id:g})=>g===e),c=((t=a==null?void 0:a.connector)===null||t===void 0?void 0:t.key)||"",l=((n=a==null?void 0:a.connector)===null||n===void 0?void 0:n.name)||"",{theme:d}=Lu(),f={dark:{accentColor:"var(--dynamic-text-primary)"},light:{accentColor:jH(s,c)||"var(--dynamic-text-primary)"}},p=d.theme.name==="light"?"light":"dark",m=u.jsx(bi,{walletKey:c,style:{height:En(24),width:En(24)}});return u.jsxs("div",{className:"qr-code-modal-view",children:[u.jsxs(ie,{variant:"button_primary",color:"primary",className:"qr-code-modal-view__title",children:["Connect with ",a==null?void 0:a.connector.name]}),u.jsxs(ie,{variant:"body_small",color:"secondary",className:"qr-code-modal-view__title",children:["Connect wallet"," ",u.jsx(ie,{as:"span",weight:"medium",color:"primary",children:Gi(a==null?void 0:a.address,4,4)})," ","to switch active account."]}),u.jsx("div",{className:"qr-code-modal-view__container",children:u.jsx("div",{className:"qr-code-modal-view__wrapper",children:i?u.jsx(BR,{Icon:m,accentColor:f[p].accentColor,value:i,size:175,logoSize:40,walletKey:c}):u.jsx("div",{"data-testid":"no-qrcode"})})}),u.jsxs("div",{className:"button__container",children:[(a==null?void 0:a.connector.isWalletConnect)&&i&&u.jsxs(Jf,{textToCopy:i,children:[u.jsx(un,{size:"small",color:"text-tertiary",children:u.jsx(jR,{})}),"Copy QR URI"]}),o&&u.jsxs(Ma,{className:"button--open-app",onClick:()=>window.open(o),children:[u.jsx(un,{size:"xsmall",color:"text-tertiary",children:u.jsx(H2,{})}),"Open ",l," App"]})]})]})},RXe=({PendingSign:e,PendingConnection:t})=>{var n,r;const{selectedWalletConnector:i,showQrcodeModal:o,selectedWalletWithAction:s}=Te(),a=k.useMemo(()=>i&&(D0(i)||Tl(i))?e:t,[i]);return o?i!=null&&i.canConnectViaQrCode?u.jsx(TXe,{walletId:(r=(n=s==null?void 0:s.wallet)===null||n===void 0?void 0:n.id)!==null&&r!==void 0?r:""}):u.jsx(xXe,{}):u.jsx(a,{})},PXe=()=>u.jsx(Wu,{onClose:Xf(),children:u.jsx(RXe,{PendingSign:qQ,PendingConnection:SXe})}),OXe=()=>{var e;const{primaryWallet:t}=Te();return u.jsxs(ay,{dataTestId:"wallet-not-connected",icon:u.jsx(bi,{walletKey:(e=t==null?void 0:t.connector)===null||e===void 0?void 0:e.key}),title:`Switch wallet in ${t==null?void 0:t.connector.name}`,children:[u.jsxs(ie,{variant:"body_normal",color:"secondary",weight:"regular","data-testid":"content",children:["Your active wallet in"," ",u.jsx(ie,{as:"span",weight:"medium",color:"primary",children:t==null?void 0:t.connector.name})," ","is not linked. Please switch to wallet"," ",u.jsx(ie,{as:"span",weight:"medium",color:"primary",children:Gi(t==null?void 0:t.address,3,3)}),"."]}),u.jsx(Ul,{fullWidth:!0,text:"Or"}),u.jsx(W1,{isTextButton:!1,buttonClassName:"primary-not-connected__log-out-button"})]})},NXe=()=>u.jsx(Wu,{children:u.jsx(OXe,{})}),jXe=()=>{const e=_Xe(),t={awaiting_connection:PXe,detected_new_wallet:uXe,linking_new_wallet:vXe,pending_account_switch:gXe,pending_sign:qQ,primary_not_connected:NXe,unlink_wallet:wXe};if(e==="idle")return null;const n=t[e];return u.jsx(n,{})},BXe=({text:e,copykey:t})=>{const{isTurnkeyWalletWithoutAuthenticator:n}=Ns();return u.jsxs("div",{className:We("empty-wallet__container",{"empty-wallet__container--big":!n}),children:[u.jsx(un,{className:"empty-wallet__icon",size:"medium",children:u.jsx(dR,{})}),u.jsx("div",{className:We({"empty-wallet__text-container":!n}),children:u.jsx(ie,{variant:"body_small",color:"secondary",copykey:t,children:e})})]})},$Xe=()=>{const{t:e}=ut(),{secondaryWallets:t,user:n,authMode:r}=Te(),{availableWalletsContainerRef:i}=sc(),o=t.length===0;return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"dynamic-widget-wallets-header",children:u.jsx(ie,{weight:"medium",variant:"body_small",color:"secondary",className:"dynamic-widget-wallets-header__title",copykey:"dyn_widget.other_wallets",children:e("dyn_widget.other_wallets")})}),u.jsx("div",{ref:i,className:"dynamic-widget-wallets","data-testid":"dynamicWidgetWallets",children:u.jsx("div",{className:We("dynamic-widget-wallets__body",{"dynamic-widget-wallets__body--apply-height":!o}),children:o?u.jsx(BXe,{copykey:"dyn_widget.empty_wallets",text:e("dyn_widget.empty_wallets",{action:e(r==="connect-and-sign"?"dyn_widget.empty_wallets_action_link":"dyn_widget.empty_wallets_action_connect")})}):u.jsx("div",{className:"dynamic-widget-wallets__body__wallet-list",children:t.map((s,a)=>{var c;return u.jsx(zQ,{ens:(c=oP(s.address,n==null?void 0:n.verifiedCredentials,s.chain))===null||c===void 0?void 0:c.nameService,wallet:s},s.id)})})})})]})},MXe=()=>{var e;const{primaryWallet:t,handleLogOut:n,user:r}=Te(),i=r==null?void 0:r.verifiedCredentials.find(s=>s.walletName==="unknown"),o=(e=t==null?void 0:t.address)!==null&&e!==void 0?e:i==null?void 0:i.address;return u.jsxs("div",{className:"single-wallet-buttons",children:[o&&u.jsx(Qt,{dataTestId:"Copy address",expanded:!0,buttonPadding:"medium",typographyProps:{className:"single-wallet-buttons--center",variant:"button_primary"},onClick:()=>W2(o),feedback:u.jsxs("div",{className:"single-wallet-buttons__copied",children:[u.jsx(Ng,{})," Copied!"]}),children:"Copy address"}),u.jsx(Qt,{dataTestId:"Disconnect",expanded:!0,buttonPadding:"medium",typographyProps:{className:"single-wallet-buttons--center",variant:"button_primary"},onClick:n,children:"Disconnect"})]})},DXe=()=>{const{setSelectedWalletConnectorKey:e,user:t,authMode:n,multiWallet:r}=Te(),{setShowLinkNewWalletModal:i}=FQ(),o=M3(),s=()=>{i(!0),e(null)};return u.jsxs(u.Fragment,{children:[!r&&!o&&u.jsxs("div",{className:"dynamic-widget-index-view__email-container",children:[u.jsx(ie,{children:t==null?void 0:t.email}),u.jsx(MXe,{})]}),r&&u.jsxs(u.Fragment,{children:[u.jsx($Xe,{}),u.jsx(L3,{children:u.jsxs("div",{className:"dynamic-widget-index-view__footer",children:[u.jsxs(Qt,{buttonClassName:"dynamic-widget-footer__button",buttonVariant:"tertiary",buttonPadding:"none",onClick:s,typographyProps:{color:"secondary",variant:"button_tertiary"},startSlot:u.jsx(Hf,{}),children:[n==="connect-only"?"Connect":"Link"," a new wallet"]}),u.jsx(W1,{isTextButton:!0,buttonClassName:"dynamic-widget-footer__button"})]})})]})]})},LXe=()=>{var e,t;const{setDynamicWidgetView:n}=sc(),{projectSettings:r}=Te(),i=SJ([...(e=r==null?void 0:r.kyc)!==null&&e!==void 0?e:[],...(t=r==null?void 0:r.customFields)!==null&&t!==void 0?t:[]]);return u.jsxs(u.Fragment,{children:[u.jsx(aXe,{rootClassName:"profile-view"}),u.jsx(L3,{children:u.jsxs("div",{className:"profile-view__footer",children:[i.length>0&&u.jsx(Qt,{buttonClassName:"dynamic-widget-footer__button",buttonVariant:"tertiary",buttonPadding:"none",typographyProps:{color:"secondary",variant:"button_tertiary"},onClick:()=>n("edit-profile"),startSlot:u.jsx(DYe,{}),children:"Edit profile"}),u.jsx(W1,{isTextButton:!0,buttonClassName:We("dynamic-widget-footer__button",{"dynamic-widget-footer__button-align-right":!(i!=null&&i.length)})})]})})]})},UXe=({rootClassName:e})=>{const{setView:t}=dn(),{setShowAuthFlow:n,multiWallet:r,user:i}=Te(),{goToProfileView:o}=sc(),{updateUser:s}=OR({validationSchemaStripUnknown:!0}),a=k.useCallback(l=>ae(void 0,void 0,void 0,function*(){const{isEmailVerificationRequired:d,isSmsVerificationRequired:f}=yield s(Object.assign(Object.assign({},l),{metadata:Object.assign(Object.assign({},i==null?void 0:i.metadata),l.metadata)}));o(),(d||f)&&(n(!0,{ignoreIfIsEmbeddedWidget:!1,initializeWalletConnect:!1,performMultiWalletChecks:!1}),t(d?"verify-email":"verify-sms"))}),[o,n,t,s]),c=M3();return u.jsxs(u.Fragment,{children:[!r&&c&&u.jsx(ie,{weight:"regular",color:"secondary",variant:"body_normal",className:"dynamic-widget-edit-profile-view__profile-title",children:"My information"}),u.jsx(PY,{formClassName:e,onEditProfileSubmit:a,onEditProfileCancel:o})]})},FXe=()=>{const{goToInitialDynamicWidgetView:e}=sc();return u.jsx("div",{className:"send-balance-widget-view",children:u.jsx(ZJ,{onClickBack:e,onDone:e})})},WXe=()=>{var e;const{setDynamicWidgetView:t}=sc(),{userPasskeys:n,userPasskeysLoading:r}=ah(),{projectSettings:i}=Te(),{initPasskeyRecoveryProcess:o}=Id(),{t:s}=ut(),a=!!(!((e=i==null?void 0:i.sdk.embeddedWallets)===null||e===void 0)&&e.emailRecoveryEnabled),c=u.jsx(Vr,{type:"button",onClick:()=>t("wallet-settings"),"data-testid":"back-button",children:u.jsx(nc,{})});return u.jsxs("div",{className:"manage-passkeys-widget-view",children:[u.jsx(ji,{leading:c,children:u.jsx("div",{className:"send-balance-page-layout__header-content",children:u.jsx(ie,{variant:"title",color:"primary",copykey:"dyn_manage_passkeys.title",children:s("dyn_manage_passkeys.title")})})}),u.jsx(V3,{}),u.jsxs("div",{className:"manage-passkeys-widget-view__body",children:[u.jsx("div",{className:"manage-passkeys-widget-view__body__cards",children:r?u.jsx(Zc,{count:1,className:"manage-passkeys-widget-view__body__cards__skeleton"}):n.map(l=>u.jsx(FBe,{passkey:l},l.id))}),a&&u.jsx(Qt,{buttonPadding:"large",buttonClassName:"manage-passkeys-widget-view__body__recovery-button",onClick:()=>o("passkey"),showInternalLoading:!1,startSlot:u.jsx(Hf,{}),copykey:"dyn_manage_passkeys.recovery_button",children:s("dyn_manage_passkeys.recovery_button")})]})]})};var NL,zXe=["title","titleId"];function $4(){return $4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$4.apply(this,arguments)}function qXe(e,t){if(e==null)return{};var n=VXe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VXe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var HXe=function(t){var n=t.title,r=t.titleId,i=qXe(t,zXe);return k.createElement("svg",$4({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,NL||(NL=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.834 4.667a2.333 2.333 0 0 0-2.333-2.334H7a4.668 4.668 0 0 0-4.592 3.83 4.654 4.654 0 0 1 3.425-1.496h14ZM21 7a4.667 4.667 0 0 1 4.667 4.667V21A4.667 4.667 0 0 1 21 25.667H7A4.667 4.667 0 0 1 2.333 21v-9.333A4.667 4.667 0 0 1 7 7h14Zm-4.915 3.792a3.649 3.649 0 1 1 0 7.297 3.649 3.649 0 0 1 0-7.297Zm0 1.824a1.824 1.824 0 1 1 0 3.649 1.824 1.824 0 0 1 0-3.649Zm-3.16 5.115a4.565 4.565 0 0 1-.714-.924l-4.336 4.336 1.29 1.29 1.254-1.253 1.279 1.278 1.29-1.29-1.279-1.278 1.721-1.722a4.598 4.598 0 0 1-.505-.437Z",fill:"#383C48",fillOpacity:.4})))},jL,KXe=["title","titleId"];function M4(){return M4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M4.apply(this,arguments)}function GXe(e,t){if(e==null)return{};var n=ZXe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZXe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var JXe=function(t){var n=t.title,r=t.titleId,i=GXe(t,KXe);return k.createElement("svg",M4({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?k.createElement("title",{id:r},n):null,jL||(jL=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 2.333a2.333 2.333 0 0 1 2.334 2.334h-14A4.654 4.654 0 0 0 2.41 6.164 4.668 4.668 0 0 1 7 2.334h10.5Zm8.167 9.334A4.667 4.667 0 0 0 21 7H7a4.667 4.667 0 0 0-4.667 4.667V21A4.667 4.667 0 0 0 7 25.667h14A4.667 4.667 0 0 0 25.667 21v-9.333Zm-16.8.933A.933.933 0 1 1 7 12.6a.933.933 0 0 1 1.867 0Zm2.426-.933a.933.933 0 1 0 0 1.866h8.214a.933.933 0 1 0 0-1.866h-8.214Zm-2.426 4.666a.933.933 0 1 1-1.867 0 .933.933 0 0 1 1.867 0Zm2.426-.933a.933.933 0 1 0 0 1.867h8.214a.933.933 0 0 0 0-1.867h-8.214Zm-2.426 4.667a.933.933 0 1 1-1.867 0 .933.933 0 0 1 1.867 0Zm2.24-.934a.933.933 0 0 0 0 1.867h8.213a.933.933 0 1 0 0-1.867h-8.213Z",fill:"#383C48",fillOpacity:.4})))};const YXe=()=>{var e,t,n,r,i,o,s,a;const{projectSettings:c,primaryWallet:l,user:d}=Te(),{goToInitialDynamicWidgetView:f,setDynamicWidgetView:p}=sc(),{addEmbeddedWalletRecoveryEmail:m}=zYe(),{createPassword:g}=Z0(),{initExportProcess:y}=WYe(),{isTurnkeyWallet:v,isTurnkeyWalletWithoutAuthenticator:w,hasRecoveryEmail:_}=Ns(),{theme:E}=Lu(),{t:C}=ut(),{initPasskeyRecoveryProcess:T,shouldInitRecovery:A}=Id(),[S,O]=k.useState(!1),D=(t=(e=d==null?void 0:d.verifiedCredentials)===null||e===void 0?void 0:e.find(({walletName:j})=>j==="coinbasempc"))===null||t===void 0?void 0:t.walletProperties,K=ih(l==null?void 0:l.connector),H=!!(D!=null&&D.claimed),X=(r=(n=d==null?void 0:d.verifiedCredentials)===null||n===void 0?void 0:n.find(({walletName:j})=>j==null?void 0:j.startsWith("turnkey")))===null||r===void 0?void 0:r.walletProperties,U=X==null?void 0:X.turnkeyHDWalletId,I=!!(!((a=(s=(o=(i=c==null?void 0:c.sdk)===null||i===void 0?void 0:i.embeddedWallets)===null||o===void 0?void 0:o.supportedSecurityMethods)===null||s===void 0?void 0:s.passkey)===null||a===void 0)&&a.isEnabled),x=v&&!w,P=()=>ae(void 0,void 0,void 0,function*(){if(x)return p("manage-passkeys");O(!0);try{yield T("passkey")}finally{O(!1)}}),N=j=>ae(void 0,void 0,void 0,function*(){return(yield A())&&(yield T(void 0,"reveal")),y(j)}),$=()=>x?u.jsx(Ng,{className:"wallet-settings-view__body__section__button__icon-secondary--success"}):S?u.jsx(Kf,{}):u.jsx(Hf,{}),L=()=>_?u.jsx(Ng,{className:"wallet-settings-view__body__section__button__icon-secondary--success"}):S?u.jsx(Kf,{}):u.jsx(Hf,{"data-testid":"email-add-icon"}),z=u.jsx(Vr,{type:"button",onClick:f,"data-testid":"back-button",children:u.jsx(nc,{})}),q=I&&v||K;return u.jsxs("div",{className:"wallet-settings-view",children:[u.jsx(ji,{leading:z,children:u.jsx("div",{className:"wallet-settings-view__header",children:u.jsx(ie,{variant:"title",color:"primary",copykey:"dyn_wallet_settings.title",children:C("dyn_wallet_settings.title")})})}),u.jsxs("div",{className:"wallet-settings-view__body",children:[q&&u.jsxs("div",{className:"wallet-settings-view__body__section",children:[u.jsxs("div",{className:We("wallet-settings-view__body__section__title",{"wallet-settings-view__body__section__title__info-icon":!x}),children:[C("dyn_wallet_settings.signing_section.title"),!x&&u.jsx(un,{size:"small",children:u.jsx(O8,{className:"wallet-settings-view__body__section__title__info-icon"})})]}),I&&v&&u.jsx(Qt,{dataTestId:"manage-passkeys-button",onClick:()=>P(),buttonClassName:We("wallet-settings-view__body__section__button",{"wallet-settings-view__body__section__button__badge":!x}),startSlot:u.jsxs("div",{className:"wallet-settings-view__body__section__button__start-slot",children:[u.jsx(X3,{className:"wallet-settings-view__body__section__button__icon",defaultIcon:u.jsx($R,{"data-testid":"default-icon"})}),u.jsx(ie,{color:"primary",weight:"medium",copykey:"dyn_wallet_settings.signing_section.passkey_button",children:C("dyn_wallet_settings.signing_section.passkey_button")}),!x&&u.jsx(hd,{text:C("dyn_wallet_settings.tags.recommended"),copykey:"dyn_wallet_settings.tags.recommended",variant:"secondary"})]}),endSlot:$(),disabled:S,showInternalLoading:!1}),K&&u.jsx(Qt,{dataTestId:"manage-password-button",onClick:()=>g(!H),buttonClassName:"wallet-settings-view__body__section__button",startSlot:u.jsxs("div",{className:"wallet-settings-view__body__section__button__start-slot",children:[u.jsx(JY,{className:"wallet-settings-view__body__section__button__icon"}),u.jsx(ie,{color:"primary",weight:"medium",copykey:"dyn_wallet_settings.signing_section.passkey_button",children:C("dyn_wallet_settings.signing_section.password_button")})]}),endSlot:H?u.jsx(Ng,{className:"wallet-settings-view__body__section__button__icon-secondary--success"}):void 0,showInternalLoading:!1})]}),v&&!_&&u.jsxs("div",{className:"wallet-settings-view__body__section",children:[u.jsxs("div",{className:We("wallet-settings-view__body__section__title","wallet-settings-view__body__section__title__info-icon"),children:[C("dyn_wallet_settings.identity_section.title"),u.jsx(un,{size:"small",children:u.jsx(O8,{className:"wallet-settings-view__body__section__title__info-icon","data-testid":"email-info-icon-title"})})]}),u.jsx(Qt,{dataTestId:"manage-email-recovery-button",onClick:m,buttonClassName:We("wallet-settings-view__body__section__button","wallet-settings-view__body__section__button__badge"),startSlot:u.jsxs("div",{className:"wallet-settings-view__body__section__button__start-slot",children:[u.jsx(Z3,{className:"wallet-settings-view__body__section__button__icon email"}),u.jsx(ie,{color:"primary",weight:"medium",copykey:"dyn_wallet_settings.identity_section.add_email_button",children:C("dyn_wallet_settings.identity_section.add_email_button")}),u.jsx(hd,{text:C("dyn_wallet_settings.tags.recommended"),copykey:"dyn_wallet_settings.tags.recommended",variant:"secondary"})]}),endSlot:L(),disabled:S||_,showInternalLoading:!1})]}),u.jsxs("div",{className:"wallet-settings-view__body__section",children:[u.jsx("div",{className:"wallet-settings-view__body__section__title",children:C("dyn_wallet_settings.export_section.title")}),u.jsx(Qt,{dataTestId:"embedded-reveal-account-button",onClick:()=>N(),buttonClassName:"wallet-settings-view__body__section__button",startSlot:u.jsxs("div",{className:"wallet-settings-view__body__section__button__start-slot",children:[u.jsx(HXe,{className:`wallet-settings-view__body__section__button__icon${E.theme.name==="dark"?"__stroke":""}`}),u.jsx(ie,{color:"primary",weight:"medium",copykey:"dyn_wallet_settings.export_section.private_key_button",children:C("dyn_wallet_settings.export_section.private_key_button")})]}),endSlot:u.jsx(nc,{className:"wallet-settings-view__body__section__button__icon-secondary--rotate"}),showInternalLoading:!1}),U&&u.jsx(Qt,{dataTestId:"embedded-reveal-button",onClick:()=>N(!0),buttonClassName:"wallet-settings-view__body__section__button",startSlot:u.jsxs("div",{className:"wallet-settings-view__body__section__button__start-slot",children:[u.jsx(JXe,{className:`wallet-settings-view__body__section__button__icon${E.theme.name==="dark"?"__stroke":""}`}),u.jsx(ie,{color:"primary",weight:"medium",copykey:"dyn_wallet_settings.export_section.srp_button",children:C("dyn_wallet_settings.export_section.srp_button")})]}),endSlot:u.jsx(nc,{className:"wallet-settings-view__body__section__button__icon-secondary--rotate"}),showInternalLoading:!1})]})]})]})},BL={"edit-profile":UXe,"manage-passkeys":WXe,profile:LXe,"send-balance":FXe,"wallet-settings":YXe,wallets:DXe},XXe=()=>{const{dynamicWidgetView:e}=sc(),t=BL[e]||BL.wallets;return u.jsx(t,{})},QXe=["wallet-settings"],eQe=["manage-passkeys"],tQe=["send-balance"],nQe=[...eQe,...tQe,...QXe],rQe=({variant:e,className:t,style:n})=>{const{dynamicWidgetView:r}=sc(),i=!nQe.includes(r);return u.jsx(JG,{children:u.jsxs("div",{className:We(t,"dynamic-user-profile-layout"),style:n,children:[i&&u.jsx(dDe,{variant:e}),u.jsx(XXe,{}),u.jsx(jXe,{})]})})},iQe=({background:e="none",className:t,style:n})=>{if(!cS())return null;const i=u.jsx(rQe,{className:t,style:n,variant:"modal"});return u.jsx(dh,{className:"embedded-widget",children:u.jsx(v3,{children:u.jsx(RR,{children:e==="none"?i:u.jsx(Nu,{border:e==="with-border",sharpBottomRadiusOnMobile:!1,children:i})})})})},oQe=({background:e="none",className:t,style:n})=>u.jsxs(u.Fragment,{children:[u.jsx(cXe,{background:e,className:t,style:n}),u.jsx(iQe,{background:e,className:t,style:n})]});function sQe({children:e,settings:t,apiKeyEnvironment:n}){return u.jsx(RYe,{settings:zue({initialAuthenticationMode:"connect-only",environmentId:n==="production"?"3fc6c24e-6a8e-45f8-aae1-a87d7a027e12":"cd53135a-b32b-4704-bfca-324b665e9329",cssOverrides:".powered-by-dynamic { display: none !important; }"},t),children:e})}typeof window<"u"&&(window.global=globalThis,Object.assign(window,{Buffer:Se.Buffer}));function aQe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function sr(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}typeof process<"u"&&process.versions!=null&&process.versions.node!=null;var $L={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof cr<"u"&&cr,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof cr<"u"&&cr||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(x){return x&&DataView.prototype.isPrototypeOf(x)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(x){return x&&d.indexOf(Object.prototype.toString.call(x))>-1};function p(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(x)||x==="")throw new TypeError('Invalid character in header field name: "'+x+'"');return x.toLowerCase()}function m(x){return typeof x!="string"&&(x=String(x)),x}function g(x){var P={next:function(){var N=x.shift();return{done:N===void 0,value:N}}};return c.iterable&&(P[Symbol.iterator]=function(){return P}),P}function y(x){this.map={},x instanceof y?x.forEach(function(P,N){this.append(N,P)},this):Array.isArray(x)?x.forEach(function(P){if(P.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+P.length);this.append(P[0],P[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(P){this.append(P,x[P])},this)}y.prototype.append=function(x,P){x=p(x),P=m(P);var N=this.map[x];this.map[x]=N?N+", "+P:P},y.prototype.delete=function(x){delete this.map[p(x)]},y.prototype.get=function(x){return x=p(x),this.has(x)?this.map[x]:null},y.prototype.has=function(x){return this.map.hasOwnProperty(p(x))},y.prototype.set=function(x,P){this.map[p(x)]=m(P)},y.prototype.forEach=function(x,P){for(var N in this.map)this.map.hasOwnProperty(N)&&x.call(P,this.map[N],N,this)},y.prototype.keys=function(){var x=[];return this.forEach(function(P,N){x.push(N)}),g(x)},y.prototype.values=function(){var x=[];return this.forEach(function(P){x.push(P)}),g(x)},y.prototype.entries=function(){var x=[];return this.forEach(function(P,N){x.push([N,P])}),g(x)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function v(x){if(!x._noBody){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}}function w(x){return new Promise(function(P,N){x.onload=function(){P(x.result)},x.onerror=function(){N(x.error)}})}function _(x){var P=new FileReader,N=w(P);return P.readAsArrayBuffer(x),N}function E(x){var P=new FileReader,N=w(P),$=/charset=([A-Za-z0-9_-]+)/.exec(x.type),L=$?$[1]:"utf-8";return P.readAsText(x,L),N}function C(x){for(var P=new Uint8Array(x),N=new Array(P.length),$=0;$<P.length;$++)N[$]=String.fromCharCode(P[$]);return N.join("")}function T(x){if(x.slice)return x.slice(0);var P=new Uint8Array(x.byteLength);return P.set(new Uint8Array(x)),P.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(x){this.bodyUsed=this.bodyUsed,this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:c.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:c.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():c.arrayBuffer&&c.blob&&l(x)?(this._bodyArrayBuffer=T(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||f(x))?this._bodyArrayBuffer=T(x):this._bodyText=x=Object.prototype.toString.call(x):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var x=v(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var x=v(this);return x||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(_);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var x=v(this);if(x)return x;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(K)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function O(x){var P=x.toUpperCase();return S.indexOf(P)>-1?P:x}function D(x,P){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');P=P||{};var N=P.body;if(x instanceof D){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,P.headers||(this.headers=new y(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!N&&x._bodyInit!=null&&(N=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new y(P.headers)),this.method=O(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal||function(){if("AbortController"in a){var z=new AbortController;return z.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(P.cache==="no-store"||P.cache==="no-cache")){var $=/([?&])_=[^&]*/;if($.test(this.url))this.url=this.url.replace($,"$1_="+new Date().getTime());else{var L=/\?/;this.url+=(L.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function K(x){var P=new FormData;return x.trim().split("&").forEach(function(N){if(N){var $=N.split("="),L=$.shift().replace(/\+/g," "),z=$.join("=").replace(/\+/g," ");P.append(decodeURIComponent(L),decodeURIComponent(z))}}),P}function H(x){var P=new y,N=x.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function($){return $.indexOf(`
`)===0?$.substr(1,$.length):$}).forEach(function($){var L=$.split(":"),z=L.shift().trim();if(z){var q=L.join(":").trim();try{P.append(z,q)}catch(j){console.warn("Response "+j.message)}}}),P}A.call(D.prototype);function X(x,P){if(!(this instanceof X))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=P.statusText===void 0?"":""+P.statusText,this.headers=new y(P.headers),this.url=P.url||"",this._initBody(x)}A.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},X.error=function(){var x=new X(null,{status:200,statusText:""});return x.ok=!1,x.status=0,x.type="error",x};var U=[301,302,303,307,308];X.redirect=function(x,P){if(U.indexOf(P)===-1)throw new RangeError("Invalid status code");return new X(null,{status:P,headers:{location:x}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(P,N){this.message=P,this.name=N;var $=Error(P);this.stack=$.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function I(x,P){return new Promise(function(N,$){var L=new D(x,P);if(L.signal&&L.signal.aborted)return $(new s.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function q(){z.abort()}z.onload=function(){var re={statusText:z.statusText,headers:H(z.getAllResponseHeaders()||"")};L.url.indexOf("file://")===0&&(z.status<200||z.status>599)?re.status=200:re.status=z.status,re.url="responseURL"in z?z.responseURL:re.headers.get("X-Request-URL");var de="response"in z?z.response:z.responseText;setTimeout(function(){N(new X(de,re))},0)},z.onerror=function(){setTimeout(function(){$(new TypeError("Network request failed"))},0)},z.ontimeout=function(){setTimeout(function(){$(new TypeError("Network request timed out"))},0)},z.onabort=function(){setTimeout(function(){$(new s.DOMException("Aborted","AbortError"))},0)};function j(re){try{return re===""&&a.location.href?a.location.href:re}catch{return re}}if(z.open(L.method,j(L.url),!0),L.credentials==="include"?z.withCredentials=!0:L.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&(c.blob?z.responseType="blob":c.arrayBuffer&&(z.responseType="arraybuffer")),P&&typeof P.headers=="object"&&!(P.headers instanceof y||a.Headers&&P.headers instanceof a.Headers)){var W=[];Object.getOwnPropertyNames(P.headers).forEach(function(re){W.push(p(re)),z.setRequestHeader(re,m(P.headers[re]))}),L.headers.forEach(function(re,de){W.indexOf(de)===-1&&z.setRequestHeader(de,re)})}else L.headers.forEach(function(re,de){z.setRequestHeader(de,re)});L.signal&&(L.signal.addEventListener("abort",q),z.onreadystatechange=function(){z.readyState===4&&L.signal.removeEventListener("abort",q)}),z.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return I.polyfill=!0,a.fetch||(a.fetch=I,a.Headers=y,a.Request=D,a.Response=X),s.Headers=y,s.Request=D,s.Response=X,s.fetch=I,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})($L,$L.exports);let Qf=class extends Error{constructor(t){const{message:n,cause:r,activityId:i,activityStatus:o,activityType:s}=t;super(n),this.name="TurnkeyActivityError",this.activityId=i??null,this.activityStatus=o??null,this.activityType=s??null,this.cause=r??null}};async function cQe(e){var o;const{client:t,organizationId:n,signWith:r}=e;let{ethereumAddress:i}=e;if(!r)throw new Qf({message:"Missing signWith parameter"});if(Hi(r))i=r;else if(!i&&(i=(o=(await t.getPrivateKey({privateKeyId:r,organizationId:n})).privateKey.addresses.find(a=>a.format==="ADDRESS_FORMAT_ETHEREUM"))==null?void 0:o.address,typeof i!="string"||!i))throw new Qf({message:`Unable to find Ethereum address for key ${r} under organization ${n}`});return JT({address:i,signMessage:function({message:s}){return lQe(t,s,n,r)},signTransaction:function(s,a){const c=a!=null&&a.serializer?a.serializer:Kk;return dQe(t,s,c,n,r)},signTypedData:function(s){return uQe(t,s,n,r)}})}async function lQe(e,t,n,r){const i=EA(t);return`${await VQ(e,i,n,r)}`}async function dQe(e,t,n,r,i){const s=n(t).replace(/^0x/,"");return await fQe(e,s,r,i)}async function uQe(e,t,n,r){const i=hV(t);return await VQ(e,i,n,r)}async function fQe(e,t,n,r){let i;try{i=await hQe(e,t,n,r)}catch(o){throw o instanceof Qf?o:new Qf({message:`Failed to sign transaction: ${o.message}`,cause:o})}return`0x${i}`}async function hQe(e,t,n,r){var c,l;const{activity:i}=await e.signTransaction({type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2",organizationId:n,parameters:{signWith:r,type:"TRANSACTION_TYPE_ETHEREUM",unsignedTransaction:t},timestampMs:String(Date.now())}),{id:o,status:s,type:a}=i;if(i.status==="ACTIVITY_STATUS_COMPLETED")return D4((l=(c=i==null?void 0:i.result)==null?void 0:c.signTransactionResult)==null?void 0:l.signedTransaction);throw new Qf({message:`Invalid activity status: ${i.status}`,activityId:o,activityStatus:s,activityType:a})}async function VQ(e,t,n,r){let i;try{i=await pQe(e,t,n,r)}catch(o){throw o instanceof Qf?o:new Qf({message:`Failed to sign: ${o.message}`,cause:o})}return i}async function pQe(e,t,n,r){var c;const{activity:i}=await e.signRawPayload({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",organizationId:n,parameters:{signWith:r,payload:t,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NO_OP"},timestampMs:String(Date.now())}),{id:o,status:s,type:a}=i;if(i.status==="ACTIVITY_STATUS_COMPLETED"){let l=D4((c=i==null?void 0:i.result)==null?void 0:c.signRawPayloadResult),d=MV({r:`0x${l.r}`,s:`0x${l.s}`,v:l.v==="00"?27n:28n});return D4(d)}throw new Qf({message:`Invalid activity status: ${i.status}`,activityId:o,activityStatus:s,activityType:a})}function D4(e){if(e==null)throw new Error(`Got unexpected ${JSON.stringify(e)}`);return e}const mQe="X-Stamp";var Pi;(function(e){e.PublicKeyReady="PUBLIC_KEY_READY",e.InjectCredentialBundle="INJECT_CREDENTIAL_BUNDLE",e.InjectKeyExportBundle="INJECT_KEY_EXPORT_BUNDLE",e.InjectWalletExportBundle="INJECT_WALLET_EXPORT_BUNDLE",e.InjectImportBundle="INJECT_IMPORT_BUNDLE",e.ExtractWalletEncryptedBundle="EXTRACT_WALLET_ENCRYPTED_BUNDLE",e.ExtractKeyEncryptedBundle="EXTRACT_KEY_ENCRYPTED_BUNDLE",e.ApplySettings="APPLY_SETTINGS",e.BundleInjected="BUNDLE_INJECTED",e.EncryptedBundleExtracted="ENCRYPTED_BUNDLE_EXTRACTED",e.SettingsApplied="SETTINGS_APPLIED",e.StampRequest="STAMP_REQUEST",e.Stamp="STAMP",e.Error="ERROR"})(Pi||(Pi={}));var ek;(function(e){e.Hexadecimal="HEXADECIMAL",e.Solana="SOLANA"})(ek||(ek={}));class lS{constructor(t){if(typeof window>"u")throw new Error("Cannot initialize iframe in non-browser environment");if(!t.iframeContainer)throw new Error("Iframe container cannot be found");if(this.container=t.iframeContainer,this.container.querySelector(`#${t.iframeElementId}`))throw new Error(`Iframe element with ID ${t.iframeElementId} already exists`);let n=window.document.createElement("iframe");n.setAttribute("sandbox","allow-scripts allow-same-origin"),n.id=t.iframeElementId,n.src=t.iframeUrl,this.iframe=n;const r=new URL(t.iframeUrl);this.iframeOrigin=r.origin,this.iframePublicKey=null}async init(){return this.container.appendChild(this.iframe),new Promise((t,n)=>{window.addEventListener("message",r=>{var i;r.origin===this.iframeOrigin&&((i=r.data)==null?void 0:i.type)===Pi.PublicKeyReady&&(this.iframePublicKey=r.data.value,t(r.data.value))},!1)})}clear(){this.iframe.remove()}publicKey(){return this.iframePublicKey}async injectCredentialBundle(t){return new Promise((n,r)=>{var i;(i=this.iframe.contentWindow)==null||i.postMessage({type:Pi.InjectCredentialBundle,value:t},"*"),window.addEventListener("message",o=>{var s,a;o.origin===this.iframeOrigin&&(((s=o.data)==null?void 0:s.type)===Pi.BundleInjected&&n(o.data.value),((a=o.data)==null?void 0:a.type)===Pi.Error&&r(o.data.value))},!1)})}async injectKeyExportBundle(t,n,r){var i;return(i=this.iframe.contentWindow)==null||i.postMessage({type:Pi.InjectKeyExportBundle,value:t,keyFormat:r,organizationId:n},"*"),new Promise((o,s)=>{window.addEventListener("message",a=>{var c,l;a.origin===this.iframeOrigin&&(((c=a.data)==null?void 0:c.type)===Pi.BundleInjected&&o(a.data.value),((l=a.data)==null?void 0:l.type)===Pi.Error&&s(a.data.value))},!1)})}async injectWalletExportBundle(t,n){var r;return(r=this.iframe.contentWindow)==null||r.postMessage({type:Pi.InjectWalletExportBundle,value:t,organizationId:n},"*"),new Promise((i,o)=>{window.addEventListener("message",s=>{var a,c;s.origin===this.iframeOrigin&&(((a=s.data)==null?void 0:a.type)===Pi.BundleInjected&&i(s.data.value),((c=s.data)==null?void 0:c.type)===Pi.Error&&o(s.data.value))},!1)})}async injectImportBundle(t,n,r){var i;return(i=this.iframe.contentWindow)==null||i.postMessage({type:Pi.InjectImportBundle,value:t,organizationId:n,userId:r},"*"),new Promise((o,s)=>{window.addEventListener("message",a=>{var c,l;a.origin===this.iframeOrigin&&(((c=a.data)==null?void 0:c.type)===Pi.BundleInjected&&o(a.data.value),((l=a.data)==null?void 0:l.type)===Pi.Error&&s(a.data.value))},!1)})}async extractWalletEncryptedBundle(){var t;return(t=this.iframe.contentWindow)==null||t.postMessage({type:Pi.ExtractWalletEncryptedBundle},"*"),new Promise((n,r)=>{window.addEventListener("message",i=>{var o,s;i.origin===this.iframeOrigin&&(((o=i.data)==null?void 0:o.type)===Pi.EncryptedBundleExtracted&&n(i.data.value),((s=i.data)==null?void 0:s.type)===Pi.Error&&r(i.data.value))},!1)})}async extractKeyEncryptedBundle(t){var n;return(n=this.iframe.contentWindow)==null||n.postMessage({type:Pi.ExtractKeyEncryptedBundle,keyFormat:t},"*"),new Promise((r,i)=>{window.addEventListener("message",o=>{var s,a;o.origin===this.iframeOrigin&&(((s=o.data)==null?void 0:s.type)===Pi.EncryptedBundleExtracted&&r(o.data.value),((a=o.data)==null?void 0:a.type)===Pi.Error&&i(o.data.value))},!1)})}async applySettings(t){var r;const n=JSON.stringify(t);return(r=this.iframe.contentWindow)==null||r.postMessage({type:Pi.ApplySettings,value:n},"*"),new Promise((i,o)=>{window.addEventListener("message",s=>{var a,c;s.origin===this.iframeOrigin&&(((a=s.data)==null?void 0:a.type)===Pi.SettingsApplied&&i(s.data.value),((c=s.data)==null?void 0:c.type)===Pi.Error&&o(s.data.value))},!1)})}async stamp(t){var r;if(this.iframePublicKey===null)throw new Error("null iframe public key. Have you called/awaited .init()?");const n=this.iframeOrigin;return(r=this.iframe.contentWindow)==null||r.postMessage({type:Pi.StampRequest,value:t},"*"),new Promise(function(i,o){window.addEventListener("message",s=>{var a,c;s.origin===n&&(((a=s.data)==null?void 0:a.type)===Pi.Stamp&&i({stampHeaderName:mQe,stampHeaderValue:s.data.value}),((c=s.data)==null?void 0:c.type)===Pi.Error&&o(s.data.value))},!1)})}}function gQe(e){const t=new Uint8Array(e);let n="";for(const o of t)n+=String.fromCharCode(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}const ap="copy",ng="convert";function L4(e,t,n){if(t===ap)return n;if(t===ng)return e(n);if(t instanceof Array)return n.map(r=>L4(e,t[0],r));if(t instanceof Object){const r={};for(const[i,o]of Object.entries(t)){if(o.derive){const s=o.derive(n);s!==void 0&&(n[i]=s)}if(!(i in n)){if(o.required)throw new Error(`Missing key: ${i}`);continue}if(n[i]==null){r[i]=null;continue}r[i]=L4(e,o.schema,n[i])}return r}}function yQe(e,t){return{required:!0,schema:e,derive:t}}function lf(e){return{required:!0,schema:e}}function Lx(e){return{required:!1,schema:e}}const vQe={appid:Lx(ap),appidExclude:Lx(ap),credProps:Lx(ap)},bQe={type:lf(ap),id:lf(ap),rawId:lf(ng),authenticatorAttachment:Lx(ap),response:lf({clientDataJSON:lf(ng),authenticatorData:lf(ng),signature:lf(ng),userHandle:lf(ng)}),clientExtensionResults:yQe(vQe,e=>e.getClientExtensionResults())};function wQe(e){return L4(gQe,bQe,e)}async function _Qe(e){const t=await navigator.credentials.get(e);return t.toJSON=()=>wQe(t),t}const xQe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];function kQe(e){return new SQe}let SQe=class{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!ex||Hy>=8e3)&&(ex=new ArrayBuffer(8e3),Hy=0),this._byte=new Uint8Array(ex,Hy,80),this._word=new Int32Array(ex,Hy,20),Hy+=80}update(t){if(typeof t=="string")return this._utf8(t);if(t==null)throw new TypeError("Invalid type: "+typeof t);const n=t.byteOffset,r=t.byteLength;let i=r/64|0,o=0;if(i&&!(n&3)&&!(this._size%64)){const a=new Int32Array(t.buffer,n,i*16);for(;i--;)this._int32(a,o>>2),o+=64;this._size+=o}if(t.BYTES_PER_ELEMENT!==1&&t.buffer){const a=new Uint8Array(t.buffer,n+o,r-o);return this._uint8(a)}return o===r?this:this._uint8(t,o)}_uint8(t,n){const{_byte:r,_word:i}=this,o=t.length;for(n=n|0;n<o;){const s=this._size%64;let a=s;for(;n<o&&a<64;)r[a++]=t[n++];a>=64&&this._int32(i),this._size+=a-s}return this}_utf8(t){const{_byte:n,_word:r}=this,i=t.length;let o=this._sp;for(let s=0;s<i;){const a=this._size%64;let c=a;for(;s<i&&c<64;){let l=t.charCodeAt(s++)|0;l<128?n[c++]=l:l<2048?(n[c++]=192|l>>>6,n[c++]=128|l&63):l<55296||l>57343?(n[c++]=224|l>>>12,n[c++]=128|l>>>6&63,n[c++]=128|l&63):o?(l=((o&1023)<<10)+(l&1023)+65536,n[c++]=240|l>>>18,n[c++]=128|l>>>12&63,n[c++]=128|l>>>6&63,n[c++]=128|l&63,o=0):o=l}c>=64&&(this._int32(r),r[0]=r[16]),this._size+=c-a}return this._sp=o,this}_int32(t,n){let{A:r,B:i,C:o,D:s,E:a,F:c,G:l,H:d}=this,f=0;for(n=n|0;f<16;)Oh[f++]=cl(t[n++]);for(f=16;f<64;f++)Oh[f]=OQe(Oh[f-2])+Oh[f-7]+PQe(Oh[f-15])+Oh[f-16]|0;for(f=0;f<64;f++){const p=d+RQe(a)+IQe(a,c,l)+xQe[f]+Oh[f]|0,m=TQe(r)+AQe(r,i,o)|0;d=l,l=c,c=a,a=s+p|0,s=o,o=i,i=r,r=p+m|0}this.A=r+this.A|0,this.B=i+this.B|0,this.C=o+this.C|0,this.D=s+this.D|0,this.E=a+this.E|0,this.F=c+this.F|0,this.G=l+this.G|0,this.H=d+this.H|0}digest(t){const{_byte:n,_word:r}=this;let i=this._size%64|0;for(n[i++]=128;i&3;)n[i++]=0;if(i>>=2,i>14){for(;i<16;)r[i++]=0;i=0,this._int32(r)}for(;i<16;)r[i++]=0;const o=this._size*8,s=(o&4294967295)>>>0,a=(o-s)/4294967296;return a&&(r[14]=cl(a)),s&&(r[15]=cl(s)),this._int32(r),t==="hex"?this._hex():this._bin()}_hex(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return df(t)+df(n)+df(r)+df(i)+df(o)+df(s)+df(a)+df(c)}_bin(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:c,_byte:l,_word:d}=this;return d[0]=cl(t),d[1]=cl(n),d[2]=cl(r),d[3]=cl(i),d[4]=cl(o),d[5]=cl(s),d[6]=cl(a),d[7]=cl(c),l.slice(0,32)}};const Oh=new Int32Array(64);let ex,Hy=0;const df=e=>(e+4294967296).toString(16).substr(-8),EQe=e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255,CQe=e=>e,cl=NQe()?CQe:EQe,IQe=(e,t,n)=>n^e&(t^n),AQe=(e,t,n)=>e&t|n&(e|t),TQe=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),RQe=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),PQe=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,OQe=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10;function NQe(){return new Uint8Array(new Uint16Array([65279]).buffer)[0]===254}const jQe="X-Stamp-Webauthn",BQe=5*60*1e3,$Qe="preferred";class aP{constructor(t){this.rpId=t.rpId,this.timeout=t.timeout||BQe,this.userVerification=t.userVerification||$Qe,this.allowCredentials=t.allowCredentials||[]}async stamp(t){const n=MQe(t),r={publicKey:{rpId:this.rpId,challenge:n,allowCredentials:this.allowCredentials,timeout:this.timeout,userVerification:this.userVerification}},o=(await _Qe(r)).toJSON(),s={authenticatorData:o.response.authenticatorData,clientDataJson:o.response.clientDataJSON,credentialId:o.id,signature:o.response.signature};return{stampHeaderName:jQe,stampHeaderValue:JSON.stringify(s)}}}function MQe(e){const t=kQe().update(e).digest("hex");return new TextEncoder().encode(t)}typeof process<"u"&&process.versions!=null&&process.versions.node!=null;var U4={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof cr<"u"&&cr,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof cr<"u"&&cr||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(x){return x&&DataView.prototype.isPrototypeOf(x)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(x){return x&&d.indexOf(Object.prototype.toString.call(x))>-1};function p(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(x)||x==="")throw new TypeError('Invalid character in header field name: "'+x+'"');return x.toLowerCase()}function m(x){return typeof x!="string"&&(x=String(x)),x}function g(x){var P={next:function(){var N=x.shift();return{done:N===void 0,value:N}}};return c.iterable&&(P[Symbol.iterator]=function(){return P}),P}function y(x){this.map={},x instanceof y?x.forEach(function(P,N){this.append(N,P)},this):Array.isArray(x)?x.forEach(function(P){if(P.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+P.length);this.append(P[0],P[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(P){this.append(P,x[P])},this)}y.prototype.append=function(x,P){x=p(x),P=m(P);var N=this.map[x];this.map[x]=N?N+", "+P:P},y.prototype.delete=function(x){delete this.map[p(x)]},y.prototype.get=function(x){return x=p(x),this.has(x)?this.map[x]:null},y.prototype.has=function(x){return this.map.hasOwnProperty(p(x))},y.prototype.set=function(x,P){this.map[p(x)]=m(P)},y.prototype.forEach=function(x,P){for(var N in this.map)this.map.hasOwnProperty(N)&&x.call(P,this.map[N],N,this)},y.prototype.keys=function(){var x=[];return this.forEach(function(P,N){x.push(N)}),g(x)},y.prototype.values=function(){var x=[];return this.forEach(function(P){x.push(P)}),g(x)},y.prototype.entries=function(){var x=[];return this.forEach(function(P,N){x.push([N,P])}),g(x)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function v(x){if(!x._noBody){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}}function w(x){return new Promise(function(P,N){x.onload=function(){P(x.result)},x.onerror=function(){N(x.error)}})}function _(x){var P=new FileReader,N=w(P);return P.readAsArrayBuffer(x),N}function E(x){var P=new FileReader,N=w(P),$=/charset=([A-Za-z0-9_-]+)/.exec(x.type),L=$?$[1]:"utf-8";return P.readAsText(x,L),N}function C(x){for(var P=new Uint8Array(x),N=new Array(P.length),$=0;$<P.length;$++)N[$]=String.fromCharCode(P[$]);return N.join("")}function T(x){if(x.slice)return x.slice(0);var P=new Uint8Array(x.byteLength);return P.set(new Uint8Array(x)),P.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(x){this.bodyUsed=this.bodyUsed,this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:c.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:c.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():c.arrayBuffer&&c.blob&&l(x)?(this._bodyArrayBuffer=T(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||f(x))?this._bodyArrayBuffer=T(x):this._bodyText=x=Object.prototype.toString.call(x):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var x=v(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var x=v(this);return x||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(_);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var x=v(this);if(x)return x;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(K)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function O(x){var P=x.toUpperCase();return S.indexOf(P)>-1?P:x}function D(x,P){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');P=P||{};var N=P.body;if(x instanceof D){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,P.headers||(this.headers=new y(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!N&&x._bodyInit!=null&&(N=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new y(P.headers)),this.method=O(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal||function(){if("AbortController"in a){var z=new AbortController;return z.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(P.cache==="no-store"||P.cache==="no-cache")){var $=/([?&])_=[^&]*/;if($.test(this.url))this.url=this.url.replace($,"$1_="+new Date().getTime());else{var L=/\?/;this.url+=(L.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function K(x){var P=new FormData;return x.trim().split("&").forEach(function(N){if(N){var $=N.split("="),L=$.shift().replace(/\+/g," "),z=$.join("=").replace(/\+/g," ");P.append(decodeURIComponent(L),decodeURIComponent(z))}}),P}function H(x){var P=new y,N=x.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function($){return $.indexOf(`
`)===0?$.substr(1,$.length):$}).forEach(function($){var L=$.split(":"),z=L.shift().trim();if(z){var q=L.join(":").trim();try{P.append(z,q)}catch(j){console.warn("Response "+j.message)}}}),P}A.call(D.prototype);function X(x,P){if(!(this instanceof X))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=P.statusText===void 0?"":""+P.statusText,this.headers=new y(P.headers),this.url=P.url||"",this._initBody(x)}A.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},X.error=function(){var x=new X(null,{status:200,statusText:""});return x.ok=!1,x.status=0,x.type="error",x};var U=[301,302,303,307,308];X.redirect=function(x,P){if(U.indexOf(P)===-1)throw new RangeError("Invalid status code");return new X(null,{status:P,headers:{location:x}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(P,N){this.message=P,this.name=N;var $=Error(P);this.stack=$.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function I(x,P){return new Promise(function(N,$){var L=new D(x,P);if(L.signal&&L.signal.aborted)return $(new s.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function q(){z.abort()}z.onload=function(){var re={statusText:z.statusText,headers:H(z.getAllResponseHeaders()||"")};L.url.indexOf("file://")===0&&(z.status<200||z.status>599)?re.status=200:re.status=z.status,re.url="responseURL"in z?z.responseURL:re.headers.get("X-Request-URL");var de="response"in z?z.response:z.responseText;setTimeout(function(){N(new X(de,re))},0)},z.onerror=function(){setTimeout(function(){$(new TypeError("Network request failed"))},0)},z.ontimeout=function(){setTimeout(function(){$(new TypeError("Network request timed out"))},0)},z.onabort=function(){setTimeout(function(){$(new s.DOMException("Aborted","AbortError"))},0)};function j(re){try{return re===""&&a.location.href?a.location.href:re}catch{return re}}if(z.open(L.method,j(L.url),!0),L.credentials==="include"?z.withCredentials=!0:L.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&(c.blob?z.responseType="blob":c.arrayBuffer&&(z.responseType="arraybuffer")),P&&typeof P.headers=="object"&&!(P.headers instanceof y||a.Headers&&P.headers instanceof a.Headers)){var W=[];Object.getOwnPropertyNames(P.headers).forEach(function(re){W.push(p(re)),z.setRequestHeader(re,m(P.headers[re]))}),L.headers.forEach(function(re,de){W.indexOf(de)===-1&&z.setRequestHeader(de,re)})}else L.headers.forEach(function(re,de){z.setRequestHeader(de,re)});L.signal&&(L.signal.addEventListener("abort",q),z.onreadystatechange=function(){z.readyState===4&&L.signal.removeEventListener("abort",q)}),z.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return I.polyfill=!0,a.fetch||(a.fetch=I,a.Headers=y,a.Request=D,a.Response=X),s.Headers=y,s.Request=D,s.Response=X,s.fetch=I,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(U4,U4.exports);var HQ=U4.exports;const ML=qo(HQ),DQe=HQ.fetch;function LQe(e){const t=new Uint8Array(e);let n="";for(const o of t)n+=String.fromCharCode(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}const Cf="copy",Ux="convert";function F4(e,t,n){if(t===Cf)return n;if(t===Ux)return e(n);if(t instanceof Array)return n.map(r=>F4(e,t[0],r));if(t instanceof Object){const r={};for(const[i,o]of Object.entries(t)){if(o.derive){const s=o.derive(n);s!==void 0&&(n[i]=s)}if(!(i in n)){if(o.required)throw new Error(`Missing key: ${i}`);continue}if(n[i]==null){r[i]=null;continue}r[i]=F4(e,o.schema,n[i])}return r}}function DL(e,t){return{required:!0,schema:e,derive:t}}function Dm(e){return{required:!0,schema:e}}function Fx(e){return{required:!1,schema:e}}const UQe={appid:Fx(Cf),appidExclude:Fx(Cf),credProps:Fx(Cf)},FQe={type:Dm(Cf),id:Dm(Cf),rawId:Dm(Ux),authenticatorAttachment:Fx(Cf),response:Dm({clientDataJSON:Dm(Ux),attestationObject:Dm(Ux),transports:DL(Cf,e=>{var t;return((t=e.getTransports)==null?void 0:t.call(e))||[]})}),clientExtensionResults:DL(UQe,e=>e.getClientExtensionResults())};function WQe(e){return F4(LQe,FQe,e)}async function zQe(e){const t=await navigator.credentials.create(e);return t.toJSON=()=>WQe(t),t}function qQe(e){switch(e){case"internal":return"AUTHENTICATOR_TRANSPORT_INTERNAL";case"usb":return"AUTHENTICATOR_TRANSPORT_USB";case"nfc":return"AUTHENTICATOR_TRANSPORT_NFC";case"ble":return"AUTHENTICATOR_TRANSPORT_BLE";case"hybrid":return"AUTHENTICATOR_TRANSPORT_HYBRID";default:throw new Error("unsupported transport format")}}function VQe(e){return{credentialId:e.rawId,attestationObject:e.response.attestationObject,clientDataJson:e.response.clientDataJSON,transports:e.response.transports.map(qQe)}}async function HQe(e){if(!KQe())throw new Error("webauthn is not supported by this browser");const n=await zQe(e);return VQe(n.toJSON())}function KQe(){return!!window.PublicKeyCredential}class GQe extends Error{constructor(t){let n=`Turnkey error ${t.code}: ${t.message}`;t.details!=null&&(n+=` (Details: ${JSON.stringify(t.details)})`),super(n),this.name="TurnkeyRequestError",this.details=t.details??null,this.code=t.code}}const ZQe="@turnkey/http@2.12.2";class $b{constructor(t,n){if(this.getActivity=async r=>this.request("/public/v1/query/get_activity",r),this.stampGetActivity=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_activity",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getApiKey=async r=>this.request("/public/v1/query/get_api_key",r),this.stampGetApiKey=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_api_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getApiKeys=async r=>this.request("/public/v1/query/get_api_keys",r),this.stampGetApiKeys=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_api_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getAttestationDocument=async r=>this.request("/public/v1/query/get_attestation",r),this.stampGetAttestationDocument=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_attestation",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getAuthenticator=async r=>this.request("/public/v1/query/get_authenticator",r),this.stampGetAuthenticator=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_authenticator",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getAuthenticators=async r=>this.request("/public/v1/query/get_authenticators",r),this.stampGetAuthenticators=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_authenticators",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getOauthProviders=async r=>this.request("/public/v1/query/get_oauth_providers",r),this.stampGetOauthProviders=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_oauth_providers",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getOrganization=async r=>this.request("/public/v1/query/get_organization",r),this.stampGetOrganization=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_organization",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getOrganizationConfigs=async r=>this.request("/public/v1/query/get_organization_configs",r),this.stampGetOrganizationConfigs=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_organization_configs",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPolicy=async r=>this.request("/public/v1/query/get_policy",r),this.stampGetPolicy=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_policy",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPrivateKey=async r=>this.request("/public/v1/query/get_private_key",r),this.stampGetPrivateKey=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_private_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getUser=async r=>this.request("/public/v1/query/get_user",r),this.stampGetUser=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_user",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWallet=async r=>this.request("/public/v1/query/get_wallet",r),this.stampGetWallet=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getActivities=async r=>this.request("/public/v1/query/list_activities",r),this.stampGetActivities=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_activities",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPolicies=async r=>this.request("/public/v1/query/list_policies",r),this.stampGetPolicies=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_policies",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.listPrivateKeyTags=async r=>this.request("/public/v1/query/list_private_key_tags",r),this.stampListPrivateKeyTags=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_private_key_tags",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPrivateKeys=async r=>this.request("/public/v1/query/list_private_keys",r),this.stampGetPrivateKeys=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_private_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getSubOrgIds=async r=>this.request("/public/v1/query/list_suborgs",r),this.stampGetSubOrgIds=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_suborgs",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.listUserTags=async r=>this.request("/public/v1/query/list_user_tags",r),this.stampListUserTags=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_user_tags",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getUsers=async r=>this.request("/public/v1/query/list_users",r),this.stampGetUsers=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_users",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWalletAccounts=async r=>this.request("/public/v1/query/list_wallet_accounts",r),this.stampGetWalletAccounts=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_wallet_accounts",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWallets=async r=>this.request("/public/v1/query/list_wallets",r),this.stampGetWallets=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_wallets",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWhoami=async r=>this.request("/public/v1/query/whoami",r),this.stampGetWhoami=async r=>{const i=this.config.baseUrl+"/public/v1/query/whoami",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.approveActivity=async r=>this.request("/public/v1/submit/approve_activity",r),this.stampApproveActivity=async r=>{const i=this.config.baseUrl+"/public/v1/submit/approve_activity",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createApiKeys=async r=>this.request("/public/v1/submit/create_api_keys",r),this.stampCreateApiKeys=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_api_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createApiOnlyUsers=async r=>this.request("/public/v1/submit/create_api_only_users",r),this.stampCreateApiOnlyUsers=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_api_only_users",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createAuthenticators=async r=>this.request("/public/v1/submit/create_authenticators",r),this.stampCreateAuthenticators=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_authenticators",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createInvitations=async r=>this.request("/public/v1/submit/create_invitations",r),this.stampCreateInvitations=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_invitations",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createOauthProviders=async r=>this.request("/public/v1/submit/create_oauth_providers",r),this.stampCreateOauthProviders=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_oauth_providers",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createPolicies=async r=>this.request("/public/v1/submit/create_policies",r),this.stampCreatePolicies=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_policies",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createPolicy=async r=>this.request("/public/v1/submit/create_policy",r),this.stampCreatePolicy=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_policy",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createPrivateKeyTag=async r=>this.request("/public/v1/submit/create_private_key_tag",r),this.stampCreatePrivateKeyTag=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_private_key_tag",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createPrivateKeys=async r=>this.request("/public/v1/submit/create_private_keys",r),this.stampCreatePrivateKeys=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_private_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createReadOnlySession=async r=>this.request("/public/v1/submit/create_read_only_session",r),this.stampCreateReadOnlySession=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_read_only_session",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createReadWriteSession=async r=>this.request("/public/v1/submit/create_read_write_session",r),this.stampCreateReadWriteSession=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_read_write_session",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createSubOrganization=async r=>this.request("/public/v1/submit/create_sub_organization",r),this.stampCreateSubOrganization=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_sub_organization",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createUserTag=async r=>this.request("/public/v1/submit/create_user_tag",r),this.stampCreateUserTag=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_user_tag",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createUsers=async r=>this.request("/public/v1/submit/create_users",r),this.stampCreateUsers=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_users",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createWallet=async r=>this.request("/public/v1/submit/create_wallet",r),this.stampCreateWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createWalletAccounts=async r=>this.request("/public/v1/submit/create_wallet_accounts",r),this.stampCreateWalletAccounts=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_wallet_accounts",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteApiKeys=async r=>this.request("/public/v1/submit/delete_api_keys",r),this.stampDeleteApiKeys=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_api_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteAuthenticators=async r=>this.request("/public/v1/submit/delete_authenticators",r),this.stampDeleteAuthenticators=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_authenticators",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteInvitation=async r=>this.request("/public/v1/submit/delete_invitation",r),this.stampDeleteInvitation=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_invitation",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteOauthProviders=async r=>this.request("/public/v1/submit/delete_oauth_providers",r),this.stampDeleteOauthProviders=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_oauth_providers",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deletePolicy=async r=>this.request("/public/v1/submit/delete_policy",r),this.stampDeletePolicy=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_policy",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deletePrivateKeyTags=async r=>this.request("/public/v1/submit/delete_private_key_tags",r),this.stampDeletePrivateKeyTags=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_private_key_tags",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteUserTags=async r=>this.request("/public/v1/submit/delete_user_tags",r),this.stampDeleteUserTags=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_user_tags",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteUsers=async r=>this.request("/public/v1/submit/delete_users",r),this.stampDeleteUsers=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_users",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.emailAuth=async r=>this.request("/public/v1/submit/email_auth",r),this.stampEmailAuth=async r=>{const i=this.config.baseUrl+"/public/v1/submit/email_auth",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.exportPrivateKey=async r=>this.request("/public/v1/submit/export_private_key",r),this.stampExportPrivateKey=async r=>{const i=this.config.baseUrl+"/public/v1/submit/export_private_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.exportWallet=async r=>this.request("/public/v1/submit/export_wallet",r),this.stampExportWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/export_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.exportWalletAccount=async r=>this.request("/public/v1/submit/export_wallet_account",r),this.stampExportWalletAccount=async r=>{const i=this.config.baseUrl+"/public/v1/submit/export_wallet_account",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.importPrivateKey=async r=>this.request("/public/v1/submit/import_private_key",r),this.stampImportPrivateKey=async r=>{const i=this.config.baseUrl+"/public/v1/submit/import_private_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.importWallet=async r=>this.request("/public/v1/submit/import_wallet",r),this.stampImportWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/import_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initImportPrivateKey=async r=>this.request("/public/v1/submit/init_import_private_key",r),this.stampInitImportPrivateKey=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_import_private_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initImportWallet=async r=>this.request("/public/v1/submit/init_import_wallet",r),this.stampInitImportWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_import_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initUserEmailRecovery=async r=>this.request("/public/v1/submit/init_user_email_recovery",r),this.stampInitUserEmailRecovery=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_user_email_recovery",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.oauth=async r=>this.request("/public/v1/submit/oauth",r),this.stampOauth=async r=>{const i=this.config.baseUrl+"/public/v1/submit/oauth",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.recoverUser=async r=>this.request("/public/v1/submit/recover_user",r),this.stampRecoverUser=async r=>{const i=this.config.baseUrl+"/public/v1/submit/recover_user",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.rejectActivity=async r=>this.request("/public/v1/submit/reject_activity",r),this.stampRejectActivity=async r=>{const i=this.config.baseUrl+"/public/v1/submit/reject_activity",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.removeOrganizationFeature=async r=>this.request("/public/v1/submit/remove_organization_feature",r),this.stampRemoveOrganizationFeature=async r=>{const i=this.config.baseUrl+"/public/v1/submit/remove_organization_feature",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.setOrganizationFeature=async r=>this.request("/public/v1/submit/set_organization_feature",r),this.stampSetOrganizationFeature=async r=>{const i=this.config.baseUrl+"/public/v1/submit/set_organization_feature",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.signRawPayload=async r=>this.request("/public/v1/submit/sign_raw_payload",r),this.stampSignRawPayload=async r=>{const i=this.config.baseUrl+"/public/v1/submit/sign_raw_payload",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.signRawPayloads=async r=>this.request("/public/v1/submit/sign_raw_payloads",r),this.stampSignRawPayloads=async r=>{const i=this.config.baseUrl+"/public/v1/submit/sign_raw_payloads",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.signTransaction=async r=>this.request("/public/v1/submit/sign_transaction",r),this.stampSignTransaction=async r=>{const i=this.config.baseUrl+"/public/v1/submit/sign_transaction",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updatePolicy=async r=>this.request("/public/v1/submit/update_policy",r),this.stampUpdatePolicy=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_policy",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updatePrivateKeyTag=async r=>this.request("/public/v1/submit/update_private_key_tag",r),this.stampUpdatePrivateKeyTag=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_private_key_tag",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateRootQuorum=async r=>this.request("/public/v1/submit/update_root_quorum",r),this.stampUpdateRootQuorum=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_root_quorum",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateUser=async r=>this.request("/public/v1/submit/update_user",r),this.stampUpdateUser=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_user",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateUserTag=async r=>this.request("/public/v1/submit/update_user_tag",r),this.stampUpdateUserTag=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_user_tag",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},!t.baseUrl)throw new Error("Missing base URL. Please verify env vars.");this.config=t,this.stamper=n}async request(t,n){const r=this.config.baseUrl+t,i=JSON.stringify(n),o=await this.stamper.stamp(i),s=await DQe(r,{method:"POST",headers:{[o.stampHeaderName]:o.stampHeaderValue,"X-Client-Version":ZQe},body:i,redirect:"follow"});if(!s.ok){let c;try{c=await s.json()}catch{throw new Error(`${s.status} ${s.statusText}`)}throw new GQe(c)}return await s.json()}}class LL extends Error{constructor(t){const{message:n,cause:r,activityId:i,activityStatus:o,activityType:s}=t;super(n),this.name="TurnkeyActivityError",this.activityId=i??null,this.activityStatus=o??null,this.activityType=s??null,this.cause=r??null}}const KQ=(e,t)=>e==null?void 0:e.find(({walletName:n,chain:r})=>(n==null?void 0:n.startsWith("turnkey"))&&t===r),JQe={AUTHENTICATOR_TRANSPORT_BLE:Vh.Ble,AUTHENTICATOR_TRANSPORT_HYBRID:Vh.Hybrid,AUTHENTICATOR_TRANSPORT_INTERNAL:Vh.Internal,AUTHENTICATOR_TRANSPORT_NFC:Vh.Nfc,AUTHENTICATOR_TRANSPORT_USB:Vh.Usb},YQe=e=>e.map(t=>JQe[t]);var tx=Da.Buffer;function XQe(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=tx.from(m)),!tx.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var g=0,y=0,v=0,w=m.length;v!==w&&m[v]===0;)v++,g++;for(var _=(w-v)*l+1>>>0,E=new Uint8Array(_);v!==w;){for(var C=m[v],T=0,A=_-1;(C!==0||T<y)&&A!==-1;A--,T++)C+=256*E[A]>>>0,E[A]=C%s>>>0,C=C/s>>>0;if(C!==0)throw new Error("Non-zero carry");y=T,v++}for(var S=_-y;S!==_&&E[S]===0;)S++;for(var O=a.repeat(g);S<_;++S)O+=e.charAt(E[S]);return O}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return tx.alloc(0);for(var g=0,y=0,v=0;m[g]===a;)y++,g++;for(var w=(m.length-g)*c+1>>>0,_=new Uint8Array(w);g<m.length;){var E=m.charCodeAt(g);if(E>255)return;var C=t[E];if(C===255)return;for(var T=0,A=w-1;(C!==0||T<v)&&A!==-1;A--,T++)C+=s*_[A]>>>0,_[A]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");v=T,g++}for(var S=w-v;S!==w&&_[S]===0;)S++;var O=tx.allocUnsafe(y+(w-S));O.fill(0,0,y);for(var D=y;S!==w;)O[D++]=_[S++];return O}function p(m){var g=f(m);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:f,decode:p}}var QQe=XQe,eet=QQe,tet="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",net=eet(tet);const Ts=qo(net);let ret=class extends TypeError{constructor(t,n){let r;const{message:i,explanation:o,...s}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}};function iet(e){return Su(e)&&typeof e[Symbol.iterator]=="function"}function Su(e){return typeof e=="object"&&e!=null}function jl(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function oet(e){const{done:t,value:n}=e.next();return t?void 0:n}function set(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${jl(r)}\``}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*UL(e,t,n,r){iet(e)||(e=[e]);for(const i of e){const o=set(i,t,n,r);o&&(yield o)}}function*cP(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&t.type!=="type"&&Su(t.schema)&&Su(e)&&!Array.isArray(e)))for(const l in e)t.schema[l]===void 0&&delete e[l];let c="valid";for(const l of t.validator(e,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,d,f]of t.entries(e,a)){const p=cP(d,f,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,d],coerce:o,mask:s,message:n.message});for(const m of p)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(d=m[1],l===void 0?e=d:e instanceof Map?e.set(l,d):e instanceof Set?e.add(d):Su(e)&&(d!==void 0||l in e)&&(e[l]=d))}if(c!=="not_valid")for(const l of t.refiner(e,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}let Nd=class{constructor(t){const{type:n,schema:r,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{const d=i(c,l);return UL(d,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{const d=o(c,l);return UL(d,l,this,c)}:this.refiner=()=>[]}assert(t,n){return aet(t,this,n)}create(t,n){return Bt(t,this,n)}is(t){return GQ(t,this)}mask(t,n){return cet(t,this,n)}validate(t,n={}){return z1(t,this,n)}};function aet(e,t,n){const r=z1(e,t,{message:n});if(r[0])throw r[0]}function Bt(e,t,n){const r=z1(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function cet(e,t,n){const r=z1(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function GQ(e,t){return!z1(e,t)[0]}function z1(e,t,n={}){const r=cP(e,t,n),i=oet(r);return i[0]?[new ret(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Yp(e,t){return new Nd({type:e,schema:null,validator:t})}function det(){return Yp("any",()=>!0)}function Jt(e){return new Nd({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${jl(t)}`}})}function gd(){return Yp("boolean",e=>typeof e=="boolean")}function lP(e){return Yp("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${jl(t)}`)}function ho(e){const t=jl(e),n=typeof e;return new Nd({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${jl(r)}`}})}function uet(){return Yp("never",()=>!1)}function Vt(e){return new Nd({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function Pe(){return Yp("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${jl(e)}`)}function tr(e){return new Nd({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function ZQ(e,t){return new Nd({type:"record",schema:null,*entries(n){if(Su(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator(n){return Su(n)||`Expected an object, but received: ${jl(n)}`}})}function Rt(){return Yp("string",e=>typeof e=="string"||`Expected a string, but received: ${jl(e)}`)}function dP(e){const t=uet();return new Nd({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${jl(n)}`}})}function ht(e){const t=Object.keys(e);return new Nd({type:"type",schema:e,*entries(n){if(Su(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return Su(n)||`Expected an object, but received: ${jl(n)}`},coercer(n){return Su(n)?{...n}:n}})}function Oa(e){const t=e.map(n=>n.type).join(" | ");return new Nd({type:"union",schema:null,coercer(n){for(const r of e){const[i,o]=r.validate(n,{coerce:!0});if(!i)return o}return n},validator(n,r){const i=[];for(const o of e){const[...s]=cP(n,o,r),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${jl(n)}`,...i]}})}function q1(){return Yp("unknown",()=>!0)}function V1(e,t,n){return new Nd({...e,coercer:(r,i)=>GQ(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var JQ={},YQ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,d){this.fn=c,this.context=l,this.once=d||!1}function o(c,l,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,p),g=n?n+l:l;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],d,f;if(this._eventsCount===0)return l;for(f in d=this._events)t.call(d,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},a.prototype.listeners=function(l){var d=n?n+l:l,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},a.prototype.listenerCount=function(l){var d=n?n+l:l,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,d,f,p,m,g){var y=n?n+l:l;if(!this._events[y])return!1;var v=this._events[y],w=arguments.length,_,E;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,m),!0;case 6:return v.fn.call(v.context,d,f,p,m,g),!0}for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];v.fn.apply(v.context,_)}else{var C=v.length,T;for(E=0;E<C;E++)switch(v[E].once&&this.removeListener(l,v[E].fn,void 0,!0),w){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,d);break;case 3:v[E].fn.call(v[E].context,d,f);break;case 4:v[E].fn.call(v[E].context,d,f,p);break;default:if(!_)for(T=1,_=new Array(w-1);T<w;T++)_[T-1]=arguments[T];v[E].fn.apply(v[E].context,_)}}return!0},a.prototype.on=function(l,d,f){return o(this,l,d,f,!1)},a.prototype.once=function(l,d,f){return o(this,l,d,f,!0)},a.prototype.removeListener=function(l,d,f,p){var m=n?n+l:l;if(!this._events[m])return this;if(!d)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&s(this,m);else{for(var y=0,v=[],w=g.length;y<w;y++)(g[y].fn!==d||p&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(l){var d;return l?(d=n?n+l:l,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(YQ);var XQ=YQ.exports,v0={};Object.defineProperty(v0,"__esModule",{value:!0});v0.createError=v0.DefaultDataPack=void 0;const fet=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let het=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}};v0.DefaultDataPack=het;function pet(e,t){const n={code:e,message:fet.get(e)||"Internal Server Error"};return t&&(n.data=t),n}v0.createError=pet;Object.defineProperty(JQ,"__esModule",{value:!0});const met=XQ,get=v0;let yet=class extends met.EventEmitter{constructor(n,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:o=!0,reconnect_interval:s=1e3,max_reconnects:a=5,...c}={},l,d){super();en(this,"address");en(this,"rpc_id");en(this,"queue");en(this,"options");en(this,"autoconnect");en(this,"ready");en(this,"reconnect");en(this,"reconnect_timer_id");en(this,"reconnect_interval");en(this,"max_reconnects");en(this,"rest_options");en(this,"current_reconnects");en(this,"generate_request_id");en(this,"socket");en(this,"webSocketFactory");en(this,"dataPack");this.webSocketFactory=n,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=o,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=l||(()=>++this.rpc_id),d?this.dataPack=d:this.dataPack=new get.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(n,r,i,o){return!o&&typeof i=="object"&&(o=i,i=null),new Promise((s,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(n,r),l={jsonrpc:"2.0",method:n,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(l),o,d=>{if(d)return a(d);this.queue[c]={promise:[s,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(n){const r=await this.call("rpc.login",n);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(n,r){return new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const s={jsonrpc:"2.0",method:n,params:r};this.socket.send(this.dataPack.encode(s),a=>{if(a)return o(a);i()})})}async subscribe(n){typeof n=="string"&&(n=[n]);const r=await this.call("rpc.on",n);if(typeof n=="string"&&r[n]!=="ok")throw new Error("Failed subscribing to an event '"+n+"' with: "+r[n]);return r}async unsubscribe(n){typeof n=="string"&&(n=[n]);const r=await this.call("rpc.off",n);if(typeof n=="string"&&r[n]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(n,r){this.socket.close(n||1e3,r)}setAutoReconnect(n){this.reconnect=n}setReconnectInterval(n){this.reconnect_interval=n}setMaxReconnects(n){this.max_reconnects=n}_connect(n,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(n,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const o=[i.notification];if(i.params.constructor===Object)o.push(i.params);else for(let s=0;s<i.params.length;s++)o.push(i.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,o)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:o})=>{this.ready&&setTimeout(()=>this.emit("close",i,o),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(n,r),this.reconnect_interval)))})}};var vet=JQ.default=yet,QQ={};Object.defineProperty(QQ,"__esModule",{value:!0});const bet=XQ;let wet=class extends bet.EventEmitter{constructor(n,r,i){super();en(this,"socket");this.socket=new window.WebSocket(n,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=o=>this.emit("message",o.data),this.socket.onerror=o=>this.emit("error",o),this.socket.onclose=o=>{this.emit("close",o.code,o.reason)}}send(n,r,i){const o=i||r;try{this.socket.send(n),o()}catch(s){o(s)}}close(n,r){this.socket.close(n,r)}addEventListener(n,r,i){this.socket.addEventListener(n,r,i)}};function _et(e,t){return new wet(e,t)}var xet=QQ.default=_et;function FL(e){try{return cc.ExtendedPoint.fromHex(e),!0}catch{return!1}}const ket=(e,t)=>cc.sign(e,t.slice(0,32)),Eet=cc.verify,ms=e=>Se.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Se.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Se.Buffer.from(e);let Cet=class{constructor(t){Object.assign(this,t)}encode(){return Se.Buffer.from(ny(Wx,this))}static decode(t){return ry(Wx,this,t)}static decodeUnchecked(t){return ty(Wx,this,t)}};const Wx=new Map;var eee;const Iet=32,Of=32;function Aet(e){return e._bn!==void 0}let WL=1,Nn=class rg extends Cet{constructor(t){if(super({}),this._bn=void 0,Aet(t))this._bn=t._bn;else{if(typeof t=="string"){const n=Ts.decode(t);if(n.length!=Of)throw new Error("Invalid public key input");this._bn=new pd(n)}else this._bn=new pd(t);if(this._bn.byteLength()>Of)throw new Error("Invalid public key input")}}static unique(){const t=new rg(WL);return WL+=1,new rg(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Ts.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Se.Buffer);if(t.length===Of)return t;const n=Se.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Se.Buffer.concat([t.toBuffer(),Se.Buffer.from(n),r.toBuffer()]),o=El(i);return new rg(o)}static createProgramAddressSync(t,n){let r=Se.Buffer.alloc(0);t.forEach(function(o){if(o.length>Iet)throw new TypeError("Max seed length exceeded");r=Se.Buffer.concat([r,ms(o)])}),r=Se.Buffer.concat([r,n.toBuffer(),Se.Buffer.from("ProgramDerivedAddress")]);const i=El(r);if(FL(i))throw new Error("Invalid seeds, address must fall off the curve");return new rg(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Se.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new rg(t);return FL(n.toBytes())}};eee=Nn;Nn.default=new eee("11111111111111111111111111111111");Wx.set(Nn,{kind:"struct",fields:[["_bn","u256"]]});new Nn("BPFLoader1111111111111111111111111111111111");const Bg=1232,tee=127,nee=64;let ree=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(ree.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let iee=class extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(iee.prototype,"name",{value:"TransactionExpiredTimeoutError"});let fv=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(fv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let tk=class{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}};const Gr=(e="publicKey")=>Et(32,e),vg=(e="string")=>{const t=le([he("length"),he("lengthPadding"),Et(vi(he(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const c={chars:Se.Buffer.from(o,"utf8")};return r(c,s,a)},i.alloc=o=>he().span+he().span+Se.Buffer.from(o,"utf8").length,i},Tet=(e="authorized")=>le([Gr("staker"),Gr("withdrawer")],e),Ret=(e="lockup")=>le([xn("unixTimestamp"),xn("epoch"),Gr("custodian")],e),Pet=(e="voteInit")=>le([Gr("nodePubkey"),Gr("authorizedVoter"),Gr("authorizedWithdrawer"),Ve("commission")],e),Oet=(e="voteAuthorizeWithSeedArgs")=>le([he("voteAuthorizationType"),Gr("currentAuthorityDerivedKeyOwnerPubkey"),vg("currentAuthorityDerivedKeySeed"),Gr("newAuthorized")],e);function oee(e,t){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(t[i.property]);if("count"in i&&"elementLayout"in i){const o=t[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return oee({layout:i},t[i.property]);return 0};let r=0;return e.layout.fields.forEach(i=>{r+=n(i)}),r}function $c(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,!(r&128))break}return t}function Mc(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function Co(e,t){if(!e)throw new Error(t||"Assertion failed")}let see=class aee{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new aee(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Co(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,c])=>c.isSigner&&c.isWritable),r=t.filter(([,c])=>c.isSigner&&!c.isWritable),i=t.filter(([,c])=>!c.isSigner&&c.isWritable),o=t.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Co(n.length>0,"Expected at least one writable signer key");const[c]=n[0];Co(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new Nn(c)),...r.map(([c])=>new Nn(c)),...i.map(([c])=>new Nn(c)),...o.map(([c])=>new Nn(c))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Nn(o),c=t.findIndex(l=>l.equals(a));c>=0&&(Co(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}};const cee="Reached end of buffer unexpectedly";function mu(e){if(e.length===0)throw new Error(cee);return e.shift()}function Dc(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(cee);return e.splice(...t)}let b0=class W4{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new Nn(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ts.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new tk(this.staticAccountKeys)}static compile(t){const n=see.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new tk(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ts.encode(a.data)}));return new W4({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];Mc(n,t);const r=this.instructions.map(f=>{const{accounts:p,programIdIndex:m}=f,g=Array.from(Ts.decode(f.data));let y=[];Mc(y,p.length);let v=[];return Mc(v,g.length),{programIdIndex:m,keyIndicesCount:Se.Buffer.from(y),keyIndices:p,dataLength:Se.Buffer.from(v),data:g}});let i=[];Mc(i,r.length);let o=Se.Buffer.alloc(Bg);Se.Buffer.from(i).copy(o);let s=i.length;r.forEach(f=>{const m=le([Ve("programIdIndex"),Et(f.keyIndicesCount.length,"keyIndicesCount"),Tn(Ve("keyIndex"),f.keyIndices.length,"keyIndices"),Et(f.dataLength.length,"dataLength"),Tn(Ve("userdatum"),f.data.length,"data")]).encode(f,o,s);s+=m}),o=o.slice(0,s);const a=le([Et(1,"numRequiredSignatures"),Et(1,"numReadonlySignedAccounts"),Et(1,"numReadonlyUnsignedAccounts"),Et(n.length,"keyCount"),Tn(Gr("key"),t,"keys"),Gr("recentBlockhash")]),c={numRequiredSignatures:Se.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Se.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Se.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Se.Buffer.from(n),keys:this.accountKeys.map(f=>ms(f.toBytes())),recentBlockhash:Ts.decode(this.recentBlockhash)};let l=Se.Buffer.alloc(2048);const d=a.encode(c,l);return o.copy(l,d),l.slice(0,d+o.length)}static from(t){let n=[...t];const r=mu(n);if(r!==(r&tee))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=mu(n),o=mu(n),s=$c(n);let a=[];for(let p=0;p<s;p++){const m=Dc(n,0,Of);a.push(new Nn(Se.Buffer.from(m)))}const c=Dc(n,0,Of),l=$c(n);let d=[];for(let p=0;p<l;p++){const m=mu(n),g=$c(n),y=Dc(n,0,g),v=$c(n),w=Dc(n,0,v),_=Ts.encode(Se.Buffer.from(w));d.push({programIdIndex:m,accounts:y,data:_})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Ts.encode(Se.Buffer.from(c)),accountKeys:a,instructions:d};return new W4(f)}},lee=class z4{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new tk(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const i=t-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){const i=t-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=see.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const d of o){const f=n.extractTableLookup(d);if(f!==void 0){const[p,{writable:m,readonly:g}]=f;r.push(p),i.writable.push(...m),i.readonly.push(...g)}}const[s,a]=n.getMessageComponents(),l=new tk(a,i).compileInstructions(t.instructions);return new z4({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:l,addressTableLookups:r})}serialize(){const t=Array();Mc(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Mc(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();Mc(o,this.addressTableLookups.length);const s=le([Ve("prefix"),le([Ve("numRequiredSignatures"),Ve("numReadonlySignedAccounts"),Ve("numReadonlyUnsignedAccounts")],"header"),Et(t.length,"staticAccountKeysLength"),Tn(Gr(),this.staticAccountKeys.length,"staticAccountKeys"),Gr("recentBlockhash"),Et(r.length,"instructionsLength"),Et(n.length,"serializedInstructions"),Et(o.length,"addressTableLookupsLength"),Et(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Bg),l=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:Ts.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,l)}serializeInstructions(){let t=0;const n=new Uint8Array(Bg);for(const r of this.compiledInstructions){const i=Array();Mc(i,r.accountKeyIndexes.length);const o=Array();Mc(o,r.data.length);const s=le([Ve("programIdIndex"),Et(i.length,"encodedAccountKeyIndexesLength"),Tn(Ve(),r.accountKeyIndexes.length,"accountKeyIndexes"),Et(o.length,"encodedDataLength"),Et(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(Bg);for(const r of this.addressTableLookups){const i=Array();Mc(i,r.writableIndexes.length);const o=Array();Mc(o,r.readonlyIndexes.length);const s=le([Gr("accountKey"),Et(i.length,"encodedWritableIndexesLength"),Tn(Ve(),r.writableIndexes.length,"writableIndexes"),Et(o.length,"encodedReadonlyIndexesLength"),Tn(Ve(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=mu(n),i=r&tee;Co(r!==i,"Expected versioned message but received legacy message");const o=i;Co(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:mu(n),numReadonlySignedAccounts:mu(n),numReadonlyUnsignedAccounts:mu(n)},a=[],c=$c(n);for(let g=0;g<c;g++)a.push(new Nn(Dc(n,0,Of)));const l=Ts.encode(Dc(n,0,Of)),d=$c(n),f=[];for(let g=0;g<d;g++){const y=mu(n),v=$c(n),w=Dc(n,0,v),_=$c(n),E=new Uint8Array(Dc(n,0,_));f.push({programIdIndex:y,accountKeyIndexes:w,data:E})}const p=$c(n),m=[];for(let g=0;g<p;g++){const y=new Nn(Dc(n,0,Of)),v=$c(n),w=Dc(n,0,v),_=$c(n),E=Dc(n,0,_);m.push({accountKey:y,writableIndexes:w,readonlyIndexes:E})}return new z4({header:s,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:f,addressTableLookups:m})}},uf=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const Net=Se.Buffer.alloc(nee).fill(0);let Pc=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Se.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},Gh=class q4{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Pc(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<n.length;y++)if(n[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],o=[];n.forEach(y=>{y.keys.forEach(w=>{o.push({...w})});const v=y.programId.toString();i.includes(v)||i.push(v)}),i.forEach(y=>{o.push({pubkey:new Nn(y),isSigner:!1,isWritable:!1})});const s=[];o.forEach(y=>{const v=y.pubkey.toString(),w=s.findIndex(_=>_.pubkey.toString()===v);w>-1?(s[w].isWritable=s[w].isWritable||y.isWritable,s[w].isSigner=s[w].isSigner||y.isSigner):s.push(y)}),s.sort(function(y,v){if(y.isSigner!==v.isSigner)return y.isSigner?-1:1;if(y.isWritable!==v.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(v.pubkey.toBase58(),"en",w)});const a=s.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=s.splice(a,1);y.isSigner=!0,y.isWritable=!0,s.unshift(y)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const v=s.findIndex(w=>w.pubkey.equals(y.publicKey));if(v>-1)s[v].isSigner||(s[v].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,l=0,d=0;const f=[],p=[];s.forEach(({pubkey:y,isSigner:v,isWritable:w})=>{v?(f.push(y.toString()),c+=1,w||(l+=1)):(p.push(y.toString()),w||(d+=1))});const m=f.concat(p),g=n.map(y=>{const{data:v,programId:w}=y;return{programIdIndex:m.indexOf(w.toString()),accounts:y.keys.map(_=>m.indexOf(_.pubkey.toString())),data:Ts.encode(v)}});return g.forEach(y=>{Co(y.programIdIndex>=0),y.accounts.forEach(v=>Co(v>=0))}),new b0({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:g})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=ket(r,i.secretKey);this._addSignature(i.publicKey,ms(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){Co(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Se.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):Eet(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];Mc(r,n.length);const i=r.length+n.length*64+t.length,o=Se.Buffer.alloc(i);return Co(n.length<256),Se.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(Co(s.length===64,"signature has invalid length"),Se.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),Co(o.length<=Bg,`Transaction too large: ${o.length} > ${Bg}`),o}get keys(){return Co(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Co(this.instructions.length===1),this.instructions[0].programId}get data(){return Co(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=$c(n);let i=[];for(let o=0;o<r;o++){const s=Dc(n,0,nee);i.push(Ts.encode(Se.Buffer.from(s)))}return q4.populate(b0.from(n),i)}static populate(t,n=[]){const r=new q4;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==Ts.encode(Net)?null:Ts.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new Pc({keys:o,programId:t.accountKeys[i.programIdIndex],data:Ts.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}};class nk{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,n){const{header:r,compiledInstructions:i,recentBlockhash:o}=t,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,l=s-a;Co(l>0,"Message header is invalid");const d=t.staticAccountKeys.length-s-c;Co(d>=0,"Message header is invalid");const f=t.getAccountKeys(n),p=f.get(0);if(p===void 0)throw new Error("Failed to decompile message because no account keys were found");const m=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=f.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const E=w<s;let C;E?C=w<l:w<f.staticAccountKeys.length?C=w-s<d:C=w-f.staticAccountKeys.length<f.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:C})}const v=f.get(g.programIdIndex);if(v===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);m.push(new Pc({programId:v,data:ms(g.data),keys:y}))}return new nk({payerKey:p,instructions:m,recentBlockhash:o})}compileToLegacyMessage(){return b0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return lee.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}const jet=160,Bet=64,$et=jet/Bet,Met=1e3/$et;new Nn("SysvarC1ock11111111111111111111111111111111");new Nn("SysvarEpochSchedu1e111111111111111111111111");new Nn("Sysvar1nstructions1111111111111111111111111");const yE=new Nn("SysvarRecentB1ockHashes11111111111111111111"),zL=new Nn("SysvarRent111111111111111111111111111111111");new Nn("SysvarRewards111111111111111111111111111111");new Nn("SysvarS1otHashes111111111111111111111111111");new Nn("SysvarS1otHistory11111111111111111111111111");new Nn("SysvarStakeHistory1111111111111111111111111");let qL=class extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:i}){let o;switch(t){case"send":o=`Transaction ${n} resulted in an error. 
${r}. `+(i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"")+"\nCatch the SendTransactionError and call `getLogs()` on it for full details.";break;case"simulate":o=`Simulation failed. 
Message: ${r}. 
`+(i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"")+"\nCatch the SendTransactionError and call `getLogs()` on it for full details.";break;default:o="Unknown action"}super(o),this.signature=void 0,this.transactionMessage=void 0,this.logs=void 0,this.signature=n,this.transactionMessage=r,this.logs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.logs)?this.logs:void 0}}async getLogs(t){return Array.isArray(this.logs)||(this.logs=new Promise((n,r)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.logs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.logs}},In=class extends Error{constructor({code:t,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}};function ig(e){return new Promise(t=>setTimeout(t,e))}function kc(e,t){const n=e.layout.span>=0?e.layout.span:oee(e,t),r=Se.Buffer.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}function Sc(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const Det=Ot("lamportsPerSignature"),dee=le([he("version"),he("state"),Gr("authorizedPubkey"),Gr("nonce"),le([Det],"feeCalculator")]),VL=dee.span;let Let=class uee{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=dee.decode(ms(t),0);return new uee({authorizedPubkey:new Nn(n.authorizedPubkey),nonce:new Nn(n.nonce).toString(),feeCalculator:n.feeCalculator})}};const Uet=e=>{const t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}},Fet=e=>t=>{const n=Et(e,t),{encode:r,decode:i}=Uet(n),o=n;return o.decode=(s,a)=>{const c=i(s,a);return M1(Se.Buffer.from(c))},o.encode=(s,a,c)=>{const l=D1(s,e);return r(l,a,c)},o},w0=Fet(8);class Wet{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=he("instruction").decode(t.data);let i;for(const[o,s]of Object.entries(Vi))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:n,space:r,programId:i}=Sc(Vi.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:n,space:r,programId:new Nn(i)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:n}=Sc(Vi.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n,seed:r,programId:i}=Sc(Vi.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:n,seed:r,programId:new Nn(i)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:n}=Sc(Vi.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:n,seed:r,space:i,programId:o}=Sc(Vi.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new Nn(n),seed:r,space:i,programId:new Nn(o)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:n}=Sc(Vi.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new Nn(n)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:n,seed:r,programId:i}=Sc(Vi.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new Nn(n),seed:r,programId:new Nn(i)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:n,seed:r,lamports:i,space:o,programId:s}=Sc(Vi.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new Nn(n),seed:r,lamports:i,space:o,programId:new Nn(s)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:n}=Sc(Vi.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new Nn(n)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Sc(Vi.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:n}=Sc(Vi.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:n}=Sc(Vi.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new Nn(n)}}static checkProgramId(t){if(!t.equals(uP.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const Vi=Object.freeze({Create:{index:0,layout:le([he("instruction"),xn("lamports"),xn("space"),Gr("programId")])},Assign:{index:1,layout:le([he("instruction"),Gr("programId")])},Transfer:{index:2,layout:le([he("instruction"),w0("lamports")])},CreateWithSeed:{index:3,layout:le([he("instruction"),Gr("base"),vg("seed"),xn("lamports"),xn("space"),Gr("programId")])},AdvanceNonceAccount:{index:4,layout:le([he("instruction")])},WithdrawNonceAccount:{index:5,layout:le([he("instruction"),xn("lamports")])},InitializeNonceAccount:{index:6,layout:le([he("instruction"),Gr("authorized")])},AuthorizeNonceAccount:{index:7,layout:le([he("instruction"),Gr("authorized")])},Allocate:{index:8,layout:le([he("instruction"),xn("space")])},AllocateWithSeed:{index:9,layout:le([he("instruction"),Gr("base"),vg("seed"),xn("space"),Gr("programId")])},AssignWithSeed:{index:10,layout:le([he("instruction"),Gr("base"),vg("seed"),Gr("programId")])},TransferWithSeed:{index:11,layout:le([he("instruction"),w0("lamports"),vg("seed"),Gr("programId")])},UpgradeNonceAccount:{index:12,layout:le([he("instruction")])}});let uP=class V4{constructor(){}static createAccount(t){const n=Vi.Create,r=kc(n,{lamports:t.lamports,space:t.space,programId:ms(t.programId.toBuffer())});return new Pc({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let n,r;if("basePubkey"in t){const i=Vi.TransferWithSeed;n=kc(i,{lamports:BigInt(t.lamports),seed:t.seed,programId:ms(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Vi.Transfer;n=kc(i,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Pc({keys:r,programId:this.programId,data:n})}static assign(t){let n,r;if("basePubkey"in t){const i=Vi.AssignWithSeed;n=kc(i,{base:ms(t.basePubkey.toBuffer()),seed:t.seed,programId:ms(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Vi.Assign;n=kc(i,{programId:ms(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Pc({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=Vi.CreateWithSeed,r=kc(n,{base:ms(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:ms(t.programId.toBuffer())});let i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&i.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Pc({keys:i,programId:this.programId,data:r})}static createNonceAccount(t){const n=new Gh;"basePubkey"in t&&"seed"in t?n.add(V4.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:VL,programId:this.programId})):n.add(V4.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:VL,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(t){const n=Vi.InitializeNonceAccount,r=kc(n,{authorized:ms(t.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:yE,isSigner:!1,isWritable:!1},{pubkey:zL,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Pc(i)}static nonceAdvance(t){const n=Vi.AdvanceNonceAccount,r=kc(n),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:yE,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Pc(i)}static nonceWithdraw(t){const n=Vi.WithdrawNonceAccount,r=kc(n,{lamports:t.lamports});return new Pc({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:yE,isSigner:!1,isWritable:!1},{pubkey:zL,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const n=Vi.AuthorizeNonceAccount,r=kc(n,{authorized:ms(t.newAuthorizedPubkey.toBuffer())});return new Pc({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let n,r;if("basePubkey"in t){const i=Vi.AllocateWithSeed;n=kc(i,{base:ms(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:ms(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Vi.Allocate;n=kc(i,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Pc({keys:r,programId:this.programId,data:n})}};uP.programId=new Nn("11111111111111111111111111111111");new Nn("BPFLoader2111111111111111111111111111111111");function zet(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qet=Object.prototype.toString,Vet=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function hv(e,t){var n,r,i,o,s,a,c;if(e===!0)return"true";if(e===!1)return"false";switch(typeof e){case"object":if(e===null)return null;if(e.toJSON&&typeof e.toJSON=="function")return hv(e.toJSON(),t);if(c=qet.call(e),c==="[object Array]"){for(i="[",r=e.length-1,n=0;n<r;n++)i+=hv(e[n],!0)+",";return r>-1&&(i+=hv(e[n],!0)),i+"]"}else if(c==="[object Object]"){for(o=Vet(e).sort(),r=o.length,i="",n=0;n<r;)s=o[n],a=hv(e[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),n++;return"{"+i+"}"}else return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var Het=function(e){var t=hv(e,!1);if(t!==void 0)return""+t},HL=zet(Het);const Ky=32;function vE(e){let t=0;for(;e>1;)e/=2,t++;return t}function Ket(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}let Get=class{constructor(t,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=vE(Ket(t+Ky+1))-vE(Ky)-1,r=this.getSlotsInEpoch(n),i=t-(r-Ky);return[n,i]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Ky:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+vE(Ky)):this.slotsPerEpoch}};var Zet=globalThis.fetch;let Jet=class extends vet{constructor(t,n,r){const i=o=>{const s=xet(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,t,n,r),this.underlyingSocket=void 0}call(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}};function Yet(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const KL=56;let GL=class{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=Yet(Xet,t),r=t.length-KL;Co(r>=0,"lookup table is invalid"),Co(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=le([Tn(Gr(),i,"addresses")]).decode(t.slice(KL));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Nn(n.authority[0]):void 0,addresses:o.map(s=>new Nn(s))}}};const Xet={index:1,layout:le([he("typeIndex"),w0("deactivationSlot"),Ot("lastExtendedSlot"),Ve("lastExtendedStartIndex"),Ve(),Tn(Gr(),vi(Ve(),-1),"authority")])},Qet=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function ett(e){const t=e.match(Qet);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${r}${c}${o}`}const Qo=V1(lP(Nn),Rt(),e=>new Nn(e)),fee=dP([Rt(),ho("base64")]),fP=V1(lP(Se.Buffer),fee,e=>Se.Buffer.from(e[0],"base64")),ttt=30*1e3;function ntt(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function eo(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function hee(e){return Oa([ht({jsonrpc:ho("2.0"),id:Rt(),result:e}),ht({jsonrpc:ho("2.0"),id:Rt(),error:ht({code:q1(),message:Rt(),data:tr(det())})})])}const rtt=hee(q1());function Br(e){return V1(hee(e),rtt,t=>"error"in t?t:{...t,result:Bt(t.result,e)})}function So(e){return Br(ht({context:ht({slot:Pe()}),value:e}))}function dS(e){return ht({context:ht({slot:Pe()}),value:e})}function bE(e,t){return e===0?new lee({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new Nn(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Ts.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new b0(t)}const itt=ht({foundation:Pe(),foundationTerm:Pe(),initial:Pe(),taper:Pe(),terminal:Pe()}),ott=Br(Jt(Vt(ht({epoch:Pe(),effectiveSlot:Pe(),amount:Pe(),postBalance:Pe(),commission:tr(Vt(Pe()))})))),stt=Jt(ht({slot:Pe(),prioritizationFee:Pe()})),att=ht({total:Pe(),validator:Pe(),foundation:Pe(),epoch:Pe()}),ctt=ht({epoch:Pe(),slotIndex:Pe(),slotsInEpoch:Pe(),absoluteSlot:Pe(),blockHeight:tr(Pe()),transactionCount:tr(Pe())}),ltt=ht({slotsPerEpoch:Pe(),leaderScheduleSlotOffset:Pe(),warmup:gd(),firstNormalEpoch:Pe(),firstNormalSlot:Pe()}),dtt=ZQ(Rt(),Jt(Pe())),Xp=Vt(Oa([ht({}),Rt()])),utt=ht({err:Xp}),ftt=ho("receivedSignature"),htt=ht({"solana-core":Rt(),"feature-set":tr(Pe())}),ZL=So(ht({err:Vt(Oa([ht({}),Rt()])),logs:Vt(Jt(Rt())),accounts:tr(Vt(Jt(Vt(ht({executable:gd(),owner:Rt(),lamports:Pe(),data:Jt(Rt()),rentEpoch:tr(Pe())}))))),unitsConsumed:tr(Pe()),returnData:tr(Vt(ht({programId:Rt(),data:dP([Rt(),ho("base64")])})))})),ptt=So(ht({byIdentity:ZQ(Rt(),Jt(Pe())),range:ht({firstSlot:Pe(),lastSlot:Pe()})}));function mtt(e,t,n,r,i,o){const s=n||Zet;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(d,f)=>{const p=await new Promise((m,g)=>{try{r(d,f,(y,v)=>m([y,v]))}catch(y){g(y)}});return await s(...p)}),new eP(async(d,f)=>{const p={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},gnt)};try{let m=5,g,y=500;for(;c?g=await c(e,p):g=await s(e,p),!(g.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await ig(y),y*=2;const v=await g.text();g.ok?f(null,v):f(new Error(`${g.status} ${g.statusText}: ${v}`))}catch(m){m instanceof Error&&f(m)}},{})}function gtt(e){return(t,n)=>new Promise((r,i)=>{e.request(t,n,(o,s)=>{if(o){i(o);return}r(s)})})}function ytt(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const i=t.map(o=>e.request(o.methodName,o.args));e.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const vtt=Br(itt),btt=Br(att),wtt=Br(stt),_tt=Br(ctt),xtt=Br(ltt),ktt=Br(dtt),Stt=Br(Pe()),Ett=So(ht({total:Pe(),circulating:Pe(),nonCirculating:Pe(),nonCirculatingAccounts:Jt(Qo)})),H4=ht({amount:Rt(),uiAmount:Vt(Pe()),decimals:Pe(),uiAmountString:tr(Rt())}),Ctt=So(Jt(ht({address:Qo,amount:Rt(),uiAmount:Vt(Pe()),decimals:Pe(),uiAmountString:tr(Rt())}))),Itt=So(Jt(ht({pubkey:Qo,account:ht({executable:gd(),owner:Qo,lamports:Pe(),data:fP,rentEpoch:Pe()})}))),K4=ht({program:Rt(),parsed:q1(),space:Pe()}),Att=So(Jt(ht({pubkey:Qo,account:ht({executable:gd(),owner:Qo,lamports:Pe(),data:K4,rentEpoch:Pe()})}))),Ttt=So(Jt(ht({lamports:Pe(),address:Qo}))),Mb=ht({executable:gd(),owner:Qo,lamports:Pe(),data:fP,rentEpoch:Pe()}),Rtt=ht({pubkey:Qo,account:Mb}),Ptt=V1(Oa([lP(Se.Buffer),K4]),Oa([fee,K4]),e=>Array.isArray(e)?Bt(e,fP):e),G4=ht({executable:gd(),owner:Qo,lamports:Pe(),data:Ptt,rentEpoch:Pe()}),Ott=ht({pubkey:Qo,account:G4}),Ntt=ht({state:Oa([ho("active"),ho("inactive"),ho("activating"),ho("deactivating")]),active:Pe(),inactive:Pe()}),jtt=Br(Jt(ht({signature:Rt(),slot:Pe(),err:Xp,memo:Vt(Rt()),blockTime:tr(Vt(Pe()))}))),Btt=Br(Jt(ht({signature:Rt(),slot:Pe(),err:Xp,memo:Vt(Rt()),blockTime:tr(Vt(Pe()))}))),$tt=ht({subscription:Pe(),result:dS(Mb)}),Mtt=ht({pubkey:Qo,account:Mb}),Dtt=ht({subscription:Pe(),result:dS(Mtt)}),Ltt=ht({parent:Pe(),slot:Pe(),root:Pe()}),Utt=ht({subscription:Pe(),result:Ltt}),Ftt=Oa([ht({type:Oa([ho("firstShredReceived"),ho("completed"),ho("optimisticConfirmation"),ho("root")]),slot:Pe(),timestamp:Pe()}),ht({type:ho("createdBank"),parent:Pe(),slot:Pe(),timestamp:Pe()}),ht({type:ho("frozen"),slot:Pe(),timestamp:Pe(),stats:ht({numTransactionEntries:Pe(),numSuccessfulTransactions:Pe(),numFailedTransactions:Pe(),maxTransactionsPerEntry:Pe()})}),ht({type:ho("dead"),slot:Pe(),timestamp:Pe(),err:Rt()})]),Wtt=ht({subscription:Pe(),result:Ftt}),ztt=ht({subscription:Pe(),result:dS(Oa([utt,ftt]))}),qtt=ht({subscription:Pe(),result:Pe()}),Vtt=ht({pubkey:Rt(),gossip:Vt(Rt()),tpu:Vt(Rt()),rpc:Vt(Rt()),version:Vt(Rt())}),JL=ht({votePubkey:Rt(),nodePubkey:Rt(),activatedStake:Pe(),epochVoteAccount:gd(),epochCredits:Jt(dP([Pe(),Pe(),Pe()])),commission:Pe(),lastVote:Pe(),rootSlot:Vt(Pe())}),Htt=Br(ht({current:Jt(JL),delinquent:Jt(JL)})),Ktt=Oa([ho("processed"),ho("confirmed"),ho("finalized")]),Gtt=ht({slot:Pe(),confirmations:Vt(Pe()),err:Xp,confirmationStatus:tr(Ktt)}),Ztt=So(Jt(Vt(Gtt))),Jtt=Br(Pe()),pee=ht({accountKey:Qo,writableIndexes:Jt(Pe()),readonlyIndexes:Jt(Pe())}),hP=ht({signatures:Jt(Rt()),message:ht({accountKeys:Jt(Rt()),header:ht({numRequiredSignatures:Pe(),numReadonlySignedAccounts:Pe(),numReadonlyUnsignedAccounts:Pe()}),instructions:Jt(ht({accounts:Jt(Pe()),data:Rt(),programIdIndex:Pe()})),recentBlockhash:Rt(),addressTableLookups:tr(Jt(pee))})}),mee=ht({pubkey:Qo,signer:gd(),writable:gd(),source:tr(Oa([ho("transaction"),ho("lookupTable")]))}),gee=ht({accountKeys:Jt(mee),signatures:Jt(Rt())}),yee=ht({parsed:q1(),program:Rt(),programId:Qo}),vee=ht({accounts:Jt(Qo),data:Rt(),programId:Qo}),Ytt=Oa([vee,yee]),Xtt=Oa([ht({parsed:q1(),program:Rt(),programId:Rt()}),ht({accounts:Jt(Rt()),data:Rt(),programId:Rt()})]),bee=V1(Ytt,Xtt,e=>"accounts"in e?Bt(e,vee):Bt(e,yee)),wee=ht({signatures:Jt(Rt()),message:ht({accountKeys:Jt(mee),instructions:Jt(bee),recentBlockhash:Rt(),addressTableLookups:tr(Vt(Jt(pee)))})}),rk=ht({accountIndex:Pe(),mint:Rt(),owner:tr(Rt()),uiTokenAmount:H4}),_ee=ht({writable:Jt(Qo),readonly:Jt(Qo)}),uS=ht({err:Xp,fee:Pe(),innerInstructions:tr(Vt(Jt(ht({index:Pe(),instructions:Jt(ht({accounts:Jt(Pe()),data:Rt(),programIdIndex:Pe()}))})))),preBalances:Jt(Pe()),postBalances:Jt(Pe()),logMessages:tr(Vt(Jt(Rt()))),preTokenBalances:tr(Vt(Jt(rk))),postTokenBalances:tr(Vt(Jt(rk))),loadedAddresses:tr(_ee),computeUnitsConsumed:tr(Pe())}),pP=ht({err:Xp,fee:Pe(),innerInstructions:tr(Vt(Jt(ht({index:Pe(),instructions:Jt(bee)})))),preBalances:Jt(Pe()),postBalances:Jt(Pe()),logMessages:tr(Vt(Jt(Rt()))),preTokenBalances:tr(Vt(Jt(rk))),postTokenBalances:tr(Vt(Jt(rk))),loadedAddresses:tr(_ee),computeUnitsConsumed:tr(Pe())}),cy=Oa([ho(0),ho("legacy")]),Qp=ht({pubkey:Rt(),lamports:Pe(),postBalance:Vt(Pe()),rewardType:Vt(Rt()),commission:tr(Vt(Pe()))}),Qtt=Br(Vt(ht({blockhash:Rt(),previousBlockhash:Rt(),parentSlot:Pe(),transactions:Jt(ht({transaction:hP,meta:Vt(uS),version:tr(cy)})),rewards:tr(Jt(Qp)),blockTime:Vt(Pe()),blockHeight:Vt(Pe())}))),ent=Br(Vt(ht({blockhash:Rt(),previousBlockhash:Rt(),parentSlot:Pe(),rewards:tr(Jt(Qp)),blockTime:Vt(Pe()),blockHeight:Vt(Pe())}))),tnt=Br(Vt(ht({blockhash:Rt(),previousBlockhash:Rt(),parentSlot:Pe(),transactions:Jt(ht({transaction:gee,meta:Vt(uS),version:tr(cy)})),rewards:tr(Jt(Qp)),blockTime:Vt(Pe()),blockHeight:Vt(Pe())}))),nnt=Br(Vt(ht({blockhash:Rt(),previousBlockhash:Rt(),parentSlot:Pe(),transactions:Jt(ht({transaction:wee,meta:Vt(pP),version:tr(cy)})),rewards:tr(Jt(Qp)),blockTime:Vt(Pe()),blockHeight:Vt(Pe())}))),rnt=Br(Vt(ht({blockhash:Rt(),previousBlockhash:Rt(),parentSlot:Pe(),transactions:Jt(ht({transaction:gee,meta:Vt(pP),version:tr(cy)})),rewards:tr(Jt(Qp)),blockTime:Vt(Pe()),blockHeight:Vt(Pe())}))),int=Br(Vt(ht({blockhash:Rt(),previousBlockhash:Rt(),parentSlot:Pe(),rewards:tr(Jt(Qp)),blockTime:Vt(Pe()),blockHeight:Vt(Pe())}))),ont=Br(Vt(ht({blockhash:Rt(),previousBlockhash:Rt(),parentSlot:Pe(),transactions:Jt(ht({transaction:hP,meta:Vt(uS)})),rewards:tr(Jt(Qp)),blockTime:Vt(Pe())}))),YL=Br(Vt(ht({blockhash:Rt(),previousBlockhash:Rt(),parentSlot:Pe(),signatures:Jt(Rt()),blockTime:Vt(Pe())}))),wE=Br(Vt(ht({slot:Pe(),meta:Vt(uS),blockTime:tr(Vt(Pe())),transaction:hP,version:tr(cy)}))),nx=Br(Vt(ht({slot:Pe(),transaction:wee,meta:Vt(pP),blockTime:tr(Vt(Pe())),version:tr(cy)}))),snt=So(ht({blockhash:Rt(),feeCalculator:ht({lamportsPerSignature:Pe()})})),ant=So(ht({blockhash:Rt(),lastValidBlockHeight:Pe()})),cnt=So(gd()),lnt=ht({slot:Pe(),numTransactions:Pe(),numSlots:Pe(),samplePeriodSecs:Pe()}),dnt=Br(Jt(lnt)),unt=So(Vt(ht({feeCalculator:ht({lamportsPerSignature:Pe()})}))),fnt=Br(Rt()),hnt=Br(Rt()),pnt=ht({err:Xp,logs:Jt(Rt()),signature:Rt()}),mnt=ht({result:dS(pnt),subscription:Pe()}),gnt={"solana-client":"js/0.0.0-development"};let ynt=class{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const l={};return async d=>{const{commitment:f,config:p}=eo(d),m=this._buildArgs([],f,void 0,p),g=HL(m);return l[g]=l[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",m),v=Bt(y,Br(Pe()));if("error"in v)throw new In(v.error,"failed to get block height information");return v.result}finally{delete l[g]}})(),await l[g]}})();let r,i,o,s,a,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,c=n.httpAgent),this._rpcEndpoint=ntt(t),this._rpcWsEndpoint=r||ett(t),this._rpcClient=mtt(t,i,o,s,a,c),this._rpcRequest=gtt(this._rpcClient),this._rpcBatchRequest=ytt(this._rpcClient),this._rpcWebSocket=new Jet(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:i}=eo(n),o=this._buildArgs([t.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=Bt(s,So(Pe()));if("error"in a)throw new In(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=Bt(n,Br(Vt(Pe())));if("error"in r)throw new In(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=Bt(t,Br(Pe()));if("error"in n)throw new In(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=Bt(t,Stt);if("error"in n)throw new In(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=Bt(r,Ett);if("error"in i)throw new In(i.error,"failed to get supply");return i.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=Bt(i,So(H4));if("error"in o)throw new In(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=Bt(i,So(H4));if("error"in o)throw new In(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,n,r){const{commitment:i,config:o}=eo(r);let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),l=Bt(c,Itt);if("error"in l)throw new In(l.error,`failed to get token accounts owned by account ${t.toBase58()}`);return l.result}async getParsedTokenAccountsByOwner(t,n,r){let i=[t.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=Bt(s,Att);if("error"in a)throw new In(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=Bt(i,Ttt);if("error"in o)throw new In(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=Bt(i,Ctt);if("error"in o)throw new In(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:i}=eo(n),o=this._buildArgs([t.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=Bt(s,So(Vt(Mb)));if("error"in a)throw new In(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:i}=eo(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=Bt(s,So(Vt(G4)));if("error"in a)throw new In(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:i}=eo(n),o=t.map(l=>l.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=Bt(a,So(Jt(Vt(G4))));if("error"in c)throw new In(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:i}=eo(n),o=t.map(l=>l.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=Bt(a,So(Jt(Vt(Mb))));if("error"in c)throw new In(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:i,config:o}=eo(n),s=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),c=Bt(a,Br(Ntt));if("error"in c)throw new In(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,n){const{commitment:r,config:i}=eo(n),{encoding:o,...s}=i||{},a=this._buildArgs([t.toBase58()],r,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),l=Jt(Rtt),d=s.withContext===!0?Bt(c,So(l)):Bt(c,Br(l));if("error"in d)throw new In(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:i}=eo(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=Bt(s,Br(Jt(Ott)));if("error"in a)throw new In(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){var o;let r;if(typeof t=="string")r=t;else{const s=t;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=Ts.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Co(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,i,o=!1;const s=new Promise((c,l)=>{try{r=this.onSignature(n,(f,p)=>{r=void 0;const m={context:p,value:f};c({__type:uf.PROCESSED,response:m})},t);const d=new Promise(f=>{r==null?f():i=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&f()})});(async()=>{if(await d,o)return;const f=await this.getSignatureStatus(n);if(o||f==null)return;const{context:p,value:m}=f;if(m!=null)if(m!=null&&m.err)l(m.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:uf.PROCESSED,response:{context:p,value:m}})}})()}catch(d){l(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(f=>{const p=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let m=await p();if(!o){for(;m<=r;)if(await ig(1e3),o||(m=await p(),o))return;f({__type:uf.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),l=this.getCancellationPromise(n);let d;try{const f=await Promise.race([l,c,s]);if(f.__type===uf.PROCESSED)d=f.response;else throw new ree(i)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const c=new Promise(m=>{let g=o,y=null;const v=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await v(),!a)for(;;){if(o!==g){m({__type:uf.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await ig(2e3),a||(g=await v(),a))return}})()}),{abortConfirmation:l,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),f=this.getCancellationPromise(n);let p;try{const m=await Promise.race([f,d,c]);if(m.__type===uf.PROCESSED)p=m.response;else{let g;for(;;){const y=await this.getSignatureStatus(s);if(y==null)break;if(y.context.slot<(m.slotInWhichNonceDidAdvance??r)){await ig(400);continue}g=y;break}if(g!=null&&g.value){const y=t||"finalized",{confirmationStatus:v}=g.value;switch(y){case"processed":case"recent":if(v!=="processed"&&v!=="confirmed"&&v!=="finalized")throw new fv(s);break;case"confirmed":case"single":case"singleGossip":if(v!=="confirmed"&&v!=="finalized")throw new fv(s);break;case"finalized":case"max":case"root":if(v!=="finalized")throw new fv(s);break;default:}p={context:g.context,value:{err:g.value.err}}}else throw new fv(s)}}finally{a=!0,l()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const i=new Promise(c=>{let l=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{l=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:uf.TIMED_OUT,timeoutMs:l}),l)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const c=await Promise.race([s,i]);if(c.__type===uf.PROCESSED)a=c.response;else throw new iee(n,c.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=Bt(t,Br(Jt(Vtt)));if("error"in n)throw new In(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),i=Bt(r,Htt);if("error"in i)throw new In(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:n,config:r}=eo(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=Bt(o,Br(Pe()));if("error"in s)throw new In(s.error,"failed to get slot");return s.result}async getSlotLeader(t){const{commitment:n,config:r}=eo(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=Bt(o,Br(Rt()));if("error"in s)throw new In(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,n){const r=[t,n],i=await this._rpcRequest("getSlotLeaders",r),o=Bt(i,Br(Jt(Qo)));if("error"in o)throw new In(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,n){const{context:r,value:i}=await this.getSignatureStatuses([t],n);Co(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=Bt(i,Ztt);if("error"in o)throw new In(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:n,config:r}=eo(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=Bt(o,Br(Pe()));if("error"in s)throw new In(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),i=Bt(r,vtt);if("error"in i)throw new In(i.error,"failed to get inflation");return i.result}async getInflationReward(t,n,r){const{commitment:i,config:o}=eo(r),s=this._buildArgs([t.map(l=>l.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),c=Bt(a,ott);if("error"in c)throw new In(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=Bt(t,btt);if("error"in n)throw new In(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=eo(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=Bt(o,_tt);if("error"in s)throw new In(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=Bt(t,xtt);if("error"in n)throw new In(n.error,"failed to get epoch schedule");const r=n.result;return new Get(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=Bt(t,ktt);if("error"in n)throw new In(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=Bt(i,Jtt);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getRecentBlockhash",n),i=Bt(r,snt);if("error"in i)throw new In(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=Bt(n,dnt);if("error"in r)throw new In(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=Bt(i,unt);if("error"in o)throw new In(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=ms(t.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=Bt(o,So(Vt(Pe())));if("error"in s)throw new In(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(t){var s;const n=(s=t==null?void 0:t.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=Bt(i,wtt);if("error"in o)throw new In(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=eo(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=Bt(o,ant);if("error"in s)throw new In(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(t,n){const{commitment:r,config:i}=eo(n),o=this._buildArgs([t],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=Bt(s,cnt);if("error"in a)throw new In(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=Bt(t,Br(htt));if("error"in n)throw new In(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=Bt(t,Br(Rt()));if("error"in n)throw new In(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:i}=eo(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Bt(s,tnt);if("error"in a)throw a.error;return a.result}case"none":{const a=Bt(s,ent);if("error"in a)throw a.error;return a.result}default:{const a=Bt(s,Qtt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:l,meta:d,version:f})=>({meta:d,transaction:{...l,message:bE(f,l.message)},version:f}))}:null}}}catch(a){throw new In(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:i}=eo(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Bt(s,rnt);if("error"in a)throw a.error;return a.result}case"none":{const a=Bt(s,int);if("error"in a)throw a.error;return a.result}default:{const a=Bt(s,nnt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new In(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...c}=t;r=a,n=c}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=Bt(o,ptt);if("error"in s)throw new In(s.error,"failed to get block production information");return s.result}async getTransaction(t,n){const{commitment:r,config:i}=eo(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=Bt(s,wE);if("error"in a)throw new In(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:bE(c.version,c.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:i}=eo(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=Bt(s,nx);if("error"in a)throw new In(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:i}=eo(n),o=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{const l=Bt(c,nx);if("error"in l)throw new In(l.error,"failed to get transactions");return l.result})}async getTransactions(t,n){const{commitment:r,config:i}=eo(n),o=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{const l=Bt(c,wE);if("error"in l)throw new In(l.error,"failed to get transactions");const d=l.result;return d&&{...d,transaction:{...d.transaction,message:bE(d.version,d.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getConfirmedBlock",r),o=Bt(i,ont);if("error"in o)throw new In(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");const a={...s,transactions:s.transactions.map(({transaction:c,meta:l})=>{const d=new b0(c.message);return{meta:l,transaction:{...c,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:l})=>({meta:l,transaction:Gh.populate(c.message,c.signatures)}))}}async getBlocks(t,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),o=await this._rpcRequest("getBlocks",i),s=Bt(o,Br(Jt(Pe())));if("error"in s)throw new In(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=Bt(i,YL);if("error"in o)throw new In(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),o=Bt(i,YL);if("error"in o)throw new In(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getConfirmedTransaction",r),o=Bt(i,wE);if("error"in o)throw new In(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new b0(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:Gh.populate(a,c)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),o=Bt(i,nx);if("error"in o)throw new In(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,n){const r=t.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=Bt(s,nx);if("error"in a)throw new In(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const c=await this.getConfirmedBlockSignatures(n,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=Bt(o,jtt);if("error"in s)throw new In(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=Bt(o,Btt);if("error"in s)throw new In(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=new GL({key:t,state:GL.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=Let.fromAccountData(i.data)),{context:r,value:o}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),i=Bt(r,fnt);if("error"in i)throw new In(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await ig(100);const r=Date.now()-this._blockhashInfo.lastFetch>=ttt;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await ig(Met/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=eo(t),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=Bt(o,So(Pe()));if("error"in s)throw new In(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,n,r){if("message"in t){const y=t.serialize(),v=Se.Buffer.from(y).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const w=n||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[v,w],E=await this._rpcRequest("simulateTransaction",_),C=Bt(E,ZL);if("error"in C)throw new Error("failed to simulate transaction: "+C.error.message);return C.result}let i;if(t instanceof Gh){let g=t;i=new Gh,i.feePayer=g.feePayer,i.instructions=t.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=Gh.populate(t),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const v=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(v)&&!this._blockhashInfo.transactionSignatures.includes(v)){this._blockhashInfo.simulatedSignatures.push(v);break}else g=!0}}const s=i._compile(),a=s.serialize(),l=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:s.nonProgramIds()).map(y=>y.toBase58());d.accounts={encoding:"base64",addresses:g}}o&&(d.sigVerify=!0);const f=[l,d],p=await this._rpcRequest("simulateTransaction",f),m=Bt(p,ZL);if("error"in m){let g;if("data"in m.error&&(g=m.error.data.logs,g&&Array.isArray(g))){const y=`
    `,v=y+g.join(y);console.error(m.error.message,v)}throw new qL({action:"simulate",signature:"",transactionMessage:m.error.message,logs:g})}return m.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=t.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(t.nonceInfo)t.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const o=t.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(t,n){const r=ms(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[t,r],a=await this._rpcRequest("sendTransaction",s),c=Bt(a,hnt);if("error"in c){let l;throw"data"in c.error&&(l=c.error.data.logs),new qL({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:l})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){var i;const r=(i=this._subscriptionsByHash[t])==null?void 0:i.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){var o;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=Bt(t,$tt);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,i=HL([t.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];Co(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const i=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=Bt(t,Dtt);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,i){const o=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=Bt(t,mnt);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=Bt(t,Utt);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=Bt(t,Wtt);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,i)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=Bt(t,ztt);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const i=this._buildArgs([t],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,o),a=this._makeSubscription({callback:(c,l)=>{n(c,l);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=Bt(t,qtt);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}};Object.freeze({CreateLookupTable:{index:0,layout:le([he("instruction"),w0("recentSlot"),Ve("bumpSeed")])},FreezeLookupTable:{index:1,layout:le([he("instruction")])},ExtendLookupTable:{index:2,layout:le([he("instruction"),w0(),Tn(Gr(),vi(he(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:le([he("instruction")])},CloseLookupTable:{index:4,layout:le([he("instruction")])}});new Nn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:le([Ve("instruction"),he("units"),he("additionalFee")])},RequestHeapFrame:{index:1,layout:le([Ve("instruction"),he("bytes")])},SetComputeUnitLimit:{index:2,layout:le([Ve("instruction"),he("units")])},SetComputeUnitPrice:{index:3,layout:le([Ve("instruction"),w0("microLamports")])}});new Nn("ComputeBudget111111111111111111111111111111");le([Ve("numSignatures"),Ve("padding"),Mn("signatureOffset"),Mn("signatureInstructionIndex"),Mn("publicKeyOffset"),Mn("publicKeyInstructionIndex"),Mn("messageDataOffset"),Mn("messageDataSize"),Mn("messageInstructionIndex")]);new Nn("Ed25519SigVerify111111111111111111111111111");m1.utils.isValidPrivateKey;le([Ve("numSignatures"),Mn("signatureOffset"),Ve("signatureInstructionIndex"),Mn("ethAddressOffset"),Ve("ethAddressInstructionIndex"),Mn("messageDataOffset"),Mn("messageDataSize"),Ve("messageInstructionIndex"),Et(20,"ethAddress"),Et(64,"signature"),Ve("recoveryId")]);new Nn("KeccakSecp256k11111111111111111111111111111");var xee;new Nn("StakeConfig11111111111111111111111111111111");let kee=class{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}};xee=kee;kee.default=new xee(0,0,Nn.default);Object.freeze({Initialize:{index:0,layout:le([he("instruction"),Tet(),Ret()])},Authorize:{index:1,layout:le([he("instruction"),Gr("newAuthorized"),he("stakeAuthorizationType")])},Delegate:{index:2,layout:le([he("instruction")])},Split:{index:3,layout:le([he("instruction"),xn("lamports")])},Withdraw:{index:4,layout:le([he("instruction"),xn("lamports")])},Deactivate:{index:5,layout:le([he("instruction")])},Merge:{index:7,layout:le([he("instruction")])},AuthorizeWithSeed:{index:8,layout:le([he("instruction"),Gr("newAuthorized"),he("stakeAuthorizationType"),vg("authoritySeed"),Gr("authorityOwner")])}});new Nn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:le([he("instruction"),Pet()])},Authorize:{index:1,layout:le([he("instruction"),Gr("newAuthorized"),he("voteAuthorizationType")])},Withdraw:{index:3,layout:le([he("instruction"),xn("lamports")])},UpdateValidatorIdentity:{index:4,layout:le([he("instruction")])},AuthorizeWithSeed:{index:10,layout:le([he("instruction"),Oet()])}});new Nn("Vote111111111111111111111111111111111111111");new Nn("Va1idator1nfo111111111111111111111111111111");ht({name:Rt(),website:tr(Rt()),details:tr(Rt()),keybaseUsername:tr(Rt())});new Nn("Vote111111111111111111111111111111111111111");le([Gr("nodePubkey"),Gr("authorizedWithdrawer"),Ve("commission"),Ot(),Tn(le([Ot("slot"),he("confirmationCount")]),vi(he(),-8),"votes"),Ve("rootSlotValid"),Ot("rootSlot"),Ot(),Tn(le([Ot("epoch"),Gr("authorizedVoter")]),vi(he(),-8),"authorizedVoters"),le([Tn(le([Gr("authorizedPubkey"),Ot("epochOfLastAuthorizedSwitch"),Ot("targetEpoch")]),32,"buf"),Ot("idx"),Ve("isEmpty")],"priorVoters"),Ot(),Tn(le([Ot("epoch"),Ot("credits"),Ot("prevCredits")]),vi(he(),-8),"epochCredits"),le([Ot("slot"),Ot("timestamp")],"lastTimestamp")]);const vnt=1e9,bnt=e=>Buffer.from(e).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),XL=()=>{const e=new Uint8Array(32);return crypto.getRandomValues(e),e.buffer},wnt=()=>({createWebauthnStamper:e=>new aP(e),getWebAuthnAttestation:HQe});class Wc{static get implementation(){return Wc._implementation?Wc._implementation:wnt()}static setImplementation(t){Wc._implementation=t}static get getWebAuthnAttestation(){return Wc.implementation.getWebAuthnAttestation}static get createWebauthnStamper(){return Wc.implementation.createWebauthnStamper}}const QL="https://api.turnkey.com",_nt="https://recovery.turnkey.com",xnt="https://auth.turnkey.com",knt=900,Snt=1800,Ent="CREDENTIAL_TYPE_API_KEY_P256",Cnt="CREDENTIAL_TYPE_RECOVER_USER_KEY_P256";class Int{constructor(){this.isSessionActive=()=>!this.__createdAt||this.__recoveryType!=="email"?!1:this.isExpired(this.__createdAt,this.__sessionExpiration||Snt)?(this.clear(),!1):!0,this.isValidCode=t=>sr(this,void 0,void 0,function*(){var n,r,i,o;if(!t||!this.__turnkeyRecoveryUserId)throw new Ae("Cannot proceed with your request");const s=yield(n=this.__client)===null||n===void 0?void 0:n.getUser({organizationId:t,userId:this.__turnkeyRecoveryUserId}),a={email:Ent,passkey:Cnt},c=(o=(i=(r=s==null?void 0:s.user)===null||r===void 0?void 0:r.apiKeys)===null||i===void 0?void 0:i.filter(d=>d.credential.type===a[this.__recoveryType]))===null||o===void 0?void 0:o.pop();return!c||this.isExpired(parseInt(c.createdAt.seconds,10),knt)?!1:(this.__createdAt=parseInt(c.createdAt.seconds,10),!0)}),this.isExpired=(t,n)=>{const r=t+n,i=new Date(r*1e3);return new Date>=i}}get publicKey(){return this.__publicKey}get client(){return this.__client}get recoveryType(){return this.__recoveryType}get recoveryUserId(){return this.__turnkeyRecoveryUserId||""}set recoveryUserId(t){this.__turnkeyRecoveryUserId=t}clear(){var t;(t=this.__iframeStamper)===null||t===void 0||t.clear(),this.__recoveryType=void 0,this.__iframeStamper=void 0,this.__publicKey=void 0,this.__client=void 0,this.__turnkeyRecoveryUserId=void 0,this.__createdAt=void 0}initRecovery(t,n,r,i){return sr(this,void 0,void 0,function*(){this.__recoveryType&&this.clear(),this.__sessionExpiration=i,this.__recoveryType=t;const o=t==="passkey"?_nt:xnt;return this.__iframeStamper=new lS({iframeContainer:n,iframeElementId:r,iframeUrl:o}),yield this.__iframeStamper.init(),this.__publicKey=this.__iframeStamper.publicKey(),this.__publicKey})}verifyRecoveryCode(t,n){return sr(this,void 0,void 0,function*(){if(!this.__iframeStamper)throw new Ae("Cannot proceed with your request");try{if(yield this.__iframeStamper.injectCredentialBundle(t),this.__client=new $b({baseUrl:QL},this.__iframeStamper),!n||!this.__turnkeyRecoveryUserId)throw new Ae("Cannot proceed with your request");if(!(yield this.isValidCode(n)))throw new Ae("The code is invalid or expired.")}catch(r){throw Jr.error("Error while verifying recovery code",r),r instanceof Ae?r:new Ae("The code is invalid or expired.")}})}completeRecovery(t){return sr(this,arguments,void 0,function*({attestation:n,challenge:r,turnkeySubOrganizationId:i}){if(!this.__client||!this.__turnkeyRecoveryUserId)throw new Ae("Cannot proceed with your request");try{return this.__client.recoverUser({organizationId:i,parameters:{authenticator:{attestation:n,authenticatorName:"Passkey",challenge:r},userId:this.__turnkeyRecoveryUserId},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"})}catch(o){throw Jr.error("Error while completing recovery process",o),o}})}addPasskeyAuthenticator(t){return sr(this,arguments,void 0,function*({attestation:n,challenge:r,turnkeySubOrganizationId:i}){if(!this.__client||!this.__turnkeyRecoveryUserId)throw new Ae("Cannot proceed with your request");try{return this.__client.createAuthenticators({organizationId:i,parameters:{authenticators:[{attestation:n,authenticatorName:"Passkey",challenge:r}],userId:this.__turnkeyRecoveryUserId},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"})}catch(o){throw Jr.error("Error while creating new authenticator",o),o}})}addEmailRecovery(t){return sr(this,arguments,void 0,function*({organizationId:n,email:r,turnkeyUserId:i}){let o=bp();o||(o=Uo.getHostname());const s=Wc.createWebauthnStamper({rpId:o}),a=new $b({baseUrl:QL},s);try{return{signedRequest:yield a.stampUpdateUser({organizationId:n,parameters:{userEmail:r,userId:i,userTagIds:[]},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"}),userId:i}}catch(c){throw Jr.error("Error while adding email recovery",c),c}})}}const Z4=new Int,Ant="https://api.turnkey.com",Tnt="https://export.turnkey.com";class Rnt{get publicKey(){return this.__publicKey}clear(){var t;(t=this.__iframeStamper)===null||t===void 0||t.clear(),this.__iframeStamper=void 0,this.__publicKey=void 0,this.__turnkeyClient=void 0}initExport(t,n){return sr(this,void 0,void 0,function*(){if(this.__iframeStamper=new lS({iframeContainer:t,iframeElementId:n,iframeUrl:Tnt}),yield this.__iframeStamper.init(),this.__publicKey=this.__iframeStamper.publicKey(),Z4.isSessionActive())this.__turnkeyClient=Z4.client;else{let r=bp();r||(r=Uo.getHostname());const i=Wc.createWebauthnStamper({rpId:r});this.__turnkeyClient=new $b({baseUrl:Ant},i)}return this.__publicKey})}verifyExportWallet(t){return sr(this,arguments,void 0,function*({exportBundle:n,organizationId:r}){if(!this.__iframeStamper)throw new Ae("Cannot proceed with your request");try{return yield this.__iframeStamper.injectWalletExportBundle(n,r)}catch(i){throw Jr.error("Error while verifying export wallet",i),i}})}verifyExportPrivateKey(t){return sr(this,arguments,void 0,function*({exportBundle:n,organizationId:r,chain:i}){if(!this.__iframeStamper)throw new Ae("Cannot proceed with your request");try{return yield this.__iframeStamper.injectKeyExportBundle(n,r,i==="solana"?ek.Solana:ek.Hexadecimal)}catch(o){throw Jr.error("Error while verifying export private key",o),o}})}exportPrivateKey(t){return sr(this,arguments,void 0,function*({privateKeyId:n,organizationId:r}){if(!this.__iframeStamper||!this.__publicKey||!this.__turnkeyClient||!n)throw new Ae("Cannot proceed with your request");try{return(yield this.__turnkeyClient.exportPrivateKey({organizationId:r,parameters:{privateKeyId:n,targetPublicKey:this.__publicKey},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"})).activity}catch(i){throw Jr.error("Error while completing export private key process",i),i}})}exportWallet(t){return sr(this,arguments,void 0,function*({walletId:n,organizationId:r,address:i}){if(!this.__iframeStamper||!this.__publicKey||!this.__turnkeyClient||!n)throw new Ae("Cannot proceed with your request");try{return i?(yield this.__turnkeyClient.exportWalletAccount({organizationId:r,parameters:{address:i,targetPublicKey:this.__publicKey},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"})).activity:(yield this.__turnkeyClient.exportWallet({organizationId:r,parameters:{targetPublicKey:this.__publicKey,walletId:n},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"})).activity}catch(o){throw Jr.error("Error while completing export wallet process",o),o}})}}class See extends XA{constructor(t,n){if(super(n),this.requiresNonDynamicEmailOtp=!1,this.isEmbeddedWallet=!0,!n.appName)throw new Error("appName not set");this.name=t.name,this.overrideKey=t.key,this.appName=n.appName,this.__authenticatorMethodHandler=Z4,this.__exportHandler=new Rnt}getWebAuthnAttestation(){return sr(this,void 0,void 0,function*(){const t=XL(),n=XL(),{email:r,passkeyIdentifier:i}=this;if(!r&&!i)throw new Error("Email or passkeyIdentifier must be set to register a webauthn credential.");const o=r||`${this.appName} - ${i}`,s={publicKey:{authenticatorSelection:{authenticatorAttachment:void 0,requireResidentKey:!1,residentKey:"preferred",userVerification:"discouraged"},challenge:t,pubKeyCredParams:[{alg:-7,type:"public-key"}],rp:{id:bp(),name:this.appName},user:{displayName:o,id:n,name:r||`${this.appName} - ${i}`}}};let a;try{a=yield Wc.getWebAuthnAttestation(s)}catch(c){Jr.warn(`Unable to register webauthn credential on the current page's TLD ${bp()}. Falling back to using hostname. ${Uo.getHostname()}`,c),s.publicKey.rp.id=Uo.getHostname(),a=yield Wc.getWebAuthnAttestation(s)}return{attestation:{attestationObject:a.attestationObject,clientDataJson:a.clientDataJson,credentialId:a.credentialId,transports:YQe(a.transports)},challenge:bnt(t),displayName:o}})}getAuthenticatorHandler(){return this.__authenticatorMethodHandler}getExportHandler(){return this.__exportHandler}get email(){return this._email}setEmail(t){this._email=t}get phone(){return this._phone}setPhone(t){this._phone=t}get passkeyIdentifier(){return this._passkeyIdentifier}setPasskeyIdentifier(t){this._passkeyIdentifier=t}clearEmail(){this._email=null}getAddress(){return sr(this,void 0,void 0,function*(){var t;return(t=this.verifiedCredential)===null||t===void 0?void 0:t.address})}getConnectedAccounts(){return sr(this,void 0,void 0,function*(){var t;const n=(t=this.verifiedCredential)===null||t===void 0?void 0:t.address;return n?[n]:[]})}getMobileOrInstalledWallet(){return this}get turnkeyAddress(){var t;const{address:n}=(t=this.verifiedCredential)!==null&&t!==void 0?t:{};return n}get walletProperties(){const{walletProperties:t}=this.verifiedCredential||{};return t}set verifiedCredential(t){this._verifiedCredential=t}get verifiedCredential(){return this._verifiedCredential}}const Eee="https://api.turnkey.com",Pnt="genesis-hash";class cp extends See{constructor(t,n){var r;super(t,n),this.walletFallback={brand:{alt:"Turnkey Wallet",spriteId:"turnkey"},name:"Turnkey HD"},this.connectedChain="EVM",this.supportedChains=["ETH","EVM"],this.verifiedCredentialChain="eip155",this.evmNetworks=FA(n.evmNetworks),this.walletUiUtils=n.walletUiUtils,this._turnkeyAccount=void 0,this._selectedChainId=this.getLastUsedChainId(),this.chainRpcProviders=n.chainRpcProviders,(r=this.chainRpcProviders)===null||r===void 0||r.registerEvmProviders(),this.__turnkeyClient=this.getTurnkeyClient()}getLastUsedChainId(){var t;if(this.lastUsedChainId)return this.lastUsedChainId;if(!((t=this.evmNetworks)===null||t===void 0)&&t.length)return this.evmNetworks[0].chainId}getNetwork(){return sr(this,void 0,void 0,function*(){var t;return(t=yield this.getSigner())===null||t===void 0?void 0:t.getChainId()})}supportsNetworkSwitching(){return!0}switchNetwork(t){return sr(this,arguments,void 0,function*({networkChainId:n}){this.lastUsedChainId=n,this._selectedChainId=n,yield this.refreshTurnkeyAccount(),this.emit("chainChange",{chain:n.toString()})})}setVerifiedCredentials(t){const n=KQ(t,"eip155");JSON.stringify(this.verifiedCredential)!==JSON.stringify(n)&&(this.verifiedCredential=n,this.refreshTurnkeyAccount())}getRpcUrl(){const t=this._selectedChainId;return Wj({chainId:t,networks:this.evmNetworks})}getBalance(){return sr(this,void 0,void 0,function*(){const t=this.turnkeyAddress;if(!t)return;const n=this.getRpcUrl();if(!n)return;const i=yield NA({transport:KC(n)}).getBalance({address:t});return N0(i)})}signMessage(t){return sr(this,void 0,void 0,function*(){const n=yield this.getSigner();if(!n)throw new Error("Signer not found");return n.signMessage({message:t})})}getPublicClient(){return sr(this,void 0,void 0,function*(){var t,n,r;if(this.evmNetworks.length===0)return;const i=(t=yield this.getNetwork())!==null&&t!==void 0?t:1,o={cosmos:[],evm:this.evmNetworks,solana:[],starknet:void 0};return(r=(n=this.chainRpcProviders)===null||n===void 0?void 0:n.getEvmProviderByChainId(o,i))===null||r===void 0?void 0:r.provider})}getSigner(){return sr(this,void 0,void 0,function*(){return yield this.getTurnkeyAccount(),this.getWalletClient()})}getTurnkeyClient(){var t;let n=bp();n||(n=Uo.getHostname());const r=Wc.createWebauthnStamper({rpId:n});return this.__turnkeyClient=(t=this.getAuthenticatorHandler().client)!==null&&t!==void 0?t:new $b({baseUrl:Eee},r),this.__turnkeyClient}getAccount(){return sr(this,void 0,void 0,function*(){var t,n;return(this.getAuthenticatorHandler().recoveryType==="passkey"&&((t=this.__turnkeyClient)===null||t===void 0?void 0:t.stamper)instanceof lS||this.getAuthenticatorHandler().recoveryType==="email"&&((n=this.__turnkeyClient)===null||n===void 0?void 0:n.stamper)instanceof aP||this.__turnkeyClient!==this.getAuthenticatorHandler().client)&&(yield this.refreshTurnkeyAccount()),this._turnkeyAccount})}getWalletClient(){const t=this.networkRpcUrl,n=this._turnkeyAccount,r=this.currentEvmNetwork;if(!(!n||!t||!r))return SBe({account:this.getAccount.bind(this),address:this.turnkeyAddress,chain:d2(r),transport:KC(t),walletConnector:this,walletUiUtils:this.walletUiUtils})}refreshTurnkeyAccount(){return sr(this,void 0,void 0,function*(){return this._turnkeyAccount=void 0,this.getTurnkeyAccount()})}get currentChainId(){var t,n,r;return(t=this._selectedChainId)!==null&&t!==void 0?t:(r=(n=this.evmNetworks)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.chainId}get networkRpcUrl(){const t=this.currentChainId;return this.evmNetworks.find(i=>i.chainId===t)?Wj({chainId:t,networks:this.evmNetworks}):void 0}get currentEvmNetwork(){const t=this.currentChainId;return this.evmNetworks.find(n=>n.chainId===t)}getTurnkeyAccount(){return sr(this,void 0,void 0,function*(){var t,n;if(this._turnkeyAccount)return this._turnkeyAccount;const{turnkeySubOrganizationId:r}=(t=this.walletProperties)!==null&&t!==void 0?t:{},{address:i}=(n=this.verifiedCredential)!==null&&n!==void 0?n:{};if(!(!r||!i))return this._turnkeyAccount=yield cQe({client:this.getTurnkeyClient(),ethereumAddress:i,organizationId:r,signWith:i}),this._turnkeyAccount})}get lastUsedChainId(){const t=localStorage.getItem(cp.lastUsedChainIdStorageKey);if(t)try{const n=parseInt(t);if(isNaN(n))return;if(!this.evmNetworks.some(i=>i.chainId===n)){const i=this.evmNetworks[0].chainId;return this.lastUsedChainId=i,this.lastUsedChainId}return n}catch(n){Jr.error(n);return}}set lastUsedChainId(t){t===void 0?localStorage.removeItem(cp.lastUsedChainIdStorageKey):localStorage.setItem(cp.lastUsedChainIdStorageKey,t.toString())}createUiTransaction(t){return sr(this,void 0,void 0,function*(){const n=this.getWalletClient(),r=yield this.getPublicClient();if(!r||!n)throw new Ae("No public client available");return CBe({from:t,publicClient:r,walletClient:n})})}}cp.lastUsedChainIdStorageKey="turnkey-last-used-chain-id";const J4={Turnkey:{key:"turnkey",name:"Turnkey"},TurnkeyHD:{key:"turnkeyhd",name:"Turnkey HD"}},Ont=e=>{var t;return!((t=e.apiProviders)===null||t===void 0)&&t.turnkey?[cp.bind(null,J4.TurnkeyHD),cp.bind(null,J4.Turnkey)]:[]};var rx=Da.Buffer;function Nnt(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=rx.from(m)),!rx.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var g=0,y=0,v=0,w=m.length;v!==w&&m[v]===0;)v++,g++;for(var _=(w-v)*l+1>>>0,E=new Uint8Array(_);v!==w;){for(var C=m[v],T=0,A=_-1;(C!==0||T<y)&&A!==-1;A--,T++)C+=256*E[A]>>>0,E[A]=C%s>>>0,C=C/s>>>0;if(C!==0)throw new Error("Non-zero carry");y=T,v++}for(var S=_-y;S!==_&&E[S]===0;)S++;for(var O=a.repeat(g);S<_;++S)O+=e.charAt(E[S]);return O}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return rx.alloc(0);for(var g=0,y=0,v=0;m[g]===a;)y++,g++;for(var w=(m.length-g)*c+1>>>0,_=new Uint8Array(w);g<m.length;){var E=m.charCodeAt(g);if(E>255)return;var C=t[E];if(C===255)return;for(var T=0,A=w-1;(C!==0||T<v)&&A!==-1;A--,T++)C+=s*_[A]>>>0,_[A]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");v=T,g++}for(var S=w-v;S!==w&&_[S]===0;)S++;var O=rx.allocUnsafe(y+(w-S));O.fill(0,0,y);for(var D=y;S!==w;)O[D++]=_[S++];return O}function p(m){var g=f(m);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:f,decode:p}}var jnt=Nnt,Bnt=jnt,$nt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Mnt=Bnt($nt);const eU=qo(Mnt);let Dnt=class extends TypeError{constructor(t,n){let r;const{message:i,explanation:o,...s}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}};function Lnt(e){return H1(e)&&typeof e[Symbol.iterator]=="function"}function H1(e){return typeof e=="object"&&e!=null}function ik(e){return H1(e)&&!Array.isArray(e)}function Bl(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Unt(e){const{done:t,value:n}=e.next();return t?void 0:n}function Fnt(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Bl(r)}\``}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*tU(e,t,n,r){Lnt(e)||(e=[e]);for(const i of e){const o=Fnt(i,t,n,r);o&&(yield o)}}function*mP(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(e=t.coercer(e,a));let c="valid";for(const l of t.validator(e,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,d,f]of t.entries(e,a)){const p=mP(d,f,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,d],coerce:o,mask:s,message:n.message});for(const m of p)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(d=m[1],l===void 0?e=d:e instanceof Map?e.set(l,d):e instanceof Set?e.add(d):H1(e)&&(d!==void 0||l in e)&&(e[l]=d))}if(c!=="not_valid")for(const l of t.refiner(e,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}let jd=class{constructor(t){const{type:n,schema:r,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{const d=i(c,l);return tU(d,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{const d=o(c,l);return tU(d,l,this,c)}:this.refiner=()=>[]}assert(t,n){return Wnt(t,this,n)}create(t,n){return Db(t,this,n)}is(t){return Cee(t,this)}mask(t,n){return znt(t,this,n)}validate(t,n={}){return K1(t,this,n)}};function Wnt(e,t,n){const r=K1(e,t,{message:n});if(r[0])throw r[0]}function Db(e,t,n){const r=K1(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function znt(e,t,n){const r=K1(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Cee(e,t){return!K1(e,t)[0]}function K1(e,t,n={}){const r=mP(e,t,n),i=Unt(r);return i[0]?[new Dnt(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function em(e,t){return new jd({type:e,schema:null,validator:t})}function qnt(){return em("any",()=>!0)}function nn(e){return new jd({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Bl(t)}`}})}function yd(){return em("boolean",e=>typeof e=="boolean")}function gP(e){return em("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Bl(t)}`)}function po(e){const t=Bl(e),n=typeof e;return new jd({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${Bl(r)}`}})}function Vnt(){return em("never",()=>!1)}function rn(e){return new jd({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function Me(){return em("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Bl(e)}`)}function Hn(e){return new jd({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Iee(e,t){return new jd({type:"record",schema:null,*entries(n){if(H1(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator(n){return ik(n)||`Expected an object, but received: ${Bl(n)}`},coercer(n){return ik(n)?{...n}:n}})}function Ct(){return em("string",e=>typeof e=="string"||`Expected a string, but received: ${Bl(e)}`)}function yP(e){const t=Vnt();return new jd({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Bl(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function dt(e){const t=Object.keys(e);return new jd({type:"type",schema:e,*entries(n){if(H1(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return ik(n)||`Expected an object, but received: ${Bl(n)}`},coercer(n){return ik(n)?{...n}:n}})}function ma(e){const t=e.map(n=>n.type).join(" | ");return new jd({type:"union",schema:null,coercer(n,r){for(const i of e){const[o,s]=i.validate(n,{coerce:!0,mask:r.mask});if(!o)return s}return n},validator(n,r){const i=[];for(const o of e){const[...s]=mP(n,o,r),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Bl(n)}`,...i]}})}function ly(){return em("unknown",()=>!0)}function G1(e,t,n){return new jd({...e,coercer:(r,i)=>Cee(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}function nU(e){try{return cc.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Hnt=e=>Se.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Se.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Se.Buffer.from(e);let Knt=class{constructor(t){Object.assign(this,t)}encode(){return Se.Buffer.from(ny(zx,this))}static decode(t){return ry(zx,this,t)}static decodeUnchecked(t){return ty(zx,this,t)}};const zx=new Map;var Aee;const Gnt=32,_E=32;function Znt(e){return e._bn!==void 0}let rU=1,Ci=class og extends Knt{constructor(t){if(super({}),this._bn=void 0,Znt(t))this._bn=t._bn;else{if(typeof t=="string"){const n=eU.decode(t);if(n.length!=_E)throw new Error("Invalid public key input");this._bn=new pd(n)}else this._bn=new pd(t);if(this._bn.byteLength()>_E)throw new Error("Invalid public key input")}}static unique(){const t=new og(rU);return rU+=1,new og(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return eU.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Se.Buffer);if(t.length===_E)return t;const n=Se.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Se.Buffer.concat([t.toBuffer(),Se.Buffer.from(n),r.toBuffer()]),o=El(i);return new og(o)}static createProgramAddressSync(t,n){let r=Se.Buffer.alloc(0);t.forEach(function(o){if(o.length>Gnt)throw new TypeError("Max seed length exceeded");r=Se.Buffer.concat([r,Hnt(o)])}),r=Se.Buffer.concat([r,n.toBuffer(),Se.Buffer.from("ProgramDerivedAddress")]);const i=El(r);if(nU(i))throw new Error("Invalid seeds, address must fall off the curve");return new og(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Se.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new og(t);return nU(n.toBytes())}};Aee=Ci;Ci.default=new Aee("11111111111111111111111111111111");zx.set(Ci,{kind:"struct",fields:[["_bn","u256"]]});new Ci("BPFLoader1111111111111111111111111111111111");const Jnt=64,yi=(e="publicKey")=>Et(32,e),bg=(e="string")=>{const t=le([he("length"),he("lengthPadding"),Et(vi(he(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const c={chars:Se.Buffer.from(o,"utf8")};return r(c,s,a)},i.alloc=o=>he().span+he().span+Se.Buffer.from(o,"utf8").length,i},Ynt=(e="authorized")=>le([yi("staker"),yi("withdrawer")],e),Xnt=(e="lockup")=>le([xn("unixTimestamp"),xn("epoch"),yi("custodian")],e),Qnt=(e="voteInit")=>le([yi("nodePubkey"),yi("authorizedVoter"),yi("authorizedWithdrawer"),Ve("commission")],e),ert=(e="voteAuthorizeWithSeedArgs")=>le([he("voteAuthorizationType"),yi("currentAuthorityDerivedKeyOwnerPubkey"),bg("currentAuthorityDerivedKeySeed"),yi("newAuthorized")],e);Se.Buffer.alloc(Jnt).fill(0);new Ci("SysvarC1ock11111111111111111111111111111111");new Ci("SysvarEpochSchedu1e111111111111111111111111");new Ci("Sysvar1nstructions1111111111111111111111111");new Ci("SysvarRecentB1ockHashes11111111111111111111");new Ci("SysvarRent111111111111111111111111111111111");new Ci("SysvarRewards111111111111111111111111111111");new Ci("SysvarS1otHashes111111111111111111111111111");new Ci("SysvarS1otHistory11111111111111111111111111");new Ci("SysvarStakeHistory1111111111111111111111111");const trt=Ot("lamportsPerSignature"),nrt=le([he("version"),he("state"),yi("authorizedPubkey"),yi("nonce"),le([trt],"feeCalculator")]);nrt.span;const rrt=e=>{const t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}},irt=e=>t=>{const n=Et(e,t),{encode:r,decode:i}=rrt(n),o=n;return o.decode=(s,a)=>{const c=i(s,a);return M1(Se.Buffer.from(c))},o.encode=(s,a,c)=>{const l=D1(s,e);return r(l,a,c)},o},_0=irt(8);Object.freeze({Create:{index:0,layout:le([he("instruction"),xn("lamports"),xn("space"),yi("programId")])},Assign:{index:1,layout:le([he("instruction"),yi("programId")])},Transfer:{index:2,layout:le([he("instruction"),_0("lamports")])},CreateWithSeed:{index:3,layout:le([he("instruction"),yi("base"),bg("seed"),xn("lamports"),xn("space"),yi("programId")])},AdvanceNonceAccount:{index:4,layout:le([he("instruction")])},WithdrawNonceAccount:{index:5,layout:le([he("instruction"),xn("lamports")])},InitializeNonceAccount:{index:6,layout:le([he("instruction"),yi("authorized")])},AuthorizeNonceAccount:{index:7,layout:le([he("instruction"),yi("authorized")])},Allocate:{index:8,layout:le([he("instruction"),xn("space")])},AllocateWithSeed:{index:9,layout:le([he("instruction"),yi("base"),bg("seed"),xn("space"),yi("programId")])},AssignWithSeed:{index:10,layout:le([he("instruction"),yi("base"),bg("seed"),yi("programId")])},TransferWithSeed:{index:11,layout:le([he("instruction"),_0("lamports"),bg("seed"),yi("programId")])},UpgradeNonceAccount:{index:12,layout:le([he("instruction")])}});new Ci("11111111111111111111111111111111");new Ci("BPFLoader2111111111111111111111111111111111");le([he("typeIndex"),_0("deactivationSlot"),Ot("lastExtendedSlot"),Ve("lastExtendedStartIndex"),Ve(),Tn(yi(),vi(Ve(),-1),"authority")]);const Ro=G1(gP(Ci),Ct(),e=>new Ci(e)),Tee=yP([Ct(),po("base64")]),vP=G1(gP(Se.Buffer),Tee,e=>Se.Buffer.from(e[0],"base64"));function Ree(e){return ma([dt({jsonrpc:po("2.0"),id:Ct(),result:e}),dt({jsonrpc:po("2.0"),id:Ct(),error:dt({code:ly(),message:Ct(),data:Hn(qnt())})})])}const ort=Ree(ly());function Li(e){return G1(Ree(e),ort,t=>"error"in t?t:{...t,result:Db(t.result,e)})}function Fl(e){return Li(dt({context:dt({slot:Me()}),value:e}))}function fS(e){return dt({context:dt({slot:Me()}),value:e})}const srt=dt({foundation:Me(),foundationTerm:Me(),initial:Me(),taper:Me(),terminal:Me()});Li(nn(rn(dt({epoch:Me(),effectiveSlot:Me(),amount:Me(),postBalance:Me(),commission:Hn(rn(Me()))}))));const art=nn(dt({slot:Me(),prioritizationFee:Me()})),crt=dt({total:Me(),validator:Me(),foundation:Me(),epoch:Me()}),lrt=dt({epoch:Me(),slotIndex:Me(),slotsInEpoch:Me(),absoluteSlot:Me(),blockHeight:Hn(Me()),transactionCount:Hn(Me())}),drt=dt({slotsPerEpoch:Me(),leaderScheduleSlotOffset:Me(),warmup:yd(),firstNormalEpoch:Me(),firstNormalSlot:Me()}),urt=Iee(Ct(),nn(Me())),tm=rn(ma([dt({}),Ct()])),frt=dt({err:tm}),hrt=po("receivedSignature");dt({"solana-core":Ct(),"feature-set":Hn(Me())});const prt=dt({program:Ct(),programId:Ro,parsed:ly()}),mrt=dt({programId:Ro,accounts:nn(Ro),data:Ct()});Fl(dt({err:rn(ma([dt({}),Ct()])),logs:rn(nn(Ct())),accounts:Hn(rn(nn(rn(dt({executable:yd(),owner:Ct(),lamports:Me(),data:nn(Ct()),rentEpoch:Hn(Me())}))))),unitsConsumed:Hn(Me()),returnData:Hn(rn(dt({programId:Ct(),data:yP([Ct(),po("base64")])}))),innerInstructions:Hn(rn(nn(dt({index:Me(),instructions:nn(ma([prt,mrt]))}))))}));Fl(dt({byIdentity:Iee(Ct(),nn(Me())),range:dt({firstSlot:Me(),lastSlot:Me()})}));Li(srt);Li(crt);Li(art);Li(lrt);Li(drt);Li(urt);Li(Me());Fl(dt({total:Me(),circulating:Me(),nonCirculating:Me(),nonCirculatingAccounts:nn(Ro)}));const grt=dt({amount:Ct(),uiAmount:rn(Me()),decimals:Me(),uiAmountString:Hn(Ct())});Fl(nn(dt({address:Ro,amount:Ct(),uiAmount:rn(Me()),decimals:Me(),uiAmountString:Hn(Ct())})));Fl(nn(dt({pubkey:Ro,account:dt({executable:yd(),owner:Ro,lamports:Me(),data:vP,rentEpoch:Me()})})));const Y4=dt({program:Ct(),parsed:ly(),space:Me()});Fl(nn(dt({pubkey:Ro,account:dt({executable:yd(),owner:Ro,lamports:Me(),data:Y4,rentEpoch:Me()})})));Fl(nn(dt({lamports:Me(),address:Ro})));const bP=dt({executable:yd(),owner:Ro,lamports:Me(),data:vP,rentEpoch:Me()});dt({pubkey:Ro,account:bP});const yrt=G1(ma([gP(Se.Buffer),Y4]),ma([Tee,Y4]),e=>Array.isArray(e)?Db(e,vP):e),vrt=dt({executable:yd(),owner:Ro,lamports:Me(),data:yrt,rentEpoch:Me()});dt({pubkey:Ro,account:vrt});dt({state:ma([po("active"),po("inactive"),po("activating"),po("deactivating")]),active:Me(),inactive:Me()});Li(nn(dt({signature:Ct(),slot:Me(),err:tm,memo:rn(Ct()),blockTime:Hn(rn(Me()))})));Li(nn(dt({signature:Ct(),slot:Me(),err:tm,memo:rn(Ct()),blockTime:Hn(rn(Me()))})));dt({subscription:Me(),result:fS(bP)});const brt=dt({pubkey:Ro,account:bP});dt({subscription:Me(),result:fS(brt)});const wrt=dt({parent:Me(),slot:Me(),root:Me()});dt({subscription:Me(),result:wrt});const _rt=ma([dt({type:ma([po("firstShredReceived"),po("completed"),po("optimisticConfirmation"),po("root")]),slot:Me(),timestamp:Me()}),dt({type:po("createdBank"),parent:Me(),slot:Me(),timestamp:Me()}),dt({type:po("frozen"),slot:Me(),timestamp:Me(),stats:dt({numTransactionEntries:Me(),numSuccessfulTransactions:Me(),numFailedTransactions:Me(),maxTransactionsPerEntry:Me()})}),dt({type:po("dead"),slot:Me(),timestamp:Me(),err:Ct()})]);dt({subscription:Me(),result:_rt});dt({subscription:Me(),result:fS(ma([frt,hrt]))});dt({subscription:Me(),result:Me()});dt({pubkey:Ct(),gossip:rn(Ct()),tpu:rn(Ct()),rpc:rn(Ct()),version:rn(Ct())});const iU=dt({votePubkey:Ct(),nodePubkey:Ct(),activatedStake:Me(),epochVoteAccount:yd(),epochCredits:nn(yP([Me(),Me(),Me()])),commission:Me(),lastVote:Me(),rootSlot:rn(Me())});Li(dt({current:nn(iU),delinquent:nn(iU)}));const xrt=ma([po("processed"),po("confirmed"),po("finalized")]),krt=dt({slot:Me(),confirmations:rn(Me()),err:tm,confirmationStatus:Hn(xrt)});Fl(nn(rn(krt)));Li(Me());const Pee=dt({accountKey:Ro,writableIndexes:nn(Me()),readonlyIndexes:nn(Me())}),wP=dt({signatures:nn(Ct()),message:dt({accountKeys:nn(Ct()),header:dt({numRequiredSignatures:Me(),numReadonlySignedAccounts:Me(),numReadonlyUnsignedAccounts:Me()}),instructions:nn(dt({accounts:nn(Me()),data:Ct(),programIdIndex:Me()})),recentBlockhash:Ct(),addressTableLookups:Hn(nn(Pee))})}),Oee=dt({pubkey:Ro,signer:yd(),writable:yd(),source:Hn(ma([po("transaction"),po("lookupTable")]))}),Nee=dt({accountKeys:nn(Oee),signatures:nn(Ct())}),jee=dt({parsed:ly(),program:Ct(),programId:Ro}),Bee=dt({accounts:nn(Ro),data:Ct(),programId:Ro}),Srt=ma([Bee,jee]),Ert=ma([dt({parsed:ly(),program:Ct(),programId:Ct()}),dt({accounts:nn(Ct()),data:Ct(),programId:Ct()})]),$ee=G1(Srt,Ert,e=>"accounts"in e?Db(e,Bee):Db(e,jee)),Mee=dt({signatures:nn(Ct()),message:dt({accountKeys:nn(Oee),instructions:nn($ee),recentBlockhash:Ct(),addressTableLookups:Hn(rn(nn(Pee)))})}),ok=dt({accountIndex:Me(),mint:Ct(),owner:Hn(Ct()),programId:Hn(Ct()),uiTokenAmount:grt}),Dee=dt({writable:nn(Ro),readonly:nn(Ro)}),hS=dt({err:tm,fee:Me(),innerInstructions:Hn(rn(nn(dt({index:Me(),instructions:nn(dt({accounts:nn(Me()),data:Ct(),programIdIndex:Me()}))})))),preBalances:nn(Me()),postBalances:nn(Me()),logMessages:Hn(rn(nn(Ct()))),preTokenBalances:Hn(rn(nn(ok))),postTokenBalances:Hn(rn(nn(ok))),loadedAddresses:Hn(Dee),computeUnitsConsumed:Hn(Me())}),_P=dt({err:tm,fee:Me(),innerInstructions:Hn(rn(nn(dt({index:Me(),instructions:nn($ee)})))),preBalances:nn(Me()),postBalances:nn(Me()),logMessages:Hn(rn(nn(Ct()))),preTokenBalances:Hn(rn(nn(ok))),postTokenBalances:Hn(rn(nn(ok))),loadedAddresses:Hn(Dee),computeUnitsConsumed:Hn(Me())}),dy=ma([po(0),po("legacy")]),nm=dt({pubkey:Ct(),lamports:Me(),postBalance:rn(Me()),rewardType:rn(Ct()),commission:Hn(rn(Me()))});Li(rn(dt({blockhash:Ct(),previousBlockhash:Ct(),parentSlot:Me(),transactions:nn(dt({transaction:wP,meta:rn(hS),version:Hn(dy)})),rewards:Hn(nn(nm)),blockTime:rn(Me()),blockHeight:rn(Me())})));Li(rn(dt({blockhash:Ct(),previousBlockhash:Ct(),parentSlot:Me(),rewards:Hn(nn(nm)),blockTime:rn(Me()),blockHeight:rn(Me())})));Li(rn(dt({blockhash:Ct(),previousBlockhash:Ct(),parentSlot:Me(),transactions:nn(dt({transaction:Nee,meta:rn(hS),version:Hn(dy)})),rewards:Hn(nn(nm)),blockTime:rn(Me()),blockHeight:rn(Me())})));Li(rn(dt({blockhash:Ct(),previousBlockhash:Ct(),parentSlot:Me(),transactions:nn(dt({transaction:Mee,meta:rn(_P),version:Hn(dy)})),rewards:Hn(nn(nm)),blockTime:rn(Me()),blockHeight:rn(Me())})));Li(rn(dt({blockhash:Ct(),previousBlockhash:Ct(),parentSlot:Me(),transactions:nn(dt({transaction:Nee,meta:rn(_P),version:Hn(dy)})),rewards:Hn(nn(nm)),blockTime:rn(Me()),blockHeight:rn(Me())})));Li(rn(dt({blockhash:Ct(),previousBlockhash:Ct(),parentSlot:Me(),rewards:Hn(nn(nm)),blockTime:rn(Me()),blockHeight:rn(Me())})));Li(rn(dt({blockhash:Ct(),previousBlockhash:Ct(),parentSlot:Me(),transactions:nn(dt({transaction:wP,meta:rn(hS)})),rewards:Hn(nn(nm)),blockTime:rn(Me())})));Li(rn(dt({blockhash:Ct(),previousBlockhash:Ct(),parentSlot:Me(),signatures:nn(Ct()),blockTime:rn(Me())})));Li(rn(dt({slot:Me(),meta:rn(hS),blockTime:Hn(rn(Me())),transaction:wP,version:Hn(dy)})));Li(rn(dt({slot:Me(),transaction:Mee,meta:rn(_P),blockTime:Hn(rn(Me())),version:Hn(dy)})));Fl(dt({blockhash:Ct(),lastValidBlockHeight:Me()}));Fl(yd());const Crt=dt({slot:Me(),numTransactions:Me(),numSlots:Me(),samplePeriodSecs:Me()});Li(nn(Crt));Fl(rn(dt({feeCalculator:dt({lamportsPerSignature:Me()})})));Li(Ct());Li(Ct());const Irt=dt({err:tm,logs:nn(Ct()),signature:Ct()});dt({result:fS(Irt),subscription:Me()});Object.freeze({CreateLookupTable:{index:0,layout:le([he("instruction"),_0("recentSlot"),Ve("bumpSeed")])},FreezeLookupTable:{index:1,layout:le([he("instruction")])},ExtendLookupTable:{index:2,layout:le([he("instruction"),_0(),Tn(yi(),vi(he(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:le([he("instruction")])},CloseLookupTable:{index:4,layout:le([he("instruction")])}});new Ci("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:le([Ve("instruction"),he("units"),he("additionalFee")])},RequestHeapFrame:{index:1,layout:le([Ve("instruction"),he("bytes")])},SetComputeUnitLimit:{index:2,layout:le([Ve("instruction"),he("units")])},SetComputeUnitPrice:{index:3,layout:le([Ve("instruction"),_0("microLamports")])}});new Ci("ComputeBudget111111111111111111111111111111");le([Ve("numSignatures"),Ve("padding"),Mn("signatureOffset"),Mn("signatureInstructionIndex"),Mn("publicKeyOffset"),Mn("publicKeyInstructionIndex"),Mn("messageDataOffset"),Mn("messageDataSize"),Mn("messageInstructionIndex")]);new Ci("Ed25519SigVerify111111111111111111111111111");m1.utils.isValidPrivateKey;le([Ve("numSignatures"),Mn("signatureOffset"),Ve("signatureInstructionIndex"),Mn("ethAddressOffset"),Ve("ethAddressInstructionIndex"),Mn("messageDataOffset"),Mn("messageDataSize"),Ve("messageInstructionIndex"),Et(20,"ethAddress"),Et(64,"signature"),Ve("recoveryId")]);new Ci("KeccakSecp256k11111111111111111111111111111");var Lee;new Ci("StakeConfig11111111111111111111111111111111");let Uee=class{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}};Lee=Uee;Uee.default=new Lee(0,0,Ci.default);Object.freeze({Initialize:{index:0,layout:le([he("instruction"),Ynt(),Xnt()])},Authorize:{index:1,layout:le([he("instruction"),yi("newAuthorized"),he("stakeAuthorizationType")])},Delegate:{index:2,layout:le([he("instruction")])},Split:{index:3,layout:le([he("instruction"),xn("lamports")])},Withdraw:{index:4,layout:le([he("instruction"),xn("lamports")])},Deactivate:{index:5,layout:le([he("instruction")])},Merge:{index:7,layout:le([he("instruction")])},AuthorizeWithSeed:{index:8,layout:le([he("instruction"),yi("newAuthorized"),he("stakeAuthorizationType"),bg("authoritySeed"),yi("authorityOwner")])}});new Ci("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:le([he("instruction"),Qnt()])},Authorize:{index:1,layout:le([he("instruction"),yi("newAuthorized"),he("voteAuthorizationType")])},Withdraw:{index:3,layout:le([he("instruction"),xn("lamports")])},UpdateValidatorIdentity:{index:4,layout:le([he("instruction")])},AuthorizeWithSeed:{index:10,layout:le([he("instruction"),ert()])}});new Ci("Vote111111111111111111111111111111111111111");new Ci("Va1idator1nfo111111111111111111111111111111");dt({name:Ct(),website:Hn(Ct()),details:Hn(Ct()),iconUrl:Hn(Ct()),keybaseUsername:Hn(Ct())});new Ci("Vote111111111111111111111111111111111111111");le([yi("nodePubkey"),yi("authorizedWithdrawer"),Ve("commission"),Ot(),Tn(le([Ot("slot"),he("confirmationCount")]),vi(he(),-8),"votes"),Ve("rootSlotValid"),Ot("rootSlot"),Ot(),Tn(le([Ot("epoch"),yi("authorizedVoter")]),vi(he(),-8),"authorizedVoters"),le([Tn(le([yi("authorizedPubkey"),Ot("epochOfLastAuthorizedSwitch"),Ot("targetEpoch")]),32,"buf"),Ot("idx"),Ve("isEmpty")],"priorVoters"),Ot(),Tn(le([Ot("epoch"),Ot("credits"),Ot("prevCredits")]),vi(he(),-8),"epochCredits"),le([Ot("slot"),Ot("timestamp")],"lastTimestamp")]);class Art{constructor(t){this.organizationId=t.organizationId,this.client=t.client}async signAllTransactions(t,n){var a,c,l;const r=new Ci(n);let i=t.map(d=>this.getMessageToSign(d).toString("hex"));const s=(c=(a=(await this.signRawPayloads(i,n)).signRawPayloadsResult)==null?void 0:a.signatures)==null?void 0:c.map(d=>`${d==null?void 0:d.r}${d==null?void 0:d.s}`);for(let d in t)(l=t[d])==null||l.addSignature(r,Buffer.from(s[d],"hex"));return t}async addSignature(t,n){var a,c;const r=new Ci(n);let i=this.getMessageToSign(t);const o=await this.signRawPayload(i.toString("hex"),n),s=`${(a=o.signRawPayloadResult)==null?void 0:a.r}${(c=o.signRawPayloadResult)==null?void 0:c.s}`;t.addSignature(r,Buffer.from(s,"hex"))}async signMessage(t,n){var i,o;const r=await this.signRawPayload(Buffer.from(t).toString("hex"),n);return Buffer.from(`${(i=r.signRawPayloadResult)==null?void 0:i.r}${(o=r.signRawPayloadResult)==null?void 0:o.s}`,"hex")}async signRawPayload(t,n){const r=await this.client.signRawPayload({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",organizationId:this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:n,payload:t,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{id:i,status:o,type:s,result:a}=r.activity;if(o!=="ACTIVITY_STATUS_COMPLETED")throw new LL({message:`Expected COMPLETED status, got ${o}`,activityId:i,activityStatus:o,activityType:s});return a}async signRawPayloads(t,n){const r=await this.client.signRawPayloads({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS",organizationId:this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:n,payloads:t,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{id:i,status:o,type:s,result:a}=r.activity;if(o!=="ACTIVITY_STATUS_COMPLETED")throw new LL({message:`Expected COMPLETED status, got ${o}`,activityId:i,activityStatus:o,activityType:s});return a}getMessageToSign(t){let n;return typeof t.serializeMessage=="function"?n=t.serializeMessage():n=Buffer.from(t.message.serialize()),n}}function oU(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,[])).next())})}var ix=Da.Buffer;function Trt(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=ix.from(m)),!ix.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var g=0,y=0,v=0,w=m.length;v!==w&&m[v]===0;)v++,g++;for(var _=(w-v)*l+1>>>0,E=new Uint8Array(_);v!==w;){for(var C=m[v],T=0,A=_-1;(C!==0||T<y)&&A!==-1;A--,T++)C+=256*E[A]>>>0,E[A]=C%s>>>0,C=C/s>>>0;if(C!==0)throw new Error("Non-zero carry");y=T,v++}for(var S=_-y;S!==_&&E[S]===0;)S++;for(var O=a.repeat(g);S<_;++S)O+=e.charAt(E[S]);return O}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return ix.alloc(0);for(var g=0,y=0,v=0;m[g]===a;)y++,g++;for(var w=(m.length-g)*c+1>>>0,_=new Uint8Array(w);g<m.length;){var E=m.charCodeAt(g);if(E>255)return;var C=t[E];if(C===255)return;for(var T=0,A=w-1;(C!==0||T<v)&&A!==-1;A--,T++)C+=s*_[A]>>>0,_[A]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");v=T,g++}for(var S=w-v;S!==w&&_[S]===0;)S++;var O=ix.allocUnsafe(y+(w-S));O.fill(0,0,y);for(var D=y;S!==w;)O[D++]=_[S++];return O}function p(m){var g=f(m);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:f,decode:p}}var Rrt=Trt,Prt=Rrt,Ort="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Nrt=Prt(Ort);const Qa=qo(Nrt);let jrt=class extends TypeError{constructor(t,n){let r;const{message:i,explanation:o,...s}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}};function Brt(e){return Eu(e)&&typeof e[Symbol.iterator]=="function"}function Eu(e){return typeof e=="object"&&e!=null}function $l(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function $rt(e){const{done:t,value:n}=e.next();return t?void 0:n}function Mrt(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${$l(r)}\``}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*sU(e,t,n,r){Brt(e)||(e=[e]);for(const i of e){const o=Mrt(i,t,n,r);o&&(yield o)}}function*xP(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&t.type!=="type"&&Eu(t.schema)&&Eu(e)&&!Array.isArray(e)))for(const l in e)t.schema[l]===void 0&&delete e[l];let c="valid";for(const l of t.validator(e,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,d,f]of t.entries(e,a)){const p=xP(d,f,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,d],coerce:o,mask:s,message:n.message});for(const m of p)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(d=m[1],l===void 0?e=d:e instanceof Map?e.set(l,d):e instanceof Set?e.add(d):Eu(e)&&(d!==void 0||l in e)&&(e[l]=d))}if(c!=="not_valid")for(const l of t.refiner(e,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}let Bd=class{constructor(t){const{type:n,schema:r,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{const d=i(c,l);return sU(d,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{const d=o(c,l);return sU(d,l,this,c)}:this.refiner=()=>[]}assert(t,n){return Drt(t,this,n)}create(t,n){return Lb(t,this,n)}is(t){return Fee(t,this)}mask(t,n){return Lrt(t,this,n)}validate(t,n={}){return Z1(t,this,n)}};function Drt(e,t,n){const r=Z1(e,t,{message:n});if(r[0])throw r[0]}function Lb(e,t,n){const r=Z1(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Lrt(e,t,n){const r=Z1(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Fee(e,t){return!Z1(e,t)[0]}function Z1(e,t,n={}){const r=xP(e,t,n),i=$rt(r);return i[0]?[new jrt(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function rm(e,t){return new Bd({type:e,schema:null,validator:t})}function Urt(){return rm("any",()=>!0)}function ln(e){return new Bd({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${$l(t)}`}})}function vd(){return rm("boolean",e=>typeof e=="boolean")}function kP(e){return rm("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${$l(t)}`)}function mo(e){const t=$l(e),n=typeof e;return new Bd({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${$l(r)}`}})}function Frt(){return rm("never",()=>!1)}function an(e){return new Bd({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function De(){return rm("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${$l(e)}`)}function nr(e){return new Bd({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Wee(e,t){return new Bd({type:"record",schema:null,*entries(n){if(Eu(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator(n){return Eu(n)||`Expected an object, but received: ${$l(n)}`}})}function Mt(){return rm("string",e=>typeof e=="string"||`Expected a string, but received: ${$l(e)}`)}function SP(e){const t=Frt();return new Bd({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${$l(n)}`}})}function pt(e){const t=Object.keys(e);return new Bd({type:"type",schema:e,*entries(n){if(Eu(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return Eu(n)||`Expected an object, but received: ${$l(n)}`},coercer(n){return Eu(n)?{...n}:n}})}function Na(e){const t=e.map(n=>n.type).join(" | ");return new Bd({type:"union",schema:null,coercer(n){for(const r of e){const[i,o]=r.validate(n,{coerce:!0});if(!i)return o}return n},validator(n,r){const i=[];for(const o of e){const[...s]=xP(n,o,r),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${$l(n)}`,...i]}})}function J1(){return rm("unknown",()=>!0)}function Y1(e,t,n){return new Bd({...e,coercer:(r,i)=>Fee(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var zee={},qee={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,d){this.fn=c,this.context=l,this.once=d||!1}function o(c,l,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,p),g=n?n+l:l;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],d,f;if(this._eventsCount===0)return l;for(f in d=this._events)t.call(d,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},a.prototype.listeners=function(l){var d=n?n+l:l,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},a.prototype.listenerCount=function(l){var d=n?n+l:l,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,d,f,p,m,g){var y=n?n+l:l;if(!this._events[y])return!1;var v=this._events[y],w=arguments.length,_,E;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,m),!0;case 6:return v.fn.call(v.context,d,f,p,m,g),!0}for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];v.fn.apply(v.context,_)}else{var C=v.length,T;for(E=0;E<C;E++)switch(v[E].once&&this.removeListener(l,v[E].fn,void 0,!0),w){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,d);break;case 3:v[E].fn.call(v[E].context,d,f);break;case 4:v[E].fn.call(v[E].context,d,f,p);break;default:if(!_)for(T=1,_=new Array(w-1);T<w;T++)_[T-1]=arguments[T];v[E].fn.apply(v[E].context,_)}}return!0},a.prototype.on=function(l,d,f){return o(this,l,d,f,!1)},a.prototype.once=function(l,d,f){return o(this,l,d,f,!0)},a.prototype.removeListener=function(l,d,f,p){var m=n?n+l:l;if(!this._events[m])return this;if(!d)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&s(this,m);else{for(var y=0,v=[],w=g.length;y<w;y++)(g[y].fn!==d||p&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(l){var d;return l?(d=n?n+l:l,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(qee);var Vee=qee.exports,x0={};Object.defineProperty(x0,"__esModule",{value:!0});x0.createError=x0.DefaultDataPack=void 0;const Wrt=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let zrt=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}};x0.DefaultDataPack=zrt;function qrt(e,t){const n={code:e,message:Wrt.get(e)||"Internal Server Error"};return t&&(n.data=t),n}x0.createError=qrt;Object.defineProperty(zee,"__esModule",{value:!0});const Vrt=Vee,Hrt=x0;let Krt=class extends Vrt.EventEmitter{constructor(n,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:o=!0,reconnect_interval:s=1e3,max_reconnects:a=5,...c}={},l,d){super();en(this,"address");en(this,"rpc_id");en(this,"queue");en(this,"options");en(this,"autoconnect");en(this,"ready");en(this,"reconnect");en(this,"reconnect_timer_id");en(this,"reconnect_interval");en(this,"max_reconnects");en(this,"rest_options");en(this,"current_reconnects");en(this,"generate_request_id");en(this,"socket");en(this,"webSocketFactory");en(this,"dataPack");this.webSocketFactory=n,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=o,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=l||(()=>++this.rpc_id),d?this.dataPack=d:this.dataPack=new Hrt.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(n,r,i,o){return!o&&typeof i=="object"&&(o=i,i=null),new Promise((s,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(n,r),l={jsonrpc:"2.0",method:n,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(l),o,d=>{if(d)return a(d);this.queue[c]={promise:[s,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(n){const r=await this.call("rpc.login",n);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(n,r){return new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const s={jsonrpc:"2.0",method:n,params:r};this.socket.send(this.dataPack.encode(s),a=>{if(a)return o(a);i()})})}async subscribe(n){typeof n=="string"&&(n=[n]);const r=await this.call("rpc.on",n);if(typeof n=="string"&&r[n]!=="ok")throw new Error("Failed subscribing to an event '"+n+"' with: "+r[n]);return r}async unsubscribe(n){typeof n=="string"&&(n=[n]);const r=await this.call("rpc.off",n);if(typeof n=="string"&&r[n]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(n,r){this.socket.close(n||1e3,r)}setAutoReconnect(n){this.reconnect=n}setReconnectInterval(n){this.reconnect_interval=n}setMaxReconnects(n){this.max_reconnects=n}_connect(n,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(n,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const o=[i.notification];if(i.params.constructor===Object)o.push(i.params);else for(let s=0;s<i.params.length;s++)o.push(i.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,o)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:o})=>{this.ready&&setTimeout(()=>this.emit("close",i,o),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(n,r),this.reconnect_interval)))})}};zee.default=Krt;var Hee={};Object.defineProperty(Hee,"__esModule",{value:!0});const Grt=Vee;let Zrt=class extends Grt.EventEmitter{constructor(n,r,i){super();en(this,"socket");this.socket=new window.WebSocket(n,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=o=>this.emit("message",o.data),this.socket.onerror=o=>this.emit("error",o),this.socket.onclose=o=>{this.emit("close",o.code,o.reason)}}send(n,r,i){const o=i||r;try{this.socket.send(n),o()}catch(s){o(s)}}close(n,r){this.socket.close(n,r)}addEventListener(n,r,i){this.socket.addEventListener(n,r,i)}};function Jrt(e,t){return new Zrt(e,t)}Hee.default=Jrt;function aU(e){try{return cc.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Yrt=(e,t)=>cc.sign(e,t.slice(0,32)),Xrt=cc.verify,Sa=e=>Se.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Se.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Se.Buffer.from(e);let Qrt=class{constructor(t){Object.assign(this,t)}encode(){return Se.Buffer.from(ny(qx,this))}static decode(t){return ry(qx,this,t)}static decodeUnchecked(t){return ty(qx,this,t)}};const qx=new Map;var Kee;const eit=32,Tv=32;function tit(e){return e._bn!==void 0}let cU=1,Wr=class sg extends Qrt{constructor(t){if(super({}),this._bn=void 0,tit(t))this._bn=t._bn;else{if(typeof t=="string"){const n=Qa.decode(t);if(n.length!=Tv)throw new Error("Invalid public key input");this._bn=new pd(n)}else this._bn=new pd(t);if(this._bn.byteLength()>Tv)throw new Error("Invalid public key input")}}static unique(){const t=new sg(cU);return cU+=1,new sg(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Qa.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Se.Buffer);if(t.length===Tv)return t;const n=Se.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Se.Buffer.concat([t.toBuffer(),Se.Buffer.from(n),r.toBuffer()]),o=El(i);return new sg(o)}static createProgramAddressSync(t,n){let r=Se.Buffer.alloc(0);t.forEach(function(o){if(o.length>eit)throw new TypeError("Max seed length exceeded");r=Se.Buffer.concat([r,Sa(o)])}),r=Se.Buffer.concat([r,n.toBuffer(),Se.Buffer.from("ProgramDerivedAddress")]);const i=El(r);if(aU(i))throw new Error("Invalid seeds, address must fall off the curve");return new sg(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Se.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new sg(t);return aU(n.toBytes())}};Kee=Wr;Wr.default=new Kee("11111111111111111111111111111111");qx.set(Wr,{kind:"struct",fields:[["_bn","u256"]]});new Wr("BPFLoader1111111111111111111111111111111111");const X4=1232,nit=127,Gee=64;let lU=class{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}};const ci=(e="publicKey")=>Et(32,e),wg=(e="string")=>{const t=le([he("length"),he("lengthPadding"),Et(vi(he(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const c={chars:Se.Buffer.from(o,"utf8")};return r(c,s,a)},i.alloc=o=>he().span+he().span+Se.Buffer.from(o,"utf8").length,i},rit=(e="authorized")=>le([ci("staker"),ci("withdrawer")],e),iit=(e="lockup")=>le([xn("unixTimestamp"),xn("epoch"),ci("custodian")],e),oit=(e="voteInit")=>le([ci("nodePubkey"),ci("authorizedVoter"),ci("authorizedWithdrawer"),Ve("commission")],e),sit=(e="voteAuthorizeWithSeedArgs")=>le([he("voteAuthorizationType"),ci("currentAuthorityDerivedKeyOwnerPubkey"),wg("currentAuthorityDerivedKeySeed"),ci("newAuthorized")],e);function Zee(e,t){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(t[i.property]);if("count"in i&&"elementLayout"in i){const o=t[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return Zee({layout:i},t[i.property]);return 0};let r=0;return e.layout.fields.forEach(i=>{r+=n(i)}),r}function pv(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,!(r&128))break}return t}function mv(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function Ga(e,t){if(!e)throw new Error(t||"Assertion failed")}let ait=class Jee{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new Jee(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Ga(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,c])=>c.isSigner&&c.isWritable),r=t.filter(([,c])=>c.isSigner&&!c.isWritable),i=t.filter(([,c])=>!c.isSigner&&c.isWritable),o=t.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Ga(n.length>0,"Expected at least one writable signer key");const[c]=n[0];Ga(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new Wr(c)),...r.map(([c])=>new Wr(c)),...i.map(([c])=>new Wr(c)),...o.map(([c])=>new Wr(c))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Wr(o),c=t.findIndex(l=>l.equals(a));c>=0&&(Ga(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}};const Yee="Reached end of buffer unexpectedly";function ox(e){if(e.length===0)throw new Error(Yee);return e.shift()}function gv(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(Yee);return e.splice(...t)}let dU=class Q4{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new Wr(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Qa.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new lU(this.staticAccountKeys)}static compile(t){const n=ait.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new lU(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Qa.encode(a.data)}));return new Q4({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];mv(n,t);const r=this.instructions.map(f=>{const{accounts:p,programIdIndex:m}=f,g=Array.from(Qa.decode(f.data));let y=[];mv(y,p.length);let v=[];return mv(v,g.length),{programIdIndex:m,keyIndicesCount:Se.Buffer.from(y),keyIndices:p,dataLength:Se.Buffer.from(v),data:g}});let i=[];mv(i,r.length);let o=Se.Buffer.alloc(X4);Se.Buffer.from(i).copy(o);let s=i.length;r.forEach(f=>{const m=le([Ve("programIdIndex"),Et(f.keyIndicesCount.length,"keyIndicesCount"),Tn(Ve("keyIndex"),f.keyIndices.length,"keyIndices"),Et(f.dataLength.length,"dataLength"),Tn(Ve("userdatum"),f.data.length,"data")]).encode(f,o,s);s+=m}),o=o.slice(0,s);const a=le([Et(1,"numRequiredSignatures"),Et(1,"numReadonlySignedAccounts"),Et(1,"numReadonlyUnsignedAccounts"),Et(n.length,"keyCount"),Tn(ci("key"),t,"keys"),ci("recentBlockhash")]),c={numRequiredSignatures:Se.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Se.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Se.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Se.Buffer.from(n),keys:this.accountKeys.map(f=>Sa(f.toBytes())),recentBlockhash:Qa.decode(this.recentBlockhash)};let l=Se.Buffer.alloc(2048);const d=a.encode(c,l);return o.copy(l,d),l.slice(0,d+o.length)}static from(t){let n=[...t];const r=ox(n);if(r!==(r&nit))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=ox(n),o=ox(n),s=pv(n);let a=[];for(let p=0;p<s;p++){const m=gv(n,0,Tv);a.push(new Wr(Se.Buffer.from(m)))}const c=gv(n,0,Tv),l=pv(n);let d=[];for(let p=0;p<l;p++){const m=ox(n),g=pv(n),y=gv(n,0,g),v=pv(n),w=gv(n,0,v),_=Qa.encode(Se.Buffer.from(w));d.push({programIdIndex:m,accounts:y,data:_})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Qa.encode(Se.Buffer.from(c)),accountKeys:a,instructions:d};return new Q4(f)}};const cit=Se.Buffer.alloc(Gee).fill(0);let fl=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Se.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},Xee=class e7{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new fl(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<n.length;y++)if(n[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],o=[];n.forEach(y=>{y.keys.forEach(w=>{o.push({...w})});const v=y.programId.toString();i.includes(v)||i.push(v)}),i.forEach(y=>{o.push({pubkey:new Wr(y),isSigner:!1,isWritable:!1})});const s=[];o.forEach(y=>{const v=y.pubkey.toString(),w=s.findIndex(_=>_.pubkey.toString()===v);w>-1?(s[w].isWritable=s[w].isWritable||y.isWritable,s[w].isSigner=s[w].isSigner||y.isSigner):s.push(y)}),s.sort(function(y,v){if(y.isSigner!==v.isSigner)return y.isSigner?-1:1;if(y.isWritable!==v.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(v.pubkey.toBase58(),"en",w)});const a=s.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=s.splice(a,1);y.isSigner=!0,y.isWritable=!0,s.unshift(y)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const v=s.findIndex(w=>w.pubkey.equals(y.publicKey));if(v>-1)s[v].isSigner||(s[v].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,l=0,d=0;const f=[],p=[];s.forEach(({pubkey:y,isSigner:v,isWritable:w})=>{v?(f.push(y.toString()),c+=1,w||(l+=1)):(p.push(y.toString()),w||(d+=1))});const m=f.concat(p),g=n.map(y=>{const{data:v,programId:w}=y;return{programIdIndex:m.indexOf(w.toString()),accounts:y.keys.map(_=>m.indexOf(_.pubkey.toString())),data:Qa.encode(v)}});return g.forEach(y=>{Ga(y.programIdIndex>=0),y.accounts.forEach(v=>Ga(v>=0))}),new dU({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:g})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=Yrt(r,i.secretKey);this._addSignature(i.publicKey,Sa(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){Ga(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Se.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):Xrt(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];mv(r,n.length);const i=r.length+n.length*64+t.length,o=Se.Buffer.alloc(i);return Ga(n.length<256),Se.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(Ga(s.length===64,"signature has invalid length"),Se.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),Ga(o.length<=X4,`Transaction too large: ${o.length} > ${X4}`),o}get keys(){return Ga(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Ga(this.instructions.length===1),this.instructions[0].programId}get data(){return Ga(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=pv(n);let i=[];for(let o=0;o<r;o++){const s=gv(n,0,Gee);i.push(Qa.encode(Se.Buffer.from(s)))}return e7.populate(dU.from(n),i)}static populate(t,n=[]){const r=new e7;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==Qa.encode(cit)?null:Qa.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new fl({keys:o,programId:t.accountKeys[i.programIdIndex],data:Qa.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}};new Wr("SysvarC1ock11111111111111111111111111111111");new Wr("SysvarEpochSchedu1e111111111111111111111111");new Wr("Sysvar1nstructions1111111111111111111111111");const xE=new Wr("SysvarRecentB1ockHashes11111111111111111111"),uU=new Wr("SysvarRent111111111111111111111111111111111");new Wr("SysvarRewards111111111111111111111111111111");new Wr("SysvarS1otHashes111111111111111111111111111");new Wr("SysvarS1otHistory11111111111111111111111111");new Wr("SysvarStakeHistory1111111111111111111111111");function Ec(e,t){const n=e.layout.span>=0?e.layout.span:Zee(e,t),r=Se.Buffer.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}const lit=Ot("lamportsPerSignature"),dit=le([he("version"),he("state"),ci("authorizedPubkey"),ci("nonce"),le([lit],"feeCalculator")]),fU=dit.span,uit=e=>{const t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}},fit=e=>t=>{const n=Et(e,t),{encode:r,decode:i}=uit(n),o=n;return o.decode=(s,a)=>{const c=i(s,a);return M1(Se.Buffer.from(c))},o.encode=(s,a,c)=>{const l=D1(s,e);return r(l,a,c)},o},k0=fit(8),Cc=Object.freeze({Create:{index:0,layout:le([he("instruction"),xn("lamports"),xn("space"),ci("programId")])},Assign:{index:1,layout:le([he("instruction"),ci("programId")])},Transfer:{index:2,layout:le([he("instruction"),k0("lamports")])},CreateWithSeed:{index:3,layout:le([he("instruction"),ci("base"),wg("seed"),xn("lamports"),xn("space"),ci("programId")])},AdvanceNonceAccount:{index:4,layout:le([he("instruction")])},WithdrawNonceAccount:{index:5,layout:le([he("instruction"),xn("lamports")])},InitializeNonceAccount:{index:6,layout:le([he("instruction"),ci("authorized")])},AuthorizeNonceAccount:{index:7,layout:le([he("instruction"),ci("authorized")])},Allocate:{index:8,layout:le([he("instruction"),xn("space")])},AllocateWithSeed:{index:9,layout:le([he("instruction"),ci("base"),wg("seed"),xn("space"),ci("programId")])},AssignWithSeed:{index:10,layout:le([he("instruction"),ci("base"),wg("seed"),ci("programId")])},TransferWithSeed:{index:11,layout:le([he("instruction"),k0("lamports"),wg("seed"),ci("programId")])},UpgradeNonceAccount:{index:12,layout:le([he("instruction")])}});class Ub{constructor(){}static createAccount(t){const n=Cc.Create,r=Ec(n,{lamports:t.lamports,space:t.space,programId:Sa(t.programId.toBuffer())});return new fl({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let n,r;if("basePubkey"in t){const i=Cc.TransferWithSeed;n=Ec(i,{lamports:BigInt(t.lamports),seed:t.seed,programId:Sa(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Cc.Transfer;n=Ec(i,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new fl({keys:r,programId:this.programId,data:n})}static assign(t){let n,r;if("basePubkey"in t){const i=Cc.AssignWithSeed;n=Ec(i,{base:Sa(t.basePubkey.toBuffer()),seed:t.seed,programId:Sa(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Cc.Assign;n=Ec(i,{programId:Sa(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new fl({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=Cc.CreateWithSeed,r=Ec(n,{base:Sa(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Sa(t.programId.toBuffer())});let i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&i.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new fl({keys:i,programId:this.programId,data:r})}static createNonceAccount(t){const n=new Xee;"basePubkey"in t&&"seed"in t?n.add(Ub.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:fU,programId:this.programId})):n.add(Ub.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:fU,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(t){const n=Cc.InitializeNonceAccount,r=Ec(n,{authorized:Sa(t.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:xE,isSigner:!1,isWritable:!1},{pubkey:uU,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new fl(i)}static nonceAdvance(t){const n=Cc.AdvanceNonceAccount,r=Ec(n),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:xE,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new fl(i)}static nonceWithdraw(t){const n=Cc.WithdrawNonceAccount,r=Ec(n,{lamports:t.lamports});return new fl({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:xE,isSigner:!1,isWritable:!1},{pubkey:uU,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const n=Cc.AuthorizeNonceAccount,r=Ec(n,{authorized:Sa(t.newAuthorizedPubkey.toBuffer())});return new fl({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let n,r;if("basePubkey"in t){const i=Cc.AllocateWithSeed;n=Ec(i,{base:Sa(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Sa(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Cc.Allocate;n=Ec(i,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new fl({keys:r,programId:this.programId,data:n})}}Ub.programId=new Wr("11111111111111111111111111111111");new Wr("BPFLoader2111111111111111111111111111111111");le([he("typeIndex"),k0("deactivationSlot"),Ot("lastExtendedSlot"),Ve("lastExtendedStartIndex"),Ve(),Tn(ci(),vi(Ve(),-1),"authority")]);const ss=Y1(kP(Wr),Mt(),e=>new Wr(e)),Qee=SP([Mt(),mo("base64")]),EP=Y1(kP(Se.Buffer),Qee,e=>Se.Buffer.from(e[0],"base64"));function ete(e){return Na([pt({jsonrpc:mo("2.0"),id:Mt(),result:e}),pt({jsonrpc:mo("2.0"),id:Mt(),error:pt({code:J1(),message:Mt(),data:nr(Urt())})})])}const hit=ete(J1());function Ui(e){return Y1(ete(e),hit,t=>"error"in t?t:{...t,result:Lb(t.result,e)})}function Qc(e){return Ui(pt({context:pt({slot:De()}),value:e}))}function pS(e){return pt({context:pt({slot:De()}),value:e})}const pit=pt({foundation:De(),foundationTerm:De(),initial:De(),taper:De(),terminal:De()});Ui(ln(an(pt({epoch:De(),effectiveSlot:De(),amount:De(),postBalance:De(),commission:nr(an(De()))}))));const mit=ln(pt({slot:De(),prioritizationFee:De()})),git=pt({total:De(),validator:De(),foundation:De(),epoch:De()}),yit=pt({epoch:De(),slotIndex:De(),slotsInEpoch:De(),absoluteSlot:De(),blockHeight:nr(De()),transactionCount:nr(De())}),vit=pt({slotsPerEpoch:De(),leaderScheduleSlotOffset:De(),warmup:vd(),firstNormalEpoch:De(),firstNormalSlot:De()}),bit=Wee(Mt(),ln(De())),im=an(Na([pt({}),Mt()])),wit=pt({err:im}),_it=mo("receivedSignature");pt({"solana-core":Mt(),"feature-set":nr(De())});Qc(pt({err:an(Na([pt({}),Mt()])),logs:an(ln(Mt())),accounts:nr(an(ln(an(pt({executable:vd(),owner:Mt(),lamports:De(),data:ln(Mt()),rentEpoch:nr(De())}))))),unitsConsumed:nr(De()),returnData:nr(an(pt({programId:Mt(),data:SP([Mt(),mo("base64")])})))}));Qc(pt({byIdentity:Wee(Mt(),ln(De())),range:pt({firstSlot:De(),lastSlot:De()})}));Ui(pit);Ui(git);Ui(mit);Ui(yit);Ui(vit);Ui(bit);Ui(De());Qc(pt({total:De(),circulating:De(),nonCirculating:De(),nonCirculatingAccounts:ln(ss)}));const xit=pt({amount:Mt(),uiAmount:an(De()),decimals:De(),uiAmountString:nr(Mt())});Qc(ln(pt({address:ss,amount:Mt(),uiAmount:an(De()),decimals:De(),uiAmountString:nr(Mt())})));Qc(ln(pt({pubkey:ss,account:pt({executable:vd(),owner:ss,lamports:De(),data:EP,rentEpoch:De()})})));const t7=pt({program:Mt(),parsed:J1(),space:De()});Qc(ln(pt({pubkey:ss,account:pt({executable:vd(),owner:ss,lamports:De(),data:t7,rentEpoch:De()})})));Qc(ln(pt({lamports:De(),address:ss})));const CP=pt({executable:vd(),owner:ss,lamports:De(),data:EP,rentEpoch:De()});pt({pubkey:ss,account:CP});const kit=Y1(Na([kP(Se.Buffer),t7]),Na([Qee,t7]),e=>Array.isArray(e)?Lb(e,EP):e),Sit=pt({executable:vd(),owner:ss,lamports:De(),data:kit,rentEpoch:De()});pt({pubkey:ss,account:Sit});pt({state:Na([mo("active"),mo("inactive"),mo("activating"),mo("deactivating")]),active:De(),inactive:De()});Ui(ln(pt({signature:Mt(),slot:De(),err:im,memo:an(Mt()),blockTime:nr(an(De()))})));Ui(ln(pt({signature:Mt(),slot:De(),err:im,memo:an(Mt()),blockTime:nr(an(De()))})));pt({subscription:De(),result:pS(CP)});const Eit=pt({pubkey:ss,account:CP});pt({subscription:De(),result:pS(Eit)});const Cit=pt({parent:De(),slot:De(),root:De()});pt({subscription:De(),result:Cit});const Iit=Na([pt({type:Na([mo("firstShredReceived"),mo("completed"),mo("optimisticConfirmation"),mo("root")]),slot:De(),timestamp:De()}),pt({type:mo("createdBank"),parent:De(),slot:De(),timestamp:De()}),pt({type:mo("frozen"),slot:De(),timestamp:De(),stats:pt({numTransactionEntries:De(),numSuccessfulTransactions:De(),numFailedTransactions:De(),maxTransactionsPerEntry:De()})}),pt({type:mo("dead"),slot:De(),timestamp:De(),err:Mt()})]);pt({subscription:De(),result:Iit});pt({subscription:De(),result:pS(Na([wit,_it]))});pt({subscription:De(),result:De()});pt({pubkey:Mt(),gossip:an(Mt()),tpu:an(Mt()),rpc:an(Mt()),version:an(Mt())});const hU=pt({votePubkey:Mt(),nodePubkey:Mt(),activatedStake:De(),epochVoteAccount:vd(),epochCredits:ln(SP([De(),De(),De()])),commission:De(),lastVote:De(),rootSlot:an(De())});Ui(pt({current:ln(hU),delinquent:ln(hU)}));const Ait=Na([mo("processed"),mo("confirmed"),mo("finalized")]),Tit=pt({slot:De(),confirmations:an(De()),err:im,confirmationStatus:nr(Ait)});Qc(ln(an(Tit)));Ui(De());const tte=pt({accountKey:ss,writableIndexes:ln(De()),readonlyIndexes:ln(De())}),IP=pt({signatures:ln(Mt()),message:pt({accountKeys:ln(Mt()),header:pt({numRequiredSignatures:De(),numReadonlySignedAccounts:De(),numReadonlyUnsignedAccounts:De()}),instructions:ln(pt({accounts:ln(De()),data:Mt(),programIdIndex:De()})),recentBlockhash:Mt(),addressTableLookups:nr(ln(tte))})}),nte=pt({pubkey:ss,signer:vd(),writable:vd(),source:nr(Na([mo("transaction"),mo("lookupTable")]))}),rte=pt({accountKeys:ln(nte),signatures:ln(Mt())}),ite=pt({parsed:J1(),program:Mt(),programId:ss}),ote=pt({accounts:ln(ss),data:Mt(),programId:ss}),Rit=Na([ote,ite]),Pit=Na([pt({parsed:J1(),program:Mt(),programId:Mt()}),pt({accounts:ln(Mt()),data:Mt(),programId:Mt()})]),ste=Y1(Rit,Pit,e=>"accounts"in e?Lb(e,ote):Lb(e,ite)),ate=pt({signatures:ln(Mt()),message:pt({accountKeys:ln(nte),instructions:ln(ste),recentBlockhash:Mt(),addressTableLookups:nr(an(ln(tte)))})}),sk=pt({accountIndex:De(),mint:Mt(),owner:nr(Mt()),uiTokenAmount:xit}),cte=pt({writable:ln(ss),readonly:ln(ss)}),mS=pt({err:im,fee:De(),innerInstructions:nr(an(ln(pt({index:De(),instructions:ln(pt({accounts:ln(De()),data:Mt(),programIdIndex:De()}))})))),preBalances:ln(De()),postBalances:ln(De()),logMessages:nr(an(ln(Mt()))),preTokenBalances:nr(an(ln(sk))),postTokenBalances:nr(an(ln(sk))),loadedAddresses:nr(cte),computeUnitsConsumed:nr(De())}),AP=pt({err:im,fee:De(),innerInstructions:nr(an(ln(pt({index:De(),instructions:ln(ste)})))),preBalances:ln(De()),postBalances:ln(De()),logMessages:nr(an(ln(Mt()))),preTokenBalances:nr(an(ln(sk))),postTokenBalances:nr(an(ln(sk))),loadedAddresses:nr(cte),computeUnitsConsumed:nr(De())}),uy=Na([mo(0),mo("legacy")]),om=pt({pubkey:Mt(),lamports:De(),postBalance:an(De()),rewardType:an(Mt()),commission:nr(an(De()))});Ui(an(pt({blockhash:Mt(),previousBlockhash:Mt(),parentSlot:De(),transactions:ln(pt({transaction:IP,meta:an(mS),version:nr(uy)})),rewards:nr(ln(om)),blockTime:an(De()),blockHeight:an(De())})));Ui(an(pt({blockhash:Mt(),previousBlockhash:Mt(),parentSlot:De(),rewards:nr(ln(om)),blockTime:an(De()),blockHeight:an(De())})));Ui(an(pt({blockhash:Mt(),previousBlockhash:Mt(),parentSlot:De(),transactions:ln(pt({transaction:rte,meta:an(mS),version:nr(uy)})),rewards:nr(ln(om)),blockTime:an(De()),blockHeight:an(De())})));Ui(an(pt({blockhash:Mt(),previousBlockhash:Mt(),parentSlot:De(),transactions:ln(pt({transaction:ate,meta:an(AP),version:nr(uy)})),rewards:nr(ln(om)),blockTime:an(De()),blockHeight:an(De())})));Ui(an(pt({blockhash:Mt(),previousBlockhash:Mt(),parentSlot:De(),transactions:ln(pt({transaction:rte,meta:an(AP),version:nr(uy)})),rewards:nr(ln(om)),blockTime:an(De()),blockHeight:an(De())})));Ui(an(pt({blockhash:Mt(),previousBlockhash:Mt(),parentSlot:De(),rewards:nr(ln(om)),blockTime:an(De()),blockHeight:an(De())})));Ui(an(pt({blockhash:Mt(),previousBlockhash:Mt(),parentSlot:De(),transactions:ln(pt({transaction:IP,meta:an(mS)})),rewards:nr(ln(om)),blockTime:an(De())})));Ui(an(pt({blockhash:Mt(),previousBlockhash:Mt(),parentSlot:De(),signatures:ln(Mt()),blockTime:an(De())})));Ui(an(pt({slot:De(),meta:an(mS),blockTime:nr(an(De())),transaction:IP,version:nr(uy)})));Ui(an(pt({slot:De(),transaction:ate,meta:an(AP),blockTime:nr(an(De())),version:nr(uy)})));Qc(pt({blockhash:Mt(),feeCalculator:pt({lamportsPerSignature:De()})}));Qc(pt({blockhash:Mt(),lastValidBlockHeight:De()}));Qc(vd());const Oit=pt({slot:De(),numTransactions:De(),numSlots:De(),samplePeriodSecs:De()});Ui(ln(Oit));Qc(an(pt({feeCalculator:pt({lamportsPerSignature:De()})})));Ui(Mt());Ui(Mt());const Nit=pt({err:im,logs:ln(Mt()),signature:Mt()});pt({result:pS(Nit),subscription:De()});Object.freeze({CreateLookupTable:{index:0,layout:le([he("instruction"),k0("recentSlot"),Ve("bumpSeed")])},FreezeLookupTable:{index:1,layout:le([he("instruction")])},ExtendLookupTable:{index:2,layout:le([he("instruction"),k0(),Tn(ci(),vi(he(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:le([he("instruction")])},CloseLookupTable:{index:4,layout:le([he("instruction")])}});new Wr("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:le([Ve("instruction"),he("units"),he("additionalFee")])},RequestHeapFrame:{index:1,layout:le([Ve("instruction"),he("bytes")])},SetComputeUnitLimit:{index:2,layout:le([Ve("instruction"),he("units")])},SetComputeUnitPrice:{index:3,layout:le([Ve("instruction"),k0("microLamports")])}});new Wr("ComputeBudget111111111111111111111111111111");le([Ve("numSignatures"),Ve("padding"),Mn("signatureOffset"),Mn("signatureInstructionIndex"),Mn("publicKeyOffset"),Mn("publicKeyInstructionIndex"),Mn("messageDataOffset"),Mn("messageDataSize"),Mn("messageInstructionIndex")]);new Wr("Ed25519SigVerify111111111111111111111111111");m1.utils.isValidPrivateKey;le([Ve("numSignatures"),Mn("signatureOffset"),Ve("signatureInstructionIndex"),Mn("ethAddressOffset"),Ve("ethAddressInstructionIndex"),Mn("messageDataOffset"),Mn("messageDataSize"),Ve("messageInstructionIndex"),Et(20,"ethAddress"),Et(64,"signature"),Ve("recoveryId")]);new Wr("KeccakSecp256k11111111111111111111111111111");var lte;new Wr("StakeConfig11111111111111111111111111111111");let dte=class{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}};lte=dte;dte.default=new lte(0,0,Wr.default);Object.freeze({Initialize:{index:0,layout:le([he("instruction"),rit(),iit()])},Authorize:{index:1,layout:le([he("instruction"),ci("newAuthorized"),he("stakeAuthorizationType")])},Delegate:{index:2,layout:le([he("instruction")])},Split:{index:3,layout:le([he("instruction"),xn("lamports")])},Withdraw:{index:4,layout:le([he("instruction"),xn("lamports")])},Deactivate:{index:5,layout:le([he("instruction")])},Merge:{index:7,layout:le([he("instruction")])},AuthorizeWithSeed:{index:8,layout:le([he("instruction"),ci("newAuthorized"),he("stakeAuthorizationType"),wg("authoritySeed"),ci("authorityOwner")])}});new Wr("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:le([he("instruction"),oit()])},Authorize:{index:1,layout:le([he("instruction"),ci("newAuthorized"),he("voteAuthorizationType")])},Withdraw:{index:3,layout:le([he("instruction"),xn("lamports")])},UpdateValidatorIdentity:{index:4,layout:le([he("instruction")])},AuthorizeWithSeed:{index:10,layout:le([he("instruction"),sit()])}});new Wr("Vote111111111111111111111111111111111111111");new Wr("Va1idator1nfo111111111111111111111111111111");pt({name:Mt(),website:nr(Mt()),details:nr(Mt()),keybaseUsername:nr(Mt())});new Wr("Vote111111111111111111111111111111111111111");le([ci("nodePubkey"),ci("authorizedWithdrawer"),Ve("commission"),Ot(),Tn(le([Ot("slot"),he("confirmationCount")]),vi(he(),-8),"votes"),Ve("rootSlotValid"),Ot("rootSlot"),Ot(),Tn(le([Ot("epoch"),ci("authorizedVoter")]),vi(he(),-8),"authorizedVoters"),le([Tn(le([ci("authorizedPubkey"),Ot("epochOfLastAuthorizedSwitch"),Ot("targetEpoch")]),32,"buf"),Ot("idx"),Ve("isEmpty")],"priorVoters"),Ot(),Tn(le([Ot("epoch"),Ot("credits"),Ot("prevCredits")]),vi(he(),-8),"epochCredits"),le([Ot("slot"),Ot("timestamp")],"lastTimestamp")]);const pU=1e9;class mU{constructor({onSubmit:t,from:n,connection:r,originalTransaction:i}){this.chain="SOL",this.data=void 0,this.fee={gas:void 0},this.from=n,this.onSubmit=t,this.connection=r,this.originalTransaction=i}parse(t){return BigInt(parseFloat(t)*pU)}format(t,{precision:n}={}){return JH(String(parseFloat(t.toString())/pU),{precision:n})}submit(){const t=this.createTransaction();return this.onSubmit(t)}getBalance(){return oU(this,void 0,void 0,function*(){const t=new Wr(this.from),n=yield this.connection.getBalance(t);return BigInt(n)})}validateAddressFormat(t){return t==="dyn_send_transaction.multiple_recipients"?!0:/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(t)}fetchFee(){return oU(this,void 0,void 0,function*(){const t=this.createTransactionSafe();if(!t)return;let n;const{blockhash:r}=yield this.connection.getLatestBlockhash();if("version"in t?(t.message.recentBlockhash=r,n=t.message):(t.recentBlockhash=r,t.feePayer=new Wr(this.from),n=t.compileMessage()),!n)throw new Error("Invalid transaction");const i=yield this.connection.getFeeForMessage(n);this.fee.gas=i.value?BigInt(i.value):void 0})}createTransaction(){const{value:t,to:n}=this;if(!n)throw new Error("Destination is required");if(this.originalTransaction)return this.originalTransaction;const r=new Xee,i=new Wr(this.from),o=new Wr(n),s=t??0;return r.add(Ub.transfer({fromPubkey:i,lamports:s,toPubkey:o})),r}createTransactionSafe(){try{return this.createTransaction()}catch{return}}}const jit=(e,t)=>{if(!e)throw new Error("rpcUrl is required");return new ynt(e,t)},Bit=(e,t)=>sr(void 0,void 0,void 0,function*(){var n;if(!e)throw new Ae("Transaction is required");let r=[];if("version"in e){const i=e.message.addressTableLookups.map(o=>new Nn(o.accountKey));if(i.length>0){const s=(yield Promise.all(i.map(a=>t.getAddressLookupTable(a)))).filter(a=>a!==null).map(a=>a.value);s.length>0&&(r=nk.decompile(e.message,{addressLookupTableAccounts:s}).instructions)}else r=nk.decompile(e.message).instructions}else e.instructions?r=e.instructions:r=(n=Gh.from(Buffer.from(e.serialize())))===null||n===void 0?void 0:n.instructions;if(!(r!=null&&r.length))throw new Ae("Bad formatted instruction");return r.filter(i=>i.programId.equals(uP.programId)).map(i=>{const o=Wet.decodeTransfer(i);return{from:o==null?void 0:o.fromPubkey.toBase58(),to:o==null?void 0:o.toPubkey.toBase58(),value:o==null?void 0:o.lamports}})}),$it=e=>{const t=new Set;let n=BigInt(0);return e.forEach(i=>{t.add(i.to),n+=i.value}),{to:t.size===1?t.values().next().value:"dyn_send_transaction.multiple_recipients",value:n}},kE=e=>`${e}_${Pnt}`;class Mit{constructor({walletConnector:t}){this.isConnected=!0,this.providers=[this],this.walletConnector=t,this.turnkeyAddress=this.walletConnector.turnkeyAddress,this.publicKey=this.turnkeyAddress?new Nn(this.turnkeyAddress):void 0}signMessage(t){return sr(this,void 0,void 0,function*(){const n=yield this.walletConnector.signMessage(t);if(!n)throw new Error("Failed to sign message");return n})}signTransaction(t){return sr(this,void 0,void 0,function*(){return this.walletConnector.signTransaction({transaction:t})})}signAllTransactions(t){return sr(this,void 0,void 0,function*(){throw Error("Method not available for embedded wallet")})}signAndSendTransaction(t,n){return sr(this,void 0,void 0,function*(){return{signature:yield this.walletConnector.signAndSendTransaction(t,n)}})}connect(t){return sr(this,void 0,void 0,function*(){return{address:this.turnkeyAddress,publicKey:this.publicKey}})}disconnect(){return sr(this,void 0,void 0,function*(){})}}class Dit extends See{constructor(t,n){var r;super(t,n),this.connectedChain="SOL",this.supportedChains=["SOL"],this.verifiedCredentialChain="solana",this.solNetworks=n.solNetworks,this.walletUiUtils=n.walletUiUtils,this._turnkeyAccount=void 0,this._connectionClient=void 0,this.chainRpcProviders=n.chainRpcProviders,(r=this.chainRpcProviders)===null||r===void 0||r.registerSolanaProviders(),this.__turnkeyClient=this.getTurnkeyClient()}getRpcUrl(){var t;const[n]=this.solNetworks;if(!n)throw new Ae("No enabled networks");return((t=n.privateCustomerRpcUrls)===null||t===void 0?void 0:t[0])||n.rpcUrls[0]}getConnection(t){if(!this._connectionClient){const n=this.getRpcUrl();if(!n)throw new Ae("No rpcUrl");this._connectionClient=jit(n,t)}return this._connectionClient}getWalletClient(){return this.getConnection()}getNetwork(){return sr(this,void 0,void 0,function*(){const t=this.getConnection();let n=localStorage.getItem(kE(t.rpcEndpoint));return n||(n=yield t.getGenesisHash(),localStorage.setItem(kE(t.rpcEndpoint),n)),n=n.substring(0,32),n==="5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"?"mainnet":n==="EtWTRABZaYq6iMfeYKouRu166VU2xqa1"?"devnet":"testnet"})}getPublicClient(){return sr(this,void 0,void 0,function*(){var t,n;if(this.solNetworks.length===0)return;const r={cosmos:[],evm:void 0,solana:this.solNetworks,starknet:void 0};return(n=(t=this.chainRpcProviders)===null||t===void 0?void 0:t.getSolanaRpcProviderByChainId(r,"101"))===null||n===void 0?void 0:n.provider})}supportsNetworkSwitching(){return!1}setVerifiedCredentials(t){const n=KQ(t,n0.SOLANA);JSON.stringify(this.verifiedCredential)!==JSON.stringify(n)&&(this.verifiedCredential=n,this.refreshTurnkeyAccount())}getAccount(){return this.turnkeyAddress}endSession(){return sr(this,void 0,void 0,function*(){localStorage.removeItem(kE(this.getRpcUrl()))})}refreshTurnkeyAccount(){return sr(this,void 0,void 0,function*(){return this._turnkeyAccount=void 0,this.getTurnkeyAccount()})}getTurnkeyClient(){var t;let n=bp();n||(n=Uo.getHostname());const r=Wc.createWebauthnStamper({rpId:n});return this.__turnkeyClient=(t=this.getAuthenticatorHandler().client)!==null&&t!==void 0?t:new $b({baseUrl:Eee},r),this.__turnkeyClient}createTurnkeyAccount(t){return sr(this,arguments,void 0,function*({organizationId:n}){const r=this.getTurnkeyClient();return new Art({client:r,organizationId:n})})}getTurnkeyAccount(){return sr(this,void 0,void 0,function*(){var t,n,r,i;if(this._turnkeyAccount&&(this.getAuthenticatorHandler().recoveryType==="passkey"&&((t=this.__turnkeyClient)===null||t===void 0?void 0:t.stamper)instanceof aP||this.getAuthenticatorHandler().recoveryType==="email"&&((n=this.__turnkeyClient)===null||n===void 0?void 0:n.stamper)instanceof lS)&&this.__turnkeyClient===this.getAuthenticatorHandler().client)return this._turnkeyAccount;const{turnkeySubOrganizationId:o}=(r=this.walletProperties)!==null&&r!==void 0?r:{},{address:s}=(i=this.verifiedCredential)!==null&&i!==void 0?i:{};if(!(!o||!s))return this._turnkeyAccount=yield this.createTurnkeyAccount({organizationId:o}),this._turnkeyAccount})}getSigner(){return sr(this,void 0,void 0,function*(){return new Mit({walletConnector:this})})}getBalance(){return sr(this,void 0,void 0,function*(){const t=this.getAccount();if(!t)return;const n=this.getConnection(),r=new Nn(t),i=yield n.getBalance(r);return this.lamportsToSol(i).toString()})}signMessage(t){return sr(this,void 0,void 0,function*(){if(!this.turnkeyAddress)throw new Ae("No turnkey account");const n=this.turnkeyAddress;return yield this.walletUiUtils.signMessage({handler:()=>sr(this,void 0,void 0,function*(){var i;const s=new TextEncoder().encode(t),a=yield(i=yield this.getTurnkeyAccount())===null||i===void 0?void 0:i.signMessage(s,n);return Xg(a||Buffer.from([]))}),message:t})})}signTransaction(t){return sr(this,arguments,void 0,function*({transaction:n}){const r=yield this.getTurnkeyAccount(),i=this.turnkeyAddress;if(!r||!i)throw new Error("No turnkey account");return yield r.addSignature(n,i),Buffer.from(n.serialize())})}internalSignAndSendTransaction(t,n){return sr(this,void 0,void 0,function*(){var r,i;if(!this.turnkeyAddress)throw new Ae("Solana wallet not found");const o=this.getConnection("confirmed"),s=yield o.getLatestBlockhash();"version"in t?t.message.recentBlockhash=s.blockhash:(t.recentBlockhash=s.blockhash,t.feePayer=(r=t.feePayer)!==null&&r!==void 0?r:new Nn(this.turnkeyAddress));const a=yield this.signTransaction({transaction:t}),c=yield o.sendRawTransaction(a,n),l={blockhash:s.blockhash,lastValidBlockHeight:s.lastValidBlockHeight,signature:c},d=yield o==null?void 0:o.confirmTransaction(l);return!((i=d==null?void 0:d.value)===null||i===void 0)&&i.err?JSON.stringify(d.value.err):c})}signAndSendTransaction(t,n){return sr(this,void 0,void 0,function*(){if(!this.turnkeyAddress)throw new Ae("Solana wallet not found");const r=yield Bit(t,this.getConnection());if(!(r!=null&&r.length))throw new Ae("Incorrectly formatted transaction instructions");const{to:i,value:o}=$it(r),s=new mU({connection:this.getConnection(),from:this.turnkeyAddress,onSubmit:()=>sr(this,void 0,void 0,function*(){return this.internalSignAndSendTransaction(t,n)}),originalTransaction:t});return s.to=i,s.value=o,this.walletUiUtils.sendTransaction(this,s)})}sendTransaction(t,n){return sr(this,arguments,void 0,function*(r,i,o={}){var s;if(!this.turnkeyAddress)throw new Ae("Solana wallet not found");if(!r||!i)throw new Ae("Transaction and connection are required");const{signers:a}=o,c=aQe(o,["signers"]),l=yield i.getLatestBlockhash({commitment:o.preflightCommitment,minContextSlot:o.minContextSlot});"version"in r?a!=null&&a.length&&r.sign(a):(r.feePayer=r.feePayer||new Nn(this.turnkeyAddress),r.recentBlockhash=r.recentBlockhash||l.blockhash,a!=null&&a.length&&r.partialSign(...a)),c.preflightCommitment=c.preflightCommitment||i.commitment;const d=yield i.sendRawTransaction(r.serialize(),o),f={blockhash:l.blockhash,lastValidBlockHeight:l.lastValidBlockHeight,signature:d},p=yield i==null?void 0:i.confirmTransaction(f);return!((s=p==null?void 0:p.value)===null||s===void 0)&&s.err?JSON.stringify(p.value.err):d})}lamportsToSol(t){return t/vnt}createUiTransaction(t){return sr(this,void 0,void 0,function*(){return new mU({connection:this.getConnection(),from:t,onSubmit:n=>sr(this,void 0,void 0,function*(){return this.internalSignAndSendTransaction(n)})})})}}const Lit=e=>{var t;return!((t=e.apiProviders)===null||t===void 0)&&t.turnkey?[Dit.bind(null,J4.TurnkeyHD)]:[]};function Uit(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Nr(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}class Fit{constructor(t,n){this.wallet=t,this.connector=n}getInstalledProvider(){const t=this.getEip6963Config();if(t){const r=this.eip6963ProviderLookup(t.rdns);if(r)return r}const n=this.getInjectedConfig();if(!(!n||!n.extensionLocators||!n.extensionLocators.length))return this.installedProviderLookup(n.extensionLocators)}getEip6963Config(){if(!(!this.wallet||!this.wallet.eip6963Config))return this.wallet.eip6963Config}getInjectedConfig(){if(!this.wallet||!this.wallet.injectedConfig)return;const{injectedConfig:t}=this.wallet;return t.find(n=>n.chain==="evm")}installedProviders(){const t=this.getInjectedConfig();if(!t)return[];const n=[];if(t.windowLocations)for(const r of t.windowLocations){const i=KH(r);i&&i.length&&n.push(...i)}return window.ethereum&&(!window.ethereum.providers||!window.ethereum.providers.length?n.push(window.ethereum):window.ethereum.providers.forEach(r=>n.push(r))),n}installedProviderLookup(t){const n=this.installedProviders();return lK(n,t)}eip6963ProviderLookup(t){var n;const{providers:r}=qh.get();return(n=r.find(i=>i.info.rdns===t))===null||n===void 0?void 0:n.provider}isInstalledHelper(){return this.findProvider()!==void 0}findProvider(){return this.getInstalledProvider()}findWalletClient(t){const n=this.findProvider();if(n)return nb({account:this.connector.getActiveAccount(),chain:t?YT[t]:void 0,transport:eb(n)})}getAddress(){return Nr(this,void 0,void 0,function*(){const t=this.findWalletClient();return t?this.getAddressWithProvider(t):Promise.resolve(void 0)})}getAddressWithProvider(t){return Nr(this,void 0,void 0,function*(){try{const[n]=yield t.requestAddresses(),r=jk(n);return this.connector.setActiveAccount(r),r}catch(n){return Jr.error(n),Promise.reject(n)}})}signMessage(t){return Nr(this,void 0,void 0,function*(){const n=yield this.getAddress();if(!n)return Promise.resolve(void 0);const r=this.findWalletClient();return r?yield r.signMessage({account:n,message:t}):Promise.resolve(void 0)})}_setupEventListeners(t){const n=this.findProvider();if(!n)return{tearDownEventListeners:()=>{}};const{handleAccountChange:r,handleChainChange:i,handleDisconnect:o}=hK(t);return n.on("accountsChanged",r),n.on("chainChanged",i),n.on("disconnect",o),{tearDownEventListeners:()=>{const a=this.findProvider();a&&(r&&a.removeListener("accountsChanged",r),i&&a.removeListener("chainChanged",i),o&&a.removeListener("disconnect",o))}}}}const Wit=({chainId:e,name:t,networks:n})=>{if(!(!e&&!t))return e&&t?n.find(r=>r.chainId===e&&r.name===t):e?n.find(r=>r.chainId===e):n.find(r=>r.name===t)},zit=e=>Nr(void 0,[e],void 0,function*({rpcProvider:t,address:n}){var r;const i={avatar:void 0,name:void 0},o=yield t.getChainId();if(!o)return i;if(o===8453){try{const s=yield fetch(`https://resolver-api.basename.app/v1/addresses/${n}`);if(s.ok){const a=yield s.json();i.name=(r=a.name)!==null&&r!==void 0?r:void 0}}catch(s){Jr.debug("Failed to fetch ens data",s)}return i}else i.name=yield t.getEnsName({address:n}),i.avatar=i.name?yield t.getEnsAvatar({name:i.name}):void 0;return i});class TP extends XA{getPublicClient(){return Nr(this,void 0,void 0,function*(){var t,n,r;const i=(t=yield this.getNetwork())!==null&&t!==void 0?t:1;if(this.evmNetworks.length===0)return;const o={cosmos:[],evm:this.evmNetworks,solana:[],starknet:void 0};return(r=(n=this.chainRpcProviders)===null||n===void 0?void 0:n.getEvmProviderByChainId(o,i))===null||r===void 0?void 0:r.provider})}constructor(t){var n;super(t),this.evmNetworkRpcMap=()=>this.evmNetworks.reduce((r,i)=>{var o;return[r[i.chainId]]=!((o=i==null?void 0:i.privateCustomerRpcUrls)===null||o===void 0)&&o.length?i.privateCustomerRpcUrls:i.rpcUrls,r},{}),this.evmNetworks=FA(t.evmNetworks),this.chainRpcProviders=t.chainRpcProviders,(n=this.chainRpcProviders)===null||n===void 0||n.registerEvmProviders()}getNetwork(){return Nr(this,void 0,void 0,function*(){const t=this.getWalletClient();return!this.supportsNetworkSwitching||!t?Promise.resolve(void 0):u2(t.getChainId,{fallbackValue:oI,timeoutMs:1e3})})}getNameService(){return Nr(this,void 0,void 0,function*(){const[[t],n]=yield Promise.all([this.getConnectedAccounts(),this.getPublicClient()]);if(!(!t||!n))return zit({address:t,rpcProvider:n})})}getSigner(){return Nr(this,void 0,void 0,function*(){return this.getWalletClient()})}getBalance(){return Nr(this,void 0,void 0,function*(){const[t]=yield this.getConnectedAccounts();if(!t)return;const n=yield this.getPublicClient(),r=yield n==null?void 0:n.getBalance({address:t});if(!(!r&&r!==BigInt(0)))return N0(r)})}supportsNetworkSwitching(){return!0}switchNetwork(t){return Nr(this,arguments,void 0,function*({networkName:n,networkChainId:r}){const i=Wit({chainId:r,name:n,networks:this.evmNetworks});if(!i)throw new Ae(`Could not find network mapping for chain ${n||r}`);if(!this.supportsNetworkSwitching())throw new Ae("Network switching is not supported");const o=this.getWalletClient();if(!o)throw new Ae("Provider not found");return this.providerSwitchNetwork({network:i,provider:o})})}getConnectedAccounts(){return Nr(this,void 0,void 0,function*(){const t=this.getWalletClient();if(!t)return[];const n=yield u2(t.getAddresses,{fallbackValue:[],timeoutMs:500});return n.length&&this.setActiveAccount(n[0]),n})}providerSwitchNetwork(t){return Nr(this,arguments,void 0,function*({network:n,provider:r}){var i,o,s,a;const{chainId:c}=n,l=yield this.getNetwork();if(!(l&&l===c))try{if(!this.supportsNetworkSwitching())throw new Ae("Network switching is not supported");if(yield r.switchChain(d2(n)),this.key==="magiceden"){const d=yield r.getChainId();this.emit("chainChange",{chain:d.toString()})}}catch(d){if(d.code===4902||!((i=d.message)===null||i===void 0)&&i.includes("Unrecognized chain")||((s=(o=d.data)===null||o===void 0?void 0:o.orginalError)===null||s===void 0?void 0:s.code)===4902)return this.providerAddNetwork({network:n,provider:r});throw!((a=d.message)===null||a===void 0)&&a.includes("rejected")||typeof d=="string"&&d.includes("rejected")?new Ae("User rejected the wallet's request to switch network"):d}})}providerAddNetwork(t){return Nr(this,arguments,void 0,function*({network:n,provider:r}){var i;try{return yield r.addChain({chain:d2(n)})}catch(o){throw!((i=o.message)===null||i===void 0)&&i.includes("rejected")||typeof o=="string"&&o.includes("rejected")?new Ae("User rejected the wallet's request to add network"):o}})}setActiveAccount(t){this.activeAccount=t?JT(t):void 0}getActiveAccount(){return this.activeAccount}}var RP={exports:{}},$g=typeof Reflect=="object"?Reflect:null,gU=$g&&typeof $g.apply=="function"?$g.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Vx;$g&&typeof $g.ownKeys=="function"?Vx=$g.ownKeys:Object.getOwnPropertySymbols?Vx=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Vx=function(t){return Object.getOwnPropertyNames(t)};function qit(e){console&&console.warn&&console.warn(e)}var ute=Number.isNaN||function(t){return t!==t};function Ai(){Ai.init.call(this)}RP.exports=Ai;RP.exports.once=Git;Ai.EventEmitter=Ai;Ai.prototype._events=void 0;Ai.prototype._eventsCount=0;Ai.prototype._maxListeners=void 0;var yU=10;function gS(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ai,"defaultMaxListeners",{enumerable:!0,get:function(){return yU},set:function(e){if(typeof e!="number"||e<0||ute(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");yU=e}});Ai.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ai.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ute(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function fte(e){return e._maxListeners===void 0?Ai.defaultMaxListeners:e._maxListeners}Ai.prototype.getMaxListeners=function(){return fte(this)};Ai.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(c===void 0)return!1;if(typeof c=="function")gU(c,this,n);else for(var l=c.length,d=yte(c,l),r=0;r<l;++r)gU(d[r],this,n);return!0};function hte(e,t,n,r){var i,o,s;if(gS(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),s===void 0)s=o[t]=n,++e._eventsCount;else if(typeof s=="function"?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=fte(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,qit(a)}return e}Ai.prototype.addListener=function(t,n){return hte(this,t,n,!1)};Ai.prototype.on=Ai.prototype.addListener;Ai.prototype.prependListener=function(t,n){return hte(this,t,n,!0)};function Vit(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function pte(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=Vit.bind(r);return i.listener=n,r.wrapFn=i,i}Ai.prototype.once=function(t,n){return gS(n),this.on(t,pte(this,t,n)),this};Ai.prototype.prependOnceListener=function(t,n){return gS(n),this.prependListener(t,pte(this,t,n)),this};Ai.prototype.removeListener=function(t,n){var r,i,o,s,a;if(gS(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():Hit(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};Ai.prototype.off=Ai.prototype.removeListener;Ai.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function mte(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?Kit(i):yte(i,i.length)}Ai.prototype.listeners=function(t){return mte(this,t,!0)};Ai.prototype.rawListeners=function(t){return mte(this,t,!1)};Ai.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):gte.call(e,t)};Ai.prototype.listenerCount=gte;function gte(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Ai.prototype.eventNames=function(){return this._eventsCount>0?Vx(this._events):[]};function yte(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Hit(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Kit(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function Git(e,t){return new Promise(function(n,r){function i(s){e.removeListener(t,o),r(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}vte(e,t,o,{once:!0}),t!=="error"&&Zit(e,i,{once:!0})})}function Zit(e,t,n){typeof e.on=="function"&&vte(e,"error",t,n)}function vte(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var ia=RP.exports;const PP=qo(ia);var OP={},yS={};Object.defineProperty(yS,"__esModule",{value:!0});var Vs=V7,n7=Tp,Jit=20;function Yit(e,t,n){for(var r=1634760805,i=857760878,o=2036477234,s=1797285236,a=n[3]<<24|n[2]<<16|n[1]<<8|n[0],c=n[7]<<24|n[6]<<16|n[5]<<8|n[4],l=n[11]<<24|n[10]<<16|n[9]<<8|n[8],d=n[15]<<24|n[14]<<16|n[13]<<8|n[12],f=n[19]<<24|n[18]<<16|n[17]<<8|n[16],p=n[23]<<24|n[22]<<16|n[21]<<8|n[20],m=n[27]<<24|n[26]<<16|n[25]<<8|n[24],g=n[31]<<24|n[30]<<16|n[29]<<8|n[28],y=t[3]<<24|t[2]<<16|t[1]<<8|t[0],v=t[7]<<24|t[6]<<16|t[5]<<8|t[4],w=t[11]<<24|t[10]<<16|t[9]<<8|t[8],_=t[15]<<24|t[14]<<16|t[13]<<8|t[12],E=r,C=i,T=o,A=s,S=a,O=c,D=l,K=d,H=f,X=p,U=m,I=g,x=y,P=v,N=w,$=_,L=0;L<Jit;L+=2)E=E+S|0,x^=E,x=x>>>16|x<<16,H=H+x|0,S^=H,S=S>>>20|S<<12,C=C+O|0,P^=C,P=P>>>16|P<<16,X=X+P|0,O^=X,O=O>>>20|O<<12,T=T+D|0,N^=T,N=N>>>16|N<<16,U=U+N|0,D^=U,D=D>>>20|D<<12,A=A+K|0,$^=A,$=$>>>16|$<<16,I=I+$|0,K^=I,K=K>>>20|K<<12,T=T+D|0,N^=T,N=N>>>24|N<<8,U=U+N|0,D^=U,D=D>>>25|D<<7,A=A+K|0,$^=A,$=$>>>24|$<<8,I=I+$|0,K^=I,K=K>>>25|K<<7,C=C+O|0,P^=C,P=P>>>24|P<<8,X=X+P|0,O^=X,O=O>>>25|O<<7,E=E+S|0,x^=E,x=x>>>24|x<<8,H=H+x|0,S^=H,S=S>>>25|S<<7,E=E+O|0,$^=E,$=$>>>16|$<<16,U=U+$|0,O^=U,O=O>>>20|O<<12,C=C+D|0,x^=C,x=x>>>16|x<<16,I=I+x|0,D^=I,D=D>>>20|D<<12,T=T+K|0,P^=T,P=P>>>16|P<<16,H=H+P|0,K^=H,K=K>>>20|K<<12,A=A+S|0,N^=A,N=N>>>16|N<<16,X=X+N|0,S^=X,S=S>>>20|S<<12,T=T+K|0,P^=T,P=P>>>24|P<<8,H=H+P|0,K^=H,K=K>>>25|K<<7,A=A+S|0,N^=A,N=N>>>24|N<<8,X=X+N|0,S^=X,S=S>>>25|S<<7,C=C+D|0,x^=C,x=x>>>24|x<<8,I=I+x|0,D^=I,D=D>>>25|D<<7,E=E+O|0,$^=E,$=$>>>24|$<<8,U=U+$|0,O^=U,O=O>>>25|O<<7;Vs.writeUint32LE(E+r|0,e,0),Vs.writeUint32LE(C+i|0,e,4),Vs.writeUint32LE(T+o|0,e,8),Vs.writeUint32LE(A+s|0,e,12),Vs.writeUint32LE(S+a|0,e,16),Vs.writeUint32LE(O+c|0,e,20),Vs.writeUint32LE(D+l|0,e,24),Vs.writeUint32LE(K+d|0,e,28),Vs.writeUint32LE(H+f|0,e,32),Vs.writeUint32LE(X+p|0,e,36),Vs.writeUint32LE(U+m|0,e,40),Vs.writeUint32LE(I+g|0,e,44),Vs.writeUint32LE(x+y|0,e,48),Vs.writeUint32LE(P+v|0,e,52),Vs.writeUint32LE(N+w|0,e,56),Vs.writeUint32LE($+_|0,e,60)}function bte(e,t,n,r,i){if(i===void 0&&(i=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var o,s;if(i===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=new Uint8Array(16),s=o.length-t.length,o.set(t,s)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");o=t,s=i}for(var a=new Uint8Array(64),c=0;c<n.length;c+=64){Yit(a,o,e);for(var l=c;l<c+64&&l<n.length;l++)r[l]=n[l]^a[l-c];Qit(o,0,s)}return n7.wipe(a),i===0&&n7.wipe(o),r}yS.streamXOR=bte;function Xit(e,t,n,r){return r===void 0&&(r=0),n7.wipe(n),bte(e,t,n,n,r)}yS.stream=Xit;function Qit(e,t,n){for(var r=1;n--;)r=r+(e[t]&255)|0,e[t]=r&255,r>>>=8,t++;if(r>0)throw new Error("ChaCha: counter overflow")}var wte={},uh={};Object.defineProperty(uh,"__esModule",{value:!0});function eot(e,t,n){return~(e-1)&t|e-1&n}uh.select=eot;function tot(e,t){return(e|0)-(t|0)-1>>>31&1}uh.lessOrEqual=tot;function _te(e,t){if(e.length!==t.length)return 0;for(var n=0,r=0;r<e.length;r++)n|=e[r]^t[r];return 1&n-1>>>8}uh.compare=_te;function not(e,t){return e.length===0||t.length===0?!1:_te(e,t)!==0}uh.equal=not;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=uh,n=Tp;e.DIGEST_LENGTH=16;var r=function(){function s(a){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=a[0]|a[1]<<8;this._r[0]=c&8191;var l=a[2]|a[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var d=a[4]|a[5]<<8;this._r[2]=(l>>>10|d<<6)&7939;var f=a[6]|a[7]<<8;this._r[3]=(d>>>7|f<<9)&8191;var p=a[8]|a[9]<<8;this._r[4]=(f>>>4|p<<12)&255,this._r[5]=p>>>1&8190;var m=a[10]|a[11]<<8;this._r[6]=(p>>>14|m<<2)&8191;var g=a[12]|a[13]<<8;this._r[7]=(m>>>11|g<<5)&8065;var y=a[14]|a[15]<<8;this._r[8]=(g>>>8|y<<8)&8191,this._r[9]=y>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return s.prototype._blocks=function(a,c,l){for(var d=this._fin?0:2048,f=this._h[0],p=this._h[1],m=this._h[2],g=this._h[3],y=this._h[4],v=this._h[5],w=this._h[6],_=this._h[7],E=this._h[8],C=this._h[9],T=this._r[0],A=this._r[1],S=this._r[2],O=this._r[3],D=this._r[4],K=this._r[5],H=this._r[6],X=this._r[7],U=this._r[8],I=this._r[9];l>=16;){var x=a[c+0]|a[c+1]<<8;f+=x&8191;var P=a[c+2]|a[c+3]<<8;p+=(x>>>13|P<<3)&8191;var N=a[c+4]|a[c+5]<<8;m+=(P>>>10|N<<6)&8191;var $=a[c+6]|a[c+7]<<8;g+=(N>>>7|$<<9)&8191;var L=a[c+8]|a[c+9]<<8;y+=($>>>4|L<<12)&8191,v+=L>>>1&8191;var z=a[c+10]|a[c+11]<<8;w+=(L>>>14|z<<2)&8191;var q=a[c+12]|a[c+13]<<8;_+=(z>>>11|q<<5)&8191;var j=a[c+14]|a[c+15]<<8;E+=(q>>>8|j<<8)&8191,C+=j>>>5|d;var W=0,re=W;re+=f*T,re+=p*(5*I),re+=m*(5*U),re+=g*(5*X),re+=y*(5*H),W=re>>>13,re&=8191,re+=v*(5*K),re+=w*(5*D),re+=_*(5*O),re+=E*(5*S),re+=C*(5*A),W+=re>>>13,re&=8191;var de=W;de+=f*A,de+=p*T,de+=m*(5*I),de+=g*(5*U),de+=y*(5*X),W=de>>>13,de&=8191,de+=v*(5*H),de+=w*(5*K),de+=_*(5*D),de+=E*(5*O),de+=C*(5*S),W+=de>>>13,de&=8191;var te=W;te+=f*S,te+=p*A,te+=m*T,te+=g*(5*I),te+=y*(5*U),W=te>>>13,te&=8191,te+=v*(5*X),te+=w*(5*H),te+=_*(5*K),te+=E*(5*D),te+=C*(5*O),W+=te>>>13,te&=8191;var ce=W;ce+=f*O,ce+=p*S,ce+=m*A,ce+=g*T,ce+=y*(5*I),W=ce>>>13,ce&=8191,ce+=v*(5*U),ce+=w*(5*X),ce+=_*(5*H),ce+=E*(5*K),ce+=C*(5*D),W+=ce>>>13,ce&=8191;var ge=W;ge+=f*D,ge+=p*O,ge+=m*S,ge+=g*A,ge+=y*T,W=ge>>>13,ge&=8191,ge+=v*(5*I),ge+=w*(5*U),ge+=_*(5*X),ge+=E*(5*H),ge+=C*(5*K),W+=ge>>>13,ge&=8191;var Ce=W;Ce+=f*K,Ce+=p*D,Ce+=m*O,Ce+=g*S,Ce+=y*A,W=Ce>>>13,Ce&=8191,Ce+=v*T,Ce+=w*(5*I),Ce+=_*(5*U),Ce+=E*(5*X),Ce+=C*(5*H),W+=Ce>>>13,Ce&=8191;var qe=W;qe+=f*H,qe+=p*K,qe+=m*D,qe+=g*O,qe+=y*S,W=qe>>>13,qe&=8191,qe+=v*A,qe+=w*T,qe+=_*(5*I),qe+=E*(5*U),qe+=C*(5*X),W+=qe>>>13,qe&=8191;var J=W;J+=f*X,J+=p*H,J+=m*K,J+=g*D,J+=y*O,W=J>>>13,J&=8191,J+=v*S,J+=w*A,J+=_*T,J+=E*(5*I),J+=C*(5*U),W+=J>>>13,J&=8191;var G=W;G+=f*U,G+=p*X,G+=m*H,G+=g*K,G+=y*D,W=G>>>13,G&=8191,G+=v*O,G+=w*S,G+=_*A,G+=E*T,G+=C*(5*I),W+=G>>>13,G&=8191;var we=W;we+=f*I,we+=p*U,we+=m*X,we+=g*H,we+=y*K,W=we>>>13,we&=8191,we+=v*D,we+=w*O,we+=_*S,we+=E*A,we+=C*T,W+=we>>>13,we&=8191,W=(W<<2)+W|0,W=W+re|0,re=W&8191,W=W>>>13,de+=W,f=re,p=de,m=te,g=ce,y=ge,v=Ce,w=qe,_=J,E=G,C=we,c+=16,l-=16}this._h[0]=f,this._h[1]=p,this._h[2]=m,this._h[3]=g,this._h[4]=y,this._h[5]=v,this._h[6]=w,this._h[7]=_,this._h[8]=E,this._h[9]=C},s.prototype.finish=function(a,c){c===void 0&&(c=0);var l=new Uint16Array(10),d,f,p,m;if(this._leftover){for(m=this._leftover,this._buffer[m++]=1;m<16;m++)this._buffer[m]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(d=this._h[1]>>>13,this._h[1]&=8191,m=2;m<10;m++)this._h[m]+=d,d=this._h[m]>>>13,this._h[m]&=8191;for(this._h[0]+=d*5,d=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=d,d=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=d,l[0]=this._h[0]+5,d=l[0]>>>13,l[0]&=8191,m=1;m<10;m++)l[m]=this._h[m]+d,d=l[m]>>>13,l[m]&=8191;for(l[9]-=8192,f=(d^1)-1,m=0;m<10;m++)l[m]&=f;for(f=~f,m=0;m<10;m++)this._h[m]=this._h[m]&f|l[m];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,p=this._h[0]+this._pad[0],this._h[0]=p&65535,m=1;m<8;m++)p=(this._h[m]+this._pad[m]|0)+(p>>>16)|0,this._h[m]=p&65535;return a[c+0]=this._h[0]>>>0,a[c+1]=this._h[0]>>>8,a[c+2]=this._h[1]>>>0,a[c+3]=this._h[1]>>>8,a[c+4]=this._h[2]>>>0,a[c+5]=this._h[2]>>>8,a[c+6]=this._h[3]>>>0,a[c+7]=this._h[3]>>>8,a[c+8]=this._h[4]>>>0,a[c+9]=this._h[4]>>>8,a[c+10]=this._h[5]>>>0,a[c+11]=this._h[5]>>>8,a[c+12]=this._h[6]>>>0,a[c+13]=this._h[6]>>>8,a[c+14]=this._h[7]>>>0,a[c+15]=this._h[7]>>>8,this._finished=!0,this},s.prototype.update=function(a){var c=0,l=a.length,d;if(this._leftover){d=16-this._leftover,d>l&&(d=l);for(var f=0;f<d;f++)this._buffer[this._leftover+f]=a[c+f];if(l-=d,c+=d,this._leftover+=d,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(d=l-l%16,this._blocks(a,c,d),c+=d,l-=d),l){for(var f=0;f<l;f++)this._buffer[this._leftover+f]=a[c+f];this._leftover+=l}return this},s.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},s.prototype.clean=function(){return n.wipe(this._buffer),n.wipe(this._r),n.wipe(this._h),n.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},s}();e.Poly1305=r;function i(s,a){var c=new r(s);c.update(a);var l=c.digest();return c.clean(),l}e.oneTimeAuth=i;function o(s,a){return s.length!==e.DIGEST_LENGTH||a.length!==e.DIGEST_LENGTH?!1:t.equal(s,a)}e.equal=o})(wte);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=yS,n=wte,r=Tp,i=V7,o=uh;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var s=new Uint8Array(16),a=function(){function c(l){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,l.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,d,f,p){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var m=new Uint8Array(16);m.set(l,m.length-l.length);var g=new Uint8Array(32);t.stream(this._key,m,g,4);var y=d.length+this.tagLength,v;if(p){if(p.length!==y)throw new Error("ChaCha20Poly1305: incorrect destination length");v=p}else v=new Uint8Array(y);return t.streamXOR(this._key,m,d,v,4),this._authenticate(v.subarray(v.length-this.tagLength,v.length),g,v.subarray(0,v.length-this.tagLength),f),r.wipe(m),v},c.prototype.open=function(l,d,f,p){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(d.length<this.tagLength)return null;var m=new Uint8Array(16);m.set(l,m.length-l.length);var g=new Uint8Array(32);t.stream(this._key,m,g,4);var y=new Uint8Array(this.tagLength);if(this._authenticate(y,g,d.subarray(0,d.length-this.tagLength),f),!o.equal(y,d.subarray(d.length-this.tagLength,d.length)))return null;var v=d.length-this.tagLength,w;if(p){if(p.length!==v)throw new Error("ChaCha20Poly1305: incorrect destination length");w=p}else w=new Uint8Array(v);return t.streamXOR(this._key,m,d.subarray(0,d.length-this.tagLength),w,4),r.wipe(m),w},c.prototype.clean=function(){return r.wipe(this._key),this},c.prototype._authenticate=function(l,d,f,p){var m=new n.Poly1305(d);p&&(m.update(p),p.length%16>0&&m.update(s.subarray(p.length%16))),m.update(f),f.length%16>0&&m.update(s.subarray(f.length%16));var g=new Uint8Array(8);p&&i.writeUint64LE(p.length,g),m.update(g),i.writeUint64LE(f.length,g),m.update(g);for(var y=m.digest(),v=0;v<y.length;v++)l[v]=y[v];m.clean(),r.wipe(y),r.wipe(g)},c}();e.ChaCha20Poly1305=a})(OP);var xte={},X1={},NP={};Object.defineProperty(NP,"__esModule",{value:!0});function rot(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}NP.isSerializableHash=rot;Object.defineProperty(X1,"__esModule",{value:!0});var Jl=NP,iot=uh,oot=Tp,kte=function(){function e(t,n){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);n.length>this.blockSize?this._inner.update(n).finish(r).clean():r.set(n);for(var i=0;i<r.length;i++)r[i]^=54;this._inner.update(r);for(var i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),Jl.isSerializableHash(this._inner)&&Jl.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),oot.wipe(r)}return e.prototype.reset=function(){if(!Jl.isSerializableHash(this._inner)||!Jl.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){Jl.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Jl.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!Jl.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!Jl.isSerializableHash(this._inner)||!Jl.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!Jl.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();X1.HMAC=kte;function sot(e,t,n){var r=new kte(e,t);r.update(n);var i=r.digest();return r.clean(),i}X1.hmac=sot;X1.equal=iot.equal;Object.defineProperty(xte,"__esModule",{value:!0});var vU=X1,bU=Tp,aot=function(){function e(t,n,r,i){r===void 0&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=i;var o=vU.hmac(this._hash,r,n);this._hmac=new vU.HMAC(t,o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var n=new Uint8Array(t),r=0;r<n.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),n[r]=this._buffer[this._bufpos++];return n},e.prototype.clean=function(){this._hmac.clean(),bU.wipe(this._buffer),bU.wipe(this._counter),this._bufpos=0},e}(),cot=xte.HKDF=aot,vS={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=V7,n=Tp;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var r=function(){function a(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var d=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[d++],l--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(d=o(this._temp,this._state,c,d,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[d++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,d=this._bufferLength,f=l/536870912|0,p=l<<3,m=l%64<56?64:128;this._buffer[d]=128;for(var g=d+1;g<m-8;g++)this._buffer[g]=0;t.writeUint32BE(f,this._buffer,m-8),t.writeUint32BE(p,this._buffer,m-4),o(this._temp,this._state,this._buffer,0,m),this._finished=!0}for(var g=0;g<this.digestLength/4;g++)t.writeUint32BE(this._state[g],c,g*4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){n.wipe(c.state),c.buffer&&n.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();e.SHA256=r;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(a,c,l,d,f){for(;f>=64;){for(var p=c[0],m=c[1],g=c[2],y=c[3],v=c[4],w=c[5],_=c[6],E=c[7],C=0;C<16;C++){var T=d+C*4;a[C]=t.readUint32BE(l,T)}for(var C=16;C<64;C++){var A=a[C-2],S=(A>>>17|A<<15)^(A>>>19|A<<13)^A>>>10;A=a[C-15];var O=(A>>>7|A<<25)^(A>>>18|A<<14)^A>>>3;a[C]=(S+a[C-7]|0)+(O+a[C-16]|0)}for(var C=0;C<64;C++){var S=(((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&w^~v&_)|0)+(E+(i[C]+a[C]|0)|0)|0,O=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&m^p&g^m&g)|0;E=_,_=w,w=v,v=y+S|0,y=g,g=m,m=p,p=S+O|0}c[0]+=p,c[1]+=m,c[2]+=g,c[3]+=y,c[4]+=v,c[5]+=w,c[6]+=_,c[7]+=E,d+=64,f-=64}return d}function s(a){var c=new r;c.update(a);var l=c.digest();return c.clean(),l}e.hash=s})(vS);var jP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=H7,n=Tp;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function r(C){const T=new Float64Array(16);if(C)for(let A=0;A<C.length;A++)T[A]=C[A];return T}const i=new Uint8Array(32);i[0]=9;const o=r([56129,1]);function s(C){let T=1;for(let A=0;A<16;A++){let S=C[A]+T+65535;T=Math.floor(S/65536),C[A]=S-T*65536}C[0]+=T-1+37*(T-1)}function a(C,T,A){const S=~(A-1);for(let O=0;O<16;O++){const D=S&(C[O]^T[O]);C[O]^=D,T[O]^=D}}function c(C,T){const A=r(),S=r();for(let O=0;O<16;O++)S[O]=T[O];s(S),s(S),s(S);for(let O=0;O<2;O++){A[0]=S[0]-65517;for(let K=1;K<15;K++)A[K]=S[K]-65535-(A[K-1]>>16&1),A[K-1]&=65535;A[15]=S[15]-32767-(A[14]>>16&1);const D=A[15]>>16&1;A[14]&=65535,a(S,A,1-D)}for(let O=0;O<16;O++)C[2*O]=S[O]&255,C[2*O+1]=S[O]>>8}function l(C,T){for(let A=0;A<16;A++)C[A]=T[2*A]+(T[2*A+1]<<8);C[15]&=32767}function d(C,T,A){for(let S=0;S<16;S++)C[S]=T[S]+A[S]}function f(C,T,A){for(let S=0;S<16;S++)C[S]=T[S]-A[S]}function p(C,T,A){let S,O,D=0,K=0,H=0,X=0,U=0,I=0,x=0,P=0,N=0,$=0,L=0,z=0,q=0,j=0,W=0,re=0,de=0,te=0,ce=0,ge=0,Ce=0,qe=0,J=0,G=0,we=0,$e=0,yt=0,Gt=0,_t=0,Rn=0,mr=0,ve=A[0],Ue=A[1],Qe=A[2],Ze=A[3],it=A[4],It=A[5],kt=A[6],St=A[7],Dn=A[8],fn=A[9],cn=A[10],Cr=A[11],Pn=A[12],jn=A[13],Dr=A[14],yn=A[15];S=T[0],D+=S*ve,K+=S*Ue,H+=S*Qe,X+=S*Ze,U+=S*it,I+=S*It,x+=S*kt,P+=S*St,N+=S*Dn,$+=S*fn,L+=S*cn,z+=S*Cr,q+=S*Pn,j+=S*jn,W+=S*Dr,re+=S*yn,S=T[1],K+=S*ve,H+=S*Ue,X+=S*Qe,U+=S*Ze,I+=S*it,x+=S*It,P+=S*kt,N+=S*St,$+=S*Dn,L+=S*fn,z+=S*cn,q+=S*Cr,j+=S*Pn,W+=S*jn,re+=S*Dr,de+=S*yn,S=T[2],H+=S*ve,X+=S*Ue,U+=S*Qe,I+=S*Ze,x+=S*it,P+=S*It,N+=S*kt,$+=S*St,L+=S*Dn,z+=S*fn,q+=S*cn,j+=S*Cr,W+=S*Pn,re+=S*jn,de+=S*Dr,te+=S*yn,S=T[3],X+=S*ve,U+=S*Ue,I+=S*Qe,x+=S*Ze,P+=S*it,N+=S*It,$+=S*kt,L+=S*St,z+=S*Dn,q+=S*fn,j+=S*cn,W+=S*Cr,re+=S*Pn,de+=S*jn,te+=S*Dr,ce+=S*yn,S=T[4],U+=S*ve,I+=S*Ue,x+=S*Qe,P+=S*Ze,N+=S*it,$+=S*It,L+=S*kt,z+=S*St,q+=S*Dn,j+=S*fn,W+=S*cn,re+=S*Cr,de+=S*Pn,te+=S*jn,ce+=S*Dr,ge+=S*yn,S=T[5],I+=S*ve,x+=S*Ue,P+=S*Qe,N+=S*Ze,$+=S*it,L+=S*It,z+=S*kt,q+=S*St,j+=S*Dn,W+=S*fn,re+=S*cn,de+=S*Cr,te+=S*Pn,ce+=S*jn,ge+=S*Dr,Ce+=S*yn,S=T[6],x+=S*ve,P+=S*Ue,N+=S*Qe,$+=S*Ze,L+=S*it,z+=S*It,q+=S*kt,j+=S*St,W+=S*Dn,re+=S*fn,de+=S*cn,te+=S*Cr,ce+=S*Pn,ge+=S*jn,Ce+=S*Dr,qe+=S*yn,S=T[7],P+=S*ve,N+=S*Ue,$+=S*Qe,L+=S*Ze,z+=S*it,q+=S*It,j+=S*kt,W+=S*St,re+=S*Dn,de+=S*fn,te+=S*cn,ce+=S*Cr,ge+=S*Pn,Ce+=S*jn,qe+=S*Dr,J+=S*yn,S=T[8],N+=S*ve,$+=S*Ue,L+=S*Qe,z+=S*Ze,q+=S*it,j+=S*It,W+=S*kt,re+=S*St,de+=S*Dn,te+=S*fn,ce+=S*cn,ge+=S*Cr,Ce+=S*Pn,qe+=S*jn,J+=S*Dr,G+=S*yn,S=T[9],$+=S*ve,L+=S*Ue,z+=S*Qe,q+=S*Ze,j+=S*it,W+=S*It,re+=S*kt,de+=S*St,te+=S*Dn,ce+=S*fn,ge+=S*cn,Ce+=S*Cr,qe+=S*Pn,J+=S*jn,G+=S*Dr,we+=S*yn,S=T[10],L+=S*ve,z+=S*Ue,q+=S*Qe,j+=S*Ze,W+=S*it,re+=S*It,de+=S*kt,te+=S*St,ce+=S*Dn,ge+=S*fn,Ce+=S*cn,qe+=S*Cr,J+=S*Pn,G+=S*jn,we+=S*Dr,$e+=S*yn,S=T[11],z+=S*ve,q+=S*Ue,j+=S*Qe,W+=S*Ze,re+=S*it,de+=S*It,te+=S*kt,ce+=S*St,ge+=S*Dn,Ce+=S*fn,qe+=S*cn,J+=S*Cr,G+=S*Pn,we+=S*jn,$e+=S*Dr,yt+=S*yn,S=T[12],q+=S*ve,j+=S*Ue,W+=S*Qe,re+=S*Ze,de+=S*it,te+=S*It,ce+=S*kt,ge+=S*St,Ce+=S*Dn,qe+=S*fn,J+=S*cn,G+=S*Cr,we+=S*Pn,$e+=S*jn,yt+=S*Dr,Gt+=S*yn,S=T[13],j+=S*ve,W+=S*Ue,re+=S*Qe,de+=S*Ze,te+=S*it,ce+=S*It,ge+=S*kt,Ce+=S*St,qe+=S*Dn,J+=S*fn,G+=S*cn,we+=S*Cr,$e+=S*Pn,yt+=S*jn,Gt+=S*Dr,_t+=S*yn,S=T[14],W+=S*ve,re+=S*Ue,de+=S*Qe,te+=S*Ze,ce+=S*it,ge+=S*It,Ce+=S*kt,qe+=S*St,J+=S*Dn,G+=S*fn,we+=S*cn,$e+=S*Cr,yt+=S*Pn,Gt+=S*jn,_t+=S*Dr,Rn+=S*yn,S=T[15],re+=S*ve,de+=S*Ue,te+=S*Qe,ce+=S*Ze,ge+=S*it,Ce+=S*It,qe+=S*kt,J+=S*St,G+=S*Dn,we+=S*fn,$e+=S*cn,yt+=S*Cr,Gt+=S*Pn,_t+=S*jn,Rn+=S*Dr,mr+=S*yn,D+=38*de,K+=38*te,H+=38*ce,X+=38*ge,U+=38*Ce,I+=38*qe,x+=38*J,P+=38*G,N+=38*we,$+=38*$e,L+=38*yt,z+=38*Gt,q+=38*_t,j+=38*Rn,W+=38*mr,O=1,S=D+O+65535,O=Math.floor(S/65536),D=S-O*65536,S=K+O+65535,O=Math.floor(S/65536),K=S-O*65536,S=H+O+65535,O=Math.floor(S/65536),H=S-O*65536,S=X+O+65535,O=Math.floor(S/65536),X=S-O*65536,S=U+O+65535,O=Math.floor(S/65536),U=S-O*65536,S=I+O+65535,O=Math.floor(S/65536),I=S-O*65536,S=x+O+65535,O=Math.floor(S/65536),x=S-O*65536,S=P+O+65535,O=Math.floor(S/65536),P=S-O*65536,S=N+O+65535,O=Math.floor(S/65536),N=S-O*65536,S=$+O+65535,O=Math.floor(S/65536),$=S-O*65536,S=L+O+65535,O=Math.floor(S/65536),L=S-O*65536,S=z+O+65535,O=Math.floor(S/65536),z=S-O*65536,S=q+O+65535,O=Math.floor(S/65536),q=S-O*65536,S=j+O+65535,O=Math.floor(S/65536),j=S-O*65536,S=W+O+65535,O=Math.floor(S/65536),W=S-O*65536,S=re+O+65535,O=Math.floor(S/65536),re=S-O*65536,D+=O-1+37*(O-1),O=1,S=D+O+65535,O=Math.floor(S/65536),D=S-O*65536,S=K+O+65535,O=Math.floor(S/65536),K=S-O*65536,S=H+O+65535,O=Math.floor(S/65536),H=S-O*65536,S=X+O+65535,O=Math.floor(S/65536),X=S-O*65536,S=U+O+65535,O=Math.floor(S/65536),U=S-O*65536,S=I+O+65535,O=Math.floor(S/65536),I=S-O*65536,S=x+O+65535,O=Math.floor(S/65536),x=S-O*65536,S=P+O+65535,O=Math.floor(S/65536),P=S-O*65536,S=N+O+65535,O=Math.floor(S/65536),N=S-O*65536,S=$+O+65535,O=Math.floor(S/65536),$=S-O*65536,S=L+O+65535,O=Math.floor(S/65536),L=S-O*65536,S=z+O+65535,O=Math.floor(S/65536),z=S-O*65536,S=q+O+65535,O=Math.floor(S/65536),q=S-O*65536,S=j+O+65535,O=Math.floor(S/65536),j=S-O*65536,S=W+O+65535,O=Math.floor(S/65536),W=S-O*65536,S=re+O+65535,O=Math.floor(S/65536),re=S-O*65536,D+=O-1+37*(O-1),C[0]=D,C[1]=K,C[2]=H,C[3]=X,C[4]=U,C[5]=I,C[6]=x,C[7]=P,C[8]=N,C[9]=$,C[10]=L,C[11]=z,C[12]=q,C[13]=j,C[14]=W,C[15]=re}function m(C,T){p(C,T,T)}function g(C,T){const A=r();for(let S=0;S<16;S++)A[S]=T[S];for(let S=253;S>=0;S--)m(A,A),S!==2&&S!==4&&p(A,A,T);for(let S=0;S<16;S++)C[S]=A[S]}function y(C,T){const A=new Uint8Array(32),S=new Float64Array(80),O=r(),D=r(),K=r(),H=r(),X=r(),U=r();for(let N=0;N<31;N++)A[N]=C[N];A[31]=C[31]&127|64,A[0]&=248,l(S,T);for(let N=0;N<16;N++)D[N]=S[N];O[0]=H[0]=1;for(let N=254;N>=0;--N){const $=A[N>>>3]>>>(N&7)&1;a(O,D,$),a(K,H,$),d(X,O,K),f(O,O,K),d(K,D,H),f(D,D,H),m(H,X),m(U,O),p(O,K,O),p(K,D,X),d(X,O,K),f(O,O,K),m(D,O),f(K,H,U),p(O,K,o),d(O,O,H),p(K,K,O),p(O,H,U),p(H,D,S),m(D,X),a(O,D,$),a(K,H,$)}for(let N=0;N<16;N++)S[N+16]=O[N],S[N+32]=K[N],S[N+48]=D[N],S[N+64]=H[N];const I=S.subarray(32),x=S.subarray(16);g(I,I),p(x,x,I);const P=new Uint8Array(32);return c(P,x),P}e.scalarMult=y;function v(C){return y(C,i)}e.scalarMultBase=v;function w(C){if(C.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const T=new Uint8Array(C);return{publicKey:v(T),secretKey:T}}e.generateKeyPairFromSeed=w;function _(C){const T=(0,t.randomBytes)(32,C),A=w(T);return(0,n.wipe)(T),A}e.generateKeyPair=_;function E(C,T,A=!1){if(C.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(T.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const S=y(C,T);if(A){let O=0;for(let D=0;D<S.length;D++)O|=S[D];if(O===0)throw new Error("X25519: invalid shared key")}return S}e.sharedKey=E})(jP);function BP(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Ste(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?BP(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function wU(e,t){t||(t=e.reduce((i,o)=>i+o.length,0));const n=Ste(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return BP(n)}function lot(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function f(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,v=0,w=0,_=g.length;w!==_&&g[w]===0;)w++,y++;for(var E=(_-w)*d+1>>>0,C=new Uint8Array(E);w!==_;){for(var T=g[w],A=0,S=E-1;(T!==0||A<v)&&S!==-1;S--,A++)T+=256*C[S]>>>0,C[S]=T%a>>>0,T=T/a>>>0;if(T!==0)throw new Error("Non-zero carry");v=A,w++}for(var O=E-v;O!==E&&C[O]===0;)O++;for(var D=c.repeat(y);O<E;++O)D+=e.charAt(C[O]);return D}function p(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var v=0,w=0;g[y]===c;)v++,y++;for(var _=(g.length-y)*l+1>>>0,E=new Uint8Array(_);g[y];){var C=n[g.charCodeAt(y)];if(C===255)return;for(var T=0,A=_-1;(C!==0||T<w)&&A!==-1;A--,T++)C+=a*E[A]>>>0,E[A]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");w=T,y++}if(g[y]!==" "){for(var S=_-w;S!==_&&E[S]===0;)S++;for(var O=new Uint8Array(v+(_-S)),D=v;S!==_;)O[D++]=E[S++];return O}}}function m(g){var y=p(g);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:p,decode:m}}var dot=lot,uot=dot;const fot=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},hot=e=>new TextEncoder().encode(e),pot=e=>new TextDecoder().decode(e);class mot{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class got{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Ete(this,t)}}class yot{constructor(t){this.decoders=t}or(t){return Ete(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ete=(e,t)=>new yot({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class vot{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new mot(t,n,r),this.decoder=new got(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const bS=({name:e,prefix:t,encode:n,decode:r})=>new vot(e,t,n,r),Q1=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=uot(n,t);return bS({prefix:e,name:t,encode:r,decode:o=>fot(i(o))})},bot=(e,t,n,r)=>{const i={};for(let d=0;d<t.length;++d)i[t[d]]=d;let o=e.length;for(;e[o-1]==="=";)--o;const s=new Uint8Array(o*n/8|0);let a=0,c=0,l=0;for(let d=0;d<o;++d){const f=i[e[d]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,s[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},wot=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o},js=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>bS({prefix:t,name:e,encode(i){return wot(i,r,n)},decode(i){return bot(i,r,n,e)}}),_ot=bS({prefix:"\0",name:"identity",encode:e=>pot(e),decode:e=>hot(e)}),xot=Object.freeze(Object.defineProperty({__proto__:null,identity:_ot},Symbol.toStringTag,{value:"Module"})),kot=js({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Sot=Object.freeze(Object.defineProperty({__proto__:null,base2:kot},Symbol.toStringTag,{value:"Module"})),Eot=js({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Cot=Object.freeze(Object.defineProperty({__proto__:null,base8:Eot},Symbol.toStringTag,{value:"Module"})),Iot=Q1({prefix:"9",name:"base10",alphabet:"0123456789"}),Aot=Object.freeze(Object.defineProperty({__proto__:null,base10:Iot},Symbol.toStringTag,{value:"Module"})),Tot=js({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Rot=js({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Pot=Object.freeze(Object.defineProperty({__proto__:null,base16:Tot,base16upper:Rot},Symbol.toStringTag,{value:"Module"})),Oot=js({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Not=js({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),jot=js({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Bot=js({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$ot=js({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Mot=js({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Dot=js({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Lot=js({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Uot=js({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Fot=Object.freeze(Object.defineProperty({__proto__:null,base32:Oot,base32hex:$ot,base32hexpad:Dot,base32hexpadupper:Lot,base32hexupper:Mot,base32pad:jot,base32padupper:Bot,base32upper:Not,base32z:Uot},Symbol.toStringTag,{value:"Module"})),Wot=Q1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),zot=Q1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),qot=Object.freeze(Object.defineProperty({__proto__:null,base36:Wot,base36upper:zot},Symbol.toStringTag,{value:"Module"})),Vot=Q1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Hot=Q1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Kot=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Vot,base58flickr:Hot},Symbol.toStringTag,{value:"Module"})),Got=js({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Zot=js({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Jot=js({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Yot=js({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Xot=Object.freeze(Object.defineProperty({__proto__:null,base64:Got,base64pad:Zot,base64url:Jot,base64urlpad:Yot},Symbol.toStringTag,{value:"Module"})),Cte=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Qot=Cte.reduce((e,t,n)=>(e[n]=t,e),[]),est=Cte.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function tst(e){return e.reduce((t,n)=>(t+=Qot[n],t),"")}function nst(e){const t=[];for(const n of e){const r=est[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const rst=bS({prefix:"🚀",name:"base256emoji",encode:tst,decode:nst}),ist=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:rst},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const _U={...xot,...Sot,...Cot,...Aot,...Pot,...Fot,...qot,...Kot,...Xot,...ist};function Ite(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const xU=Ite("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),SE=Ite("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=Ste(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Ate={utf8:xU,"utf-8":xU,hex:_U.base16,latin1:SE,ascii:SE,binary:SE,..._U};function vl(e,t="utf8"){const n=Ate[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?BP(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function Jc(e,t="utf8"){const n=Ate[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}var kU=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},ost=function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e}(),sst=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),ast=function(){function e(t,n,r,i){this.name=t,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return e}(),cst=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),lst=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),dst=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,ust=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,SU=3,fst=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",dst]],EU=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function hst(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new lst:typeof navigator<"u"?mst(navigator.userAgent):yst()}function pst(e){return e!==""&&fst.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]},!1)}function mst(e){var t=pst(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new cst;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<SU&&(i=kU(kU([],i,!0),vst(SU-i.length),!0)):i=[];var o=i.join("."),s=gst(e),a=ust.exec(e);return a&&a[1]?new ast(n,o,s,a[1]):new ost(n,o,s)}function gst(e){for(var t=0,n=EU.length;t<n;t++){var r=EU[t],i=r[0],o=r[1],s=o.exec(e);if(s)return i}return null}function yst(){var e=typeof process<"u"&&process.version;return e?new sst(process.version.slice(1)):null}function vst(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}var On={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r7=function(e,t){return r7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},r7(e,t)};function bst(e,t){r7(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var i7=function(){return i7=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i7.apply(this,arguments)};function wst(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function _st(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function xst(e,t){return function(n,r){t(n,r,e)}}function kst(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Sst(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function Est(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(d){return c([l,d])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(d){l=[6,d],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Cst(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function Ist(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function o7(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tte(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Ast(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Tte(arguments[t]));return e}function Tst(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Fb(e){return this instanceof Fb?(this.v=e,this):new Fb(e)}function Rst(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(p){r[p]&&(i[p]=function(m){return new Promise(function(g,y){o.push([p,m,g,y])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(g){f(o[0][3],g)}}function c(p){p.value instanceof Fb?Promise.resolve(p.value.v).then(l,d):f(o[0][2],p)}function l(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Pst(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(s){return(n=!n)?{value:Fb(e[i](s)),done:i==="return"}:o?o(s):s}:o}}function Ost(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof o7=="function"?o7(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}function Nst(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function jst(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Bst(e){return e&&e.__esModule?e:{default:e}}function $st(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Mst(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const Dst=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return i7},__asyncDelegator:Pst,__asyncGenerator:Rst,__asyncValues:Ost,__await:Fb,__awaiter:Sst,__classPrivateFieldGet:$st,__classPrivateFieldSet:Mst,__createBinding:Cst,__decorate:_st,__exportStar:Ist,__extends:bst,__generator:Est,__importDefault:Bst,__importStar:jst,__makeTemplateObject:Nst,__metadata:kst,__param:xst,__read:Tte,__rest:wst,__spread:Ast,__spreadArrays:Tst,__values:o7},Symbol.toStringTag,{value:"Module"})),wS=Dl(Dst);var EE={},Gy={},CU;function Lst(){if(CU)return Gy;CU=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.delay=void 0;function e(t){return new Promise(n=>{setTimeout(()=>{n(!0)},t)})}return Gy.delay=e,Gy}var Nh={},CE={},jh={},IU;function Ust(){return IU||(IU=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.ONE_THOUSAND=jh.ONE_HUNDRED=void 0,jh.ONE_HUNDRED=100,jh.ONE_THOUSAND=1e3),jh}var IE={},AU;function Fst(){return AU||(AU=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(IE)),IE}var TU;function Rte(){return TU||(TU=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=wS;t.__exportStar(Ust(),e),t.__exportStar(Fst(),e)}(CE)),CE}var RU;function Wst(){if(RU)return Nh;RU=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.fromMiliseconds=Nh.toMiliseconds=void 0;const e=Rte();function t(r){return r*e.ONE_THOUSAND}Nh.toMiliseconds=t;function n(r){return Math.floor(r/e.ONE_THOUSAND)}return Nh.fromMiliseconds=n,Nh}var PU;function zst(){return PU||(PU=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=wS;t.__exportStar(Lst(),e),t.__exportStar(Wst(),e)}(EE)),EE}var Lm={},OU;function qst(){if(OU)return Lm;OU=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Lm.Watch=e,Lm.default=e,Lm}var AE={},Zy={},NU;function Vst(){if(NU)return Zy;NU=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.IWatch=void 0;class e{}return Zy.IWatch=e,Zy}var jU;function Hst(){return jU||(jU=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),wS.__exportStar(Vst(),e)}(AE)),AE}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=wS;t.__exportStar(zst(),e),t.__exportStar(qst(),e),t.__exportStar(Hst(),e),t.__exportStar(Rte(),e)})(On);var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.getLocalStorage=Mi.getLocalStorageOrThrow=Mi.getCrypto=Mi.getCryptoOrThrow=Pte=Mi.getLocation=Mi.getLocationOrThrow=MP=Mi.getNavigator=Mi.getNavigatorOrThrow=$P=Mi.getDocument=Mi.getDocumentOrThrow=Mi.getFromWindowOrThrow=Mi.getFromWindow=void 0;function sm(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}Mi.getFromWindow=sm;function fy(e){const t=sm(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Mi.getFromWindowOrThrow=fy;function Kst(){return fy("document")}Mi.getDocumentOrThrow=Kst;function Gst(){return sm("document")}var $P=Mi.getDocument=Gst;function Zst(){return fy("navigator")}Mi.getNavigatorOrThrow=Zst;function Jst(){return sm("navigator")}var MP=Mi.getNavigator=Jst;function Yst(){return fy("location")}Mi.getLocationOrThrow=Yst;function Xst(){return sm("location")}var Pte=Mi.getLocation=Xst;function Qst(){return fy("crypto")}Mi.getCryptoOrThrow=Qst;function eat(){return sm("crypto")}Mi.getCrypto=eat;function tat(){return fy("localStorage")}Mi.getLocalStorageOrThrow=tat;function nat(){return sm("localStorage")}Mi.getLocalStorage=nat;var DP={};Object.defineProperty(DP,"__esModule",{value:!0});var Ote=DP.getWindowMetadata=void 0;const BU=Mi;function rat(){let e,t;try{e=BU.getDocumentOrThrow(),t=BU.getLocationOrThrow()}catch{return null}function n(){const f=e.getElementsByTagName("link"),p=[];for(let m=0;m<f.length;m++){const g=f[m],y=g.getAttribute("rel");if(y&&y.toLowerCase().indexOf("icon")>-1){const v=g.getAttribute("href");if(v)if(v.toLowerCase().indexOf("https:")===-1&&v.toLowerCase().indexOf("http:")===-1&&v.indexOf("//")!==0){let w=t.protocol+"//"+t.host;if(v.indexOf("/")===0)w+=v;else{const _=t.pathname.split("/");_.pop();const E=_.join("/");w+=E+"/"+v}p.push(w)}else if(v.indexOf("//")===0){const w=t.protocol+v;p.push(w)}else p.push(v)}}return p}function r(...f){const p=e.getElementsByTagName("meta");for(let m=0;m<p.length;m++){const g=p[m],y=["itemprop","property","name"].map(v=>g.getAttribute(v)).filter(v=>v?f.includes(v):!1);if(y.length&&y){const v=g.getAttribute("content");if(v)return v}}return""}function i(){let f=r("name","og:site_name","og:title","twitter:title");return f||(f=e.title),f}function o(){return r("description","og:description","twitter:description","keywords")}const s=i(),a=o(),c=t.origin,l=n();return{description:a,url:c,icons:l,name:s}}Ote=DP.getWindowMetadata=rat;var Wb={},iat=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Nte="%[a-f0-9]{2}",$U=new RegExp("("+Nte+")|([^%]+?)","gi"),MU=new RegExp("("+Nte+")+","gi");function s7(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],s7(n),s7(r))}function oat(e){try{return decodeURIComponent(e)}catch{for(var t=e.match($U)||[],n=1;n<t.length;n++)e=s7(t,n).join(""),t=e.match($U)||[];return e}}function sat(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=MU.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{var r=oat(n[0]);r!==n[0]&&(t[n[0]]=r)}n=MU.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}var aat=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return sat(e)}},cat=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const n=e.indexOf(t);return n===-1?[e]:[e.slice(0,n),e.slice(n+t.length)]},lat=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var s=r[o],a=e[s];(i?t.indexOf(s)!==-1:t(s,a,e))&&(n[s]=a)}return n};(function(e){const t=iat,n=aat,r=cat,i=lat,o=_=>_==null,s=Symbol("encodeFragmentIdentifier");function a(_){switch(_.arrayFormat){case"index":return E=>(C,T)=>{const A=C.length;return T===void 0||_.skipNull&&T===null||_.skipEmptyString&&T===""?C:T===null?[...C,[d(E,_),"[",A,"]"].join("")]:[...C,[d(E,_),"[",d(A,_),"]=",d(T,_)].join("")]};case"bracket":return E=>(C,T)=>T===void 0||_.skipNull&&T===null||_.skipEmptyString&&T===""?C:T===null?[...C,[d(E,_),"[]"].join("")]:[...C,[d(E,_),"[]=",d(T,_)].join("")];case"colon-list-separator":return E=>(C,T)=>T===void 0||_.skipNull&&T===null||_.skipEmptyString&&T===""?C:T===null?[...C,[d(E,_),":list="].join("")]:[...C,[d(E,_),":list=",d(T,_)].join("")];case"comma":case"separator":case"bracket-separator":{const E=_.arrayFormat==="bracket-separator"?"[]=":"=";return C=>(T,A)=>A===void 0||_.skipNull&&A===null||_.skipEmptyString&&A===""?T:(A=A===null?"":A,T.length===0?[[d(C,_),E,d(A,_)].join("")]:[[T,d(A,_)].join(_.arrayFormatSeparator)])}default:return E=>(C,T)=>T===void 0||_.skipNull&&T===null||_.skipEmptyString&&T===""?C:T===null?[...C,d(E,_)]:[...C,[d(E,_),"=",d(T,_)].join("")]}}function c(_){let E;switch(_.arrayFormat){case"index":return(C,T,A)=>{if(E=/\[(\d*)\]$/.exec(C),C=C.replace(/\[\d*\]$/,""),!E){A[C]=T;return}A[C]===void 0&&(A[C]={}),A[C][E[1]]=T};case"bracket":return(C,T,A)=>{if(E=/(\[\])$/.exec(C),C=C.replace(/\[\]$/,""),!E){A[C]=T;return}if(A[C]===void 0){A[C]=[T];return}A[C]=[].concat(A[C],T)};case"colon-list-separator":return(C,T,A)=>{if(E=/(:list)$/.exec(C),C=C.replace(/:list$/,""),!E){A[C]=T;return}if(A[C]===void 0){A[C]=[T];return}A[C]=[].concat(A[C],T)};case"comma":case"separator":return(C,T,A)=>{const S=typeof T=="string"&&T.includes(_.arrayFormatSeparator),O=typeof T=="string"&&!S&&f(T,_).includes(_.arrayFormatSeparator);T=O?f(T,_):T;const D=S||O?T.split(_.arrayFormatSeparator).map(K=>f(K,_)):T===null?T:f(T,_);A[C]=D};case"bracket-separator":return(C,T,A)=>{const S=/(\[\])$/.test(C);if(C=C.replace(/\[\]$/,""),!S){A[C]=T&&f(T,_);return}const O=T===null?[]:T.split(_.arrayFormatSeparator).map(D=>f(D,_));if(A[C]===void 0){A[C]=O;return}A[C]=[].concat(A[C],O)};default:return(C,T,A)=>{if(A[C]===void 0){A[C]=T;return}A[C]=[].concat(A[C],T)}}}function l(_){if(typeof _!="string"||_.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function d(_,E){return E.encode?E.strict?t(_):encodeURIComponent(_):_}function f(_,E){return E.decode?n(_):_}function p(_){return Array.isArray(_)?_.sort():typeof _=="object"?p(Object.keys(_)).sort((E,C)=>Number(E)-Number(C)).map(E=>_[E]):_}function m(_){const E=_.indexOf("#");return E!==-1&&(_=_.slice(0,E)),_}function g(_){let E="";const C=_.indexOf("#");return C!==-1&&(E=_.slice(C)),E}function y(_){_=m(_);const E=_.indexOf("?");return E===-1?"":_.slice(E+1)}function v(_,E){return E.parseNumbers&&!Number.isNaN(Number(_))&&typeof _=="string"&&_.trim()!==""?_=Number(_):E.parseBooleans&&_!==null&&(_.toLowerCase()==="true"||_.toLowerCase()==="false")&&(_=_.toLowerCase()==="true"),_}function w(_,E){E=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},E),l(E.arrayFormatSeparator);const C=c(E),T=Object.create(null);if(typeof _!="string"||(_=_.trim().replace(/^[?#&]/,""),!_))return T;for(const A of _.split("&")){if(A==="")continue;let[S,O]=r(E.decode?A.replace(/\+/g," "):A,"=");O=O===void 0?null:["comma","separator","bracket-separator"].includes(E.arrayFormat)?O:f(O,E),C(f(S,E),O,T)}for(const A of Object.keys(T)){const S=T[A];if(typeof S=="object"&&S!==null)for(const O of Object.keys(S))S[O]=v(S[O],E);else T[A]=v(S,E)}return E.sort===!1?T:(E.sort===!0?Object.keys(T).sort():Object.keys(T).sort(E.sort)).reduce((A,S)=>{const O=T[S];return O&&typeof O=="object"&&!Array.isArray(O)?A[S]=p(O):A[S]=O,A},Object.create(null))}e.extract=y,e.parse=w,e.stringify=(_,E)=>{if(!_)return"";E=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},E),l(E.arrayFormatSeparator);const C=O=>E.skipNull&&o(_[O])||E.skipEmptyString&&_[O]==="",T=a(E),A={};for(const O of Object.keys(_))C(O)||(A[O]=_[O]);const S=Object.keys(A);return E.sort!==!1&&S.sort(E.sort),S.map(O=>{const D=_[O];return D===void 0?"":D===null?d(O,E):Array.isArray(D)?D.length===0&&E.arrayFormat==="bracket-separator"?d(O,E)+"[]":D.reduce(T(O),[]).join("&"):d(O,E)+"="+d(D,E)}).filter(O=>O.length>0).join("&")},e.parseUrl=(_,E)=>{E=Object.assign({decode:!0},E);const[C,T]=r(_,"#");return Object.assign({url:C.split("?")[0]||"",query:w(y(_),E)},E&&E.parseFragmentIdentifier&&T?{fragmentIdentifier:f(T,E)}:{})},e.stringifyUrl=(_,E)=>{E=Object.assign({encode:!0,strict:!0,[s]:!0},E);const C=m(_.url).split("?")[0]||"",T=e.extract(_.url),A=e.parse(T,{sort:!1}),S=Object.assign(A,_.query);let O=e.stringify(S,E);O&&(O=`?${O}`);let D=g(_.url);return _.fragmentIdentifier&&(D=`#${E[s]?d(_.fragmentIdentifier,E):_.fragmentIdentifier}`),`${C}${O}${D}`},e.pick=(_,E,C)=>{C=Object.assign({parseFragmentIdentifier:!0,[s]:!1},C);const{url:T,query:A,fragmentIdentifier:S}=e.parseUrl(_,C);return e.stringifyUrl({url:T,query:i(A,E),fragmentIdentifier:S},C)},e.exclude=(_,E,C)=>{const T=Array.isArray(E)?A=>!E.includes(A):(A,S)=>!E(A,S);return e.pick(_,T,C)}})(Wb);const dat={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},uat=":";function fat(e){const[t,n]=e.split(uat);return{namespace:t,reference:n}}function hat(e,t=[]){const n=[];return Object.keys(e).forEach(r=>{if(t.length&&!t.includes(r))return;const i=e[r];n.push(...i.accounts)}),n}function jte(e,t){return e.includes(":")?[e]:t.chains||[]}const Bte="base10",ha="base16",a7="base64pad",LP="utf8",$te=0,am=1,pat=0,DU=1,c7=12,UP=32;function mat(){const e=jP.generateKeyPair();return{privateKey:Jc(e.secretKey,ha),publicKey:Jc(e.publicKey,ha)}}function l7(){const e=H7.randomBytes(UP);return Jc(e,ha)}function gat(e,t){const n=jP.sharedKey(vl(e,ha),vl(t,ha),!0),r=new cot(vS.SHA256,n).expand(UP);return Jc(r,ha)}function yat(e){const t=vS.hash(vl(e,ha));return Jc(t,ha)}function Mg(e){const t=vS.hash(vl(e,LP));return Jc(t,ha)}function vat(e){return vl(`${e}`,Bte)}function ew(e){return Number(Jc(e,Bte))}function bat(e){const t=vat(typeof e.type<"u"?e.type:$te);if(ew(t)===am&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?vl(e.senderPublicKey,ha):void 0,r=typeof e.iv<"u"?vl(e.iv,ha):H7.randomBytes(c7),i=new OP.ChaCha20Poly1305(vl(e.symKey,ha)).seal(r,vl(e.message,LP));return _at({type:t,sealed:i,iv:r,senderPublicKey:n})}function wat(e){const t=new OP.ChaCha20Poly1305(vl(e.symKey,ha)),{sealed:n,iv:r}=ak(e.encoded),i=t.open(r,n);if(i===null)throw new Error("Failed to decrypt");return Jc(i,LP)}function _at(e){if(ew(e.type)===am){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Jc(wU([e.type,e.senderPublicKey,e.iv,e.sealed]),a7)}return Jc(wU([e.type,e.iv,e.sealed]),a7)}function ak(e){const t=vl(e,a7),n=t.slice(pat,DU),r=DU;if(ew(n)===am){const a=r+UP,c=a+c7,l=t.slice(r,a),d=t.slice(a,c),f=t.slice(c);return{type:n,sealed:f,iv:d,senderPublicKey:l}}const i=r+c7,o=t.slice(r,i),s=t.slice(i);return{type:n,sealed:s,iv:o}}function xat(e,t){const n=ak(e);return Mte({type:ew(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Jc(n.senderPublicKey,ha):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function Mte(e){const t=(e==null?void 0:e.type)||$te;if(t===am){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function LU(e){return e.type===am&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}var kat=Object.defineProperty,UU=Object.getOwnPropertySymbols,Sat=Object.prototype.hasOwnProperty,Eat=Object.prototype.propertyIsEnumerable,FU=(e,t,n)=>t in e?kat(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WU=(e,t)=>{for(var n in t||(t={}))Sat.call(t,n)&&FU(e,n,t[n]);if(UU)for(var n of UU(t))Eat.call(t,n)&&FU(e,n,t[n]);return e};const Cat="ReactNative",ec={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Iat="js";function FP(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function hy(){return!$P()&&!!MP()&&navigator.product===Cat}function py(){return!FP()&&!!MP()&&!!$P()}function tw(){return hy()?ec.reactNative:FP()?ec.node:py()?ec.browser:ec.unknown}function Aat(){var e;try{return hy()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function Tat(e,t){let n=Wb.parse(e);return n=WU(WU({},n),t),e=Wb.stringify(n),e}function Rat(){return Ote()||{name:"",description:"",url:"",icons:[""]}}function Pat(){if(tw()===ec.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const e=hst();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function Oat(){var e;const t=tw();return t===ec.browser?[t,((e=Pte())==null?void 0:e.host)||"unknown"].join(":"):t}function Nat(e,t,n){const r=Pat(),i=Oat();return[[e,t].join("-"),[Iat,n].join("-"),r,i].join("/")}function jat({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:i,projectId:o,useOnCloseEvent:s,bundleId:a}){const c=n.split("?"),l=Nat(e,t,r),d={auth:i,ua:l,projectId:o,useOnCloseEvent:s||void 0,origin:a||void 0},f=Tat(c[1]||"",d);return c[0]+"?"+f}function tp(e,t){return e.filter(n=>t.includes(n)).length===e.length}function Dte(e){return Object.fromEntries(e.entries())}function Lte(e){return new Map(Object.entries(e))}function ag(e=On.FIVE_MINUTES,t){const n=On.toMiliseconds(e||On.FIVE_MINUTES);let r,i,o;return{resolve:s=>{o&&r&&(clearTimeout(o),r(s))},reject:s=>{o&&i&&(clearTimeout(o),i(s))},done:()=>new Promise((s,a)=>{o=setTimeout(()=>{a(new Error(t))},n),r=s,i=a})}}function zb(e,t,n){return new Promise(async(r,i)=>{const o=setTimeout(()=>i(new Error(n)),t);try{const s=await e;r(s)}catch(s){i(s)}clearTimeout(o)})}function Ute(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Bat(e){return Ute("topic",e)}function $at(e){return Ute("id",e)}function Fte(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if(t==="topic"&&typeof n=="string")r.topic=n;else if(t==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function Za(e,t){return On.fromMiliseconds(Date.now()+On.toMiliseconds(e))}function bf(e){return Date.now()>=On.toMiliseconds(e)}function Mo(e,t){return`${e}${t?`:${t}`:""}`}function TE(e=[],t=[]){return[...new Set([...e,...t])]}async function Mat({id:e,topic:t,wcDeepLink:n}){try{if(!n)return;const r=typeof n=="string"?JSON.parse(n):n;let i=r==null?void 0:r.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));const o=`${i}/wc?requestId=${e}&sessionTopic=${t}`,s=tw();s===ec.browser?o.startsWith("https://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,"_self","noreferrer noopener"):s===ec.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(r){console.error(r)}}async function Dat(e,t){try{return await e.getItem(t)||(py()?localStorage.getItem(t):void 0)}catch(n){console.error(n)}}const Lat="irn";function d7(e){return(e==null?void 0:e.relay)||{protocol:Lat}}function Hx(e){const t=dat[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var Uat=Object.defineProperty,Fat=Object.defineProperties,Wat=Object.getOwnPropertyDescriptors,zU=Object.getOwnPropertySymbols,zat=Object.prototype.hasOwnProperty,qat=Object.prototype.propertyIsEnumerable,qU=(e,t,n)=>t in e?Uat(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vat=(e,t)=>{for(var n in t||(t={}))zat.call(t,n)&&qU(e,n,t[n]);if(zU)for(var n of zU(t))qat.call(t,n)&&qU(e,n,t[n]);return e},Hat=(e,t)=>Fat(e,Wat(t));function Kat(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(i=>{if(i.startsWith(r)){const o=i.replace(r,""),s=e[i];n[o]=s}}),n}function VU(e){e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),o=typeof n<"u"?e.substring(n):"",s=Wb.parse(o);return{protocol:r,topic:Gat(i[0]),version:parseInt(i[1],10),symKey:s.symKey,relay:Kat(s),expiryTimestamp:s.expiryTimestamp?parseInt(s.expiryTimestamp,10):void 0}}function Gat(e){return e.startsWith("//")?e.substring(2):e}function Zat(e,t="-"){const n="relay",r={};return Object.keys(e).forEach(i=>{const o=n+t+i;e[i]&&(r[o]=e[i])}),r}function Jat(e){return`${e.protocol}:${e.topic}@${e.version}?`+Wb.stringify(Hat(Vat({symKey:e.symKey},Zat(e.relay)),{expiryTimestamp:e.expiryTimestamp}))}function my(e){const t=[];return e.forEach(n=>{const[r,i]=n.split(":");t.push(`${r}:${i}`)}),t}function Yat(e){const t=[];return Object.values(e).forEach(n=>{t.push(...my(n.accounts))}),t}function Xat(e,t){const n=[];return Object.values(e).forEach(r=>{my(r.accounts).includes(t)&&n.push(...r.methods)}),n}function Qat(e,t){const n=[];return Object.values(e).forEach(r=>{my(r.accounts).includes(t)&&n.push(...r.events)}),n}function WP(e){return e.includes(":")}function yv(e){return WP(e)?e.split(":")[0]:e}const ect={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},tct={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Dt(e,t){const{message:n,code:r}=tct[e];return{message:t?`${n} ${t}`:n,code:r}}function io(e,t){const{message:n,code:r}=ect[e];return{message:t?`${n} ${t}`:n,code:r}}function bd(e,t){return!!Array.isArray(e)}function qb(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Aa(e){return typeof e>"u"}function gs(e,t){return t&&Aa(e)?!0:typeof e=="string"&&!!e.trim().length}function zP(e,t){return typeof e=="number"&&!isNaN(e)}function nct(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let o=!0;return tp(i,r)?(r.forEach(s=>{const{accounts:a,methods:c,events:l}=e.namespaces[s],d=my(a),f=n[s];(!tp(jte(s,f),d)||!tp(f.methods,c)||!tp(f.events,l))&&(o=!1)}),o):!1}function ck(e){return gs(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function rct(e){if(gs(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const n=t[0]+":"+t[1];return!!t[2]&&ck(n)}}return!1}function ict(e){if(gs(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function oct(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function sct(e){return e==null?void 0:e.topic}function act(e,t){let n=null;return gs(e==null?void 0:e.publicKey,!1)||(n=Dt("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function HU(e){let t=!0;return bd(e)?e.length&&(t=e.every(n=>gs(n,!1))):t=!1,t}function cct(e,t,n){let r=null;return bd(t)&&t.length?t.forEach(i=>{r||ck(i)||(r=io("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):ck(e)||(r=io("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function lct(e,t,n){let r=null;return Object.entries(e).forEach(([i,o])=>{if(r)return;const s=cct(i,jte(i,o),`${t} ${n}`);s&&(r=s)}),r}function dct(e,t){let n=null;return bd(e)?e.forEach(r=>{n||rct(r)||(n=io("UNSUPPORTED_ACCOUNTS",`${t}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=io("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function uct(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const i=dct(r==null?void 0:r.accounts,`${t} namespace`);i&&(n=i)}),n}function fct(e,t){let n=null;return HU(e==null?void 0:e.methods)?HU(e==null?void 0:e.events)||(n=io("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=io("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}function Wte(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const i=fct(r,`${t}, namespace`);i&&(n=i)}),n}function hct(e,t,n){let r=null;if(e&&qb(e)){const i=Wte(e,t);i&&(r=i);const o=lct(e,t,n);o&&(r=o)}else r=Dt("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function RE(e,t){let n=null;if(e&&qb(e)){const r=Wte(e,t);r&&(n=r);const i=uct(e,t);i&&(n=i)}else n=Dt("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function zte(e){return gs(e.protocol,!0)}function pct(e,t){let n=!1;return e?e&&bd(e)&&e.length&&e.forEach(r=>{n=zte(r)}):n=!0,n}function mct(e){return typeof e=="number"}function Ea(e){return typeof e<"u"&&typeof e!==null}function gct(e){return!(!e||typeof e!="object"||!e.code||!zP(e.code)||!e.message||!gs(e.message,!1))}function yct(e){return!(Aa(e)||!gs(e.method,!1))}function vct(e){return!(Aa(e)||Aa(e.result)&&Aa(e.error)||!zP(e.id)||!gs(e.jsonrpc,!1))}function bct(e){return!(Aa(e)||!gs(e.name,!1))}function KU(e,t){return!(!ck(t)||!Yat(e).includes(t))}function wct(e,t,n){return gs(n,!1)?Xat(e,t).includes(n):!1}function _ct(e,t,n){return gs(n,!1)?Qat(e,t).includes(n):!1}function GU(e,t,n){let r=null;const i=xct(e),o=kct(t),s=Object.keys(i),a=Object.keys(o),c=ZU(Object.keys(e)),l=ZU(Object.keys(t)),d=c.filter(f=>!l.includes(f));return d.length&&(r=Dt("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(t).toString()}`)),tp(s,a)||(r=Dt("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(f=>{if(!f.includes(":")||r)return;const p=my(t[f].accounts);p.includes(f)||(r=Dt("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${p.toString()}`))}),s.forEach(f=>{r||(tp(i[f].methods,o[f].methods)?tp(i[f].events,o[f].events)||(r=Dt("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=Dt("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function xct(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(i=>{t[i]={methods:e[n].methods,events:e[n].events}})}),t}function ZU(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function kct(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=my(e[n].accounts);r==null||r.forEach(i=>{t[i]={accounts:e[n].accounts.filter(o=>o.includes(`${i}:`)),methods:e[n].methods,events:e[n].events}})}}),t}function Sct(e,t){return zP(e)&&e<=t.max&&e>=t.min}function JU(){const e=tw();return new Promise(t=>{switch(e){case ec.browser:t(Ect());break;case ec.reactNative:t(Cct());break;case ec.node:t(Ict());break;default:t(!0)}})}function Ect(){return py()&&(navigator==null?void 0:navigator.onLine)}async function Cct(){if(hy()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function Ict(){return!0}function Act(e){switch(tw()){case ec.browser:Tct(e);break;case ec.reactNative:Rct(e);break}}function Tct(e){!hy()&&py()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function Rct(e){hy()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}const PE={};let sx=class{static get(t){return PE[t]}static set(t,n){PE[t]=n}static delete(t){delete PE[t]}};const Pct=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Oct=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Nct=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jct(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Bct(e);return}return t}function Bct(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function ax(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!Nct.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Pct.test(e)||Oct.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,jct)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function $ct(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function fs(e,...t){try{return $ct(e(...t))}catch(n){return Promise.reject(n)}}function Mct(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function Dct(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function Kx(e){if(Mct(e))return String(e);if(Dct(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return Kx(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const u7="base64:";function Lct(e){return typeof e=="string"?e:u7+Wct(e)}function Uct(e){return typeof e!="string"||!e.startsWith(u7)?e:Fct(e.slice(u7.length))}function Fct(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function Wct(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function ka(e){var t;return e&&((t=e.split("?")[0])==null?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function zct(...e){return ka(e.join(":"))}function cx(e){return e=ka(e),e?e+":":""}function qct(e,t){if(t===void 0)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function Vct(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}const Hct="memory",Kct=()=>{const e=new Map;return{name:Hct,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function Gct(e={}){const t={mounts:{"":e.driver||Kct()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const d of t.mountpoints)if(l.startsWith(d))return{base:d,relativeKey:l.slice(d.length),driver:t.mounts[d]};return{base:"",relativeKey:l,driver:t.mounts[""]}},r=(l,d)=>t.mountpoints.filter(f=>f.startsWith(l)||d&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:t.mounts[f]})),i=(l,d)=>{if(t.watching){d=ka(d);for(const f of t.watchListeners)f(l,d)}},o=async()=>{if(!t.watching){t.watching=!0;for(const l in t.mounts)t.unwatch[l]=await YU(t.mounts[l],i,l)}},s=async()=>{if(t.watching){for(const l in t.unwatch)await t.unwatch[l]();t.unwatch={},t.watching=!1}},a=(l,d,f)=>{const p=new Map,m=g=>{let y=p.get(g.base);return y||(y={driver:g.driver,base:g.base,items:[]},p.set(g.base,y)),y};for(const g of l){const y=typeof g=="string",v=ka(y?g:g.key),w=y?void 0:g.value,_=y||!g.options?d:{...d,...g.options},E=n(v);m(E).items.push({key:v,value:w,relativeKey:E.relativeKey,options:_})}return Promise.all([...p.values()].map(g=>f(g))).then(g=>g.flat())},c={hasItem(l,d={}){l=ka(l);const{relativeKey:f,driver:p}=n(l);return fs(p.hasItem,f,d)},getItem(l,d={}){l=ka(l);const{relativeKey:f,driver:p}=n(l);return fs(p.getItem,f,d).then(m=>ax(m))},getItems(l,d={}){return a(l,d,f=>f.driver.getItems?fs(f.driver.getItems,f.items.map(p=>({key:p.relativeKey,options:p.options})),d).then(p=>p.map(m=>({key:zct(f.base,m.key),value:ax(m.value)}))):Promise.all(f.items.map(p=>fs(f.driver.getItem,p.relativeKey,p.options).then(m=>({key:p.key,value:ax(m)})))))},getItemRaw(l,d={}){l=ka(l);const{relativeKey:f,driver:p}=n(l);return p.getItemRaw?fs(p.getItemRaw,f,d):fs(p.getItem,f,d).then(m=>Uct(m))},async setItem(l,d,f={}){if(d===void 0)return c.removeItem(l);l=ka(l);const{relativeKey:p,driver:m}=n(l);m.setItem&&(await fs(m.setItem,p,Kx(d),f),m.watch||i("update",l))},async setItems(l,d){await a(l,d,async f=>{if(f.driver.setItems)return fs(f.driver.setItems,f.items.map(p=>({key:p.relativeKey,value:Kx(p.value),options:p.options})),d);f.driver.setItem&&await Promise.all(f.items.map(p=>fs(f.driver.setItem,p.relativeKey,Kx(p.value),p.options)))})},async setItemRaw(l,d,f={}){if(d===void 0)return c.removeItem(l,f);l=ka(l);const{relativeKey:p,driver:m}=n(l);if(m.setItemRaw)await fs(m.setItemRaw,p,d,f);else if(m.setItem)await fs(m.setItem,p,Lct(d),f);else return;m.watch||i("update",l)},async removeItem(l,d={}){typeof d=="boolean"&&(d={removeMeta:d}),l=ka(l);const{relativeKey:f,driver:p}=n(l);p.removeItem&&(await fs(p.removeItem,f,d),(d.removeMeta||d.removeMata)&&await fs(p.removeItem,f+"$",d),p.watch||i("remove",l))},async getMeta(l,d={}){typeof d=="boolean"&&(d={nativeOnly:d}),l=ka(l);const{relativeKey:f,driver:p}=n(l),m=Object.create(null);if(p.getMeta&&Object.assign(m,await fs(p.getMeta,f,d)),!d.nativeOnly){const g=await fs(p.getItem,f+"$",d).then(y=>ax(y));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(m,g))}return m},setMeta(l,d,f={}){return this.setItem(l+"$",d,f)},removeMeta(l,d={}){return this.removeItem(l+"$",d)},async getKeys(l,d={}){var v;l=cx(l);const f=r(l,!0);let p=[];const m=[];let g=!0;for(const w of f){(v=w.driver.flags)!=null&&v.maxDepth||(g=!1);const _=await fs(w.driver.getKeys,w.relativeBase,d);for(const E of _){const C=w.mountpoint+ka(E);p.some(T=>C.startsWith(T))||m.push(C)}p=[w.mountpoint,...p.filter(E=>!E.startsWith(w.mountpoint))]}const y=d.maxDepth!==void 0&&!g;return m.filter(w=>(!y||qct(w,d.maxDepth))&&Vct(w,l))},async clear(l,d={}){l=cx(l),await Promise.all(r(l,!1).map(async f=>{if(f.driver.clear)return fs(f.driver.clear,f.relativeBase,d);if(f.driver.removeItem){const p=await f.driver.getKeys(f.relativeBase||"",d);return Promise.all(p.map(m=>f.driver.removeItem(m,d)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(l=>XU(l)))},async watch(l){return await o(),t.watchListeners.push(l),async()=>{t.watchListeners=t.watchListeners.filter(d=>d!==l),t.watchListeners.length===0&&await s()}},async unwatch(){t.watchListeners=[],await s()},mount(l,d){if(l=cx(l),l&&t.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(t.mountpoints.push(l),t.mountpoints.sort((f,p)=>p.length-f.length)),t.mounts[l]=d,t.watching&&Promise.resolve(YU(d,i,l)).then(f=>{t.unwatch[l]=f}).catch(console.error),c},async unmount(l,d=!0){var f,p;l=cx(l),!(!l||!t.mounts[l])&&(t.watching&&l in t.unwatch&&((p=(f=t.unwatch)[l])==null||p.call(f),delete t.unwatch[l]),d&&await XU(t.mounts[l]),t.mountpoints=t.mountpoints.filter(m=>m!==l),delete t.mounts[l])},getMount(l=""){l=ka(l)+":";const d=n(l);return{driver:d.driver,base:d.base}},getMounts(l="",d={}){return l=ka(l),r(l,d.parents).map(p=>({driver:p.driver,base:p.mountpoint}))},keys:(l,d={})=>c.getKeys(l,d),get:(l,d={})=>c.getItem(l,d),set:(l,d,f={})=>c.setItem(l,d,f),has:(l,d={})=>c.hasItem(l,d),del:(l,d={})=>c.removeItem(l,d),remove:(l,d={})=>c.removeItem(l,d)};return c}function YU(e,t,n){return e.watch?e.watch((r,i)=>t(r,n+i)):()=>{}}async function XU(e){typeof e.dispose=="function"&&await fs(e.dispose)}function cm(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function qte(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=cm(n);return(i,o)=>r.then(s=>o(s.transaction(t,i).objectStore(t)))}let OE;function nw(){return OE||(OE=qte("keyval-store","keyval")),OE}function QU(e,t=nw()){return t("readonly",n=>cm(n.get(e)))}function Zct(e,t,n=nw()){return n("readwrite",r=>(r.put(t,e),cm(r.transaction)))}function Jct(e,t=nw()){return t("readwrite",n=>(n.delete(e),cm(n.transaction)))}function Yct(e=nw()){return e("readwrite",t=>(t.clear(),cm(t.transaction)))}function Xct(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},cm(e.transaction)}function Qct(e=nw()){return e("readonly",t=>{if(t.getAllKeys)return cm(t.getAllKeys());const n=[];return Xct(t,r=>n.push(r.key)).then(()=>n)})}const elt=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n),tlt=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=e.replace(t,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function rw(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return tlt(e)}catch{return e}}function Ap(e){return typeof e=="string"?e:elt(e)||""}const nlt="idb-keyval";var rlt=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=i=>t+i;let r;return e.dbName&&e.storeName&&(r=qte(e.dbName,e.storeName)),{name:nlt,options:e,async hasItem(i){return!(typeof await QU(n(i),r)>"u")},async getItem(i){return await QU(n(i),r)??null},setItem(i,o){return Zct(n(i),o,r)},removeItem(i){return Jct(n(i),r)},getKeys(){return Qct(r)},clear(){return Yct(r)}}};const ilt="WALLET_CONNECT_V2_INDEXED_DB",olt="keyvaluestorage";let slt=class{constructor(){this.indexedDb=Gct({driver:rlt({dbName:ilt,storeName:olt})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const n=await this.indexedDb.getItem(t);if(n!==null)return n}async setItem(t,n){await this.indexedDb.setItem(t,Ap(n))}async removeItem(t){await this.indexedDb.removeItem(t)}};var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gx={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},e.prototype.setItem=function(n,r){this[n]=String(r)},e.prototype.removeItem=function(n){delete this[n]},e.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},e.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof NE<"u"&&NE.localStorage?Gx.exports=NE.localStorage:typeof window<"u"&&window.localStorage?Gx.exports=window.localStorage:Gx.exports=new t})();function alt(e){var t;return[e[0],rw((t=e[1])!=null?t:"")]}let clt=class{constructor(){this.localStorage=Gx.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(alt)}async getItem(t){const n=this.localStorage.getItem(t);if(n!==null)return rw(n)}async setItem(t,n){this.localStorage.setItem(t,Ap(n))}async removeItem(t){this.localStorage.removeItem(t)}};const llt="wc_storage_version",eF=1,dlt=async(e,t,n)=>{const r=llt,i=await t.getItem(r);if(i&&i>=eF){n(t);return}const o=await e.getKeys();if(!o.length){n(t);return}const s=[];for(;o.length;){const a=o.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await e.getItem(a);await t.setItem(a,l),s.push(a)}}await t.setItem(r,eF),n(t),ult(e,s)},ult=async(e,t)=>{t.length&&t.forEach(async n=>{await e.removeItem(n)})};let flt=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const t=new clt;this.storage=t;try{const n=new slt;dlt(t,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,n){return await this.initialize(),this.storage.setItem(t,n)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),t())},20)})}};var gy={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var f7=function(e,t){return f7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},f7(e,t)};function hlt(e,t){f7(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var h7=function(){return h7=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},h7.apply(this,arguments)};function plt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function mlt(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function glt(e,t){return function(n,r){t(n,r,e)}}function ylt(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function vlt(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function blt(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(d){return c([l,d])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(d){l=[6,d],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function wlt(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function _lt(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function p7(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vte(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function xlt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vte(arguments[t]));return e}function klt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Vb(e){return this instanceof Vb?(this.v=e,this):new Vb(e)}function Slt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(p){r[p]&&(i[p]=function(m){return new Promise(function(g,y){o.push([p,m,g,y])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(g){f(o[0][3],g)}}function c(p){p.value instanceof Vb?Promise.resolve(p.value.v).then(l,d):f(o[0][2],p)}function l(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Elt(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(s){return(n=!n)?{value:Vb(e[i](s)),done:i==="return"}:o?o(s):s}:o}}function Clt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof p7=="function"?p7(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}function Ilt(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Alt(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Tlt(e){return e&&e.__esModule?e:{default:e}}function Rlt(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Plt(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const Olt=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return h7},__asyncDelegator:Elt,__asyncGenerator:Slt,__asyncValues:Clt,__await:Vb,__awaiter:vlt,__classPrivateFieldGet:Rlt,__classPrivateFieldSet:Plt,__createBinding:wlt,__decorate:mlt,__exportStar:_lt,__extends:hlt,__generator:blt,__importDefault:Tlt,__importStar:Alt,__makeTemplateObject:Ilt,__metadata:ylt,__param:glt,__read:Vte,__rest:plt,__spread:xlt,__spreadArrays:klt,__values:p7},Symbol.toStringTag,{value:"Module"})),_S=Dl(Olt);var Jy={},jE={},Yy={};class lm{}const Nlt=Object.freeze(Object.defineProperty({__proto__:null,IEvents:lm},Symbol.toStringTag,{value:"Module"})),jlt=Dl(Nlt);var tF;function Blt(){if(tF)return Yy;tF=1,Object.defineProperty(Yy,"__esModule",{value:!0}),Yy.IHeartBeat=void 0;const e=jlt;class t extends e.IEvents{constructor(r){super()}}return Yy.IHeartBeat=t,Yy}var nF;function Hte(){return nF||(nF=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),_S.__exportStar(Blt(),e)}(jE)),jE}var BE={},Bh={},rF;function $lt(){if(rF)return Bh;rF=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.HEARTBEAT_EVENTS=Bh.HEARTBEAT_INTERVAL=void 0;const e=On;return Bh.HEARTBEAT_INTERVAL=e.FIVE_SECONDS,Bh.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Bh}var iF;function Kte(){return iF||(iF=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),_S.__exportStar($lt(),e)}(BE)),BE}var oF;function Mlt(){if(oF)return Jy;oF=1,Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.HeartBeat=void 0;const e=_S,t=ia,n=On,r=Hte(),i=Kte();class o extends r.IHeartBeat{constructor(a){super(a),this.events=new t.EventEmitter,this.interval=i.HEARTBEAT_INTERVAL,this.interval=(a==null?void 0:a.interval)||i.HEARTBEAT_INTERVAL}static init(a){return e.__awaiter(this,void 0,void 0,function*(){const c=new o(a);return yield c.init(),c})}init(){return e.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(a,c){this.events.on(a,c)}once(a,c){this.events.once(a,c)}off(a,c){this.events.off(a,c)}removeListener(a,c){this.events.removeListener(a,c)}initialize(){return e.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),n.toMiliseconds(this.interval))})}pulse(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}return Jy.HeartBeat=o,Jy}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=_S;t.__exportStar(Mlt(),e),t.__exportStar(Hte(),e),t.__exportStar(Kte(),e)})(gy);function Dlt(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var Llt=Ult;function Ult(e,t,n){var r=n&&n.stringify||Dlt,i=1;if(typeof e=="object"&&e!==null){var o=t.length+i;if(o===1)return e;var s=new Array(o);s[0]=r(e);for(var a=1;a<o;a++)s[a]=r(t[a]);return s.join(" ")}if(typeof e!="string")return e;var c=t.length;if(c===0)return e;for(var l="",d=1-i,f=-1,p=e&&e.length||0,m=0;m<p;){if(e.charCodeAt(m)===37&&m+1<p){switch(f=f>-1?f:0,e.charCodeAt(m+1)){case 100:case 102:if(d>=c||t[d]==null)break;f<m&&(l+=e.slice(f,m)),l+=Number(t[d]),f=m+2,m++;break;case 105:if(d>=c||t[d]==null)break;f<m&&(l+=e.slice(f,m)),l+=Math.floor(Number(t[d])),f=m+2,m++;break;case 79:case 111:case 106:if(d>=c||t[d]===void 0)break;f<m&&(l+=e.slice(f,m));var g=typeof t[d];if(g==="string"){l+="'"+t[d]+"'",f=m+2,m++;break}if(g==="function"){l+=t[d].name||"<anonymous>",f=m+2,m++;break}l+=r(t[d]),f=m+2,m++;break;case 115:if(d>=c)break;f<m&&(l+=e.slice(f,m)),l+=String(t[d]),f=m+2,m++;break;case 37:f<m&&(l+=e.slice(f,m)),l+="%",f=m+2,m++,d--;break}++d}++m}return f===-1?e:(f<p&&(l+=e.slice(f)),l)}const sF=Llt;var Flt=ad;const Hb=Ylt().console||{},Wlt={mapHttpRequest:lx,mapHttpResponse:lx,wrapRequestSerializer:$E,wrapResponseSerializer:$E,wrapErrorSerializer:$E,req:lx,res:lx,err:Klt};function zlt(e,t){return Array.isArray(e)?e.filter(function(r){return r!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function ad(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const n=e.browser.write||Hb;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},i=zlt(e.browser.serialize,r);let o=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);const s=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),e.enabled===!1&&(e.level="silent");const a=e.level||"info",c=Object.create(n);c.log||(c.log=Kb),Object.defineProperty(c,"levelVal",{get:d}),Object.defineProperty(c,"level",{get:f,set:p});const l={transmit:t,serialize:i,asObject:e.browser.asObject,levels:s,timestamp:Glt(e)};c.levels=ad.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Kb,c.serializers=r,c._serialize=i,c._stdErrSerialize=o,c.child=m,t&&(c._logEvent=m7());function d(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function p(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,Um(l,c,"error","log"),Um(l,c,"fatal","error"),Um(l,c,"warn","error"),Um(l,c,"info","log"),Um(l,c,"debug","log"),Um(l,c,"trace","log")}function m(g,y){if(!g)throw new Error("missing bindings for child Pino");y=y||{},i&&g.serializers&&(y.serializers=g.serializers);const v=y.serializers;if(i&&v){var w=Object.assign({},r,v),_=e.browser.serialize===!0?Object.keys(w):i;delete g.serializers,xS([g],_,w,this._stdErrSerialize)}function E(C){this._childLevel=(C._childLevel|0)+1,this.error=Fm(C,g,"error"),this.fatal=Fm(C,g,"fatal"),this.warn=Fm(C,g,"warn"),this.info=Fm(C,g,"info"),this.debug=Fm(C,g,"debug"),this.trace=Fm(C,g,"trace"),w&&(this.serializers=w,this._serialize=_),t&&(this._logEvent=m7([].concat(C._logEvent.bindings,g)))}return E.prototype=this,new E(this)}return c}ad.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};ad.stdSerializers=Wlt;ad.stdTimeFunctions=Object.assign({},{nullTime:Gte,epochTime:Zte,unixTime:Zlt,isoTime:Jlt});function Um(e,t,n,r){const i=Object.getPrototypeOf(t);t[n]=t.levelVal>t.levels.values[n]?Kb:i[n]?i[n]:Hb[n]||Hb[r]||Kb,qlt(e,t,n)}function qlt(e,t,n){!e.transmit&&t[n]===Kb||(t[n]=function(r){return function(){const o=e.timestamp(),s=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Hb?Hb:this;for(var c=0;c<s.length;c++)s[c]=arguments[c];if(e.serialize&&!e.asObject&&xS(s,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?r.call(a,Vlt(this,n,s,o)):r.apply(a,s),e.transmit){const l=e.transmit.level||t.level,d=ad.levels.values[l],f=ad.levels.values[n];if(f<d)return;Hlt(this,{ts:o,methodLevel:n,methodValue:f,transmitLevel:l,transmitValue:ad.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},s)}}}(t[n]))}function Vlt(e,t,n,r){e._serialize&&xS(n,e._serialize,e.serializers,e._stdErrSerialize);const i=n.slice();let o=i[0];const s={};r&&(s.time=r),s.level=ad.levels.values[t];let a=(e._childLevel|0)+1;if(a<1&&(a=1),o!==null&&typeof o=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(s,i.shift());o=i.length?sF(i.shift(),i):void 0}else typeof o=="string"&&(o=sF(i.shift(),i));return o!==void 0&&(s.msg=o),s}function xS(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=ad.stdSerializers.err(e[i]);else if(typeof e[i]=="object"&&!Array.isArray(e[i]))for(const o in e[i])t&&t.indexOf(o)>-1&&o in n&&(e[i][o]=n[o](e[i][o]))}function Fm(e,t,n){return function(){const r=new Array(1+arguments.length);r[0]=t;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return e[n].apply(this,r)}}function Hlt(e,t,n){const r=t.send,i=t.ts,o=t.methodLevel,s=t.methodValue,a=t.val,c=e._logEvent.bindings;xS(n,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),e._logEvent.level.label=o,e._logEvent.level.value=s,r(o,e._logEvent,a),e._logEvent=m7(c)}function m7(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function Klt(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)t[n]===void 0&&(t[n]=e[n]);return t}function Glt(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?Gte:Zte}function lx(){return{}}function $E(e){return e}function Kb(){}function Gte(){return!1}function Zte(){return Date.now()}function Zlt(){return Math.round(Date.now()/1e3)}function Jlt(){return new Date(Date.now()).toISOString()}function Ylt(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}const kS=qo(Flt),Xlt={level:"info"},iw="custom_context";var Qlt=Object.defineProperty,edt=Object.defineProperties,tdt=Object.getOwnPropertyDescriptors,aF=Object.getOwnPropertySymbols,ndt=Object.prototype.hasOwnProperty,rdt=Object.prototype.propertyIsEnumerable,cF=(e,t,n)=>t in e?Qlt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,idt=(e,t)=>{for(var n in t||(t={}))ndt.call(t,n)&&cF(e,n,t[n]);if(aF)for(var n of aF(t))rdt.call(t,n)&&cF(e,n,t[n]);return e},odt=(e,t)=>edt(e,tdt(t));function SS(e){return odt(idt({},e),{level:(e==null?void 0:e.level)||Xlt.level})}function sdt(e,t=iw){return e[t]||""}function adt(e,t,n=iw){return e[n]=t,e}function La(e,t=iw){let n="";return typeof e.bindings>"u"?n=sdt(e,t):n=e.bindings().context||"",n}function cdt(e,t,n=iw){const r=La(e,n);return r.trim()?`${r}/${t}`:t}function Ua(e,t,n=iw){const r=cdt(e,t,n),i=e.child({context:r});return adt(i,r,n)}let ldt=class extends lm{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}},ddt=class extends lm{constructor(t,n){super(),this.core=t,this.logger=n,this.records=new Map}},udt=class{constructor(t,n){this.logger=t,this.core=n}},fdt=class extends lm{constructor(t,n){super(),this.relayer=t,this.logger=n}},hdt=class extends lm{constructor(t){super()}},pdt=class{constructor(t,n,r,i){this.core=t,this.logger=n,this.name=r}},mdt=class extends lm{constructor(t,n){super(),this.relayer=t,this.logger=n}},gdt=class extends lm{constructor(t,n){super(),this.core=t,this.logger=n}},ydt=class{constructor(t,n){this.projectId=t,this.logger=n}},vdt=class{constructor(t,n){this.projectId=t,this.logger=n}},bdt=class{constructor(t){this.opts=t,this.protocol="wc",this.version=2}},wdt=class{constructor(t){this.client=t}};function _dt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Jte(e,...t){if(!_dt(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function lF(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function xdt(e,t){Jte(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Wm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ME=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function kdt(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Yte(e){return typeof e=="string"&&(e=kdt(e)),Jte(e),e}class Sdt{clone(){return this._cloneInto()}}function Edt(e){const t=r=>e().update(Yte(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Xte(e=32){if(Wm&&typeof Wm.getRandomValues=="function")return Wm.getRandomValues(new Uint8Array(e));if(Wm&&typeof Wm.randomBytes=="function")return Wm.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function Cdt(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}class Idt extends Sdt{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ME(this.buffer)}update(t){lF(this);const{view:n,buffer:r,blockLen:i}=this;t=Yte(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=ME(t);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){lF(this),xdt(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let f=s;f<i;f++)n[f]=0;Cdt(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=ME(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,d[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}}const dx=BigInt(2**32-1),g7=BigInt(32);function Qte(e,t=!1){return t?{h:Number(e&dx),l:Number(e>>g7&dx)}:{h:Number(e>>g7&dx)|0,l:Number(e&dx)|0}}function Adt(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=Qte(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const Tdt=(e,t)=>BigInt(e>>>0)<<g7|BigInt(t>>>0),Rdt=(e,t,n)=>e>>>n,Pdt=(e,t,n)=>e<<32-n|t>>>n,Odt=(e,t,n)=>e>>>n|t<<32-n,Ndt=(e,t,n)=>e<<32-n|t>>>n,jdt=(e,t,n)=>e<<64-n|t>>>n-32,Bdt=(e,t,n)=>e>>>n-32|t<<64-n,$dt=(e,t)=>t,Mdt=(e,t)=>e,Ddt=(e,t,n)=>e<<n|t>>>32-n,Ldt=(e,t,n)=>t<<n|e>>>32-n,Udt=(e,t,n)=>t<<n-32|e>>>64-n,Fdt=(e,t,n)=>e<<n-32|t>>>64-n;function Wdt(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const zdt=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),qdt=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Vdt=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Hdt=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,Kdt=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Gdt=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,Or={fromBig:Qte,split:Adt,toBig:Tdt,shrSH:Rdt,shrSL:Pdt,rotrSH:Odt,rotrSL:Ndt,rotrBH:jdt,rotrBL:Bdt,rotr32H:$dt,rotr32L:Mdt,rotlSH:Ddt,rotlSL:Ldt,rotlBH:Udt,rotlBL:Fdt,add:Wdt,add3L:zdt,add3H:qdt,add4L:Vdt,add4H:Hdt,add5H:Gdt,add5L:Kdt},[Zdt,Jdt]=Or.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),ff=new Uint32Array(80),hf=new Uint32Array(80);class Ydt extends Idt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:d,Fh:f,Fl:p,Gh:m,Gl:g,Hh:y,Hl:v}=this;return[t,n,r,i,o,s,a,c,l,d,f,p,m,g,y,v]}set(t,n,r,i,o,s,a,c,l,d,f,p,m,g,y,v){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=d|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=g|0,this.Hh=y|0,this.Hl=v|0}process(t,n){for(let E=0;E<16;E++,n+=4)ff[E]=t.getUint32(n),hf[E]=t.getUint32(n+=4);for(let E=16;E<80;E++){const C=ff[E-15]|0,T=hf[E-15]|0,A=Or.rotrSH(C,T,1)^Or.rotrSH(C,T,8)^Or.shrSH(C,T,7),S=Or.rotrSL(C,T,1)^Or.rotrSL(C,T,8)^Or.shrSL(C,T,7),O=ff[E-2]|0,D=hf[E-2]|0,K=Or.rotrSH(O,D,19)^Or.rotrBH(O,D,61)^Or.shrSH(O,D,6),H=Or.rotrSL(O,D,19)^Or.rotrBL(O,D,61)^Or.shrSL(O,D,6),X=Or.add4L(S,H,hf[E-7],hf[E-16]),U=Or.add4H(X,A,K,ff[E-7],ff[E-16]);ff[E]=U|0,hf[E]=X|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:d,Eh:f,El:p,Fh:m,Fl:g,Gh:y,Gl:v,Hh:w,Hl:_}=this;for(let E=0;E<80;E++){const C=Or.rotrSH(f,p,14)^Or.rotrSH(f,p,18)^Or.rotrBH(f,p,41),T=Or.rotrSL(f,p,14)^Or.rotrSL(f,p,18)^Or.rotrBL(f,p,41),A=f&m^~f&y,S=p&g^~p&v,O=Or.add5L(_,T,S,Jdt[E],hf[E]),D=Or.add5H(O,w,C,A,Zdt[E],ff[E]),K=O|0,H=Or.rotrSH(r,i,28)^Or.rotrBH(r,i,34)^Or.rotrBH(r,i,39),X=Or.rotrSL(r,i,28)^Or.rotrBL(r,i,34)^Or.rotrBL(r,i,39),U=r&o^r&a^o&a,I=i&s^i&c^s&c;w=y|0,_=v|0,y=m|0,v=g|0,m=f|0,g=p|0,{h:f,l:p}=Or.add(l|0,d|0,D|0,K|0),l=a|0,d=c|0,a=o|0,c=s|0,o=r|0,s=i|0;const x=Or.add3L(K,X,I);r=Or.add3H(x,D,H,U),i=x|0}({h:r,l:i}=Or.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Or.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=Or.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:d}=Or.add(this.Dh|0,this.Dl|0,l|0,d|0),{h:f,l:p}=Or.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:g}=Or.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:y,l:v}=Or.add(this.Gh|0,this.Gl|0,y|0,v|0),{h:w,l:_}=Or.add(this.Hh|0,this.Hl|0,w|0,_|0),this.set(r,i,o,s,a,c,l,d,f,p,m,g,y,v,w,_)}roundClean(){ff.fill(0),hf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Xdt=Edt(()=>new Ydt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qP=BigInt(0),ene=BigInt(1),Qdt=BigInt(2);function VP(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function HP(e){if(!VP(e))throw new Error("Uint8Array expected")}function DE(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const eut=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function KP(e){HP(e);let t="";for(let n=0;n<e.length;n++)t+=eut[e[n]];return t}function tne(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?qP:BigInt("0x"+e)}const Xd={_0:48,_9:57,A:65,F:70,a:97,f:102};function dF(e){if(e>=Xd._0&&e<=Xd._9)return e-Xd._0;if(e>=Xd.A&&e<=Xd.F)return e-(Xd.A-10);if(e>=Xd.a&&e<=Xd.f)return e-(Xd.a-10)}function nne(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=dF(e.charCodeAt(o)),a=dF(e.charCodeAt(o+1));if(s===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=s*16+a}return r}function tut(e){return tne(KP(e))}function Zx(e){return HP(e),tne(KP(Uint8Array.from(e).reverse()))}function rne(e,t){return nne(e.toString(16).padStart(t*2,"0"))}function y7(e,t){return rne(e,t).reverse()}function Qd(e,t,n){let r;if(typeof t=="string")try{r=nne(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(VP(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function uF(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];HP(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}const LE=e=>typeof e=="bigint"&&qP<=e;function nut(e,t,n){return LE(e)&&LE(t)&&LE(n)&&t<=e&&e<n}function Xy(e,t,n,r){if(!nut(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function rut(e){let t;for(t=0;e>qP;e>>=ene,t+=1);return t}const iut=e=>(Qdt<<BigInt(e-1))-ene,out={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||VP(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function GP(e,t,n={}){const r=(i,o,s)=>{const a=out[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(s&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+c)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}function fF(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}const bs=BigInt(0),Wo=BigInt(1),Zh=BigInt(2),sut=BigInt(3),v7=BigInt(4),hF=BigInt(5),pF=BigInt(8);function is(e,t){const n=e%t;return n>=bs?n:t+n}function aut(e,t,n){if(t<bs)throw new Error("invalid exponent, negatives unsupported");if(n<=bs)throw new Error("invalid modulus");if(n===Wo)return bs;let r=Wo;for(;t>bs;)t&Wo&&(r=r*e%n),e=e*e%n,t>>=Wo;return r}function Yl(e,t,n){let r=e;for(;t-- >bs;)r*=r,r%=n;return r}function mF(e,t){if(e===bs)throw new Error("invert: expected non-zero number");if(t<=bs)throw new Error("invert: expected positive modulus, got "+t);let n=is(e,t),r=t,i=bs,o=Wo;for(;n!==bs;){const s=r/n,a=r%n,c=i-o*s;r=n,n=a,i=o,o=c}if(r!==Wo)throw new Error("invert: does not exist");return is(i,t)}function cut(e){const t=(e-Wo)/Zh;let n,r,i;for(n=e-Wo,r=0;n%Zh===bs;n/=Zh,r++);for(i=Zh;i<e&&aut(i,t,e)!==e-Wo;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(e+Wo)/v7;return function(a,c){const l=a.pow(c,s);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const o=(n+Wo)/Zh;return function(s,a){if(s.pow(a,t)===s.neg(s.ONE))throw new Error("Cannot find square root");let c=r,l=s.pow(s.mul(s.ONE,i),n),d=s.pow(a,o),f=s.pow(a,n);for(;!s.eql(f,s.ONE);){if(s.eql(f,s.ZERO))return s.ZERO;let p=1;for(let g=s.sqr(f);p<c&&!s.eql(g,s.ONE);p++)g=s.sqr(g);const m=s.pow(l,Wo<<BigInt(c-p-1));l=s.sqr(m),d=s.mul(d,m),f=s.mul(f,l),c=p}return d}}function lut(e){if(e%v7===sut){const t=(e+Wo)/v7;return function(n,r){const i=n.pow(r,t);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%pF===hF){const t=(e-hF)/pF;return function(n,r){const i=n.mul(r,Zh),o=n.pow(i,t),s=n.mul(r,o),a=n.mul(n.mul(s,Zh),o),c=n.mul(s,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return cut(e)}const dut=(e,t)=>(is(e,t)&Wo)===Wo,uut=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fut(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=uut.reduce((r,i)=>(r[i]="function",r),t);return GP(e,n)}function hut(e,t,n){if(n<bs)throw new Error("invalid exponent, negatives unsupported");if(n===bs)return e.ONE;if(n===Wo)return t;let r=e.ONE,i=t;for(;n>bs;)n&Wo&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Wo;return r}function put(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function ine(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function one(e,t,n=!1,r={}){if(e<=bs)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=ine(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:o,MASK:iut(i),ZERO:bs,ONE:Wo,create:c=>is(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return bs<=c&&c<e},is0:c=>c===bs,isOdd:c=>(c&Wo)===Wo,neg:c=>is(-c,e),eql:(c,l)=>c===l,sqr:c=>is(c*c,e),add:(c,l)=>is(c+l,e),sub:(c,l)=>is(c-l,e),mul:(c,l)=>is(c*l,e),pow:(c,l)=>hut(a,c,l),div:(c,l)=>is(c*mF(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>mF(c,e),sqrt:r.sqrt||(c=>(s||(s=lut(e)),s(a,c))),invertBatch:c=>put(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>n?y7(c,o):rne(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?Zx(c):tut(c)}});return Object.freeze(a)}const gF=BigInt(0),ux=BigInt(1);function UE(e,t){const n=t.negate();return e?n:t}function sne(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function FE(e,t){sne(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function mut(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function gut(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const WE=new WeakMap,ane=new WeakMap;function zE(e){return ane.get(e)||1}function yut(e,t){return{constTimeNegate:UE,hasPrecomputes(n){return zE(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>gF;)r&ux&&(i=i.add(o)),o=o.double(),r>>=ux;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=FE(r,t),s=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,s.push(c);for(let d=1;d<o;d++)c=c.add(a),s.push(c);a=c.double()}return s},wNAF(n,r,i){const{windows:o,windowSize:s}=FE(n,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),d=2**n,f=BigInt(n);for(let p=0;p<o;p++){const m=p*s;let g=Number(i&l);i>>=f,g>s&&(g-=d,i+=ux);const y=m,v=m+Math.abs(g)-1,w=p%2!==0,_=g<0;g===0?c=c.add(UE(w,r[y])):a=a.add(UE(_,r[v]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,o=e.ZERO){const{windows:s,windowSize:a}=FE(n,t),c=BigInt(2**n-1),l=2**n,d=BigInt(n);for(let f=0;f<s;f++){const p=f*a;if(i===gF)break;let m=Number(i&c);if(i>>=d,m>a&&(m-=l,i+=ux),m===0)continue;let g=r[p+Math.abs(m)-1];m<0&&(g=g.negate()),o=o.add(g)}return o},getPrecomputes(n,r,i){let o=WE.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&WE.set(r,i(o))),o},wNAFCached(n,r,i){const o=zE(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=zE(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){sne(r,t),ane.set(n,r),WE.delete(n)}}}function vut(e,t,n,r){if(mut(n,e),gut(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=rut(BigInt(n.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,c=new Array(a+1).fill(i),l=Math.floor((t.BITS-1)/s)*s;let d=i;for(let f=l;f>=0;f-=s){c.fill(i);for(let m=0;m<r.length;m++){const g=r[m],y=Number(g>>BigInt(f)&BigInt(a));c[y]=c[y].add(n[m])}let p=i;for(let m=c.length-1,g=i;m>0;m--)g=g.add(c[m]),p=p.add(g);if(d=d.add(p),f!==0)for(let m=0;m<s;m++)d=d.double()}return d}function but(e){return fut(e.Fp),GP(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ine(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const ll=BigInt(0),xa=BigInt(1),fx=BigInt(2),wut=BigInt(8),_ut={zip215:!0};function xut(e){const t=but(e);return GP(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function kut(e){const t=xut(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=t,l=fx<<BigInt(a*8)-xa,d=n.create,f=one(t.n,t.nBitLength),p=t.uvRatio||((x,P)=>{try{return{isValid:!0,value:n.sqrt(x*n.inv(P))}}catch{return{isValid:!1,value:ll}}}),m=t.adjustScalarBytes||(x=>x),g=t.domain||((x,P,N)=>{if(DE("phflag",N),P.length||N)throw new Error("Contexts/pre-hash are not supported");return x});function y(x,P){Xy("coordinate "+x,P,ll,l)}function v(x){if(!(x instanceof E))throw new Error("ExtendedPoint expected")}const w=fF((x,P)=>{const{ex:N,ey:$,ez:L}=x,z=x.is0();P==null&&(P=z?wut:n.inv(L));const q=d(N*P),j=d($*P),W=d(L*P);if(z)return{x:ll,y:xa};if(W!==xa)throw new Error("invZ was invalid");return{x:q,y:j}}),_=fF(x=>{const{a:P,d:N}=t;if(x.is0())throw new Error("bad point: ZERO");const{ex:$,ey:L,ez:z,et:q}=x,j=d($*$),W=d(L*L),re=d(z*z),de=d(re*re),te=d(j*P),ce=d(re*d(te+W)),ge=d(de+d(N*d(j*W)));if(ce!==ge)throw new Error("bad point: equation left != right (1)");const Ce=d($*L),qe=d(z*q);if(Ce!==qe)throw new Error("bad point: equation left != right (2)");return!0});class E{constructor(P,N,$,L){this.ex=P,this.ey=N,this.ez=$,this.et=L,y("x",P),y("y",N),y("z",$),y("t",L),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(P){if(P instanceof E)throw new Error("extended point not allowed");const{x:N,y:$}=P||{};return y("x",N),y("y",$),new E(N,$,xa,d(N*$))}static normalizeZ(P){const N=n.invertBatch(P.map($=>$.ez));return P.map(($,L)=>$.toAffine(N[L])).map(E.fromAffine)}static msm(P,N){return vut(E,f,P,N)}_setWindowSize(P){A.setWindowSize(this,P)}assertValidity(){_(this)}equals(P){v(P);const{ex:N,ey:$,ez:L}=this,{ex:z,ey:q,ez:j}=P,W=d(N*j),re=d(z*L),de=d($*j),te=d(q*L);return W===re&&de===te}is0(){return this.equals(E.ZERO)}negate(){return new E(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:P}=t,{ex:N,ey:$,ez:L}=this,z=d(N*N),q=d($*$),j=d(fx*d(L*L)),W=d(P*z),re=N+$,de=d(d(re*re)-z-q),te=W+q,ce=te-j,ge=W-q,Ce=d(de*ce),qe=d(te*ge),J=d(de*ge),G=d(ce*te);return new E(Ce,qe,G,J)}add(P){v(P);const{a:N,d:$}=t,{ex:L,ey:z,ez:q,et:j}=this,{ex:W,ey:re,ez:de,et:te}=P;if(N===BigInt(-1)){const mr=d((z-L)*(re+W)),ve=d((z+L)*(re-W)),Ue=d(ve-mr);if(Ue===ll)return this.double();const Qe=d(q*fx*te),Ze=d(j*fx*de),it=Ze+Qe,It=ve+mr,kt=Ze-Qe,St=d(it*Ue),Dn=d(It*kt),fn=d(it*kt),cn=d(Ue*It);return new E(St,Dn,cn,fn)}const ce=d(L*W),ge=d(z*re),Ce=d(j*$*te),qe=d(q*de),J=d((L+z)*(W+re)-ce-ge),G=qe-Ce,we=qe+Ce,$e=d(ge-N*ce),yt=d(J*G),Gt=d(we*$e),_t=d(J*$e),Rn=d(G*we);return new E(yt,Gt,Rn,_t)}subtract(P){return this.add(P.negate())}wNAF(P){return A.wNAFCached(this,P,E.normalizeZ)}multiply(P){const N=P;Xy("scalar",N,xa,r);const{p:$,f:L}=this.wNAF(N);return E.normalizeZ([$,L])[0]}multiplyUnsafe(P,N=E.ZERO){const $=P;return Xy("scalar",$,ll,r),$===ll?T:this.is0()||$===xa?this:A.wNAFCachedUnsafe(this,$,E.normalizeZ,N)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(P){return w(this,P)}clearCofactor(){const{h:P}=t;return P===xa?this:this.multiplyUnsafe(P)}static fromHex(P,N=!1){const{d:$,a:L}=t,z=n.BYTES;P=Qd("pointHex",P,z),DE("zip215",N);const q=P.slice(),j=P[z-1];q[z-1]=j&-129;const W=Zx(q),re=N?l:n.ORDER;Xy("pointHex.y",W,ll,re);const de=d(W*W),te=d(de-xa),ce=d($*de-L);let{isValid:ge,value:Ce}=p(te,ce);if(!ge)throw new Error("Point.fromHex: invalid y coordinate");const qe=(Ce&xa)===xa,J=(j&128)!==0;if(!N&&Ce===ll&&J)throw new Error("Point.fromHex: x=0 and x_0=1");return J!==qe&&(Ce=d(-Ce)),E.fromAffine({x:Ce,y:W})}static fromPrivateKey(P){return D(P).point}toRawBytes(){const{x:P,y:N}=this.toAffine(),$=y7(N,n.BYTES);return $[$.length-1]|=P&xa?128:0,$}toHex(){return KP(this.toRawBytes())}}E.BASE=new E(t.Gx,t.Gy,xa,d(t.Gx*t.Gy)),E.ZERO=new E(ll,xa,xa,ll);const{BASE:C,ZERO:T}=E,A=yut(E,a*8);function S(x){return is(x,r)}function O(x){return S(Zx(x))}function D(x){const P=n.BYTES;x=Qd("private key",x,P);const N=Qd("hashed private key",o(x),2*P),$=m(N.slice(0,P)),L=N.slice(P,2*P),z=O($),q=C.multiply(z),j=q.toRawBytes();return{head:$,prefix:L,scalar:z,point:q,pointBytes:j}}function K(x){return D(x).pointBytes}function H(x=new Uint8Array,...P){const N=uF(...P);return O(o(g(N,Qd("context",x),!!i)))}function X(x,P,N={}){x=Qd("message",x),i&&(x=i(x));const{prefix:$,scalar:L,pointBytes:z}=D(P),q=H(N.context,$,x),j=C.multiply(q).toRawBytes(),W=H(N.context,j,z,x),re=S(q+W*L);Xy("signature.s",re,ll,r);const de=uF(j,y7(re,n.BYTES));return Qd("result",de,n.BYTES*2)}const U=_ut;function I(x,P,N,$=U){const{context:L,zip215:z}=$,q=n.BYTES;x=Qd("signature",x,2*q),P=Qd("message",P),N=Qd("publicKey",N,q),z!==void 0&&DE("zip215",z),i&&(P=i(P));const j=Zx(x.slice(q,2*q));let W,re,de;try{W=E.fromHex(N,z),re=E.fromHex(x.slice(0,q),z),de=C.multiplyUnsafe(j)}catch{return!1}if(!z&&W.isSmallOrder())return!1;const te=H(L,re.toRawBytes(),W.toRawBytes(),P);return re.add(W.multiplyUnsafe(te)).subtract(de).clearCofactor().equals(E.ZERO)}return C._setWindowSize(8),{CURVE:t,getPublicKey:K,sign:X,verify:I,ExtendedPoint:E,utils:{getExtendedPublicKey:D,randomPrivateKey:()=>s(n.BYTES),precompute(x=8,P=E.BASE){return P._setWindowSize(x),P.multiply(BigInt(3)),P}}}}BigInt(0),BigInt(1);const ZP=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),yF=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Sut=BigInt(1),vF=BigInt(2);BigInt(3);const Eut=BigInt(5),Cut=BigInt(8);function Iut(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=ZP,s=e*e%o*e%o,a=Yl(s,vF,o)*s%o,c=Yl(a,Sut,o)*e%o,l=Yl(c,Eut,o)*c%o,d=Yl(l,t,o)*l%o,f=Yl(d,n,o)*d%o,p=Yl(f,r,o)*f%o,m=Yl(p,i,o)*p%o,g=Yl(m,i,o)*p%o,y=Yl(g,t,o)*l%o;return{pow_p_5_8:Yl(y,vF,o)*e%o,b2:s}}function Aut(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Tut(e,t){const n=ZP,r=is(t*t*t,n),i=is(r*r*t,n),o=Iut(e*i).pow_p_5_8;let s=is(e*r*o,n);const a=is(t*s*s,n),c=s,l=is(s*yF,n),d=a===e,f=a===is(-e,n),p=a===is(-e*yF,n);return d&&(s=c),(f||p)&&(s=l),dut(s,n)&&(s=is(-s,n)),{isValid:d||f,value:s}}const Rut=one(ZP,void 0,!0),Put={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Rut,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Cut,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Xdt,randomBytes:Xte,adjustScalarBytes:Aut,uvRatio:Tut},cne=kut(Put),Out="EdDSA",Nut="JWT",lne=".",dne="base64url",jut="utf8",But="utf8",$ut=":",Mut="did",Dut="key",bF="base58btc",Lut="z",Uut="K36",Fut=32;function JP(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function une(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?JP(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function fne(e,t){t||(t=e.reduce((i,o)=>i+o.length,0));const n=une(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return JP(n)}function Wut(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function f(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,v=0,w=0,_=g.length;w!==_&&g[w]===0;)w++,y++;for(var E=(_-w)*d+1>>>0,C=new Uint8Array(E);w!==_;){for(var T=g[w],A=0,S=E-1;(T!==0||A<v)&&S!==-1;S--,A++)T+=256*C[S]>>>0,C[S]=T%a>>>0,T=T/a>>>0;if(T!==0)throw new Error("Non-zero carry");v=A,w++}for(var O=E-v;O!==E&&C[O]===0;)O++;for(var D=c.repeat(y);O<E;++O)D+=e.charAt(C[O]);return D}function p(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var v=0,w=0;g[y]===c;)v++,y++;for(var _=(g.length-y)*l+1>>>0,E=new Uint8Array(_);g[y];){var C=n[g.charCodeAt(y)];if(C===255)return;for(var T=0,A=_-1;(C!==0||T<w)&&A!==-1;A--,T++)C+=a*E[A]>>>0,E[A]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");w=T,y++}if(g[y]!==" "){for(var S=_-w;S!==_&&E[S]===0;)S++;for(var O=new Uint8Array(v+(_-S)),D=v;S!==_;)O[D++]=E[S++];return O}}}function m(g){var y=p(g);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:p,decode:m}}var zut=Wut,qut=zut;const hne=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Vut=e=>new TextEncoder().encode(e),Hut=e=>new TextDecoder().decode(e);let Kut=class{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Gut=class{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return pne(this,t)}};class Zut{constructor(t){this.decoders=t}or(t){return pne(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const pne=(e,t)=>new Zut({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let Jut=class{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Kut(t,n,r),this.decoder=new Gut(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const ES=({name:e,prefix:t,encode:n,decode:r})=>new Jut(e,t,n,r),ow=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=qut(n,t);return ES({prefix:e,name:t,encode:r,decode:o=>hne(i(o))})},Yut=(e,t,n,r)=>{const i={};for(let d=0;d<t.length;++d)i[t[d]]=d;let o=e.length;for(;e[o-1]==="=";)--o;const s=new Uint8Array(o*n/8|0);let a=0,c=0,l=0;for(let d=0;d<o;++d){const f=i[e[d]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,s[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},Xut=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o},Bs=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>ES({prefix:t,name:e,encode(i){return Xut(i,r,n)},decode(i){return Yut(i,r,n,e)}}),Qut=ES({prefix:"\0",name:"identity",encode:e=>Hut(e),decode:e=>Vut(e)});var eft=Object.freeze({__proto__:null,identity:Qut});const tft=Bs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var nft=Object.freeze({__proto__:null,base2:tft});const rft=Bs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var ift=Object.freeze({__proto__:null,base8:rft});const oft=ow({prefix:"9",name:"base10",alphabet:"0123456789"});var sft=Object.freeze({__proto__:null,base10:oft});const aft=Bs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),cft=Bs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var lft=Object.freeze({__proto__:null,base16:aft,base16upper:cft});const dft=Bs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),uft=Bs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fft=Bs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),hft=Bs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),pft=Bs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mft=Bs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),gft=Bs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),yft=Bs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vft=Bs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var bft=Object.freeze({__proto__:null,base32:dft,base32upper:uft,base32pad:fft,base32padupper:hft,base32hex:pft,base32hexupper:mft,base32hexpad:gft,base32hexpadupper:yft,base32z:vft});const wft=ow({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_ft=ow({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var xft=Object.freeze({__proto__:null,base36:wft,base36upper:_ft});const kft=ow({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Sft=ow({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Eft=Object.freeze({__proto__:null,base58btc:kft,base58flickr:Sft});const Cft=Bs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ift=Bs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Aft=Bs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Tft=Bs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Rft=Object.freeze({__proto__:null,base64:Cft,base64pad:Ift,base64url:Aft,base64urlpad:Tft});const mne=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Pft=mne.reduce((e,t,n)=>(e[n]=t,e),[]),Oft=mne.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function Nft(e){return e.reduce((t,n)=>(t+=Pft[n],t),"")}function jft(e){const t=[];for(const n of e){const r=Oft[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const Bft=ES({prefix:"🚀",name:"base256emoji",encode:Nft,decode:jft});var $ft=Object.freeze({__proto__:null,base256emoji:Bft}),Mft=gne,wF=128,Dft=127,Lft=~Dft,Uft=Math.pow(2,31);function gne(e,t,n){t=t||[],n=n||0;for(var r=n;e>=Uft;)t[n++]=e&255|wF,e/=128;for(;e&Lft;)t[n++]=e&255|wF,e>>>=7;return t[n]=e|0,gne.bytes=n-r+1,t}var Fft=b7,Wft=128,_F=127;function b7(e,r){var n=0,r=r||0,i=0,o=r,s,a=e.length;do{if(o>=a)throw b7.bytes=0,new RangeError("Could not decode varint");s=e[o++],n+=i<28?(s&_F)<<i:(s&_F)*Math.pow(2,i),i+=7}while(s>=Wft);return b7.bytes=o-r,n}var zft=Math.pow(2,7),qft=Math.pow(2,14),Vft=Math.pow(2,21),Hft=Math.pow(2,28),Kft=Math.pow(2,35),Gft=Math.pow(2,42),Zft=Math.pow(2,49),Jft=Math.pow(2,56),Yft=Math.pow(2,63),Xft=function(e){return e<zft?1:e<qft?2:e<Vft?3:e<Hft?4:e<Kft?5:e<Gft?6:e<Zft?7:e<Jft?8:e<Yft?9:10},Qft={encode:Mft,decode:Fft,encodingLength:Xft},yne=Qft;const xF=(e,t,n=0)=>(yne.encode(e,t,n),t),kF=e=>yne.encodingLength(e),w7=(e,t)=>{const n=t.byteLength,r=kF(e),i=r+kF(n),o=new Uint8Array(i+n);return xF(e,o,0),xF(n,o,r),o.set(t,i),new eht(e,n,t,o)};class eht{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}}const vne=({name:e,code:t,encode:n})=>new tht(e,t,n);class tht{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?w7(this.code,n):n.then(r=>w7(this.code,r))}else throw Error("Unknown type, must be binary type")}}const bne=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),nht=vne({name:"sha2-256",code:18,encode:bne("SHA-256")}),rht=vne({name:"sha2-512",code:19,encode:bne("SHA-512")});var iht=Object.freeze({__proto__:null,sha256:nht,sha512:rht});const wne=0,oht="identity",_ne=hne,sht=e=>w7(wne,_ne(e)),aht={code:wne,name:oht,encode:_ne,digest:sht};var cht=Object.freeze({__proto__:null,identity:aht});new TextEncoder,new TextDecoder;const SF={...eft,...nft,...ift,...sft,...lft,...bft,...xft,...Eft,...Rft,...$ft};({...iht,...cht});function xne(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const EF=xne("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),qE=xne("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=une(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),kne={utf8:EF,"utf-8":EF,hex:SF.base16,latin1:qE,ascii:qE,binary:qE,...SF};function YP(e,t="utf8"){const n=kne[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}function XP(e,t="utf8"){const n=kne[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?JP(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function lk(e){return YP(XP(Ap(e),jut),dne)}function Sne(e){const t=XP(Uut,bF),n=Lut+YP(fne([t,e]),bF);return[Mut,Dut,n].join($ut)}function lht(e){return YP(e,dne)}function dht(e){return XP([lk(e.header),lk(e.payload)].join(lne),But)}function uht(e){return[lk(e.header),lk(e.payload),lht(e.signature)].join(lne)}function CF(e=Xte(Fut)){const t=cne.getPublicKey(e);return{secretKey:fne([e,t]),publicKey:t}}async function fht(e,t,n,r,i=On.fromMiliseconds(Date.now())){const o={alg:Out,typ:Nut},s=Sne(r.publicKey),a=i+n,c={iss:s,sub:e,aud:t,iat:i,exp:a},l=dht({header:o,payload:c}),d=cne.sign(l,r.secretKey.slice(0,32));return uht({header:o,payload:c,signature:d})}const hht="PARSE_ERROR",pht="INVALID_REQUEST",mht="METHOD_NOT_FOUND",ght="INVALID_PARAMS",Ene="INTERNAL_ERROR",QP="SERVER_ERROR",yht=[-32700,-32600,-32601,-32602,-32603],Rv={[hht]:{code:-32700,message:"Parse error"},[pht]:{code:-32600,message:"Invalid Request"},[mht]:{code:-32601,message:"Method not found"},[ght]:{code:-32602,message:"Invalid params"},[Ene]:{code:-32603,message:"Internal error"},[QP]:{code:-32e3,message:"Server error"}},Cne=QP;function vht(e){return yht.includes(e)}function IF(e){return Object.keys(Rv).includes(e)?Rv[e]:Rv[Cne]}function bht(e){const t=Object.values(Rv).find(n=>n.code===e);return t||Rv[Cne]}function Ine(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var Ane={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _7=function(e,t){return _7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},_7(e,t)};function wht(e,t){_7(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var x7=function(){return x7=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},x7.apply(this,arguments)};function _ht(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function xht(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function kht(e,t){return function(n,r){t(n,r,e)}}function Sht(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Eht(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function Cht(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(d){return c([l,d])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(d){l=[6,d],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Iht(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function Aht(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function k7(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tne(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Tht(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Tne(arguments[t]));return e}function Rht(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Gb(e){return this instanceof Gb?(this.v=e,this):new Gb(e)}function Pht(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(p){r[p]&&(i[p]=function(m){return new Promise(function(g,y){o.push([p,m,g,y])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(g){f(o[0][3],g)}}function c(p){p.value instanceof Gb?Promise.resolve(p.value.v).then(l,d):f(o[0][2],p)}function l(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Oht(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(s){return(n=!n)?{value:Gb(e[i](s)),done:i==="return"}:o?o(s):s}:o}}function Nht(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof k7=="function"?k7(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}function jht(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Bht(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function $ht(e){return e&&e.__esModule?e:{default:e}}function Mht(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Dht(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const Lht=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return x7},__asyncDelegator:Oht,__asyncGenerator:Pht,__asyncValues:Nht,__await:Gb,__awaiter:Eht,__classPrivateFieldGet:Mht,__classPrivateFieldSet:Dht,__createBinding:Iht,__decorate:xht,__exportStar:Aht,__extends:wht,__generator:Cht,__importDefault:$ht,__importStar:Bht,__makeTemplateObject:jht,__metadata:Sht,__param:kht,__read:Tne,__rest:_ht,__spread:Tht,__spreadArrays:Rht,__values:k7},Symbol.toStringTag,{value:"Module"})),Uht=Dl(Lht);var eu={},AF;function Fht(){if(AF)return eu;AF=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.isBrowserCryptoAvailable=eu.getSubtleCrypto=eu.getBrowerCrypto=void 0;function e(){return(cr===null||cr===void 0?void 0:cr.crypto)||(cr===null||cr===void 0?void 0:cr.msCrypto)||{}}eu.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}eu.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return eu.isBrowserCryptoAvailable=n,eu}var tu={},TF;function Wht(){if(TF)return tu;TF=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.isBrowser=tu.isNode=tu.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}tu.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}tu.isNode=t;function n(){return!e()&&!t()}return tu.isBrowser=n,tu}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Uht;t.__exportStar(Fht(),e),t.__exportStar(Wht(),e)})(Ane);function eO(e=3){const t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function tO(e=6){return BigInt(eO(e))}function lp(e,t,n){return{id:n||eO(),jsonrpc:"2.0",method:e,params:t}}function CS(e,t){return{id:e,jsonrpc:"2.0",result:t}}function IS(e,t,n){return{id:e,jsonrpc:"2.0",error:zht(t)}}function zht(e,t){return typeof e>"u"?IF(Ene):(typeof e=="string"&&(e=Object.assign(Object.assign({},IF(QP)),{message:e})),vht(e.code)&&(e=bht(e.code)),e)}let qht=class{},Vht=class extends qht{constructor(){super()}},Rne=class extends Vht{constructor(t){super()}};const Hht="^https?:",Kht="^wss?:";function Ght(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function Pne(e,t){const n=Ght(e);return typeof n>"u"?!1:new RegExp(t).test(n)}function RF(e){return Pne(e,Hht)}function PF(e){return Pne(e,Kht)}function Zht(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function One(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function nO(e){return One(e)&&"method"in e}function sw(e){return One(e)&&(su(e)||Lc(e))}function su(e){return"result"in e}function Lc(e){return"error"in e}let Jht=class extends Rne{constructor(t){super(t),this.events=new ia.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async request(t,n){return this.requestStrict(lp(t.method,t.params||[],t.id||tO().toString()),n)}async requestStrict(t,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(o){i(o)}this.events.on(`${t.id}`,o=>{Lc(o)?i(o.error):r(o.result)});try{await this.connection.send(t,n)}catch(o){i(o)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),sw(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Yht=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Xht=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",OF=e=>e.split("?")[0],NF=10,Qht=Yht();let ept=class{constructor(t){if(this.url=t,this.events=new ia.EventEmitter,this.registering=!1,!PF(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ap(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!PF(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=t,this.registering=!0,new Promise((n,r)=>{const i=new URLSearchParams(t).get("origin"),o=Ane.isReactNative()?{headers:{origin:i}}:{rejectUnauthorized:!Zht(t)},s=new Qht(t,[],o);Xht()?s.onerror=a=>{const c=a;r(this.emitError(c.error))}:s.on("error",a=>{r(this.emitError(a))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(t){t.onmessage=n=>this.onPayload(n),t.onclose=n=>this.onClose(n),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?rw(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),i=r.message||r.toString(),o=IS(t,i);this.events.emit("payload",o)}parseError(t,n=this.url){return Ine(t,OF(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>NF&&this.events.setMaxListeners(NF)}emitError(t){const n=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${OF(this.url)}`));return this.events.emit("register_error",n),n}};function tpt(e,t){return t=t||{},new Promise(function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return s},get:function(d){return a[d.toLowerCase()]},has:function(d){return d.toLowerCase()in a}}}};for(var l in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(d,f,p){o.push(f=f.toLowerCase()),s.push([f,p]),a[f]=a[f]?a[f]+","+p:p}),n(c())},i.onerror=r,i.withCredentials=t.credentials=="include",t.headers)i.setRequestHeader(l,t.headers[l]);i.send(t.body||null)})}const npt=Object.freeze(Object.defineProperty({__proto__:null,default:tpt},Symbol.toStringTag,{value:"Module"})),jF=Dl(npt);var rpt=self.fetch||(self.fetch=jF.default||jF);const ipt=qo(rpt);var opt={};function spt(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function f(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,v=0,w=0,_=g.length;w!==_&&g[w]===0;)w++,y++;for(var E=(_-w)*d+1>>>0,C=new Uint8Array(E);w!==_;){for(var T=g[w],A=0,S=E-1;(T!==0||A<v)&&S!==-1;S--,A++)T+=256*C[S]>>>0,C[S]=T%a>>>0,T=T/a>>>0;if(T!==0)throw new Error("Non-zero carry");v=A,w++}for(var O=E-v;O!==E&&C[O]===0;)O++;for(var D=c.repeat(y);O<E;++O)D+=e.charAt(C[O]);return D}function p(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var v=0,w=0;g[y]===c;)v++,y++;for(var _=(g.length-y)*l+1>>>0,E=new Uint8Array(_);g[y];){var C=n[g.charCodeAt(y)];if(C===255)return;for(var T=0,A=_-1;(C!==0||T<w)&&A!==-1;A--,T++)C+=a*E[A]>>>0,E[A]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");w=T,y++}if(g[y]!==" "){for(var S=_-w;S!==_&&E[S]===0;)S++;for(var O=new Uint8Array(v+(_-S)),D=v;S!==_;)O[D++]=E[S++];return O}}}function m(g){var y=p(g);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:p,decode:m}}var apt=spt,cpt=apt;const Nne=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},lpt=e=>new TextEncoder().encode(e),dpt=e=>new TextDecoder().decode(e);class upt{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class fpt{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return jne(this,t)}}class hpt{constructor(t){this.decoders=t}or(t){return jne(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const jne=(e,t)=>new hpt({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let ppt=class{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new upt(t,n,r),this.decoder=new fpt(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const AS=({name:e,prefix:t,encode:n,decode:r})=>new ppt(e,t,n,r),aw=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=cpt(n,t);return AS({prefix:e,name:t,encode:r,decode:o=>Nne(i(o))})},mpt=(e,t,n,r)=>{const i={};for(let d=0;d<t.length;++d)i[t[d]]=d;let o=e.length;for(;e[o-1]==="=";)--o;const s=new Uint8Array(o*n/8|0);let a=0,c=0,l=0;for(let d=0;d<o;++d){const f=i[e[d]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,s[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},gpt=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o},$s=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>AS({prefix:t,name:e,encode(i){return gpt(i,r,n)},decode(i){return mpt(i,r,n,e)}}),ypt=AS({prefix:"\0",name:"identity",encode:e=>dpt(e),decode:e=>lpt(e)});var vpt=Object.freeze({__proto__:null,identity:ypt});const bpt=$s({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var wpt=Object.freeze({__proto__:null,base2:bpt});const _pt=$s({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var xpt=Object.freeze({__proto__:null,base8:_pt});const kpt=aw({prefix:"9",name:"base10",alphabet:"0123456789"});var Spt=Object.freeze({__proto__:null,base10:kpt});const Ept=$s({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Cpt=$s({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ipt=Object.freeze({__proto__:null,base16:Ept,base16upper:Cpt});const Apt=$s({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Tpt=$s({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Rpt=$s({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ppt=$s({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Opt=$s({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Npt=$s({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jpt=$s({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Bpt=$s({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$pt=$s({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Mpt=Object.freeze({__proto__:null,base32:Apt,base32upper:Tpt,base32pad:Rpt,base32padupper:Ppt,base32hex:Opt,base32hexupper:Npt,base32hexpad:jpt,base32hexpadupper:Bpt,base32z:$pt});const Dpt=aw({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Lpt=aw({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Upt=Object.freeze({__proto__:null,base36:Dpt,base36upper:Lpt});const Fpt=aw({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Wpt=aw({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var zpt=Object.freeze({__proto__:null,base58btc:Fpt,base58flickr:Wpt});const qpt=$s({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Vpt=$s({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Hpt=$s({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Kpt=$s({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Gpt=Object.freeze({__proto__:null,base64:qpt,base64pad:Vpt,base64url:Hpt,base64urlpad:Kpt});const Bne=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Zpt=Bne.reduce((e,t,n)=>(e[n]=t,e),[]),Jpt=Bne.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function Ypt(e){return e.reduce((t,n)=>(t+=Zpt[n],t),"")}function Xpt(e){const t=[];for(const n of e){const r=Jpt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const Qpt=AS({prefix:"🚀",name:"base256emoji",encode:Ypt,decode:Xpt});var emt=Object.freeze({__proto__:null,base256emoji:Qpt}),tmt=$ne,BF=128,nmt=127,rmt=~nmt,imt=Math.pow(2,31);function $ne(e,t,n){t=t||[],n=n||0;for(var r=n;e>=imt;)t[n++]=e&255|BF,e/=128;for(;e&rmt;)t[n++]=e&255|BF,e>>>=7;return t[n]=e|0,$ne.bytes=n-r+1,t}var omt=S7,smt=128,$F=127;function S7(e,r){var n=0,r=r||0,i=0,o=r,s,a=e.length;do{if(o>=a)throw S7.bytes=0,new RangeError("Could not decode varint");s=e[o++],n+=i<28?(s&$F)<<i:(s&$F)*Math.pow(2,i),i+=7}while(s>=smt);return S7.bytes=o-r,n}var amt=Math.pow(2,7),cmt=Math.pow(2,14),lmt=Math.pow(2,21),dmt=Math.pow(2,28),umt=Math.pow(2,35),fmt=Math.pow(2,42),hmt=Math.pow(2,49),pmt=Math.pow(2,56),mmt=Math.pow(2,63),gmt=function(e){return e<amt?1:e<cmt?2:e<lmt?3:e<dmt?4:e<umt?5:e<fmt?6:e<hmt?7:e<pmt?8:e<mmt?9:10},ymt={encode:tmt,decode:omt,encodingLength:gmt},Mne=ymt;const MF=(e,t,n=0)=>(Mne.encode(e,t,n),t),DF=e=>Mne.encodingLength(e),E7=(e,t)=>{const n=t.byteLength,r=DF(e),i=r+DF(n),o=new Uint8Array(i+n);return MF(e,o,0),MF(n,o,r),o.set(t,i),new vmt(e,n,t,o)};class vmt{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}}const Dne=({name:e,code:t,encode:n})=>new bmt(e,t,n);class bmt{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?E7(this.code,n):n.then(r=>E7(this.code,r))}else throw Error("Unknown type, must be binary type")}}const Lne=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),wmt=Dne({name:"sha2-256",code:18,encode:Lne("SHA-256")}),_mt=Dne({name:"sha2-512",code:19,encode:Lne("SHA-512")});var xmt=Object.freeze({__proto__:null,sha256:wmt,sha512:_mt});const Une=0,kmt="identity",Fne=Nne,Smt=e=>E7(Une,Fne(e)),Emt={code:Une,name:kmt,encode:Fne,digest:Smt};var Cmt=Object.freeze({__proto__:null,identity:Emt});new TextEncoder,new TextDecoder;const LF={...vpt,...wpt,...xpt,...Spt,...Ipt,...Mpt,...Upt,...zpt,...Gpt,...emt};({...xmt,...Cmt});function Wne(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Imt(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Wne(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function zne(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const UF=zne("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),VE=zne("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=Imt(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Amt={utf8:UF,"utf-8":UF,hex:LF.base16,latin1:VE,ascii:VE,binary:VE,...LF};function Tmt(e,t="utf8"){const n=Amt[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Wne(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}const qne="wc",Rmt=2,rO="core",eh=`${qne}@2:${rO}:`,Pmt={name:rO,logger:"error"},Omt={database:":memory:"},Nmt="crypto",FF="client_ed25519_seed",jmt=On.ONE_DAY,Bmt="keychain",$mt="0.3",Mmt="messages",Dmt="0.3",Lmt=On.SIX_HOURS,Umt="publisher",Vne="irn",Fmt="error",Hne="wss://relay.walletconnect.com",WF="wss://relay.walletconnect.org",Wmt="relayer",Js={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},zmt="_subscription",nu={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},qmt=On.ONE_SECOND,Vmt="2.11.2",Hmt=1e4,Kmt="0.3",Gmt="WALLETCONNECT_CLIENT_ID",pl={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Zmt="subscription",Jmt="0.3",Ymt=On.FIVE_SECONDS*1e3,Xmt="pairing",Qmt="0.3",Qy={wc_pairingDelete:{req:{ttl:On.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:On.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:On.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:On.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:On.ONE_DAY,prompt:!1,tag:0},res:{ttl:On.ONE_DAY,prompt:!1,tag:0}}},vv={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Xl={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},egt="history",tgt="0.3",ngt="expirer",Tc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},rgt="0.3",HE="verify-api",_g="https://verify.walletconnect.com",C7="https://verify.walletconnect.org",igt=[_g,C7],ogt="echo",sgt="https://echo.walletconnect.com";class agt{constructor(t,n){this.core=t,this.logger=n,this.keychain=new Map,this.name=Bmt,this.version=$mt,this.initialized=!1,this.storagePrefix=eh,this.init=async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}},this.has=r=>(this.isInitialized(),this.keychain.has(r)),this.set=async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()},this.get=r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:o}=Dt("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(o)}return i},this.del=async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()},this.core=t,this.logger=Ua(n,this.name)}get context(){return La(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,Dte(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Lte(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=Dt("NOT_INITIALIZED",this.name);throw new Error(t)}}}class cgt{constructor(t,n,r){this.core=t,this.logger=n,this.name=Nmt,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),o=CF(i);return Sne(o.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=mat();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const o=await this.getClientSeed(),s=CF(o),a=l7();return await fht(a,i,jmt,s)},this.generateSharedKey=(i,o,s)=>{this.isInitialized();const a=this.getPrivateKey(i),c=gat(a,o);return this.setSymKey(c,s)},this.setSymKey=async(i,o)=>{this.isInitialized();const s=o||yat(i);return await this.keychain.set(s,i),s},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,o,s)=>{this.isInitialized();const a=Mte(s),c=Ap(o);if(LU(a)){const p=a.senderPublicKey,m=a.receiverPublicKey;i=await this.generateSharedKey(p,m)}const l=this.getSymKey(i),{type:d,senderPublicKey:f}=a;return bat({type:d,symKey:l,message:c,senderPublicKey:f})},this.decode=async(i,o,s)=>{this.isInitialized();const a=xat(o,s);if(LU(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=wat({symKey:c,encoded:o});return rw(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=i=>{const o=ak(i);return ew(o.type)},this.getPayloadSenderPublicKey=i=>{const o=ak(i);return o.senderPublicKey?Jc(o.senderPublicKey,ha):void 0},this.core=t,this.logger=Ua(n,this.name),this.keychain=r||new agt(this.core,this.logger)}get context(){return La(this.logger)}async setPrivateKey(t,n){return await this.keychain.set(t,n),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(FF)}catch{t=l7(),await this.keychain.set(FF,t)}return Tmt(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=Dt("NOT_INITIALIZED",this.name);throw new Error(t)}}}class lgt extends udt{constructor(t,n){super(t,n),this.logger=t,this.core=n,this.messages=new Map,this.name=Mmt,this.version=Dmt,this.initialized=!1,this.storagePrefix=eh,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}},this.set=async(r,i)=>{this.isInitialized();const o=Mg(i);let s=this.messages.get(r);return typeof s>"u"&&(s={}),typeof s[o]<"u"||(s[o]=i,this.messages.set(r,s),await this.persist()),o},this.get=r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i},this.has=(r,i)=>{this.isInitialized();const o=this.get(r),s=Mg(i);return typeof o[s]<"u"},this.del=async r=>{this.isInitialized(),this.messages.delete(r),await this.persist()},this.logger=Ua(t,this.name),this.core=n}get context(){return La(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,Dte(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Lte(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=Dt("NOT_INITIALIZED",this.name);throw new Error(t)}}}class dgt extends fdt{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,this.events=new ia.EventEmitter,this.name=Umt,this.queue=new Map,this.publishTimeout=On.toMiliseconds(On.TEN_SECONDS*2),this.needsTransportRestart=!1,this.publish=async(r,i,o)=>{var s;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:o}});try{const a=(o==null?void 0:o.ttl)||Lmt,c=d7(o),l=(o==null?void 0:o.prompt)||!1,d=(o==null?void 0:o.tag)||0,f=(o==null?void 0:o.id)||tO().toString(),p={topic:r,message:i,opts:{ttl:a,relay:c,prompt:l,tag:d,id:f}},m=setTimeout(()=>this.queue.set(f,p),this.publishTimeout);try{await await zb(this.rpcPublish(r,i,a,c,l,d,f),this.publishTimeout,`Failed to publish payload, please try again. id:${f} tag:${d}`),this.removeRequestFromQueue(f),this.relayer.events.emit(Js.publish,p)}catch(g){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(s=o==null?void 0:o.internal)!=null&&s.throwOnFailedPublish)throw this.removeRequestFromQueue(f),g;return}finally{clearTimeout(m)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:o}})}catch(a){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(a),a}},this.on=(r,i)=>{this.events.on(r,i)},this.once=(r,i)=>{this.events.once(r,i)},this.off=(r,i)=>{this.events.off(r,i)},this.removeListener=(r,i)=>{this.events.removeListener(r,i)},this.relayer=t,this.logger=Ua(n,this.name),this.registerEventListeners()}get context(){return La(this.logger)}rpcPublish(t,n,r,i,o,s,a){var c,l,d,f;const p={method:Hx(i.protocol).publish,params:{topic:t,message:n,ttl:r,prompt:o,tag:s},id:a};return Aa((c=p.params)==null?void 0:c.prompt)&&((l=p.params)==null||delete l.prompt),Aa((d=p.params)==null?void 0:d.tag)&&((f=p.params)==null||delete f.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p}),this.relayer.request(p)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:n,message:r,opts:i}=t;await this.publish(n,r,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(gy.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Js.connection_stalled);return}this.checkQueue()}),this.relayer.on(Js.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}class ugt{constructor(){this.map=new Map,this.set=(t,n)=>{const r=this.get(t);this.exists(t,n)||this.map.set(t,[...r,n])},this.get=t=>this.map.get(t)||[],this.exists=(t,n)=>this.get(t).includes(n),this.delete=(t,n)=>{if(typeof n>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,n))return;const i=r.filter(o=>o!==n);if(!i.length){this.map.delete(t);return}this.map.set(t,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var fgt=Object.defineProperty,hgt=Object.defineProperties,pgt=Object.getOwnPropertyDescriptors,zF=Object.getOwnPropertySymbols,mgt=Object.prototype.hasOwnProperty,ggt=Object.prototype.propertyIsEnumerable,qF=(e,t,n)=>t in e?fgt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ev=(e,t)=>{for(var n in t||(t={}))mgt.call(t,n)&&qF(e,n,t[n]);if(zF)for(var n of zF(t))ggt.call(t,n)&&qF(e,n,t[n]);return e},KE=(e,t)=>hgt(e,pgt(t));class ygt extends mdt{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,this.subscriptions=new Map,this.topicMap=new ugt,this.events=new ia.EventEmitter,this.name=Zmt,this.version=Jmt,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=eh,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(r,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=d7(i),s={topic:r,relay:o};this.pending.set(r,s);const a=await this.rpcSubscribe(r,o);return this.onSubscribe(a,s),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}}),a}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}},this.unsubscribe=async(r,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)},this.isSubscribed=async r=>{if(this.topics.includes(r))return!0;const i=`${this.pendingSubscriptionWatchLabel}_${r}`;return await new Promise((o,s)=>{const a=new On.Watch;a.start(i);const c=setInterval(()=>{!this.pending.has(r)&&this.topics.includes(r)&&(clearInterval(c),a.stop(i),o(!0)),a.elapsed(i)>=Ymt&&(clearInterval(c),a.stop(i),s(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(r,i)=>{this.events.on(r,i)},this.once=(r,i)=>{this.events.once(r,i)},this.off=(r,i)=>{this.events.off(r,i)},this.removeListener=(r,i)=>{this.events.removeListener(r,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=Ua(n,this.name),this.clientId=""}get context(){return La(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,n){let r=!1;try{r=this.getSubscription(t).topic===n}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,n){const r=this.topicMap.get(t);await Promise.all(r.map(async i=>await this.unsubscribeById(t,i,n)))}async unsubscribeById(t,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}});try{const i=d7(r);await this.rpcUnsubscribe(t,n,i);const o=io("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,n,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(t,n){const r={method:Hx(n.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await zb(this.relayer.request(r),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Js.connection_stalled)}return Mg(t+this.clientId)}async rpcBatchSubscribe(t){if(!t.length)return;const n=t[0].relay,r={method:Hx(n.protocol).batchSubscribe,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{return await await zb(this.relayer.request(r),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(Js.connection_stalled)}}rpcUnsubscribe(t,n,r){const i={method:Hx(r.protocol).unsubscribe,params:{topic:t,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(t,n){this.setSubscription(t,KE(ev({},n),{id:t})),this.pending.delete(n.topic)}onBatchSubscribe(t){t.length&&t.forEach(n=>{this.setSubscription(n.id,ev({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(t,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,n){this.subscriptions.has(t)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:n}),this.addSubscription(t,n))}addSubscription(t,n){this.subscriptions.set(t,ev({},n)),this.topicMap.set(n.topic,t),this.events.emit(pl.created,n)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const n=this.subscriptions.get(t);if(!n){const{message:r}=Dt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}deleteSubscription(t,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:n});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(pl.deleted,KE(ev({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(pl.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<t;n++){const r=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(r)}}this.events.emit(pl.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:n}=Dt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const n=await this.rpcBatchSubscribe(t);bd(n)&&this.onBatchSubscribe(n.map((r,i)=>KE(ev({},t[i]),{id:r})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const t=[];this.pending.forEach(n=>{t.push(n)}),await this.batchSubscribe(t)}registerEventListeners(){this.relayer.core.heartbeat.on(gy.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(Js.connect,async()=>{await this.onConnect()}),this.relayer.on(Js.disconnect,()=>{this.onDisconnect()}),this.events.on(pl.created,async t=>{const n=pl.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),await this.persist()}),this.events.on(pl.deleted,async t=>{const n=pl.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Dt("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise(t=>{const n=setInterval(()=>{this.restartInProgress||(clearInterval(n),t())},this.pollingInterval)})}}var vgt=Object.defineProperty,VF=Object.getOwnPropertySymbols,bgt=Object.prototype.hasOwnProperty,wgt=Object.prototype.propertyIsEnumerable,HF=(e,t,n)=>t in e?vgt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_gt=(e,t)=>{for(var n in t||(t={}))bgt.call(t,n)&&HF(e,n,t[n]);if(VF)for(var n of VF(t))wgt.call(t,n)&&HF(e,n,t[n]);return e};class xgt extends hdt{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new ia.EventEmitter,this.name=Wmt,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.request=async n=>{this.logger.debug("Publishing Request Payload");const r=n.id;try{await this.toEstablishConnection();const i=this.provider.request(n);return this.requestsInFlight.set(r,{promise:i,request:n}),await i}catch(i){throw this.logger.debug("Failed to Publish Request"),this.logger.error(i),i}finally{this.requestsInFlight.delete(r)}},this.onPayloadHandler=n=>{this.onProviderPayload(n)},this.onConnectHandler=()=>{this.events.emit(Js.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=n=>{this.logger.error(n),this.events.emit(Js.error,n),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(nu.payload,this.onPayloadHandler),this.provider.on(nu.connect,this.onConnectHandler),this.provider.on(nu.disconnect,this.onDisconnectHandler),this.provider.on(nu.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?Ua(t.logger,this.name):kS(SS({level:t.logger||Fmt})),this.messages=new lgt(this.logger,t.core),this.subscriber=new ygt(this,this.logger),this.publisher=new dgt(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||Hne,this.projectId=t.projectId,this.bundleId=Aat(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${WF}...`),await this.restartTransport(WF)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},Hmt)}get context(){return La(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(t,n,r){this.isInitialized(),await this.publisher.publish(t,n,r),await this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now()})}async subscribe(t,n){var r;this.isInitialized();let i=((r=this.subscriber.topicMap.get(t))==null?void 0:r[0])||"";if(i)return i;let o;const s=a=>{a.topic===t&&(this.subscriber.off(pl.created,s),o())};return await Promise.all([new Promise(a=>{o=a,this.subscriber.on(pl.created,s)}),new Promise(async a=>{i=await this.subscriber.subscribe(t,n),a()})]),i}async unsubscribe(t,n){this.isInitialized(),await this.subscriber.unsubscribe(t,n)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async transportClose(){this.requestsInFlight.size>0&&(this.logger.debug("Waiting for all in-flight requests to finish before closing transport..."),this.requestsInFlight.forEach(async t=>{await t.promise})),this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await zb(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(t){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(n=>{if(!this.initialized)return n();this.subscriber.once(pl.resubscribed,()=>{n()})}),new Promise(async(n,r)=>{try{await zb(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(i){r(i);return}n()})])}catch(n){this.logger.error(n);const r=n;if(!this.isConnectionStalled(r.message))throw n;this.provider.events.emit(nu.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(t){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await JU())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(t){return this.staleConnectionErrors.some(n=>t.includes(n))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Jht(new ept(jat({sdkVersion:Vmt,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:n,message:r}=t;await this.messages.set(n,r)}async shouldIgnoreMessageEvent(t){const{topic:n,message:r}=t;if(!r||r.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isSubscribed(n))return this.logger.debug(`Ignoring message for non-subscribed topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.debug(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),nO(t)){if(!t.method.endsWith(zmt))return;const n=t.params,{topic:r,message:i,publishedAt:o}=n.data,s={topic:r,message:i,publishedAt:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(_gt({type:"event",event:n.id},s)),this.events.emit(n.id,s),await this.acknowledgePayload(t),await this.onMessageEvent(s)}else sw(t)&&this.events.emit(Js.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(Js.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const n=CS(t.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(nu.payload,this.onPayloadHandler),this.provider.off(nu.connect,this.onConnectHandler),this.provider.off(nu.disconnect,this.onDisconnectHandler),this.provider.off(nu.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(Js.connection_stalled,()=>{this.restartTransport().catch(n=>this.logger.error(n))});let t=await JU();Act(async n=>{this.initialized&&t!==n&&(t=n,n?await this.restartTransport().catch(r=>this.logger.error(r)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(r=>this.logger.error(r))))})}onProviderDisconnect(){this.events.emit(Js.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(t=>this.logger.error(t))},On.toMiliseconds(qmt)))}isInitialized(){if(!this.initialized){const{message:t}=Dt("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(t=>{const n=setInterval(()=>{this.connected&&(clearInterval(n),t())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var kgt=Object.defineProperty,KF=Object.getOwnPropertySymbols,Sgt=Object.prototype.hasOwnProperty,Egt=Object.prototype.propertyIsEnumerable,GF=(e,t,n)=>t in e?kgt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZF=(e,t)=>{for(var n in t||(t={}))Sgt.call(t,n)&&GF(e,n,t[n]);if(KF)for(var n of KF(t))Egt.call(t,n)&&GF(e,n,t[n]);return e};class TS extends pdt{constructor(t,n,r,i=eh,o=void 0){super(t,n,r,i),this.core=t,this.logger=n,this.name=r,this.map=new Map,this.version=Kmt,this.cached=[],this.initialized=!1,this.storagePrefix=eh,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>{this.getKey&&s!==null&&!Aa(s)?this.map.set(this.getKey(s),s):oct(s)?this.map.set(s.id,s):sct(s)&&this.map.set(s.topic,s)}),this.cached=[],this.initialized=!0)},this.set=async(s,a)=>{this.isInitialized(),this.map.has(s)?await this.update(s,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:s,value:a}),this.map.set(s,a),await this.persist())},this.get=s=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:s}),this.getData(s)),this.getAll=s=>(this.isInitialized(),s?this.values.filter(a=>Object.keys(s).every(c=>Sfe(a[c],s[c]))):this.values),this.update=async(s,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:s,update:a});const c=ZF(ZF({},this.getData(s)),a);this.map.set(s,c),await this.persist()},this.delete=async(s,a)=>{this.isInitialized(),this.map.has(s)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:s,reason:a}),this.map.delete(s),await this.persist())},this.logger=Ua(n,this.name),this.storagePrefix=i,this.getKey=o}get context(){return La(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const n=this.map.get(t);if(!n){const{message:r}=Dt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:n}=Dt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=Dt("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Cgt{constructor(t,n){this.core=t,this.logger=n,this.name=Xmt,this.version=Qmt,this.events=new PP,this.initialized=!1,this.storagePrefix=eh,this.ignoredPayloadTypes=[am],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]},this.create=async()=>{this.isInitialized();const r=l7(),i=await this.core.crypto.setSymKey(r),o=Za(On.FIVE_MINUTES),s={protocol:Vne},a={topic:i,expiry:o,relay:s,active:!1},c=Jat({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:r,relay:s,expiryTimestamp:o});return await this.pairings.set(i,a),await this.core.relayer.subscribe(i),this.core.expirer.set(i,o),{topic:i,uri:c}},this.pair=async r=>{this.isInitialized(),this.isValidPair(r);const{topic:i,symKey:o,relay:s,expiryTimestamp:a}=VU(r.uri);let c;if(this.pairings.keys.includes(i)&&(c=this.pairings.get(i),c.active))throw new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);const l=a||Za(On.FIVE_MINUTES),d={topic:i,relay:s,expiry:l,active:!1};return await this.pairings.set(i,d),this.core.expirer.set(i,l),r.activatePairing&&await this.activate({topic:i}),this.events.emit(vv.create,d),this.core.crypto.keychain.has(i)||(await this.core.crypto.setSymKey(o,i),await this.core.relayer.subscribe(i,{relay:s})),d},this.activate=async({topic:r})=>{this.isInitialized();const i=Za(On.THIRTY_DAYS);await this.pairings.update(r,{active:!0,expiry:i}),this.core.expirer.set(r,i)},this.ping=async r=>{this.isInitialized(),await this.isValidPing(r);const{topic:i}=r;if(this.pairings.keys.includes(i)){const o=await this.sendRequest(i,"wc_pairingPing",{}),{done:s,resolve:a,reject:c}=ag();this.events.once(Mo("pairing_ping",o),({error:l})=>{l?c(l):a()}),await s()}},this.updateExpiry=async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})},this.updateMetadata=async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",io("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(r,i,o)=>{const s=lp(i,o),a=await this.core.crypto.encode(r,s),c=Qy[i].req;return this.core.history.set(r,s),this.core.relayer.publish(r,a,c),s.id},this.sendResult=async(r,i,o)=>{const s=CS(r,o),a=await this.core.crypto.encode(i,s),c=await this.core.history.get(i,r),l=Qy[c.request.method].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(s)},this.sendError=async(r,i,o)=>{const s=IS(r,o),a=await this.core.crypto.encode(i,s),c=await this.core.history.get(i,r),l=Qy[c.request.method]?Qy[c.request.method].res:Qy.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(s)},this.deletePairing=async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,io("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])},this.cleanup=async()=>{const r=this.pairings.getAll().filter(i=>bf(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=r=>{const{topic:i,payload:o}=r;switch(o.method){case"wc_pairingPing":return this.onPairingPingRequest(i,o);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,o);default:return this.onUnknownRpcMethodRequest(i,o)}},this.onRelayEventResponse=async r=>{const{topic:i,payload:o}=r,s=(await this.core.history.get(i,o.id)).request.method;switch(s){case"wc_pairingPing":return this.onPairingPingResponse(i,o);default:return this.onUnknownRpcMethodResponse(s)}},this.onPairingPingRequest=async(r,i)=>{const{id:o}=i;try{this.isValidPing({topic:r}),await this.sendResult(o,r,!0),this.events.emit(vv.ping,{id:o,topic:r})}catch(s){await this.sendError(o,r,s),this.logger.error(s)}},this.onPairingPingResponse=(r,i)=>{const{id:o}=i;setTimeout(()=>{su(i)?this.events.emit(Mo("pairing_ping",o),{}):Lc(i)&&this.events.emit(Mo("pairing_ping",o),{error:i.error})},500)},this.onPairingDeleteRequest=async(r,i)=>{const{id:o}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(vv.delete,{id:o,topic:r})}catch(s){await this.sendError(o,r,s),this.logger.error(s)}},this.onUnknownRpcMethodRequest=async(r,i)=>{const{id:o,method:s}=i;try{if(this.registeredMethods.includes(s))return;const a=io("WC_METHOD_UNSUPPORTED",s);await this.sendError(o,r,a),this.logger.error(a)}catch(a){await this.sendError(o,r,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=r=>{this.registeredMethods.includes(r)||this.logger.error(io("WC_METHOD_UNSUPPORTED",r))},this.isValidPair=r=>{var i;if(!Ea(r)){const{message:s}=Dt("MISSING_OR_INVALID",`pair() params: ${r}`);throw new Error(s)}if(!ict(r.uri)){const{message:s}=Dt("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw new Error(s)}const o=VU(r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:s}=Dt("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(s)}if(!(o!=null&&o.symKey)){const{message:s}=Dt("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(s)}if(o!=null&&o.expiryTimestamp&&On.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){const{message:s}=Dt("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(s)}},this.isValidPing=async r=>{if(!Ea(r)){const{message:o}=Dt("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(o)}const{topic:i}=r;await this.isValidPairingTopic(i)},this.isValidDisconnect=async r=>{if(!Ea(r)){const{message:o}=Dt("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(o)}const{topic:i}=r;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async r=>{if(!gs(r,!1)){const{message:i}=Dt("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Dt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(bf(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Dt("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}},this.core=t,this.logger=Ua(n,this.name),this.pairings=new TS(this.core,this.logger,this.name,this.storagePrefix)}get context(){return La(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=Dt("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Js.message,async t=>{const{topic:n,message:r}=t;if(!this.pairings.keys.includes(n)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;const i=await this.core.crypto.decode(n,r);try{nO(i)?(this.core.history.set(n,i),this.onRelayEventRequest({topic:n,payload:i})):sw(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id))}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(Tc.expired,async t=>{const{topic:n}=Fte(t.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(vv.expire,{topic:n}))})}}class Igt extends ddt{constructor(t,n){super(t,n),this.core=t,this.logger=n,this.records=new Map,this.events=new ia.EventEmitter,this.name=egt,this.version=tgt,this.cached=[],this.initialized=!1,this.storagePrefix=eh,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(r,i,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:o}),this.records.has(i.id))return;const s={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:o,expiry:Za(On.THIRTY_DAYS)};this.records.set(s.id,s),this.events.emit(Xl.created,s)},this.resolve=async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Lc(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.events.emit(Xl.updated,i))},this.get=async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i)),this.delete=(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(o=>{if(o.topic===r){if(typeof i<"u"&&o.id!==i)return;this.records.delete(o.id),this.events.emit(Xl.deleted,o)}})},this.exists=async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1),this.on=(r,i)=>{this.events.on(r,i)},this.once=(r,i)=>{this.events.once(r,i)},this.off=(r,i)=>{this.events.off(r,i)},this.removeListener=(r,i)=>{this.events.removeListener(r,i)},this.logger=Ua(n,this.name)}get context(){return La(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:lp(n.request.method,n.request.params,n.id),chainId:n.chainId};return t.push(r)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const n=this.records.get(t);if(!n){const{message:r}=Dt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Xl.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:n}=Dt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(Xl.created,t=>{const n=Xl.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t}),this.persist()}),this.events.on(Xl.updated,t=>{const n=Xl.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t}),this.persist()}),this.events.on(Xl.deleted,t=>{const n=Xl.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t}),this.persist()}),this.core.heartbeat.on(gy.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(t=>{On.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.delete(t.topic,t.id))})}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=Dt("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Agt extends gdt{constructor(t,n){super(t,n),this.core=t,this.logger=n,this.expirations=new Map,this.events=new ia.EventEmitter,this.name=ngt,this.version=rgt,this.cached=[],this.initialized=!1,this.storagePrefix=eh,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(r,i)=>{this.isInitialized();const o=this.formatTarget(r),s={target:o,expiry:i};this.expirations.set(o,s),this.checkExpiry(o,s),this.events.emit(Tc.created,{target:o,expiration:s})},this.get=r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)},this.del=r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),o=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Tc.deleted,{target:i,expiration:o})}},this.on=(r,i)=>{this.events.on(r,i)},this.once=(r,i)=>{this.events.once(r,i)},this.off=(r,i)=>{this.events.off(r,i)},this.removeListener=(r,i)=>{this.events.removeListener(r,i)},this.logger=Ua(n,this.name)}get context(){return La(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return Bat(t);if(typeof t=="number")return $at(t);const{message:n}=Dt("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(n)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Tc.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:n}=Dt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const n=this.expirations.get(t);if(!n){const{message:r}=Dt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(r),new Error(r)}return n}checkExpiry(t,n){const{expiry:r}=n;On.toMiliseconds(r)-Date.now()<=0&&this.expire(t,n)}expire(t,n){this.expirations.delete(t),this.events.emit(Tc.expired,{target:t,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,n)=>this.checkExpiry(n,t))}registerEventListeners(){this.core.heartbeat.on(gy.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Tc.created,t=>{const n=Tc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Tc.expired,t=>{const n=Tc.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Tc.deleted,t=>{const n=Tc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Dt("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Tgt extends ydt{constructor(t,n){super(t,n),this.projectId=t,this.logger=n,this.name=HE,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async r=>{if(this.verifyDisabled||hy()||!py())return;const i=this.getVerifyUrl(r==null?void 0:r.verifyUrl);this.verifyUrl!==i&&this.removeIframe(),this.verifyUrl=i;try{await this.createIframe()}catch(o){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(o)}if(!this.initialized){this.removeIframe(),this.verifyUrl=C7;try{await this.createIframe()}catch(o){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(o),this.verifyDisabled=!0}}},this.register=async r=>{this.initialized?this.sendPost(r.attestationId):(this.addToQueue(r.attestationId),await this.init())},this.resolve=async r=>{if(this.isDevEnv)return"";const i=this.getVerifyUrl(r==null?void 0:r.verifyUrl);let o;try{o=await this.fetchAttestation(r.attestationId,i)}catch(s){this.logger.info(`failed to resolve attestation: ${r.attestationId} from url: ${i}`),this.logger.info(s),o=await this.fetchAttestation(r.attestationId,C7)}return o},this.fetchAttestation=async(r,i)=>{this.logger.info(`resolving attestation: ${r} from url: ${i}`);const o=this.startAbortTimer(On.ONE_SECOND*2),s=await fetch(`${i}/attestation/${r}`,{signal:this.abortController.signal});return clearTimeout(o),s.status===200?await s.json():void 0},this.addToQueue=r=>{this.queue.push(r)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(r=>this.sendPost(r)),this.queue=[])},this.sendPost=r=>{var i;try{if(!this.iframe)return;(i=this.iframe.contentWindow)==null||i.postMessage(r,"*"),this.logger.info(`postMessage sent: ${r} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let r;const i=o=>{o.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",i),r())};await Promise.race([new Promise(o=>{if(document.getElementById(HE))return o();window.addEventListener("message",i);const s=document.createElement("iframe");s.id=HE,s.src=`${this.verifyUrl}/${this.projectId}`,s.style.display="none",document.body.append(s),this.iframe=s,r=o}),new Promise((o,s)=>setTimeout(()=>{window.removeEventListener("message",i),s("verify iframe load timeout")},On.toMiliseconds(On.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=r=>{let i=r||_g;return igt.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${_g}`),i=_g),i},this.logger=Ua(n,this.name),this.verifyUrl=_g,this.abortController=new AbortController,this.isDevEnv=FP()&&opt.IS_VITEST}get context(){return La(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),On.toMiliseconds(t))}}class Rgt extends vdt{constructor(t,n){super(t,n),this.projectId=t,this.logger=n,this.context=ogt,this.registerDeviceToken=async r=>{const{clientId:i,token:o,notificationType:s,enableEncrypted:a=!1}=r,c=`${sgt}/${this.projectId}/clients`;await ipt(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:s,token:o,always_raw:a})})},this.logger=Ua(n,this.context)}}var Pgt=Object.defineProperty,JF=Object.getOwnPropertySymbols,Ogt=Object.prototype.hasOwnProperty,Ngt=Object.prototype.propertyIsEnumerable,YF=(e,t,n)=>t in e?Pgt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XF=(e,t)=>{for(var n in t||(t={}))Ogt.call(t,n)&&YF(e,n,t[n]);if(JF)for(var n of JF(t))Ngt.call(t,n)&&YF(e,n,t[n]);return e};class iO extends ldt{constructor(t){super(t),this.protocol=qne,this.version=Rmt,this.name=rO,this.events=new ia.EventEmitter,this.initialized=!1,this.on=(r,i)=>this.events.on(r,i),this.once=(r,i)=>this.events.once(r,i),this.off=(r,i)=>this.events.off(r,i),this.removeListener=(r,i)=>this.events.removeListener(r,i),this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||Hne,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const n=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:kS(SS({level:(t==null?void 0:t.logger)||Pmt.logger}));this.logger=Ua(n,this.name),this.heartbeat=new gy.HeartBeat,this.crypto=new cgt(this,this.logger,t==null?void 0:t.keychain),this.history=new Igt(this,this.logger),this.expirer=new Agt(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new flt(XF(XF({},Omt),t==null?void 0:t.storageOptions)),this.relayer=new xgt({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Cgt(this,this.logger),this.verify=new Tgt(this.projectId||"",this.logger),this.echoClient=new Rgt(this.projectId||"",this.logger)}static async init(t){const n=new iO(t);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Gmt,r),n}get context(){return La(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const jgt=iO,Kne="wc",Gne=2,Zne="client",oO=`${Kne}@${Gne}:${Zne}:`,GE={name:Zne,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},QF="WALLETCONNECT_DEEPLINK_CHOICE",Bgt="proposal",Jne="Proposal expired",$gt="session",hx=On.SEVEN_DAYS,Mgt="engine",ru={wc_sessionPropose:{req:{ttl:On.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:On.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:On.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:On.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:On.ONE_DAY,prompt:!1,tag:1104},res:{ttl:On.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:On.ONE_DAY,prompt:!1,tag:1106},res:{ttl:On.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:On.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:On.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:On.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:On.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:On.ONE_DAY,prompt:!1,tag:1112},res:{ttl:On.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:On.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:On.THIRTY_SECONDS,prompt:!1,tag:1115}}},ZE={min:On.FIVE_MINUTES,max:On.SEVEN_DAYS},iu={idle:"IDLE",active:"ACTIVE"},Dgt="request",Lgt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var Ugt=Object.defineProperty,Fgt=Object.defineProperties,Wgt=Object.getOwnPropertyDescriptors,eW=Object.getOwnPropertySymbols,zgt=Object.prototype.hasOwnProperty,qgt=Object.prototype.propertyIsEnumerable,tW=(e,t,n)=>t in e?Ugt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,la=(e,t)=>{for(var n in t||(t={}))zgt.call(t,n)&&tW(e,n,t[n]);if(eW)for(var n of eW(t))qgt.call(t,n)&&tW(e,n,t[n]);return e},zm=(e,t)=>Fgt(e,Wgt(t));class Vgt extends wdt{constructor(t){super(t),this.name=Mgt,this.events=new PP,this.initialized=!1,this.ignoredPayloadTypes=[am],this.requestQueue={state:iu.idle,queue:[]},this.sessionRequestQueue={state:iu.idle,queue:[]},this.requestQueueDelay=On.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(ru)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},On.toMiliseconds(this.requestQueueDelay)))},this.connect=async n=>{await this.isInitialized();const r=zm(la({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:i,requiredNamespaces:o,optionalNamespaces:s,sessionProperties:a,relays:c}=r;let l=i,d,f=!1;if(l&&(f=this.client.core.pairing.pairings.get(l).active),!l||!f){const{topic:C,uri:T}=await this.client.core.pairing.create();l=C,d=T}const p=await this.client.core.crypto.generateKeyPair(),m=ru.wc_sessionPropose.req.ttl||On.FIVE_MINUTES,g=Za(m),y=la({requiredNamespaces:o,optionalNamespaces:s,relays:c??[{protocol:Vne}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:g},a&&{sessionProperties:a}),{reject:v,resolve:w,done:_}=ag(m,Jne);if(this.events.once(Mo("session_connect"),async({error:C,session:T})=>{if(C)v(C);else if(T){T.self.publicKey=p;const A=zm(la({},T),{requiredNamespaces:y.requiredNamespaces,optionalNamespaces:y.optionalNamespaces});await this.client.session.set(T.topic,A),await this.setExpiry(T.topic,T.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:T.peer.metadata}),w(A)}}),!l){const{message:C}=Dt("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(C)}const E=await this.sendRequest({topic:l,method:"wc_sessionPropose",params:y,throwOnFailedPublish:!0});return await this.setProposal(E,la({id:E},y)),{uri:d,approval:_}},this.pair=async n=>(await this.isInitialized(),await this.client.core.pairing.pair(n)),this.approve=async n=>{await this.isInitialized(),await this.isValidApprove(n);const{id:r,relayProtocol:i,namespaces:o,sessionProperties:s}=n,a=this.client.proposal.get(r);let{pairingTopic:c,proposer:l,requiredNamespaces:d,optionalNamespaces:f}=a;c=c||"";const p=await this.client.core.crypto.generateKeyPair(),m=l.publicKey,g=await this.client.core.crypto.generateSharedKey(p,m);c&&r&&(await this.client.core.pairing.updateMetadata({topic:c,metadata:l.metadata}),await this.sendResult({id:r,topic:c,result:{relay:{protocol:i??"irn"},responderPublicKey:p}}),await this.client.proposal.delete(r,io("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:c}));const y=la({relay:{protocol:i??"irn"},namespaces:o,pairingTopic:c,controller:{publicKey:p,metadata:this.client.metadata},expiry:Za(hx)},s&&{sessionProperties:s});await this.client.core.relayer.subscribe(g);const v=zm(la({},y),{topic:g,requiredNamespaces:d,optionalNamespaces:f,pairingTopic:c,acknowledged:!1,self:y.controller,peer:{publicKey:l.publicKey,metadata:l.metadata},controller:p});await this.client.session.set(g,v);try{await this.sendRequest({topic:g,method:"wc_sessionSettle",params:y,throwOnFailedPublish:!0})}catch(w){throw this.client.logger.error(w),this.client.session.delete(g,io("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(g),w}return await this.setExpiry(g,Za(hx)),{topic:g,acknowledged:()=>new Promise(w=>setTimeout(()=>w(this.client.session.get(g)),500))}},this.reject=async n=>{await this.isInitialized(),await this.isValidReject(n);const{id:r,reason:i}=n,{pairingTopic:o}=this.client.proposal.get(r);o&&(await this.sendError(r,o,i),await this.client.proposal.delete(r,io("USER_DISCONNECTED")))},this.update=async n=>{await this.isInitialized(),await this.isValidUpdate(n);const{topic:r,namespaces:i}=n,o=await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i}}),{done:s,resolve:a,reject:c}=ag();return this.events.once(Mo("session_update",o),({error:l})=>{l?c(l):a()}),await this.client.session.update(r,{namespaces:i}),{acknowledged:s}},this.extend=async n=>{await this.isInitialized(),await this.isValidExtend(n);const{topic:r}=n,i=await this.sendRequest({topic:r,method:"wc_sessionExtend",params:{}}),{done:o,resolve:s,reject:a}=ag();return this.events.once(Mo("session_extend",i),({error:c})=>{c?a(c):s()}),await this.setExpiry(r,Za(hx)),{acknowledged:o}},this.request=async n=>{await this.isInitialized(),await this.isValidRequest(n);const{chainId:r,request:i,topic:o,expiry:s=ru.wc_sessionRequest.req.ttl}=n,a=eO(),{done:c,resolve:l,reject:d}=ag(s,"Request expired. Please try again.");return this.events.once(Mo("session_request",a),({error:f,result:p})=>{f?d(f):l(p)}),await Promise.all([new Promise(async f=>{await this.sendRequest({clientRpcId:a,topic:o,method:"wc_sessionRequest",params:{request:zm(la({},i),{expiryTimestamp:Za(s)}),chainId:r},expiry:s,throwOnFailedPublish:!0}).catch(p=>d(p)),this.client.events.emit("session_request_sent",{topic:o,request:i,chainId:r,id:a}),f()}),new Promise(async f=>{const p=await Dat(this.client.core.storage,QF);Mat({id:a,topic:o,wcDeepLink:p}),f()}),c()]).then(f=>f[2])},this.respond=async n=>{await this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:o}=i;su(i)?await this.sendResult({id:o,topic:r,result:i.result,throwOnFailedPublish:!0}):Lc(i)&&await this.sendError(o,r,i.error),this.cleanupAfterResponse(n)},this.ping=async n=>{await this.isInitialized(),await this.isValidPing(n);const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=await this.sendRequest({topic:r,method:"wc_sessionPing",params:{}}),{done:o,resolve:s,reject:a}=ag();this.events.once(Mo("session_ping",i),({error:c})=>{c?a(c):s()}),await o()}else this.client.core.pairing.pairings.keys.includes(r)&&await this.client.core.pairing.ping({topic:r})},this.emit=async n=>{await this.isInitialized(),await this.isValidEmit(n);const{topic:r,event:i,chainId:o}=n;await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:o}})},this.disconnect=async n=>{await this.isInitialized(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:io("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Dt("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}},this.find=n=>(this.isInitialized(),this.client.session.getAll().filter(r=>nct(r,n))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(o=>{var s,a;return((s=o.peerMetadata)==null?void 0:s.url)&&((a=o.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&o.topic&&o.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}},this.deleteSession=async n=>{const{topic:r,expirerHasDeleted:i=!1,emitEvent:o=!0,id:s=0}=n,{self:a}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,io("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),i||this.client.core.expirer.del(r),this.client.core.storage.removeItem(QF).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===r&&this.deletePendingSessionRequest(c.id,io("USER_DISCONNECTED"))}),o&&this.client.events.emit("session_delete",{id:s,topic:r})},this.deleteProposal=async(n,r)=>{await Promise.all([this.client.proposal.delete(n,io("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)])},this.deletePendingSessionRequest=async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(o=>o.id!==n),i&&(this.sessionRequestQueue.state=iu.idle,this.client.events.emit("session_request_expire",{id:n}))},this.setExpiry=async(n,r)=>{this.client.session.keys.includes(n)&&await this.client.session.update(n,{expiry:r}),this.client.core.expirer.set(n,r)},this.setProposal=async(n,r)=>{await this.client.proposal.set(n,r),this.client.core.expirer.set(n,Za(ru.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async n=>{const{id:r,topic:i,params:o,verifyContext:s}=n,a=o.request.expiryTimestamp||Za(ru.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(r,{id:r,topic:i,params:o,verifyContext:s}),a&&this.client.core.expirer.set(r,a)},this.sendRequest=async n=>{const{topic:r,method:i,params:o,expiry:s,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l}=n,d=lp(i,o,c);if(py()&&Lgt.includes(i)){const m=Mg(JSON.stringify(d));this.client.core.verify.register({attestationId:m})}const f=await this.client.core.crypto.encode(r,d),p=ru[i].req;return s&&(p.ttl=s),a&&(p.id=a),this.client.core.history.set(r,d),l?(p.internal=zm(la({},p.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,p)):this.client.core.relayer.publish(r,f,p).catch(m=>this.client.logger.error(m)),d.id},this.sendResult=async n=>{const{id:r,topic:i,result:o,throwOnFailedPublish:s}=n,a=CS(r,o),c=await this.client.core.crypto.encode(i,a),l=await this.client.core.history.get(i,r),d=ru[l.request.method].res;s?(d.internal=zm(la({},d.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,c,d)):this.client.core.relayer.publish(i,c,d).catch(f=>this.client.logger.error(f)),await this.client.core.history.resolve(a)},this.sendError=async(n,r,i)=>{const o=IS(n,i),s=await this.client.core.crypto.encode(r,o),a=await this.client.core.history.get(r,n),c=ru[a.request.method].res;this.client.core.relayer.publish(r,s,c),await this.client.core.history.resolve(o)},this.cleanup=async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let o=!1;bf(i.expiry)&&(o=!0),this.client.core.crypto.keychain.has(i.topic)||(o=!0),o&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{bf(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===iu.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=iu.active;const n=this.requestQueue.queue.shift();if(n)try{this.processRequest(n),await new Promise(r=>setTimeout(r,300))}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=iu.idle},this.processRequest=n=>{const{topic:r,payload:i}=n,o=i.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeRequest(r,i);case"wc_sessionSettle":return this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return this.onSessionExtendRequest(r,i);case"wc_sessionPing":return this.onSessionPingRequest(r,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return this.onSessionRequest(r,i);case"wc_sessionEvent":return this.onSessionEventRequest(r,i);default:return this.client.logger.info(`Unsupported request method ${o}`)}},this.onRelayEventResponse=async n=>{const{topic:r,payload:i}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}},this.onRelayEventUnknownPayload=n=>{const{topic:r}=n,{message:i}=Dt("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.onSessionProposeRequest=async(n,r)=>{const{params:i,id:o}=r;try{this.isValidConnect(la({},r.params));const s=i.expiryTimestamp||Za(ru.wc_sessionPropose.req.ttl),a=la({id:o,pairingTopic:n,expiryTimestamp:s},i);await this.setProposal(o,a);const c=Mg(JSON.stringify(r)),l=await this.getVerifyContext(c,a.proposer.metadata);this.client.events.emit("session_proposal",{id:o,params:a,verifyContext:l})}catch(s){await this.sendError(o,n,s),this.client.logger.error(s)}},this.onSessionProposeResponse=async(n,r)=>{const{id:i}=r;if(su(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const s=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const a=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});const c=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const l=await this.client.core.crypto.generateSharedKey(a,c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:l});const d=await this.client.core.relayer.subscribe(l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else Lc(r)&&(await this.client.proposal.delete(i,io("USER_DISCONNECTED")),this.events.emit(Mo("session_connect"),{error:r.error}))},this.onSessionSettleRequest=async(n,r)=>{const{id:i,params:o}=r;try{this.isValidSessionSettleRequest(o);const{relay:s,controller:a,expiry:c,namespaces:l,sessionProperties:d,pairingTopic:f}=r.params,p=la({topic:n,relay:s,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f,requiredNamespaces:{},optionalNamespaces:{},controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},d&&{sessionProperties:d});await this.sendResult({id:r.id,topic:n,result:!0}),this.events.emit(Mo("session_connect"),{session:p}),this.cleanupDuplicatePairings(p)}catch(s){await this.sendError(i,n,s),this.client.logger.error(s)}},this.onSessionSettleResponse=async(n,r)=>{const{id:i}=r;su(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Mo("session_approve",i),{})):Lc(r)&&(await this.client.session.delete(n,io("USER_DISCONNECTED")),this.events.emit(Mo("session_approve",i),{error:r.error}))},this.onSessionUpdateRequest=async(n,r)=>{const{params:i,id:o}=r;try{const s=`${n}_session_update`,a=sx.get(s);if(a&&this.isRequestOutOfSync(a,o)){this.client.logger.info(`Discarding out of sync request - ${o}`);return}this.isValidUpdate(la({topic:n},i)),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:o,topic:n,result:!0}),this.client.events.emit("session_update",{id:o,topic:n,params:i}),sx.set(s,o)}catch(s){await this.sendError(o,n,s),this.client.logger.error(s)}},this.isRequestOutOfSync=(n,r)=>parseInt(r.toString().slice(0,-3))<=parseInt(n.toString().slice(0,-3)),this.onSessionUpdateResponse=(n,r)=>{const{id:i}=r;su(r)?this.events.emit(Mo("session_update",i),{}):Lc(r)&&this.events.emit(Mo("session_update",i),{error:r.error})},this.onSessionExtendRequest=async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Za(hx)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.client.logger.error(o)}},this.onSessionExtendResponse=(n,r)=>{const{id:i}=r;su(r)?this.events.emit(Mo("session_extend",i),{}):Lc(r)&&this.events.emit(Mo("session_extend",i),{error:r.error})},this.onSessionPingRequest=async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.client.logger.error(o)}},this.onSessionPingResponse=(n,r)=>{const{id:i}=r;setTimeout(()=>{su(r)?this.events.emit(Mo("session_ping",i),{}):Lc(r)&&this.events.emit(Mo("session_ping",i),{error:r.error})},500)},this.onSessionDeleteRequest=async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(o=>{this.client.core.relayer.once(Js.publish,async()=>{o(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:io("USER_DISCONNECTED")})])}catch(o){this.client.logger.error(o)}},this.onSessionRequest=async(n,r)=>{const{id:i,params:o}=r;try{this.isValidRequest(la({topic:n},o));const s=Mg(JSON.stringify(lp("wc_sessionRequest",o,i))),a=this.client.session.get(n),c=await this.getVerifyContext(s,a.peer.metadata),l={id:i,topic:n,params:o,verifyContext:c};await this.setPendingSessionRequest(l),this.addSessionRequestToSessionRequestQueue(l),this.processSessionRequestQueue()}catch(s){await this.sendError(i,n,s),this.client.logger.error(s)}},this.onSessionRequestResponse=(n,r)=>{const{id:i}=r;su(r)?this.events.emit(Mo("session_request",i),{result:r.result}):Lc(r)&&this.events.emit(Mo("session_request",i),{error:r.error})},this.onSessionEventRequest=async(n,r)=>{const{id:i,params:o}=r;try{const s=`${n}_session_event_${o.event.name}`,a=sx.get(s);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(la({topic:n},o)),this.client.events.emit("session_event",{id:i,topic:n,params:o}),sx.set(s,i)}catch(s){await this.sendError(i,n,s),this.client.logger.error(s)}},this.addSessionRequestToSessionRequestQueue=n=>{this.sessionRequestQueue.queue.push(n)},this.cleanupAfterResponse=n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=iu.idle,this.processSessionRequestQueue()},On.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(o=>o.topic===n&&o.request.method==="wc_sessionRequest").forEach(o=>{this.events.emit(Mo("session_request",o.request.id),{error:r})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===iu.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=iu.active,this.client.events.emit("session_request",n)}catch(r){this.client.logger.error(r)}},this.onPairingCreated=n=>{if(n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest(n.topic,lp("wc_sessionPropose",{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties},r.id))},this.isValidConnect=async n=>{if(!Ea(n)){const{message:c}=Dt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(c)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:s,relays:a}=n;if(Aa(r)||await this.isValidPairingTopic(r),!pct(a)){const{message:c}=Dt("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(c)}!Aa(i)&&qb(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Aa(o)&&qb(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),Aa(s)||this.validateSessionProps(s,"sessionProperties")},this.validateNamespaces=(n,r)=>{const i=hct(n,"connect()",r);if(i)throw new Error(i.message)},this.isValidApprove=async n=>{if(!Ea(n))throw new Error(Dt("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:o,sessionProperties:s}=n;await this.isValidProposalId(r);const a=this.client.proposal.get(r),c=RE(i,"approve()");if(c)throw new Error(c.message);const l=GU(a.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!gs(o,!0)){const{message:d}=Dt("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(d)}Aa(s)||this.validateSessionProps(s,"sessionProperties")},this.isValidReject=async n=>{if(!Ea(n)){const{message:o}=Dt("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(o)}const{id:r,reason:i}=n;if(await this.isValidProposalId(r),!gct(i)){const{message:o}=Dt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(o)}},this.isValidSessionSettleRequest=n=>{if(!Ea(n)){const{message:l}=Dt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:o,expiry:s}=n;if(!zte(r)){const{message:l}=Dt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=act(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=RE(o,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(bf(s)){const{message:l}=Dt("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async n=>{if(!Ea(n)){const{message:c}=Dt("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;await this.isValidSessionTopic(r);const o=this.client.session.get(r),s=RE(i,"update()");if(s)throw new Error(s.message);const a=GU(o.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async n=>{if(!Ea(n)){const{message:i}=Dt("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionTopic(r)},this.isValidRequest=async n=>{if(!Ea(n)){const{message:c}=Dt("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:o,expiry:s}=n;await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!KU(a,o)){const{message:c}=Dt("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(c)}if(!yct(i)){const{message:c}=Dt("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!wct(a,o,i.method)){const{message:c}=Dt("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(s&&!Sct(s,ZE)){const{message:c}=Dt("MISSING_OR_INVALID",`request() expiry: ${s}. Expiry must be a number (in seconds) between ${ZE.min} and ${ZE.max}`);throw new Error(c)}},this.isValidRespond=async n=>{var r;if(!Ea(n)){const{message:s}=Dt("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(s)}const{topic:i,response:o}=n;try{await this.isValidSessionTopic(i)}catch(s){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),s}if(!vct(o)){const{message:s}=Dt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(o)}`);throw new Error(s)}},this.isValidPing=async n=>{if(!Ea(n)){const{message:i}=Dt("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)},this.isValidEmit=async n=>{if(!Ea(n)){const{message:a}=Dt("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:o}=n;await this.isValidSessionTopic(r);const{namespaces:s}=this.client.session.get(r);if(!KU(s,o)){const{message:a}=Dt("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(a)}if(!bct(i)){const{message:a}=Dt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!_ct(s,o,i.name)){const{message:a}=Dt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async n=>{if(!Ea(n)){const{message:i}=Dt("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)},this.getVerifyContext=async(n,r)=>{const i={verified:{verifyUrl:r.verifyUrl||_g,validation:"UNKNOWN",origin:r.url||""}};try{const o=await this.client.core.verify.resolve({attestationId:n,verifyUrl:r.verifyUrl});o&&(i.verified.origin=o.origin,i.verified.isScam=o.isScam,i.verified.validation=o.origin===new URL(r.url).origin?"VALID":"INVALID")}catch(o){this.client.logger.info(o)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i},this.validateSessionProps=(n,r)=>{Object.values(n).forEach(i=>{if(!gs(i,!1)){const{message:o}=Dt("MISSING_OR_INVALID",`${r} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(o)}})}}async isInitialized(){if(!this.initialized){const{message:t}=Dt("NOT_INITIALIZED",this.name);throw new Error(t)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Js.message,async t=>{const{topic:n,message:r}=t;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(r)))return;const i=await this.client.core.crypto.decode(n,r);try{nO(i)?(this.client.core.history.set(n,i),this.onRelayEventRequest({topic:n,payload:i})):sw(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.client.core.history.delete(n,i.id)):this.onRelayEventUnknownPayload({topic:n,payload:i})}catch(o){this.client.logger.error(o)}})}registerExpirerEvents(){this.client.core.expirer.on(Tc.expired,async t=>{const{topic:n,id:r}=Fte(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Dt("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(vv.create,t=>this.onPairingCreated(t))}isValidPairingTopic(t){if(!gs(t,!1)){const{message:n}=Dt("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:n}=Dt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(n)}if(bf(this.client.core.pairing.pairings.get(t).expiry)){const{message:n}=Dt("EXPIRED",`pairing topic: ${t}`);throw new Error(n)}}async isValidSessionTopic(t){if(!gs(t,!1)){const{message:n}=Dt("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(n)}if(!this.client.session.keys.includes(t)){const{message:n}=Dt("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(n)}if(bf(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:n}=Dt("EXPIRED",`session topic: ${t}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(t)){const{message:n}=Dt("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(n)}}async isValidSessionOrPairingTopic(t){if(this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(gs(t,!1)){const{message:n}=Dt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(n)}else{const{message:n}=Dt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(n)}}async isValidProposalId(t){if(!mct(t)){const{message:n}=Dt("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(n)}if(!this.client.proposal.keys.includes(t)){const{message:n}=Dt("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(n)}if(bf(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:n}=Dt("EXPIRED",`proposal id: ${t}`);throw new Error(n)}}}class Hgt extends TS{constructor(t,n){super(t,n,Bgt,oO),this.core=t,this.logger=n}}let Kgt=class extends TS{constructor(t,n){super(t,n,$gt,oO),this.core=t,this.logger=n}};class Ggt extends TS{constructor(t,n){super(t,n,Dgt,oO,r=>r.id),this.core=t,this.logger=n}}let Zgt=class Yne extends bdt{constructor(t){super(t),this.protocol=Kne,this.version=Gne,this.name=GE.name,this.events=new ia.EventEmitter,this.on=(r,i)=>this.events.on(r,i),this.once=(r,i)=>this.events.once(r,i),this.off=(r,i)=>this.events.off(r,i),this.removeListener=(r,i)=>this.events.removeListener(r,i),this.removeAllListeners=r=>this.events.removeAllListeners(r),this.connect=async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}},this.pair=async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}},this.approve=async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}},this.reject=async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}},this.update=async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}},this.extend=async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}},this.request=async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}},this.respond=async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}},this.ping=async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}},this.emit=async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}},this.find=r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}},this.name=(t==null?void 0:t.name)||GE.name,this.metadata=(t==null?void 0:t.metadata)||Rat();const n=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:kS(SS({level:(t==null?void 0:t.logger)||GE.logger}));this.core=(t==null?void 0:t.core)||new jgt(t),this.logger=Ua(n,this.name),this.session=new Kgt(this.core,this.logger),this.proposal=new Hgt(this.core,this.logger),this.pendingRequest=new Ggt(this.core,this.logger),this.engine=new Vgt(this)}static async init(t){const n=new Yne(t);return await n.initialize(),n}get context(){return La(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var Jgt=Object.defineProperty,Ygt=Object.defineProperties,Xgt=Object.getOwnPropertyDescriptors,nW=Object.getOwnPropertySymbols,Qgt=Object.prototype.hasOwnProperty,e0t=Object.prototype.propertyIsEnumerable,rW=(e,t,n)=>t in e?Jgt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iW=(e,t)=>{for(var n in t||(t={}))Qgt.call(t,n)&&rW(e,n,t[n]);if(nW)for(var n of nW(t))e0t.call(t,n)&&rW(e,n,t[n]);return e},oW=(e,t)=>Ygt(e,Xgt(t));const t0t={Accept:"application/json","Content-Type":"application/json"},n0t="POST",sW={headers:t0t,method:n0t},aW=10;let fh=class{constructor(t,n=!1){if(this.url=t,this.disableProviderPing=n,this.events=new ia.EventEmitter,this.isAvailable=!1,this.registering=!1,!RF(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const n=Ap(t),r=await(await ML(this.url,oW(iW({},sW),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(t.id,n)}}async register(t=this.url){if(!RF(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const n=Ap({id:1,jsonrpc:"2.0",method:"test",params:[]});await ML(t,oW(iW({},sW),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?rw(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),i=r.message||r.toString(),o=IS(t,i);this.events.emit("payload",o)}parseError(t,n=this.url){return Ine(t,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>aW&&this.events.setMaxListeners(aW)}};class hh extends Rne{constructor(t){super(t),this.events=new ia.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async request(t,n){return this.requestStrict(lp(t.method,t.params||[],t.id||tO().toString()),n)}async requestStrict(t,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(o){i(o)}this.events.on(`${t.id}`,o=>{Lc(o)?i(o.error):r(o.result)});try{await this.connection.send(t,n)}catch(o){i(o)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),sw(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const cW="error",r0t="wss://relay.walletconnect.com",i0t="wc",o0t="universal_provider",lW=`${i0t}@2:${o0t}:`,s0t="https://rpc.walletconnect.com/v1/",zu={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},I7={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",l=500,d="__lodash_placeholder__",f=1,p=2,m=4,g=1,y=2,v=1,w=2,_=4,E=8,C=16,T=32,A=64,S=128,O=256,D=512,K=30,H="...",X=800,U=16,I=1,x=2,P=3,N=1/0,$=9007199254740991,L=17976931348623157e292,z=NaN,q=4294967295,j=q-1,W=q>>>1,re=[["ary",S],["bind",v],["bindKey",w],["curry",E],["curryRight",C],["flip",D],["partial",T],["partialRight",A],["rearg",O]],de="[object Arguments]",te="[object Array]",ce="[object AsyncFunction]",ge="[object Boolean]",Ce="[object Date]",qe="[object DOMException]",J="[object Error]",G="[object Function]",we="[object GeneratorFunction]",$e="[object Map]",yt="[object Number]",Gt="[object Null]",_t="[object Object]",Rn="[object Promise]",mr="[object Proxy]",ve="[object RegExp]",Ue="[object Set]",Qe="[object String]",Ze="[object Symbol]",it="[object Undefined]",It="[object WeakMap]",kt="[object WeakSet]",St="[object ArrayBuffer]",Dn="[object DataView]",fn="[object Float32Array]",cn="[object Float64Array]",Cr="[object Int8Array]",Pn="[object Int16Array]",jn="[object Int32Array]",Dr="[object Uint8Array]",yn="[object Uint8ClampedArray]",Ir="[object Uint16Array]",wo="[object Uint32Array]",Lr=/\b__p \+= '';/g,ur=/\b(__p \+=) '' \+/g,as=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qr=/&(?:amp|lt|gt|quot|#39);/g,ri=/[&<>"']/g,Ms=RegExp(Qr.source),Xt=RegExp(ri.source),fr=/<%-([\s\S]+?)%>/g,Fi=/<%([\s\S]+?)%>/g,zr=/<%=([\s\S]+?)%>/g,Ur=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ds=/^\w*$/,si=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,or=/[\\^$.*+?()[\]{}|]/g,Oo=RegExp(or.source),F=/^\s+/,Z=/\s/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,B=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,_e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xe=/[()=,{}\[\]\/\s]/,Fe=/\\(\\)?/g,at=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ct=/\w*$/,ot=/^[-+]0x[0-9a-f]+$/i,Zn=/^0b[01]+$/i,At=/^\[object .+?Constructor\]$/,pn=/^0o[0-7]+$/i,kn=/^(?:0|[1-9]\d*)$/,mn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vn=/($^)/,bn=/['\n\r\u2028\u2029\\]/g,gn="\\ud800-\\udfff",wn="\\u0300-\\u036f",Nt="\\ufe20-\\ufe2f",zt="\\u20d0-\\u20ff",vt=wn+Nt+zt,wt="\\u2700-\\u27bf",gt="a-z\\xdf-\\xf6\\xf8-\\xff",xt="\\xac\\xb1\\xd7\\xf7",Be="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",je="\\u2000-\\u206f",Xe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ke="A-Z\\xc0-\\xd6\\xd8-\\xde",Je="\\ufe0e\\ufe0f",st=xt+Be+je+Xe,_n="['’]",Un="["+gn+"]",qn="["+st+"]",Fn="["+vt+"]",pe="\\d+",ar="["+wt+"]",kr="["+gt+"]",lr="[^"+gn+st+pe+wt+gt+Ke+"]",Vn="\\ud83c[\\udffb-\\udfff]",Ar="(?:"+Fn+"|"+Vn+")",dr="[^"+gn+"]",qr="(?:\\ud83c[\\udde6-\\uddff]){2}",gr="[\\ud800-\\udbff][\\udc00-\\udfff]",Tr="["+Ke+"]",wi="\\u200d",ki="(?:"+kr+"|"+lr+")",Kn="(?:"+Tr+"|"+lr+")",Zi="(?:"+_n+"(?:d|ll|m|re|s|t|ve))?",Bi="(?:"+_n+"(?:D|LL|M|RE|S|T|VE))?",Ji=Ar+"?",ph="["+Je+"]?",mh="(?:"+wi+"(?:"+[dr,qr,gr].join("|")+")"+ph+Ji+")*",dc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yh=ph+Ji+mh,qu="(?:"+[ar,qr,gr].join("|")+")"+yh,vh="(?:"+[dr+Fn+"?",Fn,qr,gr,Un].join("|")+")",Fa=RegExp(_n,"g"),wm=RegExp(Fn,"g"),Ld=RegExp(Vn+"(?="+Vn+")|"+vh+yh,"g"),bh=RegExp([Tr+"?"+kr+"+"+Zi+"(?="+[qn,Tr,"$"].join("|")+")",Kn+"+"+Bi+"(?="+[qn,Tr+ki,"$"].join("|")+")",Tr+"?"+ki+"+"+Zi,Tr+"+"+Bi,gh,dc,pe,qu].join("|"),"g"),wh=RegExp("["+wi+gn+vt+Je+"]"),zl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_h=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_m=-1,_i={};_i[fn]=_i[cn]=_i[Cr]=_i[Pn]=_i[jn]=_i[Dr]=_i[yn]=_i[Ir]=_i[wo]=!0,_i[de]=_i[te]=_i[St]=_i[ge]=_i[Dn]=_i[Ce]=_i[J]=_i[G]=_i[$e]=_i[yt]=_i[_t]=_i[ve]=_i[Ue]=_i[Qe]=_i[It]=!1;var pi={};pi[de]=pi[te]=pi[St]=pi[Dn]=pi[ge]=pi[Ce]=pi[fn]=pi[cn]=pi[Cr]=pi[Pn]=pi[jn]=pi[$e]=pi[yt]=pi[_t]=pi[ve]=pi[Ue]=pi[Qe]=pi[Ze]=pi[Dr]=pi[yn]=pi[Ir]=pi[wo]=!0,pi[J]=pi[G]=pi[It]=!1;var fe={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ke={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ii=parseFloat,yr=parseInt,Wi=typeof tv=="object"&&tv&&tv.Object===Object&&tv,Vo=typeof self=="object"&&self&&self.Object===Object&&self,ei=Wi||Vo||Function("return this")(),Ti=t&&!t.nodeType&&t,No=Ti&&!0&&e&&!e.nodeType&&e,ga=No&&No.exports===Ti,Ho=ga&&Wi.process,zi=function(){try{var Ee=No&&No.require&&No.require("util").types;return Ee||Ho&&Ho.binding&&Ho.binding("util")}catch{}}(),oa=zi&&zi.isArrayBuffer,tl=zi&&zi.isDate,uc=zi&&zi.isMap,ql=zi&&zi.isRegExp,_y=zi&&zi.isSet,xh=zi&&zi.isTypedArray;function cs(Ee,Ge,ze){switch(ze.length){case 0:return Ee.call(Ge);case 1:return Ee.call(Ge,ze[0]);case 2:return Ee.call(Ge,ze[0],ze[1]);case 3:return Ee.call(Ge,ze[0],ze[1],ze[2])}return Ee.apply(Ge,ze)}function Xie(Ee,Ge,ze,on){for(var hr=-1,mi=Ee==null?0:Ee.length;++hr<mi;){var ts=Ee[hr];Ge(on,ts,ze(ts),Ee)}return on}function fc(Ee,Ge){for(var ze=-1,on=Ee==null?0:Ee.length;++ze<on&&Ge(Ee[ze],ze,Ee)!==!1;);return Ee}function Qie(Ee,Ge){for(var ze=Ee==null?0:Ee.length;ze--&&Ge(Ee[ze],ze,Ee)!==!1;);return Ee}function RO(Ee,Ge){for(var ze=-1,on=Ee==null?0:Ee.length;++ze<on;)if(!Ge(Ee[ze],ze,Ee))return!1;return!0}function Vu(Ee,Ge){for(var ze=-1,on=Ee==null?0:Ee.length,hr=0,mi=[];++ze<on;){var ts=Ee[ze];Ge(ts,ze,Ee)&&(mi[hr++]=ts)}return mi}function Sw(Ee,Ge){var ze=Ee==null?0:Ee.length;return!!ze&&xm(Ee,Ge,0)>-1}function o5(Ee,Ge,ze){for(var on=-1,hr=Ee==null?0:Ee.length;++on<hr;)if(ze(Ge,Ee[on]))return!0;return!1}function Yi(Ee,Ge){for(var ze=-1,on=Ee==null?0:Ee.length,hr=Array(on);++ze<on;)hr[ze]=Ge(Ee[ze],ze,Ee);return hr}function Hu(Ee,Ge){for(var ze=-1,on=Ge.length,hr=Ee.length;++ze<on;)Ee[hr+ze]=Ge[ze];return Ee}function s5(Ee,Ge,ze,on){var hr=-1,mi=Ee==null?0:Ee.length;for(on&&mi&&(ze=Ee[++hr]);++hr<mi;)ze=Ge(ze,Ee[hr],hr,Ee);return ze}function eoe(Ee,Ge,ze,on){var hr=Ee==null?0:Ee.length;for(on&&hr&&(ze=Ee[--hr]);hr--;)ze=Ge(ze,Ee[hr],hr,Ee);return ze}function a5(Ee,Ge){for(var ze=-1,on=Ee==null?0:Ee.length;++ze<on;)if(Ge(Ee[ze],ze,Ee))return!0;return!1}var toe=c5("length");function noe(Ee){return Ee.split("")}function roe(Ee){return Ee.match(_e)||[]}function PO(Ee,Ge,ze){var on;return ze(Ee,function(hr,mi,ts){if(Ge(hr,mi,ts))return on=mi,!1}),on}function Ew(Ee,Ge,ze,on){for(var hr=Ee.length,mi=ze+(on?1:-1);on?mi--:++mi<hr;)if(Ge(Ee[mi],mi,Ee))return mi;return-1}function xm(Ee,Ge,ze){return Ge===Ge?moe(Ee,Ge,ze):Ew(Ee,OO,ze)}function ioe(Ee,Ge,ze,on){for(var hr=ze-1,mi=Ee.length;++hr<mi;)if(on(Ee[hr],Ge))return hr;return-1}function OO(Ee){return Ee!==Ee}function NO(Ee,Ge){var ze=Ee==null?0:Ee.length;return ze?d5(Ee,Ge)/ze:z}function c5(Ee){return function(Ge){return Ge==null?n:Ge[Ee]}}function l5(Ee){return function(Ge){return Ee==null?n:Ee[Ge]}}function jO(Ee,Ge,ze,on,hr){return hr(Ee,function(mi,ts,Ri){ze=on?(on=!1,mi):Ge(ze,mi,ts,Ri)}),ze}function ooe(Ee,Ge){var ze=Ee.length;for(Ee.sort(Ge);ze--;)Ee[ze]=Ee[ze].value;return Ee}function d5(Ee,Ge){for(var ze,on=-1,hr=Ee.length;++on<hr;){var mi=Ge(Ee[on]);mi!==n&&(ze=ze===n?mi:ze+mi)}return ze}function u5(Ee,Ge){for(var ze=-1,on=Array(Ee);++ze<Ee;)on[ze]=Ge(ze);return on}function soe(Ee,Ge){return Yi(Ge,function(ze){return[ze,Ee[ze]]})}function BO(Ee){return Ee&&Ee.slice(0,LO(Ee)+1).replace(F,"")}function Wa(Ee){return function(Ge){return Ee(Ge)}}function f5(Ee,Ge){return Yi(Ge,function(ze){return Ee[ze]})}function xy(Ee,Ge){return Ee.has(Ge)}function $O(Ee,Ge){for(var ze=-1,on=Ee.length;++ze<on&&xm(Ge,Ee[ze],0)>-1;);return ze}function MO(Ee,Ge){for(var ze=Ee.length;ze--&&xm(Ge,Ee[ze],0)>-1;);return ze}function aoe(Ee,Ge){for(var ze=Ee.length,on=0;ze--;)Ee[ze]===Ge&&++on;return on}var coe=l5(fe),loe=l5(ke);function doe(Ee){return"\\"+Lt[Ee]}function uoe(Ee,Ge){return Ee==null?n:Ee[Ge]}function km(Ee){return wh.test(Ee)}function foe(Ee){return zl.test(Ee)}function hoe(Ee){for(var Ge,ze=[];!(Ge=Ee.next()).done;)ze.push(Ge.value);return ze}function h5(Ee){var Ge=-1,ze=Array(Ee.size);return Ee.forEach(function(on,hr){ze[++Ge]=[hr,on]}),ze}function DO(Ee,Ge){return function(ze){return Ee(Ge(ze))}}function Ku(Ee,Ge){for(var ze=-1,on=Ee.length,hr=0,mi=[];++ze<on;){var ts=Ee[ze];(ts===Ge||ts===d)&&(Ee[ze]=d,mi[hr++]=ze)}return mi}function Cw(Ee){var Ge=-1,ze=Array(Ee.size);return Ee.forEach(function(on){ze[++Ge]=on}),ze}function poe(Ee){var Ge=-1,ze=Array(Ee.size);return Ee.forEach(function(on){ze[++Ge]=[on,on]}),ze}function moe(Ee,Ge,ze){for(var on=ze-1,hr=Ee.length;++on<hr;)if(Ee[on]===Ge)return on;return-1}function goe(Ee,Ge,ze){for(var on=ze+1;on--;)if(Ee[on]===Ge)return on;return on}function Sm(Ee){return km(Ee)?voe(Ee):toe(Ee)}function nl(Ee){return km(Ee)?boe(Ee):noe(Ee)}function LO(Ee){for(var Ge=Ee.length;Ge--&&Z.test(Ee.charAt(Ge)););return Ge}var yoe=l5(rt);function voe(Ee){for(var Ge=Ld.lastIndex=0;Ld.test(Ee);)++Ge;return Ge}function boe(Ee){return Ee.match(Ld)||[]}function woe(Ee){return Ee.match(bh)||[]}var _oe=function Ee(Ge){Ge=Ge==null?ei:Em.defaults(ei.Object(),Ge,Em.pick(ei,_h));var ze=Ge.Array,on=Ge.Date,hr=Ge.Error,mi=Ge.Function,ts=Ge.Math,Ri=Ge.Object,p5=Ge.RegExp,xoe=Ge.String,hc=Ge.TypeError,Iw=ze.prototype,koe=mi.prototype,Cm=Ri.prototype,Aw=Ge["__core-js_shared__"],Tw=koe.toString,Si=Cm.hasOwnProperty,Soe=0,UO=function(){var h=/[^.]+$/.exec(Aw&&Aw.keys&&Aw.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Rw=Cm.toString,Eoe=Tw.call(Ri),Coe=ei._,Ioe=p5("^"+Tw.call(Si).replace(or,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pw=ga?Ge.Buffer:n,Gu=Ge.Symbol,Ow=Ge.Uint8Array,FO=Pw?Pw.allocUnsafe:n,Nw=DO(Ri.getPrototypeOf,Ri),WO=Ri.create,zO=Cm.propertyIsEnumerable,jw=Iw.splice,qO=Gu?Gu.isConcatSpreadable:n,ky=Gu?Gu.iterator:n,kh=Gu?Gu.toStringTag:n,Bw=function(){try{var h=Ah(Ri,"defineProperty");return h({},"",{}),h}catch{}}(),Aoe=Ge.clearTimeout!==ei.clearTimeout&&Ge.clearTimeout,Toe=on&&on.now!==ei.Date.now&&on.now,Roe=Ge.setTimeout!==ei.setTimeout&&Ge.setTimeout,$w=ts.ceil,Mw=ts.floor,m5=Ri.getOwnPropertySymbols,Poe=Pw?Pw.isBuffer:n,VO=Ge.isFinite,Ooe=Iw.join,Noe=DO(Ri.keys,Ri),ns=ts.max,Ls=ts.min,joe=on.now,Boe=Ge.parseInt,HO=ts.random,$oe=Iw.reverse,g5=Ah(Ge,"DataView"),Sy=Ah(Ge,"Map"),y5=Ah(Ge,"Promise"),Im=Ah(Ge,"Set"),Ey=Ah(Ge,"WeakMap"),Cy=Ah(Ri,"create"),Dw=Ey&&new Ey,Am={},Moe=Th(g5),Doe=Th(Sy),Loe=Th(y5),Uoe=Th(Im),Foe=Th(Ey),Lw=Gu?Gu.prototype:n,Iy=Lw?Lw.valueOf:n,KO=Lw?Lw.toString:n;function ee(h){if(_o(h)&&!vr(h)&&!(h instanceof Xr)){if(h instanceof pc)return h;if(Si.call(h,"__wrapped__"))return GN(h)}return new pc(h)}var Tm=function(){function h(){}return function(b){if(!co(b))return{};if(WO)return WO(b);h.prototype=b;var R=new h;return h.prototype=n,R}}();function Uw(){}function pc(h,b){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=n}ee.templateSettings={escape:fr,evaluate:Fi,interpolate:zr,variable:"",imports:{_:ee}},ee.prototype=Uw.prototype,ee.prototype.constructor=ee,pc.prototype=Tm(Uw.prototype),pc.prototype.constructor=pc;function Xr(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=q,this.__views__=[]}function Woe(){var h=new Xr(this.__wrapped__);return h.__actions__=ya(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=ya(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=ya(this.__views__),h}function zoe(){if(this.__filtered__){var h=new Xr(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function qoe(){var h=this.__wrapped__.value(),b=this.__dir__,R=vr(h),M=b<0,V=R?h.length:0,ne=nae(0,V,this.__views__),me=ne.start,be=ne.end,Ie=be-me,et=M?be:me-1,nt=this.__iteratees__,lt=nt.length,Wt=0,Sn=Ls(Ie,this.__takeCount__);if(!R||!M&&V==Ie&&Sn==Ie)return yN(h,this.__actions__);var Jn=[];e:for(;Ie--&&Wt<Sn;){et+=b;for(var Rr=-1,Yn=h[et];++Rr<lt;){var Hr=nt[Rr],ti=Hr.iteratee,Va=Hr.type,ca=ti(Yn);if(Va==x)Yn=ca;else if(!ca){if(Va==I)continue e;break e}}Jn[Wt++]=Yn}return Jn}Xr.prototype=Tm(Uw.prototype),Xr.prototype.constructor=Xr;function Sh(h){var b=-1,R=h==null?0:h.length;for(this.clear();++b<R;){var M=h[b];this.set(M[0],M[1])}}function Voe(){this.__data__=Cy?Cy(null):{},this.size=0}function Hoe(h){var b=this.has(h)&&delete this.__data__[h];return this.size-=b?1:0,b}function Koe(h){var b=this.__data__;if(Cy){var R=b[h];return R===c?n:R}return Si.call(b,h)?b[h]:n}function Goe(h){var b=this.__data__;return Cy?b[h]!==n:Si.call(b,h)}function Zoe(h,b){var R=this.__data__;return this.size+=this.has(h)?0:1,R[h]=Cy&&b===n?c:b,this}Sh.prototype.clear=Voe,Sh.prototype.delete=Hoe,Sh.prototype.get=Koe,Sh.prototype.has=Goe,Sh.prototype.set=Zoe;function Ud(h){var b=-1,R=h==null?0:h.length;for(this.clear();++b<R;){var M=h[b];this.set(M[0],M[1])}}function Joe(){this.__data__=[],this.size=0}function Yoe(h){var b=this.__data__,R=Fw(b,h);if(R<0)return!1;var M=b.length-1;return R==M?b.pop():jw.call(b,R,1),--this.size,!0}function Xoe(h){var b=this.__data__,R=Fw(b,h);return R<0?n:b[R][1]}function Qoe(h){return Fw(this.__data__,h)>-1}function ese(h,b){var R=this.__data__,M=Fw(R,h);return M<0?(++this.size,R.push([h,b])):R[M][1]=b,this}Ud.prototype.clear=Joe,Ud.prototype.delete=Yoe,Ud.prototype.get=Xoe,Ud.prototype.has=Qoe,Ud.prototype.set=ese;function Fd(h){var b=-1,R=h==null?0:h.length;for(this.clear();++b<R;){var M=h[b];this.set(M[0],M[1])}}function tse(){this.size=0,this.__data__={hash:new Sh,map:new(Sy||Ud),string:new Sh}}function nse(h){var b=Qw(this,h).delete(h);return this.size-=b?1:0,b}function rse(h){return Qw(this,h).get(h)}function ise(h){return Qw(this,h).has(h)}function ose(h,b){var R=Qw(this,h),M=R.size;return R.set(h,b),this.size+=R.size==M?0:1,this}Fd.prototype.clear=tse,Fd.prototype.delete=nse,Fd.prototype.get=rse,Fd.prototype.has=ise,Fd.prototype.set=ose;function Eh(h){var b=-1,R=h==null?0:h.length;for(this.__data__=new Fd;++b<R;)this.add(h[b])}function sse(h){return this.__data__.set(h,c),this}function ase(h){return this.__data__.has(h)}Eh.prototype.add=Eh.prototype.push=sse,Eh.prototype.has=ase;function rl(h){var b=this.__data__=new Ud(h);this.size=b.size}function cse(){this.__data__=new Ud,this.size=0}function lse(h){var b=this.__data__,R=b.delete(h);return this.size=b.size,R}function dse(h){return this.__data__.get(h)}function use(h){return this.__data__.has(h)}function fse(h,b){var R=this.__data__;if(R instanceof Ud){var M=R.__data__;if(!Sy||M.length<i-1)return M.push([h,b]),this.size=++R.size,this;R=this.__data__=new Fd(M)}return R.set(h,b),this.size=R.size,this}rl.prototype.clear=cse,rl.prototype.delete=lse,rl.prototype.get=dse,rl.prototype.has=use,rl.prototype.set=fse;function GO(h,b){var R=vr(h),M=!R&&Rh(h),V=!R&&!M&&Qu(h),ne=!R&&!M&&!V&&Nm(h),me=R||M||V||ne,be=me?u5(h.length,xoe):[],Ie=be.length;for(var et in h)(b||Si.call(h,et))&&!(me&&(et=="length"||V&&(et=="offset"||et=="parent")||ne&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||Vd(et,Ie)))&&be.push(et);return be}function ZO(h){var b=h.length;return b?h[A5(0,b-1)]:n}function hse(h,b){return e_(ya(h),Ch(b,0,h.length))}function pse(h){return e_(ya(h))}function v5(h,b,R){(R!==n&&!il(h[b],R)||R===n&&!(b in h))&&Wd(h,b,R)}function Ay(h,b,R){var M=h[b];(!(Si.call(h,b)&&il(M,R))||R===n&&!(b in h))&&Wd(h,b,R)}function Fw(h,b){for(var R=h.length;R--;)if(il(h[R][0],b))return R;return-1}function mse(h,b,R,M){return Zu(h,function(V,ne,me){b(M,V,R(V),me)}),M}function JO(h,b){return h&&Hl(b,ls(b),h)}function gse(h,b){return h&&Hl(b,ba(b),h)}function Wd(h,b,R){b=="__proto__"&&Bw?Bw(h,b,{configurable:!0,enumerable:!0,value:R,writable:!0}):h[b]=R}function b5(h,b){for(var R=-1,M=b.length,V=ze(M),ne=h==null;++R<M;)V[R]=ne?n:Q5(h,b[R]);return V}function Ch(h,b,R){return h===h&&(R!==n&&(h=h<=R?h:R),b!==n&&(h=h>=b?h:b)),h}function mc(h,b,R,M,V,ne){var me,be=b&f,Ie=b&p,et=b&m;if(R&&(me=V?R(h,M,V,ne):R(h)),me!==n)return me;if(!co(h))return h;var nt=vr(h);if(nt){if(me=iae(h),!be)return ya(h,me)}else{var lt=Us(h),Wt=lt==G||lt==we;if(Qu(h))return wN(h,be);if(lt==_t||lt==de||Wt&&!V){if(me=Ie||Wt?{}:LN(h),!be)return Ie?Kse(h,gse(me,h)):Hse(h,JO(me,h))}else{if(!pi[lt])return V?h:{};me=oae(h,lt,be)}}ne||(ne=new rl);var Sn=ne.get(h);if(Sn)return Sn;ne.set(h,me),p9(h)?h.forEach(function(Yn){me.add(mc(Yn,b,R,Yn,h,ne))}):f9(h)&&h.forEach(function(Yn,Hr){me.set(Hr,mc(Yn,b,R,Hr,h,ne))});var Jn=et?Ie?L5:D5:Ie?ba:ls,Rr=nt?n:Jn(h);return fc(Rr||h,function(Yn,Hr){Rr&&(Hr=Yn,Yn=h[Hr]),Ay(me,Hr,mc(Yn,b,R,Hr,h,ne))}),me}function yse(h){var b=ls(h);return function(R){return YO(R,h,b)}}function YO(h,b,R){var M=R.length;if(h==null)return!M;for(h=Ri(h);M--;){var V=R[M],ne=b[V],me=h[V];if(me===n&&!(V in h)||!ne(me))return!1}return!0}function XO(h,b,R){if(typeof h!="function")throw new hc(s);return By(function(){h.apply(n,R)},b)}function Ty(h,b,R,M){var V=-1,ne=Sw,me=!0,be=h.length,Ie=[],et=b.length;if(!be)return Ie;R&&(b=Yi(b,Wa(R))),M?(ne=o5,me=!1):b.length>=i&&(ne=xy,me=!1,b=new Eh(b));e:for(;++V<be;){var nt=h[V],lt=R==null?nt:R(nt);if(nt=M||nt!==0?nt:0,me&&lt===lt){for(var Wt=et;Wt--;)if(b[Wt]===lt)continue e;Ie.push(nt)}else ne(b,lt,M)||Ie.push(nt)}return Ie}var Zu=EN(Vl),QO=EN(_5,!0);function vse(h,b){var R=!0;return Zu(h,function(M,V,ne){return R=!!b(M,V,ne),R}),R}function Ww(h,b,R){for(var M=-1,V=h.length;++M<V;){var ne=h[M],me=b(ne);if(me!=null&&(be===n?me===me&&!qa(me):R(me,be)))var be=me,Ie=ne}return Ie}function bse(h,b,R,M){var V=h.length;for(R=Sr(R),R<0&&(R=-R>V?0:V+R),M=M===n||M>V?V:Sr(M),M<0&&(M+=V),M=R>M?0:g9(M);R<M;)h[R++]=b;return h}function eN(h,b){var R=[];return Zu(h,function(M,V,ne){b(M,V,ne)&&R.push(M)}),R}function _s(h,b,R,M,V){var ne=-1,me=h.length;for(R||(R=aae),V||(V=[]);++ne<me;){var be=h[ne];b>0&&R(be)?b>1?_s(be,b-1,R,M,V):Hu(V,be):M||(V[V.length]=be)}return V}var w5=CN(),tN=CN(!0);function Vl(h,b){return h&&w5(h,b,ls)}function _5(h,b){return h&&tN(h,b,ls)}function zw(h,b){return Vu(b,function(R){return Hd(h[R])})}function Ih(h,b){b=Yu(b,h);for(var R=0,M=b.length;h!=null&&R<M;)h=h[Kl(b[R++])];return R&&R==M?h:n}function nN(h,b,R){var M=b(h);return vr(h)?M:Hu(M,R(h))}function sa(h){return h==null?h===n?it:Gt:kh&&kh in Ri(h)?tae(h):pae(h)}function x5(h,b){return h>b}function wse(h,b){return h!=null&&Si.call(h,b)}function _se(h,b){return h!=null&&b in Ri(h)}function xse(h,b,R){return h>=Ls(b,R)&&h<ns(b,R)}function k5(h,b,R){for(var M=R?o5:Sw,V=h[0].length,ne=h.length,me=ne,be=ze(ne),Ie=1/0,et=[];me--;){var nt=h[me];me&&b&&(nt=Yi(nt,Wa(b))),Ie=Ls(nt.length,Ie),be[me]=!R&&(b||V>=120&&nt.length>=120)?new Eh(me&&nt):n}nt=h[0];var lt=-1,Wt=be[0];e:for(;++lt<V&&et.length<Ie;){var Sn=nt[lt],Jn=b?b(Sn):Sn;if(Sn=R||Sn!==0?Sn:0,!(Wt?xy(Wt,Jn):M(et,Jn,R))){for(me=ne;--me;){var Rr=be[me];if(!(Rr?xy(Rr,Jn):M(h[me],Jn,R)))continue e}Wt&&Wt.push(Jn),et.push(Sn)}}return et}function kse(h,b,R,M){return Vl(h,function(V,ne,me){b(M,R(V),ne,me)}),M}function Ry(h,b,R){b=Yu(b,h),h=zN(h,b);var M=h==null?h:h[Kl(yc(b))];return M==null?n:cs(M,h,R)}function rN(h){return _o(h)&&sa(h)==de}function Sse(h){return _o(h)&&sa(h)==St}function Ese(h){return _o(h)&&sa(h)==Ce}function Py(h,b,R,M,V){return h===b?!0:h==null||b==null||!_o(h)&&!_o(b)?h!==h&&b!==b:Cse(h,b,R,M,Py,V)}function Cse(h,b,R,M,V,ne){var me=vr(h),be=vr(b),Ie=me?te:Us(h),et=be?te:Us(b);Ie=Ie==de?_t:Ie,et=et==de?_t:et;var nt=Ie==_t,lt=et==_t,Wt=Ie==et;if(Wt&&Qu(h)){if(!Qu(b))return!1;me=!0,nt=!1}if(Wt&&!nt)return ne||(ne=new rl),me||Nm(h)?$N(h,b,R,M,V,ne):Qse(h,b,Ie,R,M,V,ne);if(!(R&g)){var Sn=nt&&Si.call(h,"__wrapped__"),Jn=lt&&Si.call(b,"__wrapped__");if(Sn||Jn){var Rr=Sn?h.value():h,Yn=Jn?b.value():b;return ne||(ne=new rl),V(Rr,Yn,R,M,ne)}}return Wt?(ne||(ne=new rl),eae(h,b,R,M,V,ne)):!1}function Ise(h){return _o(h)&&Us(h)==$e}function S5(h,b,R,M){var V=R.length,ne=V,me=!M;if(h==null)return!ne;for(h=Ri(h);V--;){var be=R[V];if(me&&be[2]?be[1]!==h[be[0]]:!(be[0]in h))return!1}for(;++V<ne;){be=R[V];var Ie=be[0],et=h[Ie],nt=be[1];if(me&&be[2]){if(et===n&&!(Ie in h))return!1}else{var lt=new rl;if(M)var Wt=M(et,nt,Ie,h,b,lt);if(!(Wt===n?Py(nt,et,g|y,M,lt):Wt))return!1}}return!0}function iN(h){if(!co(h)||lae(h))return!1;var b=Hd(h)?Ioe:At;return b.test(Th(h))}function Ase(h){return _o(h)&&sa(h)==ve}function Tse(h){return _o(h)&&Us(h)==Ue}function Rse(h){return _o(h)&&s_(h.length)&&!!_i[sa(h)]}function oN(h){return typeof h=="function"?h:h==null?wa:typeof h=="object"?vr(h)?cN(h[0],h[1]):aN(h):I9(h)}function E5(h){if(!jy(h))return Noe(h);var b=[];for(var R in Ri(h))Si.call(h,R)&&R!="constructor"&&b.push(R);return b}function Pse(h){if(!co(h))return hae(h);var b=jy(h),R=[];for(var M in h)M=="constructor"&&(b||!Si.call(h,M))||R.push(M);return R}function C5(h,b){return h<b}function sN(h,b){var R=-1,M=va(h)?ze(h.length):[];return Zu(h,function(V,ne,me){M[++R]=b(V,ne,me)}),M}function aN(h){var b=F5(h);return b.length==1&&b[0][2]?FN(b[0][0],b[0][1]):function(R){return R===h||S5(R,h,b)}}function cN(h,b){return z5(h)&&UN(b)?FN(Kl(h),b):function(R){var M=Q5(R,h);return M===n&&M===b?e6(R,h):Py(b,M,g|y)}}function qw(h,b,R,M,V){h!==b&&w5(b,function(ne,me){if(V||(V=new rl),co(ne))Ose(h,b,me,R,qw,M,V);else{var be=M?M(V5(h,me),ne,me+"",h,b,V):n;be===n&&(be=ne),v5(h,me,be)}},ba)}function Ose(h,b,R,M,V,ne,me){var be=V5(h,R),Ie=V5(b,R),et=me.get(Ie);if(et){v5(h,R,et);return}var nt=ne?ne(be,Ie,R+"",h,b,me):n,lt=nt===n;if(lt){var Wt=vr(Ie),Sn=!Wt&&Qu(Ie),Jn=!Wt&&!Sn&&Nm(Ie);nt=Ie,Wt||Sn||Jn?vr(be)?nt=be:jo(be)?nt=ya(be):Sn?(lt=!1,nt=wN(Ie,!0)):Jn?(lt=!1,nt=_N(Ie,!0)):nt=[]:$y(Ie)||Rh(Ie)?(nt=be,Rh(be)?nt=y9(be):(!co(be)||Hd(be))&&(nt=LN(Ie))):lt=!1}lt&&(me.set(Ie,nt),V(nt,Ie,M,ne,me),me.delete(Ie)),v5(h,R,nt)}function lN(h,b){var R=h.length;if(R)return b+=b<0?R:0,Vd(b,R)?h[b]:n}function dN(h,b,R){b.length?b=Yi(b,function(ne){return vr(ne)?function(me){return Ih(me,ne.length===1?ne[0]:ne)}:ne}):b=[wa];var M=-1;b=Yi(b,Wa(Gn()));var V=sN(h,function(ne,me,be){var Ie=Yi(b,function(et){return et(ne)});return{criteria:Ie,index:++M,value:ne}});return ooe(V,function(ne,me){return Vse(ne,me,R)})}function Nse(h,b){return uN(h,b,function(R,M){return e6(h,M)})}function uN(h,b,R){for(var M=-1,V=b.length,ne={};++M<V;){var me=b[M],be=Ih(h,me);R(be,me)&&Oy(ne,Yu(me,h),be)}return ne}function jse(h){return function(b){return Ih(b,h)}}function I5(h,b,R,M){var V=M?ioe:xm,ne=-1,me=b.length,be=h;for(h===b&&(b=ya(b)),R&&(be=Yi(h,Wa(R)));++ne<me;)for(var Ie=0,et=b[ne],nt=R?R(et):et;(Ie=V(be,nt,Ie,M))>-1;)be!==h&&jw.call(be,Ie,1),jw.call(h,Ie,1);return h}function fN(h,b){for(var R=h?b.length:0,M=R-1;R--;){var V=b[R];if(R==M||V!==ne){var ne=V;Vd(V)?jw.call(h,V,1):P5(h,V)}}return h}function A5(h,b){return h+Mw(HO()*(b-h+1))}function Bse(h,b,R,M){for(var V=-1,ne=ns($w((b-h)/(R||1)),0),me=ze(ne);ne--;)me[M?ne:++V]=h,h+=R;return me}function T5(h,b){var R="";if(!h||b<1||b>$)return R;do b%2&&(R+=h),b=Mw(b/2),b&&(h+=h);while(b);return R}function Fr(h,b){return H5(WN(h,b,wa),h+"")}function $se(h){return ZO(jm(h))}function Mse(h,b){var R=jm(h);return e_(R,Ch(b,0,R.length))}function Oy(h,b,R,M){if(!co(h))return h;b=Yu(b,h);for(var V=-1,ne=b.length,me=ne-1,be=h;be!=null&&++V<ne;){var Ie=Kl(b[V]),et=R;if(Ie==="__proto__"||Ie==="constructor"||Ie==="prototype")return h;if(V!=me){var nt=be[Ie];et=M?M(nt,Ie,be):n,et===n&&(et=co(nt)?nt:Vd(b[V+1])?[]:{})}Ay(be,Ie,et),be=be[Ie]}return h}var hN=Dw?function(h,b){return Dw.set(h,b),h}:wa,Dse=Bw?function(h,b){return Bw(h,"toString",{configurable:!0,enumerable:!1,value:n6(b),writable:!0})}:wa;function Lse(h){return e_(jm(h))}function gc(h,b,R){var M=-1,V=h.length;b<0&&(b=-b>V?0:V+b),R=R>V?V:R,R<0&&(R+=V),V=b>R?0:R-b>>>0,b>>>=0;for(var ne=ze(V);++M<V;)ne[M]=h[M+b];return ne}function Use(h,b){var R;return Zu(h,function(M,V,ne){return R=b(M,V,ne),!R}),!!R}function Vw(h,b,R){var M=0,V=h==null?M:h.length;if(typeof b=="number"&&b===b&&V<=W){for(;M<V;){var ne=M+V>>>1,me=h[ne];me!==null&&!qa(me)&&(R?me<=b:me<b)?M=ne+1:V=ne}return V}return R5(h,b,wa,R)}function R5(h,b,R,M){var V=0,ne=h==null?0:h.length;if(ne===0)return 0;b=R(b);for(var me=b!==b,be=b===null,Ie=qa(b),et=b===n;V<ne;){var nt=Mw((V+ne)/2),lt=R(h[nt]),Wt=lt!==n,Sn=lt===null,Jn=lt===lt,Rr=qa(lt);if(me)var Yn=M||Jn;else et?Yn=Jn&&(M||Wt):be?Yn=Jn&&Wt&&(M||!Sn):Ie?Yn=Jn&&Wt&&!Sn&&(M||!Rr):Sn||Rr?Yn=!1:Yn=M?lt<=b:lt<b;Yn?V=nt+1:ne=nt}return Ls(ne,j)}function pN(h,b){for(var R=-1,M=h.length,V=0,ne=[];++R<M;){var me=h[R],be=b?b(me):me;if(!R||!il(be,Ie)){var Ie=be;ne[V++]=me===0?0:me}}return ne}function mN(h){return typeof h=="number"?h:qa(h)?z:+h}function za(h){if(typeof h=="string")return h;if(vr(h))return Yi(h,za)+"";if(qa(h))return KO?KO.call(h):"";var b=h+"";return b=="0"&&1/h==-N?"-0":b}function Ju(h,b,R){var M=-1,V=Sw,ne=h.length,me=!0,be=[],Ie=be;if(R)me=!1,V=o5;else if(ne>=i){var et=b?null:Yse(h);if(et)return Cw(et);me=!1,V=xy,Ie=new Eh}else Ie=b?[]:be;e:for(;++M<ne;){var nt=h[M],lt=b?b(nt):nt;if(nt=R||nt!==0?nt:0,me&&lt===lt){for(var Wt=Ie.length;Wt--;)if(Ie[Wt]===lt)continue e;b&&Ie.push(lt),be.push(nt)}else V(Ie,lt,R)||(Ie!==be&&Ie.push(lt),be.push(nt))}return be}function P5(h,b){return b=Yu(b,h),h=zN(h,b),h==null||delete h[Kl(yc(b))]}function gN(h,b,R,M){return Oy(h,b,R(Ih(h,b)),M)}function Hw(h,b,R,M){for(var V=h.length,ne=M?V:-1;(M?ne--:++ne<V)&&b(h[ne],ne,h););return R?gc(h,M?0:ne,M?ne+1:V):gc(h,M?ne+1:0,M?V:ne)}function yN(h,b){var R=h;return R instanceof Xr&&(R=R.value()),s5(b,function(M,V){return V.func.apply(V.thisArg,Hu([M],V.args))},R)}function O5(h,b,R){var M=h.length;if(M<2)return M?Ju(h[0]):[];for(var V=-1,ne=ze(M);++V<M;)for(var me=h[V],be=-1;++be<M;)be!=V&&(ne[V]=Ty(ne[V]||me,h[be],b,R));return Ju(_s(ne,1),b,R)}function vN(h,b,R){for(var M=-1,V=h.length,ne=b.length,me={};++M<V;){var be=M<ne?b[M]:n;R(me,h[M],be)}return me}function N5(h){return jo(h)?h:[]}function j5(h){return typeof h=="function"?h:wa}function Yu(h,b){return vr(h)?h:z5(h,b)?[h]:KN(xi(h))}var Fse=Fr;function Xu(h,b,R){var M=h.length;return R=R===n?M:R,!b&&R>=M?h:gc(h,b,R)}var bN=Aoe||function(h){return ei.clearTimeout(h)};function wN(h,b){if(b)return h.slice();var R=h.length,M=FO?FO(R):new h.constructor(R);return h.copy(M),M}function B5(h){var b=new h.constructor(h.byteLength);return new Ow(b).set(new Ow(h)),b}function Wse(h,b){var R=b?B5(h.buffer):h.buffer;return new h.constructor(R,h.byteOffset,h.byteLength)}function zse(h){var b=new h.constructor(h.source,ct.exec(h));return b.lastIndex=h.lastIndex,b}function qse(h){return Iy?Ri(Iy.call(h)):{}}function _N(h,b){var R=b?B5(h.buffer):h.buffer;return new h.constructor(R,h.byteOffset,h.length)}function xN(h,b){if(h!==b){var R=h!==n,M=h===null,V=h===h,ne=qa(h),me=b!==n,be=b===null,Ie=b===b,et=qa(b);if(!be&&!et&&!ne&&h>b||ne&&me&&Ie&&!be&&!et||M&&me&&Ie||!R&&Ie||!V)return 1;if(!M&&!ne&&!et&&h<b||et&&R&&V&&!M&&!ne||be&&R&&V||!me&&V||!Ie)return-1}return 0}function Vse(h,b,R){for(var M=-1,V=h.criteria,ne=b.criteria,me=V.length,be=R.length;++M<me;){var Ie=xN(V[M],ne[M]);if(Ie){if(M>=be)return Ie;var et=R[M];return Ie*(et=="desc"?-1:1)}}return h.index-b.index}function kN(h,b,R,M){for(var V=-1,ne=h.length,me=R.length,be=-1,Ie=b.length,et=ns(ne-me,0),nt=ze(Ie+et),lt=!M;++be<Ie;)nt[be]=b[be];for(;++V<me;)(lt||V<ne)&&(nt[R[V]]=h[V]);for(;et--;)nt[be++]=h[V++];return nt}function SN(h,b,R,M){for(var V=-1,ne=h.length,me=-1,be=R.length,Ie=-1,et=b.length,nt=ns(ne-be,0),lt=ze(nt+et),Wt=!M;++V<nt;)lt[V]=h[V];for(var Sn=V;++Ie<et;)lt[Sn+Ie]=b[Ie];for(;++me<be;)(Wt||V<ne)&&(lt[Sn+R[me]]=h[V++]);return lt}function ya(h,b){var R=-1,M=h.length;for(b||(b=ze(M));++R<M;)b[R]=h[R];return b}function Hl(h,b,R,M){var V=!R;R||(R={});for(var ne=-1,me=b.length;++ne<me;){var be=b[ne],Ie=M?M(R[be],h[be],be,R,h):n;Ie===n&&(Ie=h[be]),V?Wd(R,be,Ie):Ay(R,be,Ie)}return R}function Hse(h,b){return Hl(h,W5(h),b)}function Kse(h,b){return Hl(h,MN(h),b)}function Kw(h,b){return function(R,M){var V=vr(R)?Xie:mse,ne=b?b():{};return V(R,h,Gn(M,2),ne)}}function Rm(h){return Fr(function(b,R){var M=-1,V=R.length,ne=V>1?R[V-1]:n,me=V>2?R[2]:n;for(ne=h.length>3&&typeof ne=="function"?(V--,ne):n,me&&aa(R[0],R[1],me)&&(ne=V<3?n:ne,V=1),b=Ri(b);++M<V;){var be=R[M];be&&h(b,be,M,ne)}return b})}function EN(h,b){return function(R,M){if(R==null)return R;if(!va(R))return h(R,M);for(var V=R.length,ne=b?V:-1,me=Ri(R);(b?ne--:++ne<V)&&M(me[ne],ne,me)!==!1;);return R}}function CN(h){return function(b,R,M){for(var V=-1,ne=Ri(b),me=M(b),be=me.length;be--;){var Ie=me[h?be:++V];if(R(ne[Ie],Ie,ne)===!1)break}return b}}function Gse(h,b,R){var M=b&v,V=Ny(h);function ne(){var me=this&&this!==ei&&this instanceof ne?V:h;return me.apply(M?R:this,arguments)}return ne}function IN(h){return function(b){b=xi(b);var R=km(b)?nl(b):n,M=R?R[0]:b.charAt(0),V=R?Xu(R,1).join(""):b.slice(1);return M[h]()+V}}function Pm(h){return function(b){return s5(E9(S9(b).replace(Fa,"")),h,"")}}function Ny(h){return function(){var b=arguments;switch(b.length){case 0:return new h;case 1:return new h(b[0]);case 2:return new h(b[0],b[1]);case 3:return new h(b[0],b[1],b[2]);case 4:return new h(b[0],b[1],b[2],b[3]);case 5:return new h(b[0],b[1],b[2],b[3],b[4]);case 6:return new h(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new h(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var R=Tm(h.prototype),M=h.apply(R,b);return co(M)?M:R}}function Zse(h,b,R){var M=Ny(h);function V(){for(var ne=arguments.length,me=ze(ne),be=ne,Ie=Om(V);be--;)me[be]=arguments[be];var et=ne<3&&me[0]!==Ie&&me[ne-1]!==Ie?[]:Ku(me,Ie);if(ne-=et.length,ne<R)return ON(h,b,Gw,V.placeholder,n,me,et,n,n,R-ne);var nt=this&&this!==ei&&this instanceof V?M:h;return cs(nt,this,me)}return V}function AN(h){return function(b,R,M){var V=Ri(b);if(!va(b)){var ne=Gn(R,3);b=ls(b),R=function(be){return ne(V[be],be,V)}}var me=h(b,R,M);return me>-1?V[ne?b[me]:me]:n}}function TN(h){return qd(function(b){var R=b.length,M=R,V=pc.prototype.thru;for(h&&b.reverse();M--;){var ne=b[M];if(typeof ne!="function")throw new hc(s);if(V&&!me&&Xw(ne)=="wrapper")var me=new pc([],!0)}for(M=me?M:R;++M<R;){ne=b[M];var be=Xw(ne),Ie=be=="wrapper"?U5(ne):n;Ie&&q5(Ie[0])&&Ie[1]==(S|E|T|O)&&!Ie[4].length&&Ie[9]==1?me=me[Xw(Ie[0])].apply(me,Ie[3]):me=ne.length==1&&q5(ne)?me[be]():me.thru(ne)}return function(){var et=arguments,nt=et[0];if(me&&et.length==1&&vr(nt))return me.plant(nt).value();for(var lt=0,Wt=R?b[lt].apply(this,et):nt;++lt<R;)Wt=b[lt].call(this,Wt);return Wt}})}function Gw(h,b,R,M,V,ne,me,be,Ie,et){var nt=b&S,lt=b&v,Wt=b&w,Sn=b&(E|C),Jn=b&D,Rr=Wt?n:Ny(h);function Yn(){for(var Hr=arguments.length,ti=ze(Hr),Va=Hr;Va--;)ti[Va]=arguments[Va];if(Sn)var ca=Om(Yn),Ha=aoe(ti,ca);if(M&&(ti=kN(ti,M,V,Sn)),ne&&(ti=SN(ti,ne,me,Sn)),Hr-=Ha,Sn&&Hr<et){var Bo=Ku(ti,ca);return ON(h,b,Gw,Yn.placeholder,R,ti,Bo,be,Ie,et-Hr)}var ol=lt?R:this,Gd=Wt?ol[h]:h;return Hr=ti.length,be?ti=mae(ti,be):Jn&&Hr>1&&ti.reverse(),nt&&Ie<Hr&&(ti.length=Ie),this&&this!==ei&&this instanceof Yn&&(Gd=Rr||Ny(Gd)),Gd.apply(ol,ti)}return Yn}function RN(h,b){return function(R,M){return kse(R,h,b(M),{})}}function Zw(h,b){return function(R,M){var V;if(R===n&&M===n)return b;if(R!==n&&(V=R),M!==n){if(V===n)return M;typeof R=="string"||typeof M=="string"?(R=za(R),M=za(M)):(R=mN(R),M=mN(M)),V=h(R,M)}return V}}function $5(h){return qd(function(b){return b=Yi(b,Wa(Gn())),Fr(function(R){var M=this;return h(b,function(V){return cs(V,M,R)})})})}function Jw(h,b){b=b===n?" ":za(b);var R=b.length;if(R<2)return R?T5(b,h):b;var M=T5(b,$w(h/Sm(b)));return km(b)?Xu(nl(M),0,h).join(""):M.slice(0,h)}function Jse(h,b,R,M){var V=b&v,ne=Ny(h);function me(){for(var be=-1,Ie=arguments.length,et=-1,nt=M.length,lt=ze(nt+Ie),Wt=this&&this!==ei&&this instanceof me?ne:h;++et<nt;)lt[et]=M[et];for(;Ie--;)lt[et++]=arguments[++be];return cs(Wt,V?R:this,lt)}return me}function PN(h){return function(b,R,M){return M&&typeof M!="number"&&aa(b,R,M)&&(R=M=n),b=Kd(b),R===n?(R=b,b=0):R=Kd(R),M=M===n?b<R?1:-1:Kd(M),Bse(b,R,M,h)}}function Yw(h){return function(b,R){return typeof b=="string"&&typeof R=="string"||(b=vc(b),R=vc(R)),h(b,R)}}function ON(h,b,R,M,V,ne,me,be,Ie,et){var nt=b&E,lt=nt?me:n,Wt=nt?n:me,Sn=nt?ne:n,Jn=nt?n:ne;b|=nt?T:A,b&=~(nt?A:T),b&_||(b&=~(v|w));var Rr=[h,b,V,Sn,lt,Jn,Wt,be,Ie,et],Yn=R.apply(n,Rr);return q5(h)&&qN(Yn,Rr),Yn.placeholder=M,VN(Yn,h,b)}function M5(h){var b=ts[h];return function(R,M){if(R=vc(R),M=M==null?0:Ls(Sr(M),292),M&&VO(R)){var V=(xi(R)+"e").split("e"),ne=b(V[0]+"e"+(+V[1]+M));return V=(xi(ne)+"e").split("e"),+(V[0]+"e"+(+V[1]-M))}return b(R)}}var Yse=Im&&1/Cw(new Im([,-0]))[1]==N?function(h){return new Im(h)}:o6;function NN(h){return function(b){var R=Us(b);return R==$e?h5(b):R==Ue?poe(b):soe(b,h(b))}}function zd(h,b,R,M,V,ne,me,be){var Ie=b&w;if(!Ie&&typeof h!="function")throw new hc(s);var et=M?M.length:0;if(et||(b&=~(T|A),M=V=n),me=me===n?me:ns(Sr(me),0),be=be===n?be:Sr(be),et-=V?V.length:0,b&A){var nt=M,lt=V;M=V=n}var Wt=Ie?n:U5(h),Sn=[h,b,R,M,V,nt,lt,ne,me,be];if(Wt&&fae(Sn,Wt),h=Sn[0],b=Sn[1],R=Sn[2],M=Sn[3],V=Sn[4],be=Sn[9]=Sn[9]===n?Ie?0:h.length:ns(Sn[9]-et,0),!be&&b&(E|C)&&(b&=~(E|C)),!b||b==v)var Jn=Gse(h,b,R);else b==E||b==C?Jn=Zse(h,b,be):(b==T||b==(v|T))&&!V.length?Jn=Jse(h,b,R,M):Jn=Gw.apply(n,Sn);var Rr=Wt?hN:qN;return VN(Rr(Jn,Sn),h,b)}function jN(h,b,R,M){return h===n||il(h,Cm[R])&&!Si.call(M,R)?b:h}function BN(h,b,R,M,V,ne){return co(h)&&co(b)&&(ne.set(b,h),qw(h,b,n,BN,ne),ne.delete(b)),h}function Xse(h){return $y(h)?n:h}function $N(h,b,R,M,V,ne){var me=R&g,be=h.length,Ie=b.length;if(be!=Ie&&!(me&&Ie>be))return!1;var et=ne.get(h),nt=ne.get(b);if(et&&nt)return et==b&&nt==h;var lt=-1,Wt=!0,Sn=R&y?new Eh:n;for(ne.set(h,b),ne.set(b,h);++lt<be;){var Jn=h[lt],Rr=b[lt];if(M)var Yn=me?M(Rr,Jn,lt,b,h,ne):M(Jn,Rr,lt,h,b,ne);if(Yn!==n){if(Yn)continue;Wt=!1;break}if(Sn){if(!a5(b,function(Hr,ti){if(!xy(Sn,ti)&&(Jn===Hr||V(Jn,Hr,R,M,ne)))return Sn.push(ti)})){Wt=!1;break}}else if(!(Jn===Rr||V(Jn,Rr,R,M,ne))){Wt=!1;break}}return ne.delete(h),ne.delete(b),Wt}function Qse(h,b,R,M,V,ne,me){switch(R){case Dn:if(h.byteLength!=b.byteLength||h.byteOffset!=b.byteOffset)return!1;h=h.buffer,b=b.buffer;case St:return!(h.byteLength!=b.byteLength||!ne(new Ow(h),new Ow(b)));case ge:case Ce:case yt:return il(+h,+b);case J:return h.name==b.name&&h.message==b.message;case ve:case Qe:return h==b+"";case $e:var be=h5;case Ue:var Ie=M&g;if(be||(be=Cw),h.size!=b.size&&!Ie)return!1;var et=me.get(h);if(et)return et==b;M|=y,me.set(h,b);var nt=$N(be(h),be(b),M,V,ne,me);return me.delete(h),nt;case Ze:if(Iy)return Iy.call(h)==Iy.call(b)}return!1}function eae(h,b,R,M,V,ne){var me=R&g,be=D5(h),Ie=be.length,et=D5(b),nt=et.length;if(Ie!=nt&&!me)return!1;for(var lt=Ie;lt--;){var Wt=be[lt];if(!(me?Wt in b:Si.call(b,Wt)))return!1}var Sn=ne.get(h),Jn=ne.get(b);if(Sn&&Jn)return Sn==b&&Jn==h;var Rr=!0;ne.set(h,b),ne.set(b,h);for(var Yn=me;++lt<Ie;){Wt=be[lt];var Hr=h[Wt],ti=b[Wt];if(M)var Va=me?M(ti,Hr,Wt,b,h,ne):M(Hr,ti,Wt,h,b,ne);if(!(Va===n?Hr===ti||V(Hr,ti,R,M,ne):Va)){Rr=!1;break}Yn||(Yn=Wt=="constructor")}if(Rr&&!Yn){var ca=h.constructor,Ha=b.constructor;ca!=Ha&&"constructor"in h&&"constructor"in b&&!(typeof ca=="function"&&ca instanceof ca&&typeof Ha=="function"&&Ha instanceof Ha)&&(Rr=!1)}return ne.delete(h),ne.delete(b),Rr}function qd(h){return H5(WN(h,n,YN),h+"")}function D5(h){return nN(h,ls,W5)}function L5(h){return nN(h,ba,MN)}var U5=Dw?function(h){return Dw.get(h)}:o6;function Xw(h){for(var b=h.name+"",R=Am[b],M=Si.call(Am,b)?R.length:0;M--;){var V=R[M],ne=V.func;if(ne==null||ne==h)return V.name}return b}function Om(h){var b=Si.call(ee,"placeholder")?ee:h;return b.placeholder}function Gn(){var h=ee.iteratee||r6;return h=h===r6?oN:h,arguments.length?h(arguments[0],arguments[1]):h}function Qw(h,b){var R=h.__data__;return cae(b)?R[typeof b=="string"?"string":"hash"]:R.map}function F5(h){for(var b=ls(h),R=b.length;R--;){var M=b[R],V=h[M];b[R]=[M,V,UN(V)]}return b}function Ah(h,b){var R=uoe(h,b);return iN(R)?R:n}function tae(h){var b=Si.call(h,kh),R=h[kh];try{h[kh]=n;var M=!0}catch{}var V=Rw.call(h);return M&&(b?h[kh]=R:delete h[kh]),V}var W5=m5?function(h){return h==null?[]:(h=Ri(h),Vu(m5(h),function(b){return zO.call(h,b)}))}:s6,MN=m5?function(h){for(var b=[];h;)Hu(b,W5(h)),h=Nw(h);return b}:s6,Us=sa;(g5&&Us(new g5(new ArrayBuffer(1)))!=Dn||Sy&&Us(new Sy)!=$e||y5&&Us(y5.resolve())!=Rn||Im&&Us(new Im)!=Ue||Ey&&Us(new Ey)!=It)&&(Us=function(h){var b=sa(h),R=b==_t?h.constructor:n,M=R?Th(R):"";if(M)switch(M){case Moe:return Dn;case Doe:return $e;case Loe:return Rn;case Uoe:return Ue;case Foe:return It}return b});function nae(h,b,R){for(var M=-1,V=R.length;++M<V;){var ne=R[M],me=ne.size;switch(ne.type){case"drop":h+=me;break;case"dropRight":b-=me;break;case"take":b=Ls(b,h+me);break;case"takeRight":h=ns(h,b-me);break}}return{start:h,end:b}}function rae(h){var b=h.match(B);return b?b[1].split(Q):[]}function DN(h,b,R){b=Yu(b,h);for(var M=-1,V=b.length,ne=!1;++M<V;){var me=Kl(b[M]);if(!(ne=h!=null&&R(h,me)))break;h=h[me]}return ne||++M!=V?ne:(V=h==null?0:h.length,!!V&&s_(V)&&Vd(me,V)&&(vr(h)||Rh(h)))}function iae(h){var b=h.length,R=new h.constructor(b);return b&&typeof h[0]=="string"&&Si.call(h,"index")&&(R.index=h.index,R.input=h.input),R}function LN(h){return typeof h.constructor=="function"&&!jy(h)?Tm(Nw(h)):{}}function oae(h,b,R){var M=h.constructor;switch(b){case St:return B5(h);case ge:case Ce:return new M(+h);case Dn:return Wse(h,R);case fn:case cn:case Cr:case Pn:case jn:case Dr:case yn:case Ir:case wo:return _N(h,R);case $e:return new M;case yt:case Qe:return new M(h);case ve:return zse(h);case Ue:return new M;case Ze:return qse(h)}}function sae(h,b){var R=b.length;if(!R)return h;var M=R-1;return b[M]=(R>1?"& ":"")+b[M],b=b.join(R>2?", ":" "),h.replace(Y,`{
/* [wrapped with `+b+`] */
`)}function aae(h){return vr(h)||Rh(h)||!!(qO&&h&&h[qO])}function Vd(h,b){var R=typeof h;return b=b??$,!!b&&(R=="number"||R!="symbol"&&kn.test(h))&&h>-1&&h%1==0&&h<b}function aa(h,b,R){if(!co(R))return!1;var M=typeof b;return(M=="number"?va(R)&&Vd(b,R.length):M=="string"&&b in R)?il(R[b],h):!1}function z5(h,b){if(vr(h))return!1;var R=typeof h;return R=="number"||R=="symbol"||R=="boolean"||h==null||qa(h)?!0:Ds.test(h)||!Ur.test(h)||b!=null&&h in Ri(b)}function cae(h){var b=typeof h;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?h!=="__proto__":h===null}function q5(h){var b=Xw(h),R=ee[b];if(typeof R!="function"||!(b in Xr.prototype))return!1;if(h===R)return!0;var M=U5(R);return!!M&&h===M[0]}function lae(h){return!!UO&&UO in h}var dae=Aw?Hd:a6;function jy(h){var b=h&&h.constructor,R=typeof b=="function"&&b.prototype||Cm;return h===R}function UN(h){return h===h&&!co(h)}function FN(h,b){return function(R){return R==null?!1:R[h]===b&&(b!==n||h in Ri(R))}}function uae(h){var b=i_(h,function(M){return R.size===l&&R.clear(),M}),R=b.cache;return b}function fae(h,b){var R=h[1],M=b[1],V=R|M,ne=V<(v|w|S),me=M==S&&R==E||M==S&&R==O&&h[7].length<=b[8]||M==(S|O)&&b[7].length<=b[8]&&R==E;if(!(ne||me))return h;M&v&&(h[2]=b[2],V|=R&v?0:_);var be=b[3];if(be){var Ie=h[3];h[3]=Ie?kN(Ie,be,b[4]):be,h[4]=Ie?Ku(h[3],d):b[4]}return be=b[5],be&&(Ie=h[5],h[5]=Ie?SN(Ie,be,b[6]):be,h[6]=Ie?Ku(h[5],d):b[6]),be=b[7],be&&(h[7]=be),M&S&&(h[8]=h[8]==null?b[8]:Ls(h[8],b[8])),h[9]==null&&(h[9]=b[9]),h[0]=b[0],h[1]=V,h}function hae(h){var b=[];if(h!=null)for(var R in Ri(h))b.push(R);return b}function pae(h){return Rw.call(h)}function WN(h,b,R){return b=ns(b===n?h.length-1:b,0),function(){for(var M=arguments,V=-1,ne=ns(M.length-b,0),me=ze(ne);++V<ne;)me[V]=M[b+V];V=-1;for(var be=ze(b+1);++V<b;)be[V]=M[V];return be[b]=R(me),cs(h,this,be)}}function zN(h,b){return b.length<2?h:Ih(h,gc(b,0,-1))}function mae(h,b){for(var R=h.length,M=Ls(b.length,R),V=ya(h);M--;){var ne=b[M];h[M]=Vd(ne,R)?V[ne]:n}return h}function V5(h,b){if(!(b==="constructor"&&typeof h[b]=="function")&&b!="__proto__")return h[b]}var qN=HN(hN),By=Roe||function(h,b){return ei.setTimeout(h,b)},H5=HN(Dse);function VN(h,b,R){var M=b+"";return H5(h,sae(M,gae(rae(M),R)))}function HN(h){var b=0,R=0;return function(){var M=joe(),V=U-(M-R);if(R=M,V>0){if(++b>=X)return arguments[0]}else b=0;return h.apply(n,arguments)}}function e_(h,b){var R=-1,M=h.length,V=M-1;for(b=b===n?M:b;++R<b;){var ne=A5(R,V),me=h[ne];h[ne]=h[R],h[R]=me}return h.length=b,h}var KN=uae(function(h){var b=[];return h.charCodeAt(0)===46&&b.push(""),h.replace(si,function(R,M,V,ne){b.push(V?ne.replace(Fe,"$1"):M||R)}),b});function Kl(h){if(typeof h=="string"||qa(h))return h;var b=h+"";return b=="0"&&1/h==-N?"-0":b}function Th(h){if(h!=null){try{return Tw.call(h)}catch{}try{return h+""}catch{}}return""}function gae(h,b){return fc(re,function(R){var M="_."+R[0];b&R[1]&&!Sw(h,M)&&h.push(M)}),h.sort()}function GN(h){if(h instanceof Xr)return h.clone();var b=new pc(h.__wrapped__,h.__chain__);return b.__actions__=ya(h.__actions__),b.__index__=h.__index__,b.__values__=h.__values__,b}function yae(h,b,R){(R?aa(h,b,R):b===n)?b=1:b=ns(Sr(b),0);var M=h==null?0:h.length;if(!M||b<1)return[];for(var V=0,ne=0,me=ze($w(M/b));V<M;)me[ne++]=gc(h,V,V+=b);return me}function vae(h){for(var b=-1,R=h==null?0:h.length,M=0,V=[];++b<R;){var ne=h[b];ne&&(V[M++]=ne)}return V}function bae(){var h=arguments.length;if(!h)return[];for(var b=ze(h-1),R=arguments[0],M=h;M--;)b[M-1]=arguments[M];return Hu(vr(R)?ya(R):[R],_s(b,1))}var wae=Fr(function(h,b){return jo(h)?Ty(h,_s(b,1,jo,!0)):[]}),_ae=Fr(function(h,b){var R=yc(b);return jo(R)&&(R=n),jo(h)?Ty(h,_s(b,1,jo,!0),Gn(R,2)):[]}),xae=Fr(function(h,b){var R=yc(b);return jo(R)&&(R=n),jo(h)?Ty(h,_s(b,1,jo,!0),n,R):[]});function kae(h,b,R){var M=h==null?0:h.length;return M?(b=R||b===n?1:Sr(b),gc(h,b<0?0:b,M)):[]}function Sae(h,b,R){var M=h==null?0:h.length;return M?(b=R||b===n?1:Sr(b),b=M-b,gc(h,0,b<0?0:b)):[]}function Eae(h,b){return h&&h.length?Hw(h,Gn(b,3),!0,!0):[]}function Cae(h,b){return h&&h.length?Hw(h,Gn(b,3),!0):[]}function Iae(h,b,R,M){var V=h==null?0:h.length;return V?(R&&typeof R!="number"&&aa(h,b,R)&&(R=0,M=V),bse(h,b,R,M)):[]}function ZN(h,b,R){var M=h==null?0:h.length;if(!M)return-1;var V=R==null?0:Sr(R);return V<0&&(V=ns(M+V,0)),Ew(h,Gn(b,3),V)}function JN(h,b,R){var M=h==null?0:h.length;if(!M)return-1;var V=M-1;return R!==n&&(V=Sr(R),V=R<0?ns(M+V,0):Ls(V,M-1)),Ew(h,Gn(b,3),V,!0)}function YN(h){var b=h==null?0:h.length;return b?_s(h,1):[]}function Aae(h){var b=h==null?0:h.length;return b?_s(h,N):[]}function Tae(h,b){var R=h==null?0:h.length;return R?(b=b===n?1:Sr(b),_s(h,b)):[]}function Rae(h){for(var b=-1,R=h==null?0:h.length,M={};++b<R;){var V=h[b];M[V[0]]=V[1]}return M}function XN(h){return h&&h.length?h[0]:n}function Pae(h,b,R){var M=h==null?0:h.length;if(!M)return-1;var V=R==null?0:Sr(R);return V<0&&(V=ns(M+V,0)),xm(h,b,V)}function Oae(h){var b=h==null?0:h.length;return b?gc(h,0,-1):[]}var Nae=Fr(function(h){var b=Yi(h,N5);return b.length&&b[0]===h[0]?k5(b):[]}),jae=Fr(function(h){var b=yc(h),R=Yi(h,N5);return b===yc(R)?b=n:R.pop(),R.length&&R[0]===h[0]?k5(R,Gn(b,2)):[]}),Bae=Fr(function(h){var b=yc(h),R=Yi(h,N5);return b=typeof b=="function"?b:n,b&&R.pop(),R.length&&R[0]===h[0]?k5(R,n,b):[]});function $ae(h,b){return h==null?"":Ooe.call(h,b)}function yc(h){var b=h==null?0:h.length;return b?h[b-1]:n}function Mae(h,b,R){var M=h==null?0:h.length;if(!M)return-1;var V=M;return R!==n&&(V=Sr(R),V=V<0?ns(M+V,0):Ls(V,M-1)),b===b?goe(h,b,V):Ew(h,OO,V,!0)}function Dae(h,b){return h&&h.length?lN(h,Sr(b)):n}var Lae=Fr(QN);function QN(h,b){return h&&h.length&&b&&b.length?I5(h,b):h}function Uae(h,b,R){return h&&h.length&&b&&b.length?I5(h,b,Gn(R,2)):h}function Fae(h,b,R){return h&&h.length&&b&&b.length?I5(h,b,n,R):h}var Wae=qd(function(h,b){var R=h==null?0:h.length,M=b5(h,b);return fN(h,Yi(b,function(V){return Vd(V,R)?+V:V}).sort(xN)),M});function zae(h,b){var R=[];if(!(h&&h.length))return R;var M=-1,V=[],ne=h.length;for(b=Gn(b,3);++M<ne;){var me=h[M];b(me,M,h)&&(R.push(me),V.push(M))}return fN(h,V),R}function K5(h){return h==null?h:$oe.call(h)}function qae(h,b,R){var M=h==null?0:h.length;return M?(R&&typeof R!="number"&&aa(h,b,R)?(b=0,R=M):(b=b==null?0:Sr(b),R=R===n?M:Sr(R)),gc(h,b,R)):[]}function Vae(h,b){return Vw(h,b)}function Hae(h,b,R){return R5(h,b,Gn(R,2))}function Kae(h,b){var R=h==null?0:h.length;if(R){var M=Vw(h,b);if(M<R&&il(h[M],b))return M}return-1}function Gae(h,b){return Vw(h,b,!0)}function Zae(h,b,R){return R5(h,b,Gn(R,2),!0)}function Jae(h,b){var R=h==null?0:h.length;if(R){var M=Vw(h,b,!0)-1;if(il(h[M],b))return M}return-1}function Yae(h){return h&&h.length?pN(h):[]}function Xae(h,b){return h&&h.length?pN(h,Gn(b,2)):[]}function Qae(h){var b=h==null?0:h.length;return b?gc(h,1,b):[]}function ece(h,b,R){return h&&h.length?(b=R||b===n?1:Sr(b),gc(h,0,b<0?0:b)):[]}function tce(h,b,R){var M=h==null?0:h.length;return M?(b=R||b===n?1:Sr(b),b=M-b,gc(h,b<0?0:b,M)):[]}function nce(h,b){return h&&h.length?Hw(h,Gn(b,3),!1,!0):[]}function rce(h,b){return h&&h.length?Hw(h,Gn(b,3)):[]}var ice=Fr(function(h){return Ju(_s(h,1,jo,!0))}),oce=Fr(function(h){var b=yc(h);return jo(b)&&(b=n),Ju(_s(h,1,jo,!0),Gn(b,2))}),sce=Fr(function(h){var b=yc(h);return b=typeof b=="function"?b:n,Ju(_s(h,1,jo,!0),n,b)});function ace(h){return h&&h.length?Ju(h):[]}function cce(h,b){return h&&h.length?Ju(h,Gn(b,2)):[]}function lce(h,b){return b=typeof b=="function"?b:n,h&&h.length?Ju(h,n,b):[]}function G5(h){if(!(h&&h.length))return[];var b=0;return h=Vu(h,function(R){if(jo(R))return b=ns(R.length,b),!0}),u5(b,function(R){return Yi(h,c5(R))})}function e9(h,b){if(!(h&&h.length))return[];var R=G5(h);return b==null?R:Yi(R,function(M){return cs(b,n,M)})}var dce=Fr(function(h,b){return jo(h)?Ty(h,b):[]}),uce=Fr(function(h){return O5(Vu(h,jo))}),fce=Fr(function(h){var b=yc(h);return jo(b)&&(b=n),O5(Vu(h,jo),Gn(b,2))}),hce=Fr(function(h){var b=yc(h);return b=typeof b=="function"?b:n,O5(Vu(h,jo),n,b)}),pce=Fr(G5);function mce(h,b){return vN(h||[],b||[],Ay)}function gce(h,b){return vN(h||[],b||[],Oy)}var yce=Fr(function(h){var b=h.length,R=b>1?h[b-1]:n;return R=typeof R=="function"?(h.pop(),R):n,e9(h,R)});function t9(h){var b=ee(h);return b.__chain__=!0,b}function vce(h,b){return b(h),h}function t_(h,b){return b(h)}var bce=qd(function(h){var b=h.length,R=b?h[0]:0,M=this.__wrapped__,V=function(ne){return b5(ne,h)};return b>1||this.__actions__.length||!(M instanceof Xr)||!Vd(R)?this.thru(V):(M=M.slice(R,+R+(b?1:0)),M.__actions__.push({func:t_,args:[V],thisArg:n}),new pc(M,this.__chain__).thru(function(ne){return b&&!ne.length&&ne.push(n),ne}))});function wce(){return t9(this)}function _ce(){return new pc(this.value(),this.__chain__)}function xce(){this.__values__===n&&(this.__values__=m9(this.value()));var h=this.__index__>=this.__values__.length,b=h?n:this.__values__[this.__index__++];return{done:h,value:b}}function kce(){return this}function Sce(h){for(var b,R=this;R instanceof Uw;){var M=GN(R);M.__index__=0,M.__values__=n,b?V.__wrapped__=M:b=M;var V=M;R=R.__wrapped__}return V.__wrapped__=h,b}function Ece(){var h=this.__wrapped__;if(h instanceof Xr){var b=h;return this.__actions__.length&&(b=new Xr(this)),b=b.reverse(),b.__actions__.push({func:t_,args:[K5],thisArg:n}),new pc(b,this.__chain__)}return this.thru(K5)}function Cce(){return yN(this.__wrapped__,this.__actions__)}var Ice=Kw(function(h,b,R){Si.call(h,R)?++h[R]:Wd(h,R,1)});function Ace(h,b,R){var M=vr(h)?RO:vse;return R&&aa(h,b,R)&&(b=n),M(h,Gn(b,3))}function Tce(h,b){var R=vr(h)?Vu:eN;return R(h,Gn(b,3))}var Rce=AN(ZN),Pce=AN(JN);function Oce(h,b){return _s(n_(h,b),1)}function Nce(h,b){return _s(n_(h,b),N)}function jce(h,b,R){return R=R===n?1:Sr(R),_s(n_(h,b),R)}function n9(h,b){var R=vr(h)?fc:Zu;return R(h,Gn(b,3))}function r9(h,b){var R=vr(h)?Qie:QO;return R(h,Gn(b,3))}var Bce=Kw(function(h,b,R){Si.call(h,R)?h[R].push(b):Wd(h,R,[b])});function $ce(h,b,R,M){h=va(h)?h:jm(h),R=R&&!M?Sr(R):0;var V=h.length;return R<0&&(R=ns(V+R,0)),a_(h)?R<=V&&h.indexOf(b,R)>-1:!!V&&xm(h,b,R)>-1}var Mce=Fr(function(h,b,R){var M=-1,V=typeof b=="function",ne=va(h)?ze(h.length):[];return Zu(h,function(me){ne[++M]=V?cs(b,me,R):Ry(me,b,R)}),ne}),Dce=Kw(function(h,b,R){Wd(h,R,b)});function n_(h,b){var R=vr(h)?Yi:sN;return R(h,Gn(b,3))}function Lce(h,b,R,M){return h==null?[]:(vr(b)||(b=b==null?[]:[b]),R=M?n:R,vr(R)||(R=R==null?[]:[R]),dN(h,b,R))}var Uce=Kw(function(h,b,R){h[R?0:1].push(b)},function(){return[[],[]]});function Fce(h,b,R){var M=vr(h)?s5:jO,V=arguments.length<3;return M(h,Gn(b,4),R,V,Zu)}function Wce(h,b,R){var M=vr(h)?eoe:jO,V=arguments.length<3;return M(h,Gn(b,4),R,V,QO)}function zce(h,b){var R=vr(h)?Vu:eN;return R(h,o_(Gn(b,3)))}function qce(h){var b=vr(h)?ZO:$se;return b(h)}function Vce(h,b,R){(R?aa(h,b,R):b===n)?b=1:b=Sr(b);var M=vr(h)?hse:Mse;return M(h,b)}function Hce(h){var b=vr(h)?pse:Lse;return b(h)}function Kce(h){if(h==null)return 0;if(va(h))return a_(h)?Sm(h):h.length;var b=Us(h);return b==$e||b==Ue?h.size:E5(h).length}function Gce(h,b,R){var M=vr(h)?a5:Use;return R&&aa(h,b,R)&&(b=n),M(h,Gn(b,3))}var Zce=Fr(function(h,b){if(h==null)return[];var R=b.length;return R>1&&aa(h,b[0],b[1])?b=[]:R>2&&aa(b[0],b[1],b[2])&&(b=[b[0]]),dN(h,_s(b,1),[])}),r_=Toe||function(){return ei.Date.now()};function Jce(h,b){if(typeof b!="function")throw new hc(s);return h=Sr(h),function(){if(--h<1)return b.apply(this,arguments)}}function i9(h,b,R){return b=R?n:b,b=h&&b==null?h.length:b,zd(h,S,n,n,n,n,b)}function o9(h,b){var R;if(typeof b!="function")throw new hc(s);return h=Sr(h),function(){return--h>0&&(R=b.apply(this,arguments)),h<=1&&(b=n),R}}var Z5=Fr(function(h,b,R){var M=v;if(R.length){var V=Ku(R,Om(Z5));M|=T}return zd(h,M,b,R,V)}),s9=Fr(function(h,b,R){var M=v|w;if(R.length){var V=Ku(R,Om(s9));M|=T}return zd(b,M,h,R,V)});function a9(h,b,R){b=R?n:b;var M=zd(h,E,n,n,n,n,n,b);return M.placeholder=a9.placeholder,M}function c9(h,b,R){b=R?n:b;var M=zd(h,C,n,n,n,n,n,b);return M.placeholder=c9.placeholder,M}function l9(h,b,R){var M,V,ne,me,be,Ie,et=0,nt=!1,lt=!1,Wt=!0;if(typeof h!="function")throw new hc(s);b=vc(b)||0,co(R)&&(nt=!!R.leading,lt="maxWait"in R,ne=lt?ns(vc(R.maxWait)||0,b):ne,Wt="trailing"in R?!!R.trailing:Wt);function Sn(Bo){var ol=M,Gd=V;return M=V=n,et=Bo,me=h.apply(Gd,ol),me}function Jn(Bo){return et=Bo,be=By(Hr,b),nt?Sn(Bo):me}function Rr(Bo){var ol=Bo-Ie,Gd=Bo-et,A9=b-ol;return lt?Ls(A9,ne-Gd):A9}function Yn(Bo){var ol=Bo-Ie,Gd=Bo-et;return Ie===n||ol>=b||ol<0||lt&&Gd>=ne}function Hr(){var Bo=r_();if(Yn(Bo))return ti(Bo);be=By(Hr,Rr(Bo))}function ti(Bo){return be=n,Wt&&M?Sn(Bo):(M=V=n,me)}function Va(){be!==n&&bN(be),et=0,M=Ie=V=be=n}function ca(){return be===n?me:ti(r_())}function Ha(){var Bo=r_(),ol=Yn(Bo);if(M=arguments,V=this,Ie=Bo,ol){if(be===n)return Jn(Ie);if(lt)return bN(be),be=By(Hr,b),Sn(Ie)}return be===n&&(be=By(Hr,b)),me}return Ha.cancel=Va,Ha.flush=ca,Ha}var Yce=Fr(function(h,b){return XO(h,1,b)}),Xce=Fr(function(h,b,R){return XO(h,vc(b)||0,R)});function Qce(h){return zd(h,D)}function i_(h,b){if(typeof h!="function"||b!=null&&typeof b!="function")throw new hc(s);var R=function(){var M=arguments,V=b?b.apply(this,M):M[0],ne=R.cache;if(ne.has(V))return ne.get(V);var me=h.apply(this,M);return R.cache=ne.set(V,me)||ne,me};return R.cache=new(i_.Cache||Fd),R}i_.Cache=Fd;function o_(h){if(typeof h!="function")throw new hc(s);return function(){var b=arguments;switch(b.length){case 0:return!h.call(this);case 1:return!h.call(this,b[0]);case 2:return!h.call(this,b[0],b[1]);case 3:return!h.call(this,b[0],b[1],b[2])}return!h.apply(this,b)}}function ele(h){return o9(2,h)}var tle=Fse(function(h,b){b=b.length==1&&vr(b[0])?Yi(b[0],Wa(Gn())):Yi(_s(b,1),Wa(Gn()));var R=b.length;return Fr(function(M){for(var V=-1,ne=Ls(M.length,R);++V<ne;)M[V]=b[V].call(this,M[V]);return cs(h,this,M)})}),J5=Fr(function(h,b){var R=Ku(b,Om(J5));return zd(h,T,n,b,R)}),d9=Fr(function(h,b){var R=Ku(b,Om(d9));return zd(h,A,n,b,R)}),nle=qd(function(h,b){return zd(h,O,n,n,n,b)});function rle(h,b){if(typeof h!="function")throw new hc(s);return b=b===n?b:Sr(b),Fr(h,b)}function ile(h,b){if(typeof h!="function")throw new hc(s);return b=b==null?0:ns(Sr(b),0),Fr(function(R){var M=R[b],V=Xu(R,0,b);return M&&Hu(V,M),cs(h,this,V)})}function ole(h,b,R){var M=!0,V=!0;if(typeof h!="function")throw new hc(s);return co(R)&&(M="leading"in R?!!R.leading:M,V="trailing"in R?!!R.trailing:V),l9(h,b,{leading:M,maxWait:b,trailing:V})}function sle(h){return i9(h,1)}function ale(h,b){return J5(j5(b),h)}function cle(){if(!arguments.length)return[];var h=arguments[0];return vr(h)?h:[h]}function lle(h){return mc(h,m)}function dle(h,b){return b=typeof b=="function"?b:n,mc(h,m,b)}function ule(h){return mc(h,f|m)}function fle(h,b){return b=typeof b=="function"?b:n,mc(h,f|m,b)}function hle(h,b){return b==null||YO(h,b,ls(b))}function il(h,b){return h===b||h!==h&&b!==b}var ple=Yw(x5),mle=Yw(function(h,b){return h>=b}),Rh=rN(function(){return arguments}())?rN:function(h){return _o(h)&&Si.call(h,"callee")&&!zO.call(h,"callee")},vr=ze.isArray,gle=oa?Wa(oa):Sse;function va(h){return h!=null&&s_(h.length)&&!Hd(h)}function jo(h){return _o(h)&&va(h)}function yle(h){return h===!0||h===!1||_o(h)&&sa(h)==ge}var Qu=Poe||a6,vle=tl?Wa(tl):Ese;function ble(h){return _o(h)&&h.nodeType===1&&!$y(h)}function wle(h){if(h==null)return!0;if(va(h)&&(vr(h)||typeof h=="string"||typeof h.splice=="function"||Qu(h)||Nm(h)||Rh(h)))return!h.length;var b=Us(h);if(b==$e||b==Ue)return!h.size;if(jy(h))return!E5(h).length;for(var R in h)if(Si.call(h,R))return!1;return!0}function _le(h,b){return Py(h,b)}function xle(h,b,R){R=typeof R=="function"?R:n;var M=R?R(h,b):n;return M===n?Py(h,b,n,R):!!M}function Y5(h){if(!_o(h))return!1;var b=sa(h);return b==J||b==qe||typeof h.message=="string"&&typeof h.name=="string"&&!$y(h)}function kle(h){return typeof h=="number"&&VO(h)}function Hd(h){if(!co(h))return!1;var b=sa(h);return b==G||b==we||b==ce||b==mr}function u9(h){return typeof h=="number"&&h==Sr(h)}function s_(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=$}function co(h){var b=typeof h;return h!=null&&(b=="object"||b=="function")}function _o(h){return h!=null&&typeof h=="object"}var f9=uc?Wa(uc):Ise;function Sle(h,b){return h===b||S5(h,b,F5(b))}function Ele(h,b,R){return R=typeof R=="function"?R:n,S5(h,b,F5(b),R)}function Cle(h){return h9(h)&&h!=+h}function Ile(h){if(dae(h))throw new hr(o);return iN(h)}function Ale(h){return h===null}function Tle(h){return h==null}function h9(h){return typeof h=="number"||_o(h)&&sa(h)==yt}function $y(h){if(!_o(h)||sa(h)!=_t)return!1;var b=Nw(h);if(b===null)return!0;var R=Si.call(b,"constructor")&&b.constructor;return typeof R=="function"&&R instanceof R&&Tw.call(R)==Eoe}var X5=ql?Wa(ql):Ase;function Rle(h){return u9(h)&&h>=-$&&h<=$}var p9=_y?Wa(_y):Tse;function a_(h){return typeof h=="string"||!vr(h)&&_o(h)&&sa(h)==Qe}function qa(h){return typeof h=="symbol"||_o(h)&&sa(h)==Ze}var Nm=xh?Wa(xh):Rse;function Ple(h){return h===n}function Ole(h){return _o(h)&&Us(h)==It}function Nle(h){return _o(h)&&sa(h)==kt}var jle=Yw(C5),Ble=Yw(function(h,b){return h<=b});function m9(h){if(!h)return[];if(va(h))return a_(h)?nl(h):ya(h);if(ky&&h[ky])return hoe(h[ky]());var b=Us(h),R=b==$e?h5:b==Ue?Cw:jm;return R(h)}function Kd(h){if(!h)return h===0?h:0;if(h=vc(h),h===N||h===-N){var b=h<0?-1:1;return b*L}return h===h?h:0}function Sr(h){var b=Kd(h),R=b%1;return b===b?R?b-R:b:0}function g9(h){return h?Ch(Sr(h),0,q):0}function vc(h){if(typeof h=="number")return h;if(qa(h))return z;if(co(h)){var b=typeof h.valueOf=="function"?h.valueOf():h;h=co(b)?b+"":b}if(typeof h!="string")return h===0?h:+h;h=BO(h);var R=Zn.test(h);return R||pn.test(h)?yr(h.slice(2),R?2:8):ot.test(h)?z:+h}function y9(h){return Hl(h,ba(h))}function $le(h){return h?Ch(Sr(h),-$,$):h===0?h:0}function xi(h){return h==null?"":za(h)}var Mle=Rm(function(h,b){if(jy(b)||va(b)){Hl(b,ls(b),h);return}for(var R in b)Si.call(b,R)&&Ay(h,R,b[R])}),v9=Rm(function(h,b){Hl(b,ba(b),h)}),c_=Rm(function(h,b,R,M){Hl(b,ba(b),h,M)}),Dle=Rm(function(h,b,R,M){Hl(b,ls(b),h,M)}),Lle=qd(b5);function Ule(h,b){var R=Tm(h);return b==null?R:JO(R,b)}var Fle=Fr(function(h,b){h=Ri(h);var R=-1,M=b.length,V=M>2?b[2]:n;for(V&&aa(b[0],b[1],V)&&(M=1);++R<M;)for(var ne=b[R],me=ba(ne),be=-1,Ie=me.length;++be<Ie;){var et=me[be],nt=h[et];(nt===n||il(nt,Cm[et])&&!Si.call(h,et))&&(h[et]=ne[et])}return h}),Wle=Fr(function(h){return h.push(n,BN),cs(b9,n,h)});function zle(h,b){return PO(h,Gn(b,3),Vl)}function qle(h,b){return PO(h,Gn(b,3),_5)}function Vle(h,b){return h==null?h:w5(h,Gn(b,3),ba)}function Hle(h,b){return h==null?h:tN(h,Gn(b,3),ba)}function Kle(h,b){return h&&Vl(h,Gn(b,3))}function Gle(h,b){return h&&_5(h,Gn(b,3))}function Zle(h){return h==null?[]:zw(h,ls(h))}function Jle(h){return h==null?[]:zw(h,ba(h))}function Q5(h,b,R){var M=h==null?n:Ih(h,b);return M===n?R:M}function Yle(h,b){return h!=null&&DN(h,b,wse)}function e6(h,b){return h!=null&&DN(h,b,_se)}var Xle=RN(function(h,b,R){b!=null&&typeof b.toString!="function"&&(b=Rw.call(b)),h[b]=R},n6(wa)),Qle=RN(function(h,b,R){b!=null&&typeof b.toString!="function"&&(b=Rw.call(b)),Si.call(h,b)?h[b].push(R):h[b]=[R]},Gn),ede=Fr(Ry);function ls(h){return va(h)?GO(h):E5(h)}function ba(h){return va(h)?GO(h,!0):Pse(h)}function tde(h,b){var R={};return b=Gn(b,3),Vl(h,function(M,V,ne){Wd(R,b(M,V,ne),M)}),R}function nde(h,b){var R={};return b=Gn(b,3),Vl(h,function(M,V,ne){Wd(R,V,b(M,V,ne))}),R}var rde=Rm(function(h,b,R){qw(h,b,R)}),b9=Rm(function(h,b,R,M){qw(h,b,R,M)}),ide=qd(function(h,b){var R={};if(h==null)return R;var M=!1;b=Yi(b,function(ne){return ne=Yu(ne,h),M||(M=ne.length>1),ne}),Hl(h,L5(h),R),M&&(R=mc(R,f|p|m,Xse));for(var V=b.length;V--;)P5(R,b[V]);return R});function ode(h,b){return w9(h,o_(Gn(b)))}var sde=qd(function(h,b){return h==null?{}:Nse(h,b)});function w9(h,b){if(h==null)return{};var R=Yi(L5(h),function(M){return[M]});return b=Gn(b),uN(h,R,function(M,V){return b(M,V[0])})}function ade(h,b,R){b=Yu(b,h);var M=-1,V=b.length;for(V||(V=1,h=n);++M<V;){var ne=h==null?n:h[Kl(b[M])];ne===n&&(M=V,ne=R),h=Hd(ne)?ne.call(h):ne}return h}function cde(h,b,R){return h==null?h:Oy(h,b,R)}function lde(h,b,R,M){return M=typeof M=="function"?M:n,h==null?h:Oy(h,b,R,M)}var _9=NN(ls),x9=NN(ba);function dde(h,b,R){var M=vr(h),V=M||Qu(h)||Nm(h);if(b=Gn(b,4),R==null){var ne=h&&h.constructor;V?R=M?new ne:[]:co(h)?R=Hd(ne)?Tm(Nw(h)):{}:R={}}return(V?fc:Vl)(h,function(me,be,Ie){return b(R,me,be,Ie)}),R}function ude(h,b){return h==null?!0:P5(h,b)}function fde(h,b,R){return h==null?h:gN(h,b,j5(R))}function hde(h,b,R,M){return M=typeof M=="function"?M:n,h==null?h:gN(h,b,j5(R),M)}function jm(h){return h==null?[]:f5(h,ls(h))}function pde(h){return h==null?[]:f5(h,ba(h))}function mde(h,b,R){return R===n&&(R=b,b=n),R!==n&&(R=vc(R),R=R===R?R:0),b!==n&&(b=vc(b),b=b===b?b:0),Ch(vc(h),b,R)}function gde(h,b,R){return b=Kd(b),R===n?(R=b,b=0):R=Kd(R),h=vc(h),xse(h,b,R)}function yde(h,b,R){if(R&&typeof R!="boolean"&&aa(h,b,R)&&(b=R=n),R===n&&(typeof b=="boolean"?(R=b,b=n):typeof h=="boolean"&&(R=h,h=n)),h===n&&b===n?(h=0,b=1):(h=Kd(h),b===n?(b=h,h=0):b=Kd(b)),h>b){var M=h;h=b,b=M}if(R||h%1||b%1){var V=HO();return Ls(h+V*(b-h+ii("1e-"+((V+"").length-1))),b)}return A5(h,b)}var vde=Pm(function(h,b,R){return b=b.toLowerCase(),h+(R?k9(b):b)});function k9(h){return t6(xi(h).toLowerCase())}function S9(h){return h=xi(h),h&&h.replace(mn,coe).replace(wm,"")}function bde(h,b,R){h=xi(h),b=za(b);var M=h.length;R=R===n?M:Ch(Sr(R),0,M);var V=R;return R-=b.length,R>=0&&h.slice(R,V)==b}function wde(h){return h=xi(h),h&&Xt.test(h)?h.replace(ri,loe):h}function _de(h){return h=xi(h),h&&Oo.test(h)?h.replace(or,"\\$&"):h}var xde=Pm(function(h,b,R){return h+(R?"-":"")+b.toLowerCase()}),kde=Pm(function(h,b,R){return h+(R?" ":"")+b.toLowerCase()}),Sde=IN("toLowerCase");function Ede(h,b,R){h=xi(h),b=Sr(b);var M=b?Sm(h):0;if(!b||M>=b)return h;var V=(b-M)/2;return Jw(Mw(V),R)+h+Jw($w(V),R)}function Cde(h,b,R){h=xi(h),b=Sr(b);var M=b?Sm(h):0;return b&&M<b?h+Jw(b-M,R):h}function Ide(h,b,R){h=xi(h),b=Sr(b);var M=b?Sm(h):0;return b&&M<b?Jw(b-M,R)+h:h}function Ade(h,b,R){return R||b==null?b=0:b&&(b=+b),Boe(xi(h).replace(F,""),b||0)}function Tde(h,b,R){return(R?aa(h,b,R):b===n)?b=1:b=Sr(b),T5(xi(h),b)}function Rde(){var h=arguments,b=xi(h[0]);return h.length<3?b:b.replace(h[1],h[2])}var Pde=Pm(function(h,b,R){return h+(R?"_":"")+b.toLowerCase()});function Ode(h,b,R){return R&&typeof R!="number"&&aa(h,b,R)&&(b=R=n),R=R===n?q:R>>>0,R?(h=xi(h),h&&(typeof b=="string"||b!=null&&!X5(b))&&(b=za(b),!b&&km(h))?Xu(nl(h),0,R):h.split(b,R)):[]}var Nde=Pm(function(h,b,R){return h+(R?" ":"")+t6(b)});function jde(h,b,R){return h=xi(h),R=R==null?0:Ch(Sr(R),0,h.length),b=za(b),h.slice(R,R+b.length)==b}function Bde(h,b,R){var M=ee.templateSettings;R&&aa(h,b,R)&&(b=n),h=xi(h),b=c_({},b,M,jN);var V=c_({},b.imports,M.imports,jN),ne=ls(V),me=f5(V,ne),be,Ie,et=0,nt=b.interpolate||vn,lt="__p += '",Wt=p5((b.escape||vn).source+"|"+nt.source+"|"+(nt===zr?at:vn).source+"|"+(b.evaluate||vn).source+"|$","g"),Sn="//# sourceURL="+(Si.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_m+"]")+`
`;h.replace(Wt,function(Yn,Hr,ti,Va,ca,Ha){return ti||(ti=Va),lt+=h.slice(et,Ha).replace(bn,doe),Hr&&(be=!0,lt+=`' +
__e(`+Hr+`) +
'`),ca&&(Ie=!0,lt+=`';
`+ca+`;
__p += '`),ti&&(lt+=`' +
((__t = (`+ti+`)) == null ? '' : __t) +
'`),et=Ha+Yn.length,Yn}),lt+=`';
`;var Jn=Si.call(b,"variable")&&b.variable;if(!Jn)lt=`with (obj) {
`+lt+`
}
`;else if(xe.test(Jn))throw new hr(a);lt=(Ie?lt.replace(Lr,""):lt).replace(ur,"$1").replace(as,"$1;"),lt="function("+(Jn||"obj")+`) {
`+(Jn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(be?", __e = _.escape":"")+(Ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+lt+`return __p
}`;var Rr=C9(function(){return mi(ne,Sn+"return "+lt).apply(n,me)});if(Rr.source=lt,Y5(Rr))throw Rr;return Rr}function $de(h){return xi(h).toLowerCase()}function Mde(h){return xi(h).toUpperCase()}function Dde(h,b,R){if(h=xi(h),h&&(R||b===n))return BO(h);if(!h||!(b=za(b)))return h;var M=nl(h),V=nl(b),ne=$O(M,V),me=MO(M,V)+1;return Xu(M,ne,me).join("")}function Lde(h,b,R){if(h=xi(h),h&&(R||b===n))return h.slice(0,LO(h)+1);if(!h||!(b=za(b)))return h;var M=nl(h),V=MO(M,nl(b))+1;return Xu(M,0,V).join("")}function Ude(h,b,R){if(h=xi(h),h&&(R||b===n))return h.replace(F,"");if(!h||!(b=za(b)))return h;var M=nl(h),V=$O(M,nl(b));return Xu(M,V).join("")}function Fde(h,b){var R=K,M=H;if(co(b)){var V="separator"in b?b.separator:V;R="length"in b?Sr(b.length):R,M="omission"in b?za(b.omission):M}h=xi(h);var ne=h.length;if(km(h)){var me=nl(h);ne=me.length}if(R>=ne)return h;var be=R-Sm(M);if(be<1)return M;var Ie=me?Xu(me,0,be).join(""):h.slice(0,be);if(V===n)return Ie+M;if(me&&(be+=Ie.length-be),X5(V)){if(h.slice(be).search(V)){var et,nt=Ie;for(V.global||(V=p5(V.source,xi(ct.exec(V))+"g")),V.lastIndex=0;et=V.exec(nt);)var lt=et.index;Ie=Ie.slice(0,lt===n?be:lt)}}else if(h.indexOf(za(V),be)!=be){var Wt=Ie.lastIndexOf(V);Wt>-1&&(Ie=Ie.slice(0,Wt))}return Ie+M}function Wde(h){return h=xi(h),h&&Ms.test(h)?h.replace(Qr,yoe):h}var zde=Pm(function(h,b,R){return h+(R?" ":"")+b.toUpperCase()}),t6=IN("toUpperCase");function E9(h,b,R){return h=xi(h),b=R?n:b,b===n?foe(h)?woe(h):roe(h):h.match(b)||[]}var C9=Fr(function(h,b){try{return cs(h,n,b)}catch(R){return Y5(R)?R:new hr(R)}}),qde=qd(function(h,b){return fc(b,function(R){R=Kl(R),Wd(h,R,Z5(h[R],h))}),h});function Vde(h){var b=h==null?0:h.length,R=Gn();return h=b?Yi(h,function(M){if(typeof M[1]!="function")throw new hc(s);return[R(M[0]),M[1]]}):[],Fr(function(M){for(var V=-1;++V<b;){var ne=h[V];if(cs(ne[0],this,M))return cs(ne[1],this,M)}})}function Hde(h){return yse(mc(h,f))}function n6(h){return function(){return h}}function Kde(h,b){return h==null||h!==h?b:h}var Gde=TN(),Zde=TN(!0);function wa(h){return h}function r6(h){return oN(typeof h=="function"?h:mc(h,f))}function Jde(h){return aN(mc(h,f))}function Yde(h,b){return cN(h,mc(b,f))}var Xde=Fr(function(h,b){return function(R){return Ry(R,h,b)}}),Qde=Fr(function(h,b){return function(R){return Ry(h,R,b)}});function i6(h,b,R){var M=ls(b),V=zw(b,M);R==null&&!(co(b)&&(V.length||!M.length))&&(R=b,b=h,h=this,V=zw(b,ls(b)));var ne=!(co(R)&&"chain"in R)||!!R.chain,me=Hd(h);return fc(V,function(be){var Ie=b[be];h[be]=Ie,me&&(h.prototype[be]=function(){var et=this.__chain__;if(ne||et){var nt=h(this.__wrapped__),lt=nt.__actions__=ya(this.__actions__);return lt.push({func:Ie,args:arguments,thisArg:h}),nt.__chain__=et,nt}return Ie.apply(h,Hu([this.value()],arguments))})}),h}function eue(){return ei._===this&&(ei._=Coe),this}function o6(){}function tue(h){return h=Sr(h),Fr(function(b){return lN(b,h)})}var nue=$5(Yi),rue=$5(RO),iue=$5(a5);function I9(h){return z5(h)?c5(Kl(h)):jse(h)}function oue(h){return function(b){return h==null?n:Ih(h,b)}}var sue=PN(),aue=PN(!0);function s6(){return[]}function a6(){return!1}function cue(){return{}}function lue(){return""}function due(){return!0}function uue(h,b){if(h=Sr(h),h<1||h>$)return[];var R=q,M=Ls(h,q);b=Gn(b),h-=q;for(var V=u5(M,b);++R<h;)b(R);return V}function fue(h){return vr(h)?Yi(h,Kl):qa(h)?[h]:ya(KN(xi(h)))}function hue(h){var b=++Soe;return xi(h)+b}var pue=Zw(function(h,b){return h+b},0),mue=M5("ceil"),gue=Zw(function(h,b){return h/b},1),yue=M5("floor");function vue(h){return h&&h.length?Ww(h,wa,x5):n}function bue(h,b){return h&&h.length?Ww(h,Gn(b,2),x5):n}function wue(h){return NO(h,wa)}function _ue(h,b){return NO(h,Gn(b,2))}function xue(h){return h&&h.length?Ww(h,wa,C5):n}function kue(h,b){return h&&h.length?Ww(h,Gn(b,2),C5):n}var Sue=Zw(function(h,b){return h*b},1),Eue=M5("round"),Cue=Zw(function(h,b){return h-b},0);function Iue(h){return h&&h.length?d5(h,wa):0}function Aue(h,b){return h&&h.length?d5(h,Gn(b,2)):0}return ee.after=Jce,ee.ary=i9,ee.assign=Mle,ee.assignIn=v9,ee.assignInWith=c_,ee.assignWith=Dle,ee.at=Lle,ee.before=o9,ee.bind=Z5,ee.bindAll=qde,ee.bindKey=s9,ee.castArray=cle,ee.chain=t9,ee.chunk=yae,ee.compact=vae,ee.concat=bae,ee.cond=Vde,ee.conforms=Hde,ee.constant=n6,ee.countBy=Ice,ee.create=Ule,ee.curry=a9,ee.curryRight=c9,ee.debounce=l9,ee.defaults=Fle,ee.defaultsDeep=Wle,ee.defer=Yce,ee.delay=Xce,ee.difference=wae,ee.differenceBy=_ae,ee.differenceWith=xae,ee.drop=kae,ee.dropRight=Sae,ee.dropRightWhile=Eae,ee.dropWhile=Cae,ee.fill=Iae,ee.filter=Tce,ee.flatMap=Oce,ee.flatMapDeep=Nce,ee.flatMapDepth=jce,ee.flatten=YN,ee.flattenDeep=Aae,ee.flattenDepth=Tae,ee.flip=Qce,ee.flow=Gde,ee.flowRight=Zde,ee.fromPairs=Rae,ee.functions=Zle,ee.functionsIn=Jle,ee.groupBy=Bce,ee.initial=Oae,ee.intersection=Nae,ee.intersectionBy=jae,ee.intersectionWith=Bae,ee.invert=Xle,ee.invertBy=Qle,ee.invokeMap=Mce,ee.iteratee=r6,ee.keyBy=Dce,ee.keys=ls,ee.keysIn=ba,ee.map=n_,ee.mapKeys=tde,ee.mapValues=nde,ee.matches=Jde,ee.matchesProperty=Yde,ee.memoize=i_,ee.merge=rde,ee.mergeWith=b9,ee.method=Xde,ee.methodOf=Qde,ee.mixin=i6,ee.negate=o_,ee.nthArg=tue,ee.omit=ide,ee.omitBy=ode,ee.once=ele,ee.orderBy=Lce,ee.over=nue,ee.overArgs=tle,ee.overEvery=rue,ee.overSome=iue,ee.partial=J5,ee.partialRight=d9,ee.partition=Uce,ee.pick=sde,ee.pickBy=w9,ee.property=I9,ee.propertyOf=oue,ee.pull=Lae,ee.pullAll=QN,ee.pullAllBy=Uae,ee.pullAllWith=Fae,ee.pullAt=Wae,ee.range=sue,ee.rangeRight=aue,ee.rearg=nle,ee.reject=zce,ee.remove=zae,ee.rest=rle,ee.reverse=K5,ee.sampleSize=Vce,ee.set=cde,ee.setWith=lde,ee.shuffle=Hce,ee.slice=qae,ee.sortBy=Zce,ee.sortedUniq=Yae,ee.sortedUniqBy=Xae,ee.split=Ode,ee.spread=ile,ee.tail=Qae,ee.take=ece,ee.takeRight=tce,ee.takeRightWhile=nce,ee.takeWhile=rce,ee.tap=vce,ee.throttle=ole,ee.thru=t_,ee.toArray=m9,ee.toPairs=_9,ee.toPairsIn=x9,ee.toPath=fue,ee.toPlainObject=y9,ee.transform=dde,ee.unary=sle,ee.union=ice,ee.unionBy=oce,ee.unionWith=sce,ee.uniq=ace,ee.uniqBy=cce,ee.uniqWith=lce,ee.unset=ude,ee.unzip=G5,ee.unzipWith=e9,ee.update=fde,ee.updateWith=hde,ee.values=jm,ee.valuesIn=pde,ee.without=dce,ee.words=E9,ee.wrap=ale,ee.xor=uce,ee.xorBy=fce,ee.xorWith=hce,ee.zip=pce,ee.zipObject=mce,ee.zipObjectDeep=gce,ee.zipWith=yce,ee.entries=_9,ee.entriesIn=x9,ee.extend=v9,ee.extendWith=c_,i6(ee,ee),ee.add=pue,ee.attempt=C9,ee.camelCase=vde,ee.capitalize=k9,ee.ceil=mue,ee.clamp=mde,ee.clone=lle,ee.cloneDeep=ule,ee.cloneDeepWith=fle,ee.cloneWith=dle,ee.conformsTo=hle,ee.deburr=S9,ee.defaultTo=Kde,ee.divide=gue,ee.endsWith=bde,ee.eq=il,ee.escape=wde,ee.escapeRegExp=_de,ee.every=Ace,ee.find=Rce,ee.findIndex=ZN,ee.findKey=zle,ee.findLast=Pce,ee.findLastIndex=JN,ee.findLastKey=qle,ee.floor=yue,ee.forEach=n9,ee.forEachRight=r9,ee.forIn=Vle,ee.forInRight=Hle,ee.forOwn=Kle,ee.forOwnRight=Gle,ee.get=Q5,ee.gt=ple,ee.gte=mle,ee.has=Yle,ee.hasIn=e6,ee.head=XN,ee.identity=wa,ee.includes=$ce,ee.indexOf=Pae,ee.inRange=gde,ee.invoke=ede,ee.isArguments=Rh,ee.isArray=vr,ee.isArrayBuffer=gle,ee.isArrayLike=va,ee.isArrayLikeObject=jo,ee.isBoolean=yle,ee.isBuffer=Qu,ee.isDate=vle,ee.isElement=ble,ee.isEmpty=wle,ee.isEqual=_le,ee.isEqualWith=xle,ee.isError=Y5,ee.isFinite=kle,ee.isFunction=Hd,ee.isInteger=u9,ee.isLength=s_,ee.isMap=f9,ee.isMatch=Sle,ee.isMatchWith=Ele,ee.isNaN=Cle,ee.isNative=Ile,ee.isNil=Tle,ee.isNull=Ale,ee.isNumber=h9,ee.isObject=co,ee.isObjectLike=_o,ee.isPlainObject=$y,ee.isRegExp=X5,ee.isSafeInteger=Rle,ee.isSet=p9,ee.isString=a_,ee.isSymbol=qa,ee.isTypedArray=Nm,ee.isUndefined=Ple,ee.isWeakMap=Ole,ee.isWeakSet=Nle,ee.join=$ae,ee.kebabCase=xde,ee.last=yc,ee.lastIndexOf=Mae,ee.lowerCase=kde,ee.lowerFirst=Sde,ee.lt=jle,ee.lte=Ble,ee.max=vue,ee.maxBy=bue,ee.mean=wue,ee.meanBy=_ue,ee.min=xue,ee.minBy=kue,ee.stubArray=s6,ee.stubFalse=a6,ee.stubObject=cue,ee.stubString=lue,ee.stubTrue=due,ee.multiply=Sue,ee.nth=Dae,ee.noConflict=eue,ee.noop=o6,ee.now=r_,ee.pad=Ede,ee.padEnd=Cde,ee.padStart=Ide,ee.parseInt=Ade,ee.random=yde,ee.reduce=Fce,ee.reduceRight=Wce,ee.repeat=Tde,ee.replace=Rde,ee.result=ade,ee.round=Eue,ee.runInContext=Ee,ee.sample=qce,ee.size=Kce,ee.snakeCase=Pde,ee.some=Gce,ee.sortedIndex=Vae,ee.sortedIndexBy=Hae,ee.sortedIndexOf=Kae,ee.sortedLastIndex=Gae,ee.sortedLastIndexBy=Zae,ee.sortedLastIndexOf=Jae,ee.startCase=Nde,ee.startsWith=jde,ee.subtract=Cue,ee.sum=Iue,ee.sumBy=Aue,ee.template=Bde,ee.times=uue,ee.toFinite=Kd,ee.toInteger=Sr,ee.toLength=g9,ee.toLower=$de,ee.toNumber=vc,ee.toSafeInteger=$le,ee.toString=xi,ee.toUpper=Mde,ee.trim=Dde,ee.trimEnd=Lde,ee.trimStart=Ude,ee.truncate=Fde,ee.unescape=Wde,ee.uniqueId=hue,ee.upperCase=zde,ee.upperFirst=t6,ee.each=n9,ee.eachRight=r9,ee.first=XN,i6(ee,function(){var h={};return Vl(ee,function(b,R){Si.call(ee.prototype,R)||(h[R]=b)}),h}(),{chain:!1}),ee.VERSION=r,fc(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){ee[h].placeholder=ee}),fc(["drop","take"],function(h,b){Xr.prototype[h]=function(R){R=R===n?1:ns(Sr(R),0);var M=this.__filtered__&&!b?new Xr(this):this.clone();return M.__filtered__?M.__takeCount__=Ls(R,M.__takeCount__):M.__views__.push({size:Ls(R,q),type:h+(M.__dir__<0?"Right":"")}),M},Xr.prototype[h+"Right"]=function(R){return this.reverse()[h](R).reverse()}}),fc(["filter","map","takeWhile"],function(h,b){var R=b+1,M=R==I||R==P;Xr.prototype[h]=function(V){var ne=this.clone();return ne.__iteratees__.push({iteratee:Gn(V,3),type:R}),ne.__filtered__=ne.__filtered__||M,ne}}),fc(["head","last"],function(h,b){var R="take"+(b?"Right":"");Xr.prototype[h]=function(){return this[R](1).value()[0]}}),fc(["initial","tail"],function(h,b){var R="drop"+(b?"":"Right");Xr.prototype[h]=function(){return this.__filtered__?new Xr(this):this[R](1)}}),Xr.prototype.compact=function(){return this.filter(wa)},Xr.prototype.find=function(h){return this.filter(h).head()},Xr.prototype.findLast=function(h){return this.reverse().find(h)},Xr.prototype.invokeMap=Fr(function(h,b){return typeof h=="function"?new Xr(this):this.map(function(R){return Ry(R,h,b)})}),Xr.prototype.reject=function(h){return this.filter(o_(Gn(h)))},Xr.prototype.slice=function(h,b){h=Sr(h);var R=this;return R.__filtered__&&(h>0||b<0)?new Xr(R):(h<0?R=R.takeRight(-h):h&&(R=R.drop(h)),b!==n&&(b=Sr(b),R=b<0?R.dropRight(-b):R.take(b-h)),R)},Xr.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Xr.prototype.toArray=function(){return this.take(q)},Vl(Xr.prototype,function(h,b){var R=/^(?:filter|find|map|reject)|While$/.test(b),M=/^(?:head|last)$/.test(b),V=ee[M?"take"+(b=="last"?"Right":""):b],ne=M||/^find/.test(b);V&&(ee.prototype[b]=function(){var me=this.__wrapped__,be=M?[1]:arguments,Ie=me instanceof Xr,et=be[0],nt=Ie||vr(me),lt=function(Hr){var ti=V.apply(ee,Hu([Hr],be));return M&&Wt?ti[0]:ti};nt&&R&&typeof et=="function"&&et.length!=1&&(Ie=nt=!1);var Wt=this.__chain__,Sn=!!this.__actions__.length,Jn=ne&&!Wt,Rr=Ie&&!Sn;if(!ne&&nt){me=Rr?me:new Xr(this);var Yn=h.apply(me,be);return Yn.__actions__.push({func:t_,args:[lt],thisArg:n}),new pc(Yn,Wt)}return Jn&&Rr?h.apply(this,be):(Yn=this.thru(lt),Jn?M?Yn.value()[0]:Yn.value():Yn)})}),fc(["pop","push","shift","sort","splice","unshift"],function(h){var b=Iw[h],R=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",M=/^(?:pop|shift)$/.test(h);ee.prototype[h]=function(){var V=arguments;if(M&&!this.__chain__){var ne=this.value();return b.apply(vr(ne)?ne:[],V)}return this[R](function(me){return b.apply(vr(me)?me:[],V)})}}),Vl(Xr.prototype,function(h,b){var R=ee[b];if(R){var M=R.name+"";Si.call(Am,M)||(Am[M]=[]),Am[M].push({name:b,func:R})}}),Am[Gw(n,w).name]=[{name:"wrapper",func:n}],Xr.prototype.clone=Woe,Xr.prototype.reverse=zoe,Xr.prototype.value=qoe,ee.prototype.at=bce,ee.prototype.chain=wce,ee.prototype.commit=_ce,ee.prototype.next=xce,ee.prototype.plant=Sce,ee.prototype.reverse=Ece,ee.prototype.toJSON=ee.prototype.valueOf=ee.prototype.value=Cce,ee.prototype.first=ee.prototype.head,ky&&(ee.prototype[ky]=kce),ee},Em=_oe();No?((No.exports=Em)._=Em,Ti._=Em):ei._=Em}).call(tv)})(I7,I7.exports);var a0t=Object.defineProperty,c0t=Object.defineProperties,l0t=Object.getOwnPropertyDescriptors,dW=Object.getOwnPropertySymbols,d0t=Object.prototype.hasOwnProperty,u0t=Object.prototype.propertyIsEnumerable,uW=(e,t,n)=>t in e?a0t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,px=(e,t)=>{for(var n in t||(t={}))d0t.call(t,n)&&uW(e,n,t[n]);if(dW)for(var n of dW(t))u0t.call(t,n)&&uW(e,n,t[n]);return e},f0t=(e,t)=>c0t(e,l0t(t));function th(e,t,n){var r;const i=fat(e);return((r=t.rpcMap)==null?void 0:r[i.reference])||`${s0t}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function dm(e){return e.includes(":")?e.split(":")[1]:e}function Xne(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function h0t(e,t){const n=Object.keys(t.namespaces).filter(i=>i.includes(e));if(!n.length)return[];const r=[];return n.forEach(i=>{const o=t.namespaces[i].accounts;r.push(...o)}),r}function fW(e={},t={}){const n=hW(e),r=hW(t);return I7.exports.merge(n,r)}function hW(e){var t,n,r,i;const o={};if(!qb(e))return o;for(const[s,a]of Object.entries(e)){const c=WP(s)?[s]:a.chains,l=a.methods||[],d=a.events||[],f=a.rpcMap||{},p=yv(s);o[p]=f0t(px(px({},o[p]),a),{chains:TE(c,(t=o[p])==null?void 0:t.chains),methods:TE(l,(n=o[p])==null?void 0:n.methods),events:TE(d,(r=o[p])==null?void 0:r.events),rpcMap:px(px({},f),(i=o[p])==null?void 0:i.rpcMap)})}return o}function p0t(e){return e.includes(":")?e.split(":")[2]:e}function m0t(e){const t={};for(const[n,r]of Object.entries(e)){const i=r.methods||[],o=r.events||[],s=r.accounts||[],a=WP(n)?[n]:r.chains?r.chains:Xne(r.accounts);t[n]={chains:a,methods:i,events:o,accounts:s}}return t}function JE(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const Qne={},ao=e=>Qne[e],YE=(e,t)=>{Qne[e]=t};class g0t{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=ao("events"),this.client=ao("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(zu.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=dm(n);t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||th(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new hh(new fh(r,ao("disableProviderPing")))}}class y0t{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=ao("events"),this.client=ao("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(parseInt(t),n),this.chainId=parseInt(t),this.events.emit(zu.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,n){const r=n||th(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new hh(new fh(r,ao("disableProviderPing")))}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(dm(n));t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}async handleSwitchChain(t){var n,r;let i=t.request.params?(n=t.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const o=parseInt(i,16);if(this.isChainApproved(o))this.setDefaultChain(`${o}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${o}`);else throw new Error(`Failed to switch to chain 'eip155:${o}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}}class v0t{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=ao("events"),this.client=ao("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(zu.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=dm(n);t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||th(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new hh(new fh(r,ao("disableProviderPing")))}}class b0t{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=ao("events"),this.client=ao("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(zu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=dm(n);t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||th(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new hh(new fh(r,ao("disableProviderPing")))}}class w0t{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=ao("events"),this.client=ao("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(zu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=dm(n);t[i]=this.createHttpProvider(i,r)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}getCardanoRPCUrl(t){const n=this.namespace.rpcMap;if(n)return n[t]}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||this.getCardanoRPCUrl(t);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new hh(new fh(r,ao("disableProviderPing")))}}class _0t{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=ao("events"),this.client=ao("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(zu.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=dm(n);t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||th(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new hh(new fh(r,ao("disableProviderPing")))}}class x0t{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=ao("events"),this.client=ao("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(zu.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const i=dm(n);t[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||th(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new hh(new fh(r,ao("disableProviderPing")))}}class k0t{constructor(t){this.name="near",this.namespace=t.namespace,this.events=ao("events"),this.client=ao("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(this.chainId=t,!this.httpProviders[t]){const r=n||th(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(zu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;t[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||th(t,this.namespace);return typeof r>"u"?void 0:new hh(new fh(r,ao("disableProviderPing")))}}var S0t=Object.defineProperty,E0t=Object.defineProperties,C0t=Object.getOwnPropertyDescriptors,pW=Object.getOwnPropertySymbols,I0t=Object.prototype.hasOwnProperty,A0t=Object.prototype.propertyIsEnumerable,mW=(e,t,n)=>t in e?S0t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mx=(e,t)=>{for(var n in t||(t={}))I0t.call(t,n)&&mW(e,n,t[n]);if(pW)for(var n of pW(t))A0t.call(t,n)&&mW(e,n,t[n]);return e},XE=(e,t)=>E0t(e,C0t(t));class sO{constructor(t){this.events=new PP,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:kS(SS({level:(t==null?void 0:t.logger)||cW})),this.disableProviderPing=(t==null?void 0:t.disableProviderPing)||!1}static async init(t){const n=new sO(t);return await n.initialize(),n}async request(t,n,r){const[i,o]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:mx({},t),chainId:`${i}:${o}`,topic:this.session.topic,expiry:r})}sendAsync(t,n,r,i){const o=new Date().getTime();this.request(t,r,i).then(s=>n(null,CS(o,s))).catch(s=>n(s,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:io("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}removeListener(t,n){this.events.removeListener(t,n)}off(t,n){this.events.off(t,n)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let n=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(n>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:r,approval:i}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});r&&(this.uri=r,this.events.emit("display_uri",r)),await i().then(o=>{this.session=o;const s=m0t(o.namespaces);this.namespaces=fW(this.namespaces,s),this.persist("namespaces",this.namespaces)}).catch(o=>{if(o.message!==Jne)throw o;n++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,n){try{if(!this.session)return;const[r,i]=this.validateChain(t);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(bd(n)){for(const r of n)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await Zgt.init({logger:this.providerOpts.logger||cW,relayUrl:this.providerOpts.relayUrl||r0t,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(n=>yv(n)))];YE("client",this.client),YE("events",this.events),YE("disableProviderPing",this.disableProviderPing),t.forEach(n=>{if(!this.session)return;const r=h0t(n,this.session),i=Xne(r),o=fW(this.namespaces,this.optionalNamespaces),s=XE(mx({},o[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new y0t({namespace:s});break;case"solana":this.rpcProviders[n]=new v0t({namespace:s});break;case"cosmos":this.rpcProviders[n]=new b0t({namespace:s});break;case"polkadot":this.rpcProviders[n]=new g0t({namespace:s});break;case"cip34":this.rpcProviders[n]=new w0t({namespace:s});break;case"elrond":this.rpcProviders[n]=new _0t({namespace:s});break;case"multiversx":this.rpcProviders[n]=new x0t({namespace:s});break;case"near":this.rpcProviders[n]=new k0t({namespace:s});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:n}=t,{event:r}=n;if(r.name==="accountsChanged"){const i=r.data;i&&bd(i)&&this.events.emit("accountsChanged",i.map(p0t))}else if(r.name==="chainChanged"){const i=n.chainId,o=n.event.data,s=yv(i),a=JE(i)!==JE(o)?`${s}:${JE(o)}`:i;this.onChainChanged(a)}else this.events.emit(r.name,r.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:n})=>{var r;const{namespaces:i}=n,o=(r=this.client)==null?void 0:r.session.get(t);this.session=XE(mx({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",XE(mx({},io("USER_DISCONNECTED")),{data:t.topic}))}),this.on(zu.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){if(!this.rpcProviders[t])throw new Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var n;this.getProvider(t).updateNamespace((n=this.session)==null?void 0:n.namespaces[t])})}setNamespaces(t){const{namespaces:n,optionalNamespaces:r,sessionProperties:i}=t;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=i,this.persist("namespaces",n),this.persist("optionalNamespaces",r)}validateChain(t){const[n,r]=(t==null?void 0:t.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(s=>yv(s)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=yv(Object.keys(this.namespaces)[0]),o=this.rpcProviders[i].getDefaultChain();return[i,o]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(t);i&&(n||this.getProvider(r).setDefaultChain(i),this.namespaces[r]?this.namespaces[r].defaultChain=i:this.namespaces[`${r}:${i}`]?this.namespaces[`${r}:${i}`].defaultChain=i:this.namespaces[`${r}:${i}`]={defaultChain:i},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",i))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,n){this.client.core.storage.setItem(`${lW}/${t}`,n)}async getFromStore(t){return await this.client.core.storage.getItem(`${lW}/${t}`)}}const T0t=sO,R0t="wc",P0t="ethereum_provider",O0t=`${R0t}@2:${P0t}:`,N0t="https://rpc.walletconnect.com/v1/",A7=["eth_sendTransaction","personal_sign"],j0t=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],T7=["chainChanged","accountsChanged"],B0t=["chainChanged","accountsChanged","message","disconnect","connect"];var $0t=Object.defineProperty,M0t=Object.defineProperties,D0t=Object.getOwnPropertyDescriptors,gW=Object.getOwnPropertySymbols,L0t=Object.prototype.hasOwnProperty,U0t=Object.prototype.propertyIsEnumerable,yW=(e,t,n)=>t in e?$0t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bv=(e,t)=>{for(var n in t||(t={}))L0t.call(t,n)&&yW(e,n,t[n]);if(gW)for(var n of gW(t))U0t.call(t,n)&&yW(e,n,t[n]);return e},vW=(e,t)=>M0t(e,D0t(t));function dk(e){return Number(e[0].split(":")[1])}function QE(e){return`0x${e.toString(16)}`}function F0t(e){const{chains:t,optionalChains:n,methods:r,optionalMethods:i,events:o,optionalEvents:s,rpcMap:a}=e;if(!bd(t))throw new Error("Invalid chains");const c={chains:t,methods:r||A7,events:o||T7,rpcMap:bv({},t.length?{[dk(t)]:a[dk(t)]}:{})},l=o==null?void 0:o.filter(m=>!T7.includes(m)),d=r==null?void 0:r.filter(m=>!A7.includes(m));if(!n&&!s&&!i&&!(l!=null&&l.length)&&!(d!=null&&d.length))return{required:t.length?c:void 0};const f=(l==null?void 0:l.length)&&(d==null?void 0:d.length)||!n,p={chains:[...new Set(f?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:j0t))],events:[...new Set(c.events.concat(s!=null&&s.length?s:B0t))],rpcMap:a};return{required:t.length?c:void 0,optional:n.length?p:void 0}}let W0t=class ere{constructor(){this.events=new ia.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=O0t,this.on=(t,n)=>(this.events.on(t,n),this),this.once=(t,n)=>(this.events.once(t,n),this),this.removeListener=(t,n)=>(this.events.removeListener(t,n),this),this.off=(t,n)=>(this.events.off(t,n),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const n=new ere;return await n.initialize(t),n}async request(t,n){return await this.signer.request(t,this.formatChainId(this.chainId),n)}sendAsync(t,n,r){this.signer.sendAsync(t,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:n,optional:r}=F0t(this.rpc);try{const i=await new Promise(async(s,a)=>{var c;this.rpc.showQrModal&&((c=this.modal)==null||c.subscribeModal(l=>{!l.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(vW(bv({namespaces:bv({},n&&{[this.namespace]:n})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:t==null?void 0:t.pairingTopic})).then(l=>{s(l)}).catch(l=>{a(new Error(l.message))})});if(!i)return;const o=hat(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:QE(this.chainId)})}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:n}=t,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{const n=parseInt(t);this.chainId=n,this.events.emit("chainChanged",QE(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",vW(bv({},io("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var n,r;this.rpc.showQrModal&&((n=this.modal)==null||n.closeModal(),(r=this.modal)==null||r.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const n=t.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",QE(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const n=this.parseChainId(t);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(t){const[n,r,i]=t.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(t){this.accounts=t.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var n,r;const i=(n=t==null?void 0:t.chains)!=null?n:[],o=(r=t==null?void 0:t.optionalChains)!=null?r:[],s=i.concat(o);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(t==null?void 0:t.methods)||A7:[],c=i.length?(t==null?void 0:t.events)||T7:[],l=(t==null?void 0:t.optionalMethods)||[],d=(t==null?void 0:t.optionalEvents)||[],f=(t==null?void 0:t.rpcMap)||this.buildRpcMap(s,t.projectId),p=(t==null?void 0:t.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(m=>this.formatChainId(m)),optionalChains:o.map(m=>this.formatChainId(m)),methods:a,events:c,optionalMethods:l,optionalEvents:d,rpcMap:f,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:p,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,n){const r={};return t.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?dk(this.rpc.chains):dk(this.rpc.optionalChains),this.signer=await T0t.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const{WalletConnectModal:r}=await W7(()=>import("./index-DI_5Pvk7.js").then(i=>i.i),__vite__mapDeps([3,1,2]));n=r}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(n)try{this.modal=new n(bv({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(r){throw this.signer.logger.error(r),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:n,optionalChains:r,rpcMap:i}=t;n&&bd(n)&&(this.rpc.chains=n.map(o=>this.formatChainId(o)),n.forEach(o=>{this.rpc.rpcMap[o]=(i==null?void 0:i[o])||this.getRpcUrl(o)})),r&&bd(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r==null?void 0:r.map(o=>this.formatChainId(o)),r.forEach(o=>{this.rpc.rpcMap[o]=(i==null?void 0:i[o])||this.getRpcUrl(o)}))}getRpcUrl(t,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[t])||`${N0t}?chainId=eip155:${t}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:n==null?void 0:n.accounts),this.setAccounts(n==null?void 0:n.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(n=>this.parseAccount(n))}};const bW=(e,t=10)=>{try{const n=parseInt(String(e),t);if(isNaN(n)){Jr.error(`Error parsing ${e}`);return}return n}catch(n){Jr.error(`Error parsing ${e} to int: ${n}`)}},z0t=e=>`dynamic-wc2-active-account-${e}`,q0t=e=>`dynamic-wc2-session-topic-${e}`,V0t=e=>`dynamic-wc2-switched-network-${e}`,H0t=e=>`dynamic-wc2-current-chain-${e}`,eC=new Jg;class ai extends TP{constructor(t){var n;super(t),this.supportedChains=["EVM","ETH"],this.connectedChain="EVM",this.isInitialized=!1,this.canConnectViaQrCode=!0,this.isWalletConnect=!0,this.preferredChains=[],this._hasSwitchedNetwork=!1,this.sessionEventHandler=()=>{},this.sessionDeleteHandler=()=>{},this.name=t.walletName,this.projectId=t.projectId,this.deepLinkPreference=t.deepLinkPreference||"native",this.preferredChains=t.walletConnectPreferredChains||[],this.hasSwitchedNetwork=(n=!!localStorage.getItem(this.swicthedNetworkKey))!==null&&n!==void 0?n:!1;const r=localStorage.getItem(this.currentChainKey);this.currentChainId=r?bW(r):void 0}getMappedChains(){return this.evmNetworks.filter(t=>t.chainId!==11297108109).map(t=>`eip155:${t.chainId}`)}getMappedChainsByPreferredOrder(){const t=this.getMappedChains(),n=this.preferredChains.filter(i=>t.includes(i)),r=t.filter(i=>!this.preferredChains.includes(i));return[...n,...r].map(i=>Number(i.split(":")[1]))}initConnection(){return Nr(this,void 0,void 0,function*(){const{provider:t}=ai;if(!t)throw new Ae("No provider found (init connection)");t!=null&&t.signer.uri||t.connect().catch(n=>{Jr.error(n),eC.emit("walletconnect_connection_failed",n)})})}createProvider(){return Nr(this,void 0,void 0,function*(){return W0t.init({events:["chainChanged","accountsChanged"],methods:[],optionalChains:this.getMappedChainsByPreferredOrder(),optionalMethods:["eth_chainId","eth_signTypedData","eth_signTransaction","eth_sign","personal_sign","eth_sendTransaction","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain"],projectId:this.projectId,rpcMap:this.evmNetworkRpcMap(),showQrModal:!1})})}getWalletClientFromInitializedProvider(){return Nr(this,void 0,void 0,function*(){const t=this.createProvider();return nb({account:this.getActiveAccount(),transport:eb(yield t)})})}createInitProviderPromise(){return Nr(this,void 0,void 0,function*(){ai.provider=yield this.createProvider(),this.teardownEventListeners(),this.setupEventListeners()})}initProvider(){return Nr(this,void 0,void 0,function*(){const{provider:t}=ai;t||(this.initializePromise===void 0&&(this.initializePromise=this.createInitProviderPromise()),yield this.initializePromise)})}refreshSession(){var t,n,r,i,o;!((n=(t=ai.provider)===null||t===void 0?void 0:t.session)===null||n===void 0)&&n.topic&&localStorage.getItem(this.sessionTopicKey)===((i=(r=ai.provider)===null||r===void 0?void 0:r.session)===null||i===void 0?void 0:i.topic)&&(this.session=ai.provider.session,this.setActiveAccount((o=localStorage.getItem(this.activeAccountKey))!==null&&o!==void 0?o:void 0))}init(){return Nr(this,void 0,void 0,function*(){yield this.initProvider(),yield this.initConnection(),this.isInitialized=!0})}get sessionTopicKey(){return q0t(this.key)}get activeAccountKey(){return z0t(this.key)}get swicthedNetworkKey(){return V0t(this.key)}get currentChainKey(){return H0t(this.key)}set currentChainId(t){this._currentChainId=t,t?localStorage.setItem(this.currentChainKey,t.toString()):localStorage.removeItem(this.currentChainKey)}get currentChainId(){return this._currentChainId}set hasSwitchedNetwork(t){this._hasSwitchedNetwork=t,t?localStorage.setItem(this.swicthedNetworkKey,t.toString()):localStorage.removeItem(this.swicthedNetworkKey)}get hasSwitchedNetwork(){return this._hasSwitchedNetwork}supportsNetworkSwitching(){return!0}setupEventListeners(){ai.provider&&(this.sessionEventHandler=({params:t})=>{if(Jr.debug("session_event was called",{params:t}),!t||!t.event){Jr.debug("session_event was called without params or params.event");return}const{name:n,data:r}=t.event;if(n==="chainChanged"){const i=bW(r);if(i===this.currentChainId){Jr.debug(`ignoring chainChanged event with same chain id as current chain id: ${i}`);return}if(i===void 0){Jr.debug(`received unexpected data for chainChanged: ${r} with type ${typeof r}}`);return}this.currentChainId=i,this.emit("chainChange",{chain:String(i)}),this.hasSwitchedNetwork=!0,this.switchNetwork({networkChainId:i})}else if(n==="accountsChanged"){if(!Array.isArray(r)){Jr.debug(`received unexpected data for accountsChanged: ${r} with type ${typeof r}}`);return}const i=r[0].split(":")[2];this.setWCActiveAccount(i)}},ai.provider.on("session_event",this.sessionEventHandler),this.sessionDeleteHandler=()=>Nr(this,void 0,void 0,function*(){this.endSession(),this.emit("disconnect")}),ai.provider.on("session_delete",this.sessionDeleteHandler))}teardownEventListeners(){ai.provider&&(ai.provider.off("session_event",this.sessionEventHandler),ai.provider.off("session_delete",this.sessionDeleteHandler))}getWalletClient(t){if(ai.provider)return nb({account:this.getActiveAccount(),chain:YT[t??String(this.currentChainId)],transport:eb(ai.provider)})}getAddress(t){return Nr(this,void 0,void 0,function*(){var n,r;const i=this.getActiveAccount();if(i!=null&&i.address)return i.address;if((!ai.provider||!(!((n=ai.provider)===null||n===void 0)&&n.signer.uri))&&(Jr.debug("No WC2 provider found, re-initializing..."),yield this.endSession(),yield this.init(),yield o3(1e3),!ai.provider||!(!((r=ai.provider)===null||r===void 0)&&r.signer.uri)))throw Jr.debug("No WC2 provider found, escaping and throwing error"),new Ae("No provider found");const o=rc(this.walletBook,this.key,this.walletFallback);return RSe(ai.provider.signer.uri,o,{onDesktopUri:t==null?void 0:t.onDesktopUri,onDisplayUri:t==null?void 0:t.onDisplayUri},this.deepLinkPreference),new Promise((s,a)=>{if(!ai.provider){a(new Ae("No provider found"));return}const c=()=>{const f=new Ae("Connection rejected. Please try again.");f.code="connection_rejected",ai.provider&&(ai.provider.signer.uri=void 0,this.init()),a(f),d()},l=()=>{var f;const p=(f=ai.provider)===null||f===void 0?void 0:f.session;if(!p){a(new Ae("No session found"));return}this.setSession(p),this.setWCActiveAccount(p.namespaces.eip155.accounts[0].split(":")[2]),this.getNetwork().then(m=>{var g;this.currentChainId=m,s((g=this.getActiveAccount())===null||g===void 0?void 0:g.address)}),d()},d=()=>{var f;eC.off("walletconnect_connection_failed",c),(f=ai.provider)===null||f===void 0||f.off("connect",l)};eC.on("walletconnect_connection_failed",c),ai.provider.on("connect",l)})})}waitForSignMessage(t,n){return Nr(this,void 0,void 0,function*(){const i=yield new Promise((o,s)=>{this.on("chainChange",()=>o({success:!1})),t(n).then(a=>o({signedMessage:a,success:!0})).catch(s)});return i.success===!1?t(n):i.signedMessage})}getDeepLink(){var t;if(!this.session)return;const n=rc(this.walletBook,this.key),r=uK({metadata:n,mode:"regular",preference:this.deepLinkPreference,uri:(t=ai.provider)===null||t===void 0?void 0:t.signer.uri});if(r)return`${r}?sessionTopic=${this.session.topic}`}signMessage(t){return Nr(this,void 0,void 0,function*(){if(!this.session)throw new Ae("no session");const n=this.getDeepLink();di()&&n&&(window.location.href=n);const r=o=>Nr(this,void 0,void 0,function*(){const s=this.getActiveAccount();return s?(yield this.getWalletClientFromInitializedProvider()).signMessage({account:s,message:o}):void 0});return yield this.waitForSignMessage(r,t)})}clearActiveAccount(){localStorage.removeItem(this.activeAccountKey),this.setActiveAccount(void 0)}clearSession(){localStorage.removeItem(this.sessionTopicKey),this.session=void 0}setWCActiveAccount(t){localStorage.setItem(this.activeAccountKey,t),this.setActiveAccount(t),this.emit("accountChange",{accounts:[t]})}setSession(t){localStorage.setItem(this.sessionTopicKey,t.topic),this.session=t}endSession(){return Nr(this,void 0,void 0,function*(){var t;if(this.clearActiveAccount(),this.clearSession(),this.hasSwitchedNetwork=!1,this.currentChainId=void 0,!!(!((t=ai.provider)===null||t===void 0)&&t.session))try{yield ai.provider.disconnect(),ai.provider=void 0}catch(n){Jr.debug(n)}})}getNetwork(){const t=Object.create(null,{getNetwork:{get:()=>super.getNetwork}});return Nr(this,void 0,void 0,function*(){return this.currentChainId?this.currentChainId:(yield this.initProvider(),t.getNetwork.call(this))})}providerSwitchNetwork(t){const n=Object.create(null,{providerSwitchNetwork:{get:()=>super.providerSwitchNetwork}});return Nr(this,arguments,void 0,function*({network:r}){const i=yield this.getSupportedNetworks();if(!(i!=null&&i.includes(r.chainId.toString()))){const a=new Ae("Network switching is not available at this time. The user should manually switch network in their wallet");throw a.code="network_switching_only_available_in_wallet",a}const o=yield this.getNetwork();if(o&&o===r.chainId)return;if(this.switchNetworkOnlyFromWallet)throw new Ae("Network switching is only supported through the wallet");if(!this.supportsNetworkSwitching())throw new Ae("Network switching not supported");const s=yield this.getWalletClientFromInitializedProvider();if(this.isMetaMask()){const a=this.getDeepLink();a&&(window.location.href=a)}yield n.providerSwitchNetwork.call(this,{network:r,provider:s}),this.currentChainId=r.chainId,this.hasSwitchedNetwork=!0,this.emit("chainChange",{chain:String(r.chainId)})})}getConnectedAccounts(){return Nr(this,void 0,void 0,function*(){this.isInitialized===!1&&(yield this.initProvider(),this.refreshSession(),this.isInitialized=!0);const t=this.getActiveAccount();return t!=null&&t.address?[t.address]:[]})}isMetaMask(){var t,n,r,i,o;return(o=(i=(r=(n=(t=this.session)===null||t===void 0?void 0:t.peer)===null||n===void 0?void 0:n.metadata)===null||r===void 0?void 0:r.name)===null||i===void 0?void 0:i.toLowerCase().startsWith("metamask"))!==null&&o!==void 0?o:!1}getSupportedNetworks(){return Nr(this,void 0,void 0,function*(){var t;if(yield this.initProvider(),this.refreshSession(),this.isMetaMask())return this.hasSwitchedNetwork?[String(this.currentChainId)]:this.evmNetworks.map(r=>r.chainId.toString());if(!this.session)return[];const n=[];return Object.keys(this.session.namespaces).forEach(r=>{r.startsWith("eip155:")&&n.push(r.split(":")[1])}),(t=this.session.namespaces.eip155)===null||t===void 0||t.accounts.forEach(r=>n.push(r.split(":")[1])),n.length?n:this.evmNetworks.map(r=>r.chainId.toString())})}}let cw=class extends TP{constructor(){super(...arguments),this.supportedChains=["ETH","EVM"],this.connectedChain="EVM",this.walletConnectorFallback=!1}getEthProviderHelper(){return this.wallet||(this.wallet=zo(this.walletBook,this.key)),this.wallet&&!this.ethProviderHelper&&(this.ethProviderHelper=new Fit(this.wallet,this)),this.ethProviderHelper}getMobileOrInstalledWallet(){var t,n;return this.wallet||(this.wallet=zo(this.walletBook,this.key)),this.isInstalledOnBrowser()?this:!((n=(t=this.wallet)===null||t===void 0?void 0:t.mobile)===null||n===void 0)&&n.inAppBrowser&&this.constructorProps.deepLinkPreference!=="universal"&&di()?this:this.walletConnectorFallback?new ai(Object.assign(Object.assign({},this.constructorProps),{walletName:this.name})):this}setupEventListeners(){if(!this.getWalletClient())return;const n=this.getEthProviderHelper();if(!n)return;const{tearDownEventListeners:r}=n._setupEventListeners(this);this.teardownEventListeners=r}getWalletClient(t){var n;return(n=this.getEthProviderHelper())===null||n===void 0?void 0:n.findWalletClient(t)}isInstalledOnBrowser(){var t;return((t=this.getEthProviderHelper())===null||t===void 0?void 0:t.findProvider())!==void 0}getAddress(){return Nr(this,void 0,void 0,function*(){var t;return(t=this.getEthProviderHelper())===null||t===void 0?void 0:t.getAddress()})}connect(){return Nr(this,void 0,void 0,function*(){yield this.getAddress()})}signMessage(t){return Nr(this,void 0,void 0,function*(){var n;return(n=this.getEthProviderHelper())===null||n===void 0?void 0:n.signMessage(t)})}proveOwnership(t){return Nr(this,void 0,void 0,function*(){return this.signMessage(t)})}endSession(){return Nr(this,void 0,void 0,function*(){})}providerSwitchNetwork(t){const n=Object.create(null,{providerSwitchNetwork:{get:()=>super.providerSwitchNetwork}});return Nr(this,arguments,void 0,function*({network:r,provider:i}){return n.providerSwitchNetwork.call(this,{network:r,provider:i})})}};class K0t extends cw{constructor(t){super(t),this.name="Phantom",this.overrideKey="phantomevm",this.wallet=zo(this.walletBook,this.key)}getAddress(){const t=Object.create(null,{getAddress:{get:()=>super.getAddress}});return Nr(this,void 0,void 0,function*(){if(this.isInstalledOnBrowser())return t.getAddress.call(this);di()&&YA({nativeLink:"phantom://browse",universalLink:"https://phantom.app/ul/browse"})})}}class G0t extends cw{constructor(t){super(t),this.name="ExodusEvm",this.overrideKey="exodusevm",this.walletConnectorFallback=!0,this.wallet=zo(this.walletBook,this.key)}}let Z0t=class extends cw{constructor(t){super(t),this.name="Unknown",this.overrideKey="unknown",this.wallet=zo(this.walletBook,this.key)}isInstalledOnBrowser(){return!1}};class J0t extends cw{constructor(t){super(t),this.name="Fallback Connector",this.overrideKey="fallbackconnector",this.isAvailable=!1,this.wallet=zo(this.walletBook,this.key)}isInstalledOnBrowser(){return!1}}const Y0t=[K0t,G0t],X0t=["phantomevm","coinbase","exodusevm"],Q0t=({walletBook:e})=>{var t;return Object.entries((t=e==null?void 0:e.wallets)!==null&&t!==void 0?t:{}).filter(([n,r])=>{var i;return((i=r.injectedConfig)===null||i===void 0?void 0:i.find(o=>o.chain==="evm"))&&!X0t.includes(n)}).map(([n,r])=>{const{shortName:i}=r,o=i||r.name,s=!!r.walletConnect;return class extends cw{constructor(a){super(Object.assign({},a)),this.name=o,this.wallet=r,this.walletConnectorFallback=s,this.overrideKey=n}getAddress(){const a=Object.create(null,{getAddress:{get:()=>super.getAddress}});return Nr(this,void 0,void 0,function*(){var c;if(this.isInstalledOnBrowser())return a.getAddress.call(this);const l=(c=this.wallet.mobile)===null||c===void 0?void 0:c.inAppBrowser;if(!l){const d=new Error(`No inAppBrowserBase found for ${this.name}.`);throw Jr.error(d.message),d}window.location.href=`${l}/${window.location.href}`})}}})},eyt=({walletBook:e})=>{var t;return Object.entries((t=e==null?void 0:e.wallets)!==null&&t!==void 0?t:{}).filter(([,n])=>n.walletConnect&&!n.filterFromWalletConnect).map(([n,r])=>{const{shortName:i}=r,o=i||r.name;return class extends ai{constructor(s){super(Object.assign(Object.assign({},s),{walletName:o})),this.overrideKey=n}}})},tyt=()=>class extends ai{constructor(e){super(Object.assign(Object.assign({},e),{walletName:"WalletConnect"}))}};var tre={},Zb={},RS={};Object.defineProperty(RS,"__esModule",{value:!0});RS.walletLogo=void 0;const nyt=(e,t)=>{let n;switch(e){case"standard":return n=t,`data:image/svg+xml,%3Csvg width='${t}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return n=t,`data:image/svg+xml,%3Csvg width='${t}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};RS.walletLogo=nyt;var PS={};const ryt=Dl(t2e);var $d={},ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.errorValues=ju.standardErrorCodes=void 0;ju.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};ju.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var OS={},aO={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.getErrorCode=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=ju,n="Unspecified error message.";e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function r(p,m=n){if(p&&Number.isInteger(p)){const g=p.toString();if(d(t.errorValues,g))return t.errorValues[g].message;if(c(p))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return m}e.getMessageFromCode=r;function i(p){if(!Number.isInteger(p))return!1;const m=p.toString();return!!(t.errorValues[m]||c(p))}e.isValidCode=i;function o(p){var m;if(typeof p=="number")return p;if(s(p))return(m=p.code)!==null&&m!==void 0?m:p.errorCode}e.getErrorCode=o;function s(p){return typeof p=="object"&&p!==null&&(typeof p.code=="number"||typeof p.errorCode=="number")}function a(p,{shouldIncludeStack:m=!1}={}){const g={};if(p&&typeof p=="object"&&!Array.isArray(p)&&d(p,"code")&&i(p.code)){const y=p;g.code=y.code,y.message&&typeof y.message=="string"?(g.message=y.message,d(y,"data")&&(g.data=y.data)):(g.message=r(g.code),g.data={originalError:l(p)})}else g.code=t.standardErrorCodes.rpc.internal,g.message=f(p,"message")?p.message:n,g.data={originalError:l(p)};return m&&(g.stack=f(p,"stack")?p.stack:void 0),g}e.serialize=a;function c(p){return p>=-32099&&p<=-32e3}function l(p){return p&&typeof p=="object"&&!Array.isArray(p)?Object.assign({},p):p}function d(p,m){return Object.prototype.hasOwnProperty.call(p,m)}function f(p,m){return typeof p=="object"&&p!==null&&m in p&&typeof p[m]=="string"}})(aO);Object.defineProperty(OS,"__esModule",{value:!0});OS.standardErrors=void 0;const xs=ju,nre=aO;OS.standardErrors={rpc:{parse:e=>Ic(xs.standardErrorCodes.rpc.parse,e),invalidRequest:e=>Ic(xs.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>Ic(xs.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>Ic(xs.standardErrorCodes.rpc.methodNotFound,e),internal:e=>Ic(xs.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ic(t,e)},invalidInput:e=>Ic(xs.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>Ic(xs.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>Ic(xs.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>Ic(xs.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>Ic(xs.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>Ic(xs.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>qm(xs.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>qm(xs.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>qm(xs.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>qm(xs.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>qm(xs.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>qm(xs.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:r}=e;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new ore(t,n,r)}}};function Ic(e,t){const[n,r]=rre(t);return new ire(e,n||(0,nre.getMessageFromCode)(e),r)}function qm(e,t){const[n,r]=rre(t);return new ore(e,n||(0,nre.getMessageFromCode)(e),r)}function rre(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,n]}}return[]}class ire extends Error{constructor(t,n,r){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=t,r!==void 0&&(this.data=r)}}class ore extends ire{constructor(t,n,r){if(!iyt(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,n,r)}}function iyt(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.standardErrors=e.standardErrorCodes=void 0;var t=ju;Object.defineProperty(e,"standardErrorCodes",{enumerable:!0,get:function(){return t.standardErrorCodes}});var n=OS;Object.defineProperty(e,"standardErrors",{enumerable:!0,get:function(){return n.standardErrors}})})($d);var NS={},yy={};Object.defineProperty(yy,"__esModule",{value:!0});yy.isErrorResponse=void 0;function oyt(e){return e.errorMessage!==void 0}yy.isErrorResponse=oyt;var um={};Object.defineProperty(um,"__esModule",{value:!0});um.LIB_VERSION=void 0;um.LIB_VERSION="4.0.4";Object.defineProperty(NS,"__esModule",{value:!0});NS.serializeError=void 0;const syt=yy,ayt=um,cyt=ju,lyt=aO;function dyt(e,t){const n=(0,lyt.serialize)(uyt(e),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");r.searchParams.set("version",ayt.LIB_VERSION),r.searchParams.set("code",n.code.toString());const i=fyt(n.data,t);return i&&r.searchParams.set("method",i),r.searchParams.set("message",n.message),Object.assign(Object.assign({},n),{docUrl:r.href})}NS.serializeError=dyt;function uyt(e){return typeof e=="string"?{message:e,code:cyt.standardErrorCodes.rpc.internal}:(0,syt.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}}):e}function fyt(e,t){const n=e==null?void 0:e.method;if(n)return n;if(t!==void 0){if(typeof t=="string")return t;if(Array.isArray(t)){if(t.length>0)return t[0].method}else return t.method}}var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.RegExpString=Ys.IntNumber=Ys.BigIntString=Ys.AddressString=Ys.HexString=Ys.OpaqueType=void 0;function lw(){return e=>e}Ys.OpaqueType=lw;Ys.HexString=lw();Ys.AddressString=lw();Ys.BigIntString=lw();function hyt(e){return Math.floor(e)}Ys.IntNumber=hyt;Ys.RegExpString=lw();var $n={};Object.defineProperty($n,"__esModule",{value:!0});$n.areAddressArraysEqual=$n.getFavicon=$n.range=$n.isBigNumber=$n.ensureParsedJSONObject=$n.ensureBigInt=$n.ensureRegExpString=$n.ensureIntNumber=$n.ensureBuffer=$n.ensureAddressString=$n.ensureEvenLengthHexString=$n.ensureHexString=$n.isHexString=$n.prepend0x=$n.strip0x=$n.has0xPrefix=$n.hexStringFromIntNumber=$n.intNumberFromHexString=$n.bigIntStringFromBigInt=$n.hexStringFromBuffer=$n.hexStringToUint8Array=$n.uint8ArrayToHex=$n.randomBytesHex=void 0;const fm=$d,Kc=Ys,sre=/^[0-9]*$/,are=/^[a-f0-9]*$/;function pyt(e){return cre(crypto.getRandomValues(new Uint8Array(e)))}$n.randomBytesHex=pyt;function cre(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}$n.uint8ArrayToHex=cre;function myt(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}$n.hexStringToUint8Array=myt;function gyt(e,t=!1){const n=e.toString("hex");return(0,Kc.HexString)(t?`0x${n}`:n)}$n.hexStringFromBuffer=gyt;function yyt(e){return(0,Kc.BigIntString)(e.toString(10))}$n.bigIntStringFromBigInt=yyt;function vyt(e){return(0,Kc.IntNumber)(Number(BigInt(uw(e,!0))))}$n.intNumberFromHexString=vyt;function byt(e){return(0,Kc.HexString)(`0x${BigInt(e).toString(16)}`)}$n.hexStringFromIntNumber=byt;function cO(e){return e.startsWith("0x")||e.startsWith("0X")}$n.has0xPrefix=cO;function jS(e){return cO(e)?e.slice(2):e}$n.strip0x=jS;function lre(e){return cO(e)?`0x${e.slice(2)}`:`0x${e}`}$n.prepend0x=lre;function dw(e){if(typeof e!="string")return!1;const t=jS(e).toLowerCase();return are.test(t)}$n.isHexString=dw;function dre(e,t=!1){if(typeof e=="string"){const n=jS(e).toLowerCase();if(are.test(n))return(0,Kc.HexString)(t?`0x${n}`:n)}throw fm.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}$n.ensureHexString=dre;function uw(e,t=!1){let n=dre(e,!1);return n.length%2===1&&(n=(0,Kc.HexString)(`0${n}`)),t?(0,Kc.HexString)(`0x${n}`):n}$n.ensureEvenLengthHexString=uw;function wyt(e){if(typeof e=="string"){const t=jS(e).toLowerCase();if(dw(t)&&t.length===40)return(0,Kc.AddressString)(lre(t))}throw fm.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}$n.ensureAddressString=wyt;function _yt(e){if(Buffer.isBuffer(e))return e;if(typeof e=="string"){if(dw(e)){const t=uw(e,!1);return Buffer.from(t,"hex")}return Buffer.from(e,"utf8")}throw fm.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)}$n.ensureBuffer=_yt;function ure(e){if(typeof e=="number"&&Number.isInteger(e))return(0,Kc.IntNumber)(e);if(typeof e=="string"){if(sre.test(e))return(0,Kc.IntNumber)(Number(e));if(dw(e))return(0,Kc.IntNumber)(Number(BigInt(uw(e,!0))))}throw fm.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}$n.ensureIntNumber=ure;function xyt(e){if(e instanceof RegExp)return(0,Kc.RegExpString)(e.toString());throw fm.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)}$n.ensureRegExpString=xyt;function kyt(e){if(e!==null&&(typeof e=="bigint"||fre(e)))return BigInt(e.toString(10));if(typeof e=="number")return BigInt(ure(e));if(typeof e=="string"){if(sre.test(e))return BigInt(e);if(dw(e))return BigInt(uw(e,!0))}throw fm.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}$n.ensureBigInt=kyt;function Syt(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw fm.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}$n.ensureParsedJSONObject=Syt;function fre(e){if(e==null||typeof e.constructor!="function")return!1;const{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}$n.isBigNumber=fre;function Eyt(e,t){return Array.from({length:t-e},(n,r)=>e+r)}$n.range=Eyt;function Cyt(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:n}=document.location,r=e?e.getAttribute("href"):null;return!r||r.startsWith("javascript:")||r.startsWith("vbscript:")?null:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?t+r:`${t}//${n}${r}`}$n.getFavicon=Cyt;function Iyt(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])}$n.areAddressArraysEqual=Iyt;var rd={},BS={},$S={},os={};Object.defineProperty(os,"__esModule",{value:!0});os.decryptContent=os.encryptContent=os.importKeyFromHexString=os.exportKeyToHexString=os.decrypt=os.encrypt=os.deriveSharedSecret=os.generateKeyPair=void 0;const hre=$n;async function Ayt(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}os.generateKeyPair=Ayt;async function Tyt(e,t){return crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}os.deriveSharedSecret=Tyt;async function pre(e,t){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},e,new TextEncoder().encode(t));return{iv:n,cipherText:r}}os.encrypt=pre;async function mre(e,{iv:t,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,n);return new TextDecoder().decode(r)}os.decrypt=mre;function gre(e){switch(e){case"public":return"spki";case"private":return"pkcs8"}}async function Ryt(e,t){const n=gre(e),r=await crypto.subtle.exportKey(n,t);return(0,hre.uint8ArrayToHex)(new Uint8Array(r))}os.exportKeyToHexString=Ryt;async function Pyt(e,t){const n=gre(e),r=(0,hre.hexStringToUint8Array)(t).buffer;return await crypto.subtle.importKey(n,r,{name:"ECDH",namedCurve:"P-256"},!0,e==="private"?["deriveKey"]:[])}os.importKeyFromHexString=Pyt;async function Oyt(e,t){const n=JSON.stringify(e,(r,i)=>{if(!(i instanceof Error))return i;const o=i;return Object.assign(Object.assign({},o.code?{code:o.code}:{}),{message:o.message})});return pre(t,n)}os.encryptContent=Oyt;async function Nyt(e,t){return JSON.parse(await mre(t,e))}os.decryptContent=Nyt;var Md={};Object.defineProperty(Md,"__esModule",{value:!0});Md.ScopedLocalStorage=void 0;class uk{constructor(t,n){this.scope=t,this.module=n}setItem(t,n){localStorage.setItem(this.scopedKey(t),n)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(t)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(t){return`-${this.scope}${this.module?`:${this.module}`:""}:${t}`}static clearAll(){new uk("CBWSDK").clear(),new uk("walletlink").clear()}}Md.ScopedLocalStorage=uk;Object.defineProperty($S,"__esModule",{value:!0});$S.SCWKeyManager=void 0;const gx=os,jyt=Md,tC={storageKey:"ownPrivateKey",keyType:"private"},nC={storageKey:"ownPublicKey",keyType:"public"},rC={storageKey:"peerPublicKey",keyType:"public"};class Byt{constructor(){this.storage=new jyt.ScopedLocalStorage("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(t){this.sharedSecret=null,this.peerPublicKey=t,await this.storeKey(rC,t),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(nC.storageKey),this.storage.removeItem(tC.storageKey),this.storage.removeItem(rC.storageKey)}async generateKeyPair(){const t=await(0,gx.generateKeyPair)();this.ownPrivateKey=t.privateKey,this.ownPublicKey=t.publicKey,await this.storeKey(tC,t.privateKey),await this.storeKey(nC,t.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(tC)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(nC)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(rC)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await(0,gx.deriveSharedSecret)(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(t){const n=this.storage.getItem(t.storageKey);return n?(0,gx.importKeyFromHexString)(t.keyType,n):null}async storeKey(t,n){const r=await(0,gx.exportKeyToHexString)(t.keyType,n);this.storage.setItem(t.storageKey,r)}}$S.SCWKeyManager=Byt;var MS={};Object.defineProperty(MS,"__esModule",{value:!0});MS.SCWStateManager=void 0;const $yt=Md,wW="accounts",_W="activeChain",xW="availableChains",kW="walletCapabilities";class Myt{get accounts(){return this._accounts}get activeChain(){return this._activeChain}get walletCapabilities(){return this._walletCapabilities}constructor(t){var n,r;this.storage=new $yt.ScopedLocalStorage("CBWSDK","SCWStateManager"),this.updateListener=t.updateListener,this.availableChains=this.loadItemFromStorage(xW),this._walletCapabilities=this.loadItemFromStorage(kW);const i=this.loadItemFromStorage(wW),o=this.loadItemFromStorage(_W);i&&this.updateListener.onAccountsUpdate({accounts:i,source:"storage"}),o&&this.updateListener.onChainUpdate({chain:o,source:"storage"}),this._accounts=i||[],this._activeChain=o||{id:(r=(n=t.appChainIds)===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:1}}updateAccounts(t){this._accounts=t,this.storeItemToStorage(wW,t),this.updateListener.onAccountsUpdate({accounts:t,source:"wallet"})}switchChain(t){var n;const r=(n=this.availableChains)===null||n===void 0?void 0:n.find(i=>i.id===t);return r?(r===this._activeChain||(this._activeChain=r,this.storeItemToStorage(_W,r),this.updateListener.onChainUpdate({chain:r,source:"wallet"})),!0):!1}updateAvailableChains(t){if(!t||Object.keys(t).length===0)return;const n=Object.entries(t).map(([r,i])=>({id:Number(r),rpcUrl:i}));this.availableChains=n,this.storeItemToStorage(xW,n),this.switchChain(this._activeChain.id)}updateWalletCapabilities(t){this._walletCapabilities=t,this.storeItemToStorage(kW,t)}storeItemToStorage(t,n){this.storage.setItem(t,JSON.stringify(n))}loadItemFromStorage(t){const n=this.storage.getItem(t);return n?JSON.parse(n):void 0}clear(){this.storage.clear()}}MS.SCWStateManager=Myt;Object.defineProperty(BS,"__esModule",{value:!0});BS.SCWSigner=void 0;const Dyt=$S,Lyt=MS,yx=$d,SW=$n,vx=os;class Uyt{constructor(t){this.metadata=t.metadata,this.communicator=t.communicator,this.keyManager=new Dyt.SCWKeyManager,this.stateManager=new Lyt.SCWStateManager({appChainIds:this.metadata.appChainIds,updateListener:t.updateListener}),this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(){const t=await this.createRequestMessage({handshake:{method:"eth_requestAccounts",params:this.metadata}}),n=await this.communicator.postRequestAndWaitForResponse(t);if("failure"in n.content)throw n.content.failure;const r=await(0,vx.importKeyFromHexString)("public",n.sender);await this.keyManager.setPeerPublicKey(r);const i=await this.decryptResponseMessage(n);this.updateInternalState({method:"eth_requestAccounts"},i);const o=i.result;if("error"in o)throw o.error;return this.stateManager.accounts}async request(t){const n=this.tryLocalHandling(t);if(n!==void 0){if(n instanceof Error)throw n;return n}await this.communicator.waitForPopupLoaded();const r=await this.sendEncryptedRequest(t),i=await this.decryptResponseMessage(r);this.updateInternalState(t,i);const o=i.result;if("error"in o)throw o.error;return o.value}async disconnect(){this.stateManager.clear(),await this.keyManager.clear()}tryLocalHandling(t){var n;switch(t.method){case"wallet_switchEthereumChain":{const r=t.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw yx.standardErrors.rpc.invalidParams();const i=(0,SW.ensureIntNumber)(r[0].chainId);return this.stateManager.switchChain(i)?null:void 0}case"wallet_getCapabilities":{const r=this.stateManager.walletCapabilities;if(!r)throw yx.standardErrors.provider.unauthorized("No wallet capabilities found, please disconnect and reconnect");return r}default:return}}async sendEncryptedRequest(t){const n=await this.keyManager.getSharedSecret();if(!n)throw yx.standardErrors.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await(0,vx.encryptContent)({action:t,chainId:this.stateManager.activeChain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(t){const n=await(0,vx.exportKeyToHexString)("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:t,timestamp:new Date}}async decryptResponseMessage(t){const n=t.content;if("failure"in n)throw n.failure;const r=await this.keyManager.getSharedSecret();if(!r)throw yx.standardErrors.provider.unauthorized("Invalid session");return(0,vx.decryptContent)(n.encrypted,r)}updateInternalState(t,n){var r,i;const o=(r=n.data)===null||r===void 0?void 0:r.chains;o&&this.stateManager.updateAvailableChains(o);const s=(i=n.data)===null||i===void 0?void 0:i.capabilities;s&&this.stateManager.updateWalletCapabilities(s);const a=n.result;if(!("error"in a))switch(t.method){case"eth_requestAccounts":{const c=a.value;this.stateManager.updateAccounts(c);break}case"wallet_switchEthereumChain":{if(a.value!==null)return;const c=t.params,l=(0,SW.ensureIntNumber)(c[0].chainId);this.stateManager.switchChain(l);break}}}}BS.SCWSigner=Uyt;var DS={},R7={exports:{}},yre=ia.EventEmitter,iC,EW;function Fyt(){if(EW)return iC;EW=1;function e(g,y){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(g);y&&(w=w.filter(function(_){return Object.getOwnPropertyDescriptor(g,_).enumerable})),v.push.apply(v,w)}return v}function t(g){for(var y=1;y<arguments.length;y++){var v=arguments[y]!=null?arguments[y]:{};y%2?e(Object(v),!0).forEach(function(w){n(g,w,v[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(w){Object.defineProperty(g,w,Object.getOwnPropertyDescriptor(v,w))})}return g}function n(g,y,v){return y=s(y),y in g?Object.defineProperty(g,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[y]=v,g}function r(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function i(g,y){for(var v=0;v<y.length;v++){var w=y[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,s(w.key),w)}}function o(g,y,v){return y&&i(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),g}function s(g){var y=a(g,"string");return typeof y=="symbol"?y:String(y)}function a(g,y){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var w=v.call(g,y||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(g)}var c=Se,l=c.Buffer,d=vk,f=d.inspect,p=f&&f.custom||"inspect";function m(g,y,v){l.prototype.copy.call(g,y,v)}return iC=function(){function g(){r(this,g),this.head=null,this.tail=null,this.length=0}return o(g,[{key:"push",value:function(v){var w={data:v,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(v){var w={data:v,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var w=this.head,_=""+w.data;w=w.next;)_+=v+w.data;return _}},{key:"concat",value:function(v){if(this.length===0)return l.alloc(0);for(var w=l.allocUnsafe(v>>>0),_=this.head,E=0;_;)m(_.data,w,E),E+=_.data.length,_=_.next;return w}},{key:"consume",value:function(v,w){var _;return v<this.head.data.length?(_=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?_=this.shift():_=w?this._getString(v):this._getBuffer(v),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var w=this.head,_=1,E=w.data;for(v-=E.length;w=w.next;){var C=w.data,T=v>C.length?C.length:v;if(T===C.length?E+=C:E+=C.slice(0,v),v-=T,v===0){T===C.length?(++_,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=C.slice(T));break}++_}return this.length-=_,E}},{key:"_getBuffer",value:function(v){var w=l.allocUnsafe(v),_=this.head,E=1;for(_.data.copy(w),v-=_.data.length;_=_.next;){var C=_.data,T=v>C.length?C.length:v;if(C.copy(w,w.length-v,0,T),v-=T,v===0){T===C.length?(++E,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=C.slice(T));break}++E}return this.length-=E,w}},{key:p,value:function(v,w){return f(this,t(t({},w),{},{depth:0,customInspect:!1}))}}]),g}(),iC}function Wyt(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(P7,this,e)):process.nextTick(P7,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?n._writableState?n._writableState.errorEmitted?process.nextTick(Jx,n):(n._writableState.errorEmitted=!0,process.nextTick(CW,n,o)):process.nextTick(CW,n,o):t?(process.nextTick(Jx,n),t(o)):process.nextTick(Jx,n)}),this)}function CW(e,t){P7(e,t),Jx(e)}function Jx(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function zyt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function P7(e,t){e.emit("error",t)}function qyt(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}var vre={destroy:Wyt,undestroy:zyt,errorOrDestroy:qyt},hm={};function Vyt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var bre={};function el(e,t,n){n||(n=Error);function r(o,s,a){return typeof t=="string"?t:t(o,s,a)}var i=function(o){Vyt(s,o);function s(a,c,l){return o.call(this,r(a,c,l))||this}return s}(n);i.prototype.name=n.name,i.prototype.code=e,bre[e]=i}function IW(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(r){return String(r)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:n===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function Hyt(e,t,n){return e.substr(0,t.length)===t}function Kyt(e,t,n){return(n===void 0||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function Gyt(e,t,n){return typeof n!="number"&&(n=0),n+t.length>e.length?!1:e.indexOf(t,n)!==-1}el("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);el("ERR_INVALID_ARG_TYPE",function(e,t,n){var r;typeof t=="string"&&Hyt(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be";var i;if(Kyt(e," argument"))i="The ".concat(e," ").concat(r," ").concat(IW(t,"type"));else{var o=Gyt(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(r," ").concat(IW(t,"type"))}return i+=". Received type ".concat(typeof n),i},TypeError);el("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");el("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});el("ERR_STREAM_PREMATURE_CLOSE","Premature close");el("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});el("ERR_MULTIPLE_CALLBACK","Callback called multiple times");el("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");el("ERR_STREAM_WRITE_AFTER_END","write after end");el("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);el("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);el("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");hm.codes=bre;var Zyt=hm.codes.ERR_INVALID_OPT_VALUE;function Jyt(e,t,n){return e.highWaterMark!=null?e.highWaterMark:t?e[n]:null}function Yyt(e,t,n,r){var i=Jyt(t,r,n);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=r?n:"highWaterMark";throw new Zyt(o,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var wre={getHighWaterMark:Yyt},O7={exports:{}};typeof Object.create=="function"?O7.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:O7.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var Wl=O7.exports,Xyt=Qyt;function Qyt(e,t){if(oC("noDeprecation"))return e;var n=!1;function r(){if(!n){if(oC("throwDeprecation"))throw new Error(t);oC("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return r}function oC(e){try{if(!cr.localStorage)return!1}catch{return!1}var t=cr.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var sC,AW;function _re(){if(AW)return sC;AW=1,sC=O;function e(te){var ce=this;this.next=null,this.entry=null,this.finish=function(){de(ce,te)}}var t;O.WritableState=A;var n={deprecate:Xyt},r=yre,i=Se.Buffer,o=(typeof cr<"u"?cr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(te){return i.from(te)}function a(te){return i.isBuffer(te)||te instanceof o}var c=vre,l=wre,d=l.getHighWaterMark,f=hm.codes,p=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,y=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,w=f.ERR_STREAM_NULL_VALUES,_=f.ERR_STREAM_WRITE_AFTER_END,E=f.ERR_UNKNOWN_ENCODING,C=c.errorOrDestroy;Wl(O,r);function T(){}function A(te,ce,ge){t=t||S0(),te=te||{},typeof ge!="boolean"&&(ge=ce instanceof t),this.objectMode=!!te.objectMode,ge&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=d(this,te,"writableHighWaterMark",ge),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ce=te.decodeStrings===!1;this.decodeStrings=!Ce,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(qe){P(ce,qe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}A.prototype.getBuffer=function(){for(var ce=this.bufferedRequest,ge=[];ce;)ge.push(ce),ce=ce.next;return ge},function(){try{Object.defineProperty(A.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var S;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(ce){return S.call(this,ce)?!0:this!==O?!1:ce&&ce._writableState instanceof A}})):S=function(ce){return ce instanceof this};function O(te){t=t||S0();var ce=this instanceof t;if(!ce&&!S.call(O,this))return new O(te);this._writableState=new A(te,this,ce),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),r.call(this)}O.prototype.pipe=function(){C(this,new y)};function D(te,ce){var ge=new _;C(te,ge),process.nextTick(ce,ge)}function K(te,ce,ge,Ce){var qe;return ge===null?qe=new w:typeof ge!="string"&&!ce.objectMode&&(qe=new p("chunk",["string","Buffer"],ge)),qe?(C(te,qe),process.nextTick(Ce,qe),!1):!0}O.prototype.write=function(te,ce,ge){var Ce=this._writableState,qe=!1,J=!Ce.objectMode&&a(te);return J&&!i.isBuffer(te)&&(te=s(te)),typeof ce=="function"&&(ge=ce,ce=null),J?ce="buffer":ce||(ce=Ce.defaultEncoding),typeof ge!="function"&&(ge=T),Ce.ending?D(this,ge):(J||K(this,Ce,te,ge))&&(Ce.pendingcb++,qe=X(this,Ce,J,te,ce,ge)),qe},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&L(this,te))},O.prototype.setDefaultEncoding=function(ce){if(typeof ce=="string"&&(ce=ce.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ce+"").toLowerCase())>-1))throw new E(ce);return this._writableState.defaultEncoding=ce,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function H(te,ce,ge){return!te.objectMode&&te.decodeStrings!==!1&&typeof ce=="string"&&(ce=i.from(ce,ge)),ce}Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function X(te,ce,ge,Ce,qe,J){if(!ge){var G=H(ce,Ce,qe);Ce!==G&&(ge=!0,qe="buffer",Ce=G)}var we=ce.objectMode?1:Ce.length;ce.length+=we;var $e=ce.length<ce.highWaterMark;if($e||(ce.needDrain=!0),ce.writing||ce.corked){var yt=ce.lastBufferedRequest;ce.lastBufferedRequest={chunk:Ce,encoding:qe,isBuf:ge,callback:J,next:null},yt?yt.next=ce.lastBufferedRequest:ce.bufferedRequest=ce.lastBufferedRequest,ce.bufferedRequestCount+=1}else U(te,ce,!1,we,Ce,qe,J);return $e}function U(te,ce,ge,Ce,qe,J,G){ce.writelen=Ce,ce.writecb=G,ce.writing=!0,ce.sync=!0,ce.destroyed?ce.onwrite(new v("write")):ge?te._writev(qe,ce.onwrite):te._write(qe,J,ce.onwrite),ce.sync=!1}function I(te,ce,ge,Ce,qe){--ce.pendingcb,ge?(process.nextTick(qe,Ce),process.nextTick(W,te,ce),te._writableState.errorEmitted=!0,C(te,Ce)):(qe(Ce),te._writableState.errorEmitted=!0,C(te,Ce),W(te,ce))}function x(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function P(te,ce){var ge=te._writableState,Ce=ge.sync,qe=ge.writecb;if(typeof qe!="function")throw new g;if(x(ge),ce)I(te,ge,Ce,ce,qe);else{var J=z(ge)||te.destroyed;!J&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&L(te,ge),Ce?process.nextTick(N,te,ge,J,qe):N(te,ge,J,qe)}}function N(te,ce,ge,Ce){ge||$(te,ce),ce.pendingcb--,Ce(),W(te,ce)}function $(te,ce){ce.length===0&&ce.needDrain&&(ce.needDrain=!1,te.emit("drain"))}function L(te,ce){ce.bufferProcessing=!0;var ge=ce.bufferedRequest;if(te._writev&&ge&&ge.next){var Ce=ce.bufferedRequestCount,qe=new Array(Ce),J=ce.corkedRequestsFree;J.entry=ge;for(var G=0,we=!0;ge;)qe[G]=ge,ge.isBuf||(we=!1),ge=ge.next,G+=1;qe.allBuffers=we,U(te,ce,!0,ce.length,qe,"",J.finish),ce.pendingcb++,ce.lastBufferedRequest=null,J.next?(ce.corkedRequestsFree=J.next,J.next=null):ce.corkedRequestsFree=new e(ce),ce.bufferedRequestCount=0}else{for(;ge;){var $e=ge.chunk,yt=ge.encoding,Gt=ge.callback,_t=ce.objectMode?1:$e.length;if(U(te,ce,!1,_t,$e,yt,Gt),ge=ge.next,ce.bufferedRequestCount--,ce.writing)break}ge===null&&(ce.lastBufferedRequest=null)}ce.bufferedRequest=ge,ce.bufferProcessing=!1}O.prototype._write=function(te,ce,ge){ge(new m("_write()"))},O.prototype._writev=null,O.prototype.end=function(te,ce,ge){var Ce=this._writableState;return typeof te=="function"?(ge=te,te=null,ce=null):typeof ce=="function"&&(ge=ce,ce=null),te!=null&&this.write(te,ce),Ce.corked&&(Ce.corked=1,this.uncork()),Ce.ending||re(this,Ce,ge),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function z(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function q(te,ce){te._final(function(ge){ce.pendingcb--,ge&&C(te,ge),ce.prefinished=!0,te.emit("prefinish"),W(te,ce)})}function j(te,ce){!ce.prefinished&&!ce.finalCalled&&(typeof te._final=="function"&&!ce.destroyed?(ce.pendingcb++,ce.finalCalled=!0,process.nextTick(q,te,ce)):(ce.prefinished=!0,te.emit("prefinish")))}function W(te,ce){var ge=z(ce);if(ge&&(j(te,ce),ce.pendingcb===0&&(ce.finished=!0,te.emit("finish"),ce.autoDestroy))){var Ce=te._readableState;(!Ce||Ce.autoDestroy&&Ce.endEmitted)&&te.destroy()}return ge}function re(te,ce,ge){ce.ending=!0,W(te,ce),ge&&(ce.finished?process.nextTick(ge):te.once("finish",ge)),ce.ended=!0,te.writable=!1}function de(te,ce,ge){var Ce=te.entry;for(te.entry=null;Ce;){var qe=Ce.callback;ce.pendingcb--,qe(ge),Ce=Ce.next}ce.corkedRequestsFree.next=te}return Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ce){this._writableState&&(this._writableState.destroyed=ce)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(te,ce){ce(te)},sC}var aC,TW;function S0(){if(TW)return aC;TW=1;var e=Object.keys||function(l){var d=[];for(var f in l)d.push(f);return d};aC=s;var t=kre(),n=_re();Wl(s,t);for(var r=e(n.prototype),i=0;i<r.length;i++){var o=r[i];s.prototype[o]||(s.prototype[o]=n.prototype[o])}function s(l){if(!(this instanceof s))return new s(l);t.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),aC}var cC={},RW;function PW(){if(RW)return cC;RW=1;var e=Da.Buffer,t=e.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(w){if(!w)return"utf8";for(var _;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(_)return;w=(""+w).toLowerCase(),_=!0}}function r(w){var _=n(w);if(typeof _!="string"&&(e.isEncoding===t||!t(w)))throw new Error("Unknown encoding: "+w);return _||w}cC.StringDecoder=i;function i(w){this.encoding=r(w);var _;switch(this.encoding){case"utf16le":this.text=f,this.end=p,_=4;break;case"utf8":this.fillLast=c,_=4;break;case"base64":this.text=m,this.end=g,_=3;break;default:this.write=y,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(_)}i.prototype.write=function(w){if(w.length===0)return"";var _,E;if(this.lastNeed){if(_=this.fillLast(w),_===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<w.length?_?_+this.text(w,E):this.text(w,E):_||""},i.prototype.end=d,i.prototype.text=l,i.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function o(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function s(w,_,E){var C=_.length-1;if(C<E)return 0;var T=o(_[C]);return T>=0?(T>0&&(w.lastNeed=T-1),T):--C<E||T===-2?0:(T=o(_[C]),T>=0?(T>0&&(w.lastNeed=T-2),T):--C<E||T===-2?0:(T=o(_[C]),T>=0?(T>0&&(T===2?T=0:w.lastNeed=T-3),T):0))}function a(w,_,E){if((_[0]&192)!==128)return w.lastNeed=0,"�";if(w.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return w.lastNeed=1,"�";if(w.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return w.lastNeed=2,"�"}}function c(w){var _=this.lastTotal-this.lastNeed,E=a(this,w);if(E!==void 0)return E;if(this.lastNeed<=w.length)return w.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,_,0,w.length),this.lastNeed-=w.length}function l(w,_){var E=s(this,w,_);if(!this.lastNeed)return w.toString("utf8",_);this.lastTotal=E;var C=w.length-(E-this.lastNeed);return w.copy(this.lastChar,0,C),w.toString("utf8",_,C)}function d(w){var _=w&&w.length?this.write(w):"";return this.lastNeed?_+"�":_}function f(w,_){if((w.length-_)%2===0){var E=w.toString("utf16le",_);if(E){var C=E.charCodeAt(E.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",_,w.length-1)}function p(w){var _=w&&w.length?this.write(w):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,E)}return _}function m(w,_){var E=(w.length-_)%3;return E===0?w.toString("base64",_):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",_,w.length-E))}function g(w){var _=w&&w.length?this.write(w):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function y(w){return w.toString(this.encoding)}function v(w){return w&&w.length?this.write(w):""}return cC}var OW=hm.codes.ERR_STREAM_PREMATURE_CLOSE;function evt(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}function tvt(){}function nvt(e){return e.setHeader&&typeof e.abort=="function"}function xre(e,t,n){if(typeof t=="function")return xre(e,null,t);t||(t={}),n=evt(n||tvt);var r=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,o=function(){e.writable||a()},s=e._writableState&&e._writableState.finished,a=function(){i=!1,s=!0,r||n.call(e)},c=e._readableState&&e._readableState.endEmitted,l=function(){r=!1,c=!0,i||n.call(e)},d=function(g){n.call(e,g)},f=function(){var g;if(r&&!c)return(!e._readableState||!e._readableState.ended)&&(g=new OW),n.call(e,g);if(i&&!s)return(!e._writableState||!e._writableState.ended)&&(g=new OW),n.call(e,g)},p=function(){e.req.on("finish",a)};return nvt(e)?(e.on("complete",a),e.on("abort",f),e.req?p():e.on("request",p)):i&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",l),e.on("finish",a),t.error!==!1&&e.on("error",d),e.on("close",f),function(){e.removeListener("complete",a),e.removeListener("abort",f),e.removeListener("request",p),e.req&&e.req.removeListener("finish",a),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",a),e.removeListener("end",l),e.removeListener("error",d),e.removeListener("close",f)}}var lO=xre,lC,NW;function rvt(){if(NW)return lC;NW=1;var e;function t(E,C,T){return C=n(C),C in E?Object.defineProperty(E,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[C]=T,E}function n(E){var C=r(E,"string");return typeof C=="symbol"?C:String(C)}function r(E,C){if(typeof E!="object"||E===null)return E;var T=E[Symbol.toPrimitive];if(T!==void 0){var A=T.call(E,C||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(E)}var i=lO,o=Symbol("lastResolve"),s=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function p(E,C){return{value:E,done:C}}function m(E){var C=E[o];if(C!==null){var T=E[f].read();T!==null&&(E[l]=null,E[o]=null,E[s]=null,C(p(T,!1)))}}function g(E){process.nextTick(m,E)}function y(E,C){return function(T,A){E.then(function(){if(C[c]){T(p(void 0,!0));return}C[d](T,A)},A)}}var v=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((e={get stream(){return this[f]},next:function(){var C=this,T=this[a];if(T!==null)return Promise.reject(T);if(this[c])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise(function(D,K){process.nextTick(function(){C[a]?K(C[a]):D(p(void 0,!0))})});var A=this[l],S;if(A)S=new Promise(y(A,this));else{var O=this[f].read();if(O!==null)return Promise.resolve(p(O,!1));S=new Promise(this[d])}return this[l]=S,S}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var C=this;return new Promise(function(T,A){C[f].destroy(null,function(S){if(S){A(S);return}T(p(void 0,!0))})})}),e),v),_=function(C){var T,A=Object.create(w,(T={},t(T,f,{value:C,writable:!0}),t(T,o,{value:null,writable:!0}),t(T,s,{value:null,writable:!0}),t(T,a,{value:null,writable:!0}),t(T,c,{value:C._readableState.endEmitted,writable:!0}),t(T,d,{value:function(O,D){var K=A[f].read();K?(A[l]=null,A[o]=null,A[s]=null,O(p(K,!1))):(A[o]=O,A[s]=D)},writable:!0}),T));return A[l]=null,i(C,function(S){if(S&&S.code!=="ERR_STREAM_PREMATURE_CLOSE"){var O=A[s];O!==null&&(A[l]=null,A[o]=null,A[s]=null,O(S)),A[a]=S;return}var D=A[o];D!==null&&(A[l]=null,A[o]=null,A[s]=null,D(p(void 0,!0))),A[c]=!0}),C.on("readable",g.bind(null,A)),A};return lC=_,lC}var dC,jW;function ivt(){return jW||(jW=1,dC=function(){throw new Error("Readable.from is not available in the browser")}),dC}var uC,BW;function kre(){if(BW)return uC;BW=1,uC=D;var e;D.ReadableState=O,ia.EventEmitter;var t=function(G,we){return G.listeners(we).length},n=yre,r=Se.Buffer,i=(typeof cr<"u"?cr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(J){return r.from(J)}function s(J){return r.isBuffer(J)||J instanceof i}var a=vk,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var l=Fyt(),d=vre,f=wre,p=f.getHighWaterMark,m=hm.codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,v=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_,E,C;Wl(D,n);var T=d.errorOrDestroy,A=["error","close","destroy","pause","resume"];function S(J,G,we){if(typeof J.prependListener=="function")return J.prependListener(G,we);!J._events||!J._events[G]?J.on(G,we):Array.isArray(J._events[G])?J._events[G].unshift(we):J._events[G]=[we,J._events[G]]}function O(J,G,we){e=e||S0(),J=J||{},typeof we!="boolean"&&(we=G instanceof e),this.objectMode=!!J.objectMode,we&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=p(this,J,"readableHighWaterMark",we),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(_||(_=PW().StringDecoder),this.decoder=new _(J.encoding),this.encoding=J.encoding)}function D(J){if(e=e||S0(),!(this instanceof D))return new D(J);var G=this instanceof e;this._readableState=new O(J,this,G),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),n.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){this._readableState&&(this._readableState.destroyed=G)}}),D.prototype.destroy=d.destroy,D.prototype._undestroy=d.undestroy,D.prototype._destroy=function(J,G){G(J)},D.prototype.push=function(J,G){var we=this._readableState,$e;return we.objectMode?$e=!0:typeof J=="string"&&(G=G||we.defaultEncoding,G!==we.encoding&&(J=r.from(J,G),G=""),$e=!0),K(this,J,G,!1,$e)},D.prototype.unshift=function(J){return K(this,J,null,!0,!1)};function K(J,G,we,$e,yt){c("readableAddChunk",G);var Gt=J._readableState;if(G===null)Gt.reading=!1,P(J,Gt);else{var _t;if(yt||(_t=X(Gt,G)),_t)T(J,_t);else if(Gt.objectMode||G&&G.length>0)if(typeof G!="string"&&!Gt.objectMode&&Object.getPrototypeOf(G)!==r.prototype&&(G=o(G)),$e)Gt.endEmitted?T(J,new w):H(J,Gt,G,!0);else if(Gt.ended)T(J,new y);else{if(Gt.destroyed)return!1;Gt.reading=!1,Gt.decoder&&!we?(G=Gt.decoder.write(G),Gt.objectMode||G.length!==0?H(J,Gt,G,!1):L(J,Gt)):H(J,Gt,G,!1)}else $e||(Gt.reading=!1,L(J,Gt))}return!Gt.ended&&(Gt.length<Gt.highWaterMark||Gt.length===0)}function H(J,G,we,$e){G.flowing&&G.length===0&&!G.sync?(G.awaitDrain=0,J.emit("data",we)):(G.length+=G.objectMode?1:we.length,$e?G.buffer.unshift(we):G.buffer.push(we),G.needReadable&&N(J)),L(J,G)}function X(J,G){var we;return!s(G)&&typeof G!="string"&&G!==void 0&&!J.objectMode&&(we=new g("chunk",["string","Buffer","Uint8Array"],G)),we}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(J){_||(_=PW().StringDecoder);var G=new _(J);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var we=this._readableState.buffer.head,$e="";we!==null;)$e+=G.write(we.data),we=we.next;return this._readableState.buffer.clear(),$e!==""&&this._readableState.buffer.push($e),this._readableState.length=$e.length,this};var U=1073741824;function I(J){return J>=U?J=U:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}function x(J,G){return J<=0||G.length===0&&G.ended?0:G.objectMode?1:J!==J?G.flowing&&G.length?G.buffer.head.data.length:G.length:(J>G.highWaterMark&&(G.highWaterMark=I(J)),J<=G.length?J:G.ended?G.length:(G.needReadable=!0,0))}D.prototype.read=function(J){c("read",J),J=parseInt(J,10);var G=this._readableState,we=J;if(J!==0&&(G.emittedReadable=!1),J===0&&G.needReadable&&((G.highWaterMark!==0?G.length>=G.highWaterMark:G.length>0)||G.ended))return c("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?ge(this):N(this),null;if(J=x(J,G),J===0&&G.ended)return G.length===0&&ge(this),null;var $e=G.needReadable;c("need readable",$e),(G.length===0||G.length-J<G.highWaterMark)&&($e=!0,c("length less than watermark",$e)),G.ended||G.reading?($e=!1,c("reading or ended",$e)):$e&&(c("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(J=x(we,G)));var yt;return J>0?yt=ce(J,G):yt=null,yt===null?(G.needReadable=G.length<=G.highWaterMark,J=0):(G.length-=J,G.awaitDrain=0),G.length===0&&(G.ended||(G.needReadable=!0),we!==J&&G.ended&&ge(this)),yt!==null&&this.emit("data",yt),yt};function P(J,G){if(c("onEofChunk"),!G.ended){if(G.decoder){var we=G.decoder.end();we&&we.length&&(G.buffer.push(we),G.length+=G.objectMode?1:we.length)}G.ended=!0,G.sync?N(J):(G.needReadable=!1,G.emittedReadable||(G.emittedReadable=!0,$(J)))}}function N(J){var G=J._readableState;c("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(c("emitReadable",G.flowing),G.emittedReadable=!0,process.nextTick($,J))}function $(J){var G=J._readableState;c("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&(G.length||G.ended)&&(J.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,te(J)}function L(J,G){G.readingMore||(G.readingMore=!0,process.nextTick(z,J,G))}function z(J,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){var we=G.length;if(c("maybeReadMore read 0"),J.read(0),we===G.length)break}G.readingMore=!1}D.prototype._read=function(J){T(this,new v("_read()"))},D.prototype.pipe=function(J,G){var we=this,$e=this._readableState;switch($e.pipesCount){case 0:$e.pipes=J;break;case 1:$e.pipes=[$e.pipes,J];break;default:$e.pipes.push(J);break}$e.pipesCount+=1,c("pipe count=%d opts=%j",$e.pipesCount,G);var yt=(!G||G.end!==!1)&&J!==process.stdout&&J!==process.stderr,Gt=yt?Rn:kt;$e.endEmitted?process.nextTick(Gt):we.once("end",Gt),J.on("unpipe",_t);function _t(St,Dn){c("onunpipe"),St===we&&Dn&&Dn.hasUnpiped===!1&&(Dn.hasUnpiped=!0,Ue())}function Rn(){c("onend"),J.end()}var mr=q(we);J.on("drain",mr);var ve=!1;function Ue(){c("cleanup"),J.removeListener("close",it),J.removeListener("finish",It),J.removeListener("drain",mr),J.removeListener("error",Ze),J.removeListener("unpipe",_t),we.removeListener("end",Rn),we.removeListener("end",kt),we.removeListener("data",Qe),ve=!0,$e.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&mr()}we.on("data",Qe);function Qe(St){c("ondata");var Dn=J.write(St);c("dest.write",Dn),Dn===!1&&(($e.pipesCount===1&&$e.pipes===J||$e.pipesCount>1&&qe($e.pipes,J)!==-1)&&!ve&&(c("false write response, pause",$e.awaitDrain),$e.awaitDrain++),we.pause())}function Ze(St){c("onerror",St),kt(),J.removeListener("error",Ze),t(J,"error")===0&&T(J,St)}S(J,"error",Ze);function it(){J.removeListener("finish",It),kt()}J.once("close",it);function It(){c("onfinish"),J.removeListener("close",it),kt()}J.once("finish",It);function kt(){c("unpipe"),we.unpipe(J)}return J.emit("pipe",we),$e.flowing||(c("pipe resume"),we.resume()),J};function q(J){return function(){var we=J._readableState;c("pipeOnDrain",we.awaitDrain),we.awaitDrain&&we.awaitDrain--,we.awaitDrain===0&&t(J,"data")&&(we.flowing=!0,te(J))}}D.prototype.unpipe=function(J){var G=this._readableState,we={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return J&&J!==G.pipes?this:(J||(J=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,J&&J.emit("unpipe",this,we),this);if(!J){var $e=G.pipes,yt=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var Gt=0;Gt<yt;Gt++)$e[Gt].emit("unpipe",this,{hasUnpiped:!1});return this}var _t=qe(G.pipes,J);return _t===-1?this:(G.pipes.splice(_t,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),J.emit("unpipe",this,we),this)},D.prototype.on=function(J,G){var we=n.prototype.on.call(this,J,G),$e=this._readableState;return J==="data"?($e.readableListening=this.listenerCount("readable")>0,$e.flowing!==!1&&this.resume()):J==="readable"&&!$e.endEmitted&&!$e.readableListening&&($e.readableListening=$e.needReadable=!0,$e.flowing=!1,$e.emittedReadable=!1,c("on readable",$e.length,$e.reading),$e.length?N(this):$e.reading||process.nextTick(W,this)),we},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(J,G){var we=n.prototype.removeListener.call(this,J,G);return J==="readable"&&process.nextTick(j,this),we},D.prototype.removeAllListeners=function(J){var G=n.prototype.removeAllListeners.apply(this,arguments);return(J==="readable"||J===void 0)&&process.nextTick(j,this),G};function j(J){var G=J._readableState;G.readableListening=J.listenerCount("readable")>0,G.resumeScheduled&&!G.paused?G.flowing=!0:J.listenerCount("data")>0&&J.resume()}function W(J){c("readable nexttick read 0"),J.read(0)}D.prototype.resume=function(){var J=this._readableState;return J.flowing||(c("resume"),J.flowing=!J.readableListening,re(this,J)),J.paused=!1,this};function re(J,G){G.resumeScheduled||(G.resumeScheduled=!0,process.nextTick(de,J,G))}function de(J,G){c("resume",G.reading),G.reading||J.read(0),G.resumeScheduled=!1,J.emit("resume"),te(J),G.flowing&&!G.reading&&J.read(0)}D.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function te(J){var G=J._readableState;for(c("flow",G.flowing);G.flowing&&J.read()!==null;);}D.prototype.wrap=function(J){var G=this,we=this._readableState,$e=!1;J.on("end",function(){if(c("wrapped end"),we.decoder&&!we.ended){var _t=we.decoder.end();_t&&_t.length&&G.push(_t)}G.push(null)}),J.on("data",function(_t){if(c("wrapped data"),we.decoder&&(_t=we.decoder.write(_t)),!(we.objectMode&&_t==null)&&!(!we.objectMode&&(!_t||!_t.length))){var Rn=G.push(_t);Rn||($e=!0,J.pause())}});for(var yt in J)this[yt]===void 0&&typeof J[yt]=="function"&&(this[yt]=function(Rn){return function(){return J[Rn].apply(J,arguments)}}(yt));for(var Gt=0;Gt<A.length;Gt++)J.on(A[Gt],this.emit.bind(this,A[Gt]));return this._read=function(_t){c("wrapped _read",_t),$e&&($e=!1,J.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=rvt()),E(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),D._fromList=ce,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ce(J,G){if(G.length===0)return null;var we;return G.objectMode?we=G.buffer.shift():!J||J>=G.length?(G.decoder?we=G.buffer.join(""):G.buffer.length===1?we=G.buffer.first():we=G.buffer.concat(G.length),G.buffer.clear()):we=G.buffer.consume(J,G.decoder),we}function ge(J){var G=J._readableState;c("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,process.nextTick(Ce,G,J))}function Ce(J,G){if(c("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,G.readable=!1,G.emit("end"),J.autoDestroy)){var we=G._writableState;(!we||we.autoDestroy&&we.finished)&&G.destroy()}}typeof Symbol=="function"&&(D.from=function(J,G){return C===void 0&&(C=ivt()),C(D,J,G)});function qe(J,G){for(var we=0,$e=J.length;we<$e;we++)if(J[we]===G)return we;return-1}return uC}var Sre=Bu,LS=hm.codes,ovt=LS.ERR_METHOD_NOT_IMPLEMENTED,svt=LS.ERR_MULTIPLE_CALLBACK,avt=LS.ERR_TRANSFORM_ALREADY_TRANSFORMING,cvt=LS.ERR_TRANSFORM_WITH_LENGTH_0,US=S0();Wl(Bu,US);function lvt(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new svt);n.writechunk=null,n.writecb=null,t!=null&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Bu(e){if(!(this instanceof Bu))return new Bu(e);US.call(this,e),this._transformState={afterTransform:lvt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",dvt)}function dvt(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,n){$W(e,t,n)}):$W(this,null,null)}Bu.prototype.push=function(e,t){return this._transformState.needTransform=!1,US.prototype.push.call(this,e,t)};Bu.prototype._transform=function(e,t,n){n(new ovt("_transform()"))};Bu.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Bu.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Bu.prototype._destroy=function(e,t){US.prototype._destroy.call(this,e,function(n){t(n)})};function $W(e,t,n){if(t)return e.emit("error",t);if(n!=null&&e.push(n),e._writableState.length)throw new cvt;if(e._transformState.transforming)throw new avt;return e.push(null)}var uvt=Jb,Ere=Sre;Wl(Jb,Ere);function Jb(e){if(!(this instanceof Jb))return new Jb(e);Ere.call(this,e)}Jb.prototype._transform=function(e,t,n){n(null,e)};var fC;function fvt(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var Cre=hm.codes,hvt=Cre.ERR_MISSING_ARGS,pvt=Cre.ERR_STREAM_DESTROYED;function MW(e){if(e)throw e}function mvt(e){return e.setHeader&&typeof e.abort=="function"}function gvt(e,t,n,r){r=fvt(r);var i=!1;e.on("close",function(){i=!0}),fC===void 0&&(fC=lO),fC(e,{readable:t,writable:n},function(s){if(s)return r(s);i=!0,r()});var o=!1;return function(s){if(!i&&!o){if(o=!0,mvt(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();r(s||new pvt("pipe"))}}}function DW(e){e()}function yvt(e,t){return e.pipe(t)}function vvt(e){return!e.length||typeof e[e.length-1]!="function"?MW:e.pop()}function bvt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=vvt(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new hvt("streams");var i,o=t.map(function(s,a){var c=a<t.length-1,l=a>0;return gvt(s,c,l,function(d){i||(i=d),d&&o.forEach(DW),!c&&(o.forEach(DW),r(i))})});return t.reduce(yvt)}var wvt=bvt;(function(e,t){t=e.exports=kre(),t.Stream=t,t.Readable=t,t.Writable=_re(),t.Duplex=S0(),t.Transform=Sre,t.PassThrough=uvt,t.finished=lO,t.pipeline=wvt})(R7,R7.exports);var Ire=R7.exports;const{Transform:_vt}=Ire;var xvt=e=>class Are extends _vt{constructor(n,r,i,o,s){super(s),this._rate=n,this._capacity=r,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new e,this._state.initialize(n,r),this._finalized=!1}_transform(n,r,i){let o=null;try{this.update(n,r)}catch(s){o=s}i(o)}_flush(n){let r=null;try{this.push(this.digest())}catch(i){r=i}n(r)}update(n,r){if(!Buffer.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(n)||(n=Buffer.from(n,r)),this._state.absorb(n),this}digest(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let r=this._state.squeeze(this._hashBitLength/8);return n!==void 0&&(r=r.toString(n)),this._resetState(),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const n=new Are(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n}};const{Transform:kvt}=Ire;var Svt=e=>class Tre extends kvt{constructor(n,r,i,o){super(o),this._rate=n,this._capacity=r,this._delimitedSuffix=i,this._options=o,this._state=new e,this._state.initialize(n,r),this._finalized=!1}_transform(n,r,i){let o=null;try{this.update(n,r)}catch(s){o=s}i(o)}_flush(){}_read(n){this.push(this.squeeze(n))}update(n,r){if(!Buffer.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(n)||(n=Buffer.from(n,r)),this._state.absorb(n),this}squeeze(n,r){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(n);return r!==void 0&&(i=i.toString(r)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const n=new Tre(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n}};const Evt=xvt,Cvt=Svt;var Ivt=function(e){const t=Evt(e),n=Cvt(e);return function(r,i){switch(typeof r=="string"?r.toLowerCase():r){case"keccak224":return new t(1152,448,null,224,i);case"keccak256":return new t(1088,512,null,256,i);case"keccak384":return new t(832,768,null,384,i);case"keccak512":return new t(576,1024,null,512,i);case"sha3-224":return new t(1152,448,6,224,i);case"sha3-256":return new t(1088,512,6,256,i);case"sha3-384":return new t(832,768,6,384,i);case"sha3-512":return new t(576,1024,6,512,i);case"shake128":return new n(1344,256,31,i);case"shake256":return new n(1088,512,31,i);default:throw new Error("Invald algorithm: "+r)}}},Rre={};const LW=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Rre.p1600=function(e){for(let t=0;t<24;++t){const n=e[0]^e[10]^e[20]^e[30]^e[40],r=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],s=e[4]^e[14]^e[24]^e[34]^e[44],a=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],d=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49];let p=d^(i<<1|o>>>31),m=f^(o<<1|i>>>31);const g=e[0]^p,y=e[1]^m,v=e[10]^p,w=e[11]^m,_=e[20]^p,E=e[21]^m,C=e[30]^p,T=e[31]^m,A=e[40]^p,S=e[41]^m;p=n^(s<<1|a>>>31),m=r^(a<<1|s>>>31);const O=e[2]^p,D=e[3]^m,K=e[12]^p,H=e[13]^m,X=e[22]^p,U=e[23]^m,I=e[32]^p,x=e[33]^m,P=e[42]^p,N=e[43]^m;p=i^(c<<1|l>>>31),m=o^(l<<1|c>>>31);const $=e[4]^p,L=e[5]^m,z=e[14]^p,q=e[15]^m,j=e[24]^p,W=e[25]^m,re=e[34]^p,de=e[35]^m,te=e[44]^p,ce=e[45]^m;p=s^(d<<1|f>>>31),m=a^(f<<1|d>>>31);const ge=e[6]^p,Ce=e[7]^m,qe=e[16]^p,J=e[17]^m,G=e[26]^p,we=e[27]^m,$e=e[36]^p,yt=e[37]^m,Gt=e[46]^p,_t=e[47]^m;p=c^(n<<1|r>>>31),m=l^(r<<1|n>>>31);const Rn=e[8]^p,mr=e[9]^m,ve=e[18]^p,Ue=e[19]^m,Qe=e[28]^p,Ze=e[29]^m,it=e[38]^p,It=e[39]^m,kt=e[48]^p,St=e[49]^m,Dn=g,fn=y,cn=w<<4|v>>>28,Cr=v<<4|w>>>28,Pn=_<<3|E>>>29,jn=E<<3|_>>>29,Dr=T<<9|C>>>23,yn=C<<9|T>>>23,Ir=A<<18|S>>>14,wo=S<<18|A>>>14,Lr=O<<1|D>>>31,ur=D<<1|O>>>31,as=H<<12|K>>>20,Qr=K<<12|H>>>20,ri=X<<10|U>>>22,Ms=U<<10|X>>>22,Xt=x<<13|I>>>19,fr=I<<13|x>>>19,Fi=P<<2|N>>>30,zr=N<<2|P>>>30,Ur=L<<30|$>>>2,Ds=$<<30|L>>>2,si=z<<6|q>>>26,or=q<<6|z>>>26,Oo=W<<11|j>>>21,F=j<<11|W>>>21,Z=re<<15|de>>>17,Y=de<<15|re>>>17,B=ce<<29|te>>>3,Q=te<<29|ce>>>3,_e=ge<<28|Ce>>>4,xe=Ce<<28|ge>>>4,Fe=J<<23|qe>>>9,at=qe<<23|J>>>9,ct=G<<25|we>>>7,ot=we<<25|G>>>7,Zn=$e<<21|yt>>>11,At=yt<<21|$e>>>11,pn=_t<<24|Gt>>>8,kn=Gt<<24|_t>>>8,mn=Rn<<27|mr>>>5,vn=mr<<27|Rn>>>5,bn=ve<<20|Ue>>>12,gn=Ue<<20|ve>>>12,wn=Ze<<7|Qe>>>25,Nt=Qe<<7|Ze>>>25,zt=it<<8|It>>>24,vt=It<<8|it>>>24,wt=kt<<14|St>>>18,gt=St<<14|kt>>>18;e[0]=Dn^~as&Oo,e[1]=fn^~Qr&F,e[10]=_e^~bn&Pn,e[11]=xe^~gn&jn,e[20]=Lr^~si&ct,e[21]=ur^~or&ot,e[30]=mn^~cn&ri,e[31]=vn^~Cr&Ms,e[40]=Ur^~Fe&wn,e[41]=Ds^~at&Nt,e[2]=as^~Oo&Zn,e[3]=Qr^~F&At,e[12]=bn^~Pn&Xt,e[13]=gn^~jn&fr,e[22]=si^~ct&zt,e[23]=or^~ot&vt,e[32]=cn^~ri&Z,e[33]=Cr^~Ms&Y,e[42]=Fe^~wn&Dr,e[43]=at^~Nt&yn,e[4]=Oo^~Zn&wt,e[5]=F^~At&gt,e[14]=Pn^~Xt&B,e[15]=jn^~fr&Q,e[24]=ct^~zt&Ir,e[25]=ot^~vt&wo,e[34]=ri^~Z&pn,e[35]=Ms^~Y&kn,e[44]=wn^~Dr&Fi,e[45]=Nt^~yn&zr,e[6]=Zn^~wt&Dn,e[7]=At^~gt&fn,e[16]=Xt^~B&_e,e[17]=fr^~Q&xe,e[26]=zt^~Ir&Lr,e[27]=vt^~wo&ur,e[36]=Z^~pn&mn,e[37]=Y^~kn&vn,e[46]=Dr^~Fi&Ur,e[47]=yn^~zr&Ds,e[8]=wt^~Dn&as,e[9]=gt^~fn&Qr,e[18]=B^~_e&bn,e[19]=Q^~xe&gn,e[28]=Ir^~Lr&si,e[29]=wo^~ur&or,e[38]=pn^~mn&cn,e[39]=kn^~vn&Cr,e[48]=Fi^~Ur&Fe,e[49]=zr^~Ds&at,e[0]^=LW[t*2],e[1]^=LW[t*2+1]}};const fk=Rre;function vy(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}vy.prototype.initialize=function(e,t){for(let n=0;n<50;++n)this.state[n]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};vy.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(fk.p1600(this.state),this.count=0)};vy.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&fk.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),fk.p1600(this.state),this.count=0,this.squeezing=!0};vy.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=Buffer.alloc(e);for(let n=0;n<e;++n)t[n]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(fk.p1600(this.state),this.count=0);return t};vy.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var Avt=vy,Tvt=Ivt(Avt);const Rvt=Tvt;function Pre(e){return Buffer.allocUnsafe(e).fill(0)}function Pvt(e){return e.toString(2).length}function Ore(e,t){let n=e.toString(16);n.length%2!==0&&(n="0"+n);const r=n.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;r.length<t;)r.unshift(0);return Buffer.from(r)}function Ovt(e,t){const n=e<0n;let r;if(n){const i=(1n<<BigInt(t))-1n;r=(~e&i)+1n}else r=e;return r&=(1n<<BigInt(t))-1n,r}function Nre(e,t,n){const r=Pre(t);return e=FS(e),n?e.length<t?(e.copy(r),r):e.slice(0,t):e.length<t?(e.copy(r,t-e.length),r):e.slice(-t)}function Nvt(e,t){return Nre(e,t,!0)}function FS(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if(typeof e=="string")jre(e)?e=Buffer.from($vt(Bre(e)),"hex"):e=Buffer.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=Buffer.allocUnsafe(0);else if(typeof e=="bigint")e=Ore(e);else if(e.toArray)e=Buffer.from(e.toArray());else throw new Error("invalid type");return e}function jvt(e){return e=FS(e),"0x"+e.toString("hex")}function Bvt(e,t){return e=FS(e),t||(t=256),Rvt("keccak"+t).update(e).digest()}function $vt(e){return e.length%2?"0"+e:e}function jre(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function Bre(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}var $re={zeros:Pre,setLength:Nre,setLengthRight:Nvt,isHexString:jre,stripHexPrefix:Bre,toBuffer:FS,bufferToHex:jvt,keccak:Bvt,bitLengthFromBigInt:Pvt,bufferBEFromBigInt:Ore,twosFromBigInt:Ovt};const da=$re;function Mre(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function Dg(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function UW(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function Dre(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function Jh(e){var t=typeof e;if(t==="string"||t==="number")return BigInt(e);if(t==="bigint")return e;throw new Error("Argument is not a number")}function ed(e,t){var n,r,i,o;if(e==="address")return ed("uint160",Jh(t));if(e==="bool")return ed("uint8",t?1:0);if(e==="string")return ed("bytes",new Buffer(t,"utf8"));if(Dvt(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(n=Dre(e),n!=="dynamic"&&n!==0&&t.length>n)throw new Error("Elements exceed array size: "+n);i=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(o in t)i.push(ed(e,t[o]));if(n==="dynamic"){var s=ed("uint256",t.length);i.unshift(s)}return Buffer.concat(i)}else{if(e==="bytes")return t=new Buffer(t),i=Buffer.concat([ed("uint256",t.length),t]),t.length%32!==0&&(i=Buffer.concat([i,da.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if(n=Dg(e),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return da.setLengthRight(t,32)}else if(e.startsWith("uint")){if(n=Dg(e),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=Jh(t);const a=da.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a);if(r<0)throw new Error("Supplied uint is negative");return da.bufferBEFromBigInt(r,32)}else if(e.startsWith("int")){if(n=Dg(e),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=Jh(t);const a=da.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a);const c=da.twosFromBigInt(r,256);return da.bufferBEFromBigInt(c,32)}else if(e.startsWith("ufixed")){if(n=UW(e),r=Jh(t),r<0)throw new Error("Supplied ufixed is negative");return ed("uint256",r*BigInt(2)**BigInt(n[1]))}else if(e.startsWith("fixed"))return n=UW(e),ed("int256",Jh(t)*BigInt(2)**BigInt(n[1]))}throw new Error("Unsupported or invalid type: "+e)}function Mvt(e){return e==="string"||e==="bytes"||Dre(e)==="dynamic"}function Dvt(e){return e.lastIndexOf("]")===e.length-1}function Lvt(e,t){var n=[],r=[],i=32*e.length;for(var o in e){var s=Mre(e[o]),a=t[o],c=ed(s,a);Mvt(s)?(n.push(ed("uint256",i)),r.push(c),i+=c.length):n.push(c)}return Buffer.concat(n.concat(r))}function Lre(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],o=0;o<e.length;o++){var s=Mre(e[o]),a=t[o];if(s==="bytes")i.push(a);else if(s==="string")i.push(new Buffer(a,"utf8"));else if(s==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(s==="address")i.push(da.setLength(a,20));else if(s.startsWith("bytes")){if(n=Dg(s),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(da.setLengthRight(a,n))}else if(s.startsWith("uint")){if(n=Dg(s),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=Jh(a);const c=da.bitLengthFromBigInt(r);if(c>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+c);i.push(da.bufferBEFromBigInt(r,n/8))}else if(s.startsWith("int")){if(n=Dg(s),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=Jh(a);const c=da.bitLengthFromBigInt(r);if(c>n)throw new Error("Supplied int exceeds width: "+n+" vs "+c);const l=da.twosFromBigInt(r,n);i.push(da.bufferBEFromBigInt(l,n/8))}else throw new Error("Unsupported or invalid type: "+s)}return Buffer.concat(i)}function Uvt(e,t){return da.keccak(Lre(e,t))}var Fvt={rawEncode:Lvt,solidityPack:Lre,soliditySHA3:Uvt};const ul=$re,Pv=Fvt,Ure={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},hC={encodeData(e,t,n,r=!0){const i=["bytes32"],o=[this.hashType(e,n)];if(r){const s=(a,c,l)=>{if(n[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":ul.keccak(this.encodeData(c,l,n,r))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",ul.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",ul.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const d=c.slice(0,c.lastIndexOf("[")),f=l.map(p=>s(a,d,p));return["bytes32",ul.keccak(Pv.rawEncode(f.map(([p])=>p),f.map(([,p])=>p)))]}return[c,l]};for(const a of n[e]){const[c,l]=s(a.name,a.type,t[a.name]);i.push(c),o.push(l)}}else for(const s of n[e]){let a=t[s.name];if(a!==void 0)if(s.type==="bytes")i.push("bytes32"),a=ul.keccak(a),o.push(a);else if(s.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=ul.keccak(a),o.push(a);else if(n[s.type]!==void 0)i.push("bytes32"),a=ul.keccak(this.encodeData(s.type,a,n,r)),o.push(a);else{if(s.type.lastIndexOf("]")===s.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(s.type),o.push(a)}}return Pv.rawEncode(i,o)},encodeType(e,t){let n="",r=this.findTypeDependencies(e,t).filter(i=>i!==e);r=[e].concat(r.sort());for(const i of r){if(!t[i])throw new Error("No type definition specified: "+i);n+=i+"("+t[i].map(({name:s,type:a})=>a+" "+s).join(",")+")"}return n},findTypeDependencies(e,t,n=[]){if(e=e.match(/^\w*/)[0],n.includes(e)||t[e]===void 0)return n;n.push(e);for(const r of t[e])for(const i of this.findTypeDependencies(r.type,t,n))!n.includes(i)&&n.push(i);return n},hashStruct(e,t,n,r=!0){return ul.keccak(this.encodeData(e,t,n,r))},hashType(e,t){return ul.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const n in Ure.properties)e[n]&&(t[n]=e[n]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const n=this.sanitizeData(e),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,t)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,t)),ul.keccak(Buffer.concat(r))}};var Wvt={TYPED_MESSAGE_SCHEMA:Ure,TypedDataUtils:hC,hashForSignTypedDataLegacy:function(e){return zvt(e.data)},hashForSignTypedData_v3:function(e){return hC.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return hC.hash(e.data)}};function zvt(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const n=e.map(function(o){return o.type==="bytes"?ul.toBuffer(o.value):o.value}),r=e.map(function(o){return o.type}),i=e.map(function(o){if(!o.name)throw t;return o.type+" "+o.name});return Pv.soliditySHA3(["bytes32","bytes32"],[Pv.soliditySHA3(new Array(e.length).fill("string"),i),Pv.soliditySHA3(r,n)])}var cd={};Object.defineProperty(cd,"__esModule",{value:!0});cd.APP_VERSION_KEY=cd.LOCAL_STORAGE_ADDRESSES_KEY=cd.WALLET_USER_NAME_KEY=void 0;cd.WALLET_USER_NAME_KEY="walletUsername";cd.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";cd.APP_VERSION_KEY="AppVersion";var fw={};Object.defineProperty(fw,"__esModule",{value:!0});fw.RelayEventManager=void 0;const qvt=$n;class Vvt{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,n=(0,qvt.prepend0x)(t.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),t}}fw.RelayEventManager=Vvt;var WS={},zS={},qS={};Object.defineProperty(qS,"__esModule",{value:!0});qS.WalletLinkCipher=void 0;const bx=$n;class Hvt{constructor(t){this.secret=t}async encrypt(t){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,bx.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,o.encode(t)),a=16,c=s.slice(s.byteLength-a),l=s.slice(0,s.byteLength-a),d=new Uint8Array(c),f=new Uint8Array(l),p=new Uint8Array([...r,...d,...f]);return(0,bx.uint8ArrayToHex)(p)}async decrypt(t){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const o=await crypto.subtle.importKey("raw",(0,bx.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,bx.hexStringToUint8Array)(t),a=s.slice(0,12),c=s.slice(12,28),l=s.slice(28),d=new Uint8Array([...l,...c]),f={name:"AES-GCM",iv:new Uint8Array(a)};try{const p=await window.crypto.subtle.decrypt(f,o,d),m=new TextDecoder;r(m.decode(p))}catch(p){i(p)}})()})}}qS.WalletLinkCipher=Hvt;var VS={};Object.defineProperty(VS,"__esModule",{value:!0});VS.WalletLinkHTTP=void 0;class Kvt{constructor(t,n,r){this.linkAPIUrl=t,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(t){return Promise.all(t.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var t;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const o=(t=r==null?void 0:r.filter(s=>s.event==="Web3Response").map(s=>({type:"Event",sessionId:this.sessionId,eventId:s.id,event:s.event,data:s.data})))!==null&&t!==void 0?t:[];return this.markUnseenEventsAsSeen(o),o}throw new Error(`Check unseen events failed: ${n.status}`)}}VS.WalletLinkHTTP=Kvt;var E0={};Object.defineProperty(E0,"__esModule",{value:!0});E0.WalletLinkWebSocket=E0.ConnectionState=void 0;var xg;(function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"})(xg||(E0.ConnectionState=xg={}));class Gvt{setConnectionStateListener(t){this.connectionStateListener=t}setIncomingDataListener(t){this.incomingDataListener=t}constructor(t,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=t.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((t,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(o){n(o);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,xg.CONNECTING),i.onclose=o=>{var s;this.clearWebSocket(),n(new Error(`websocket error ${o.code}: ${o.reason}`)),(s=this.connectionStateListener)===null||s===void 0||s.call(this,xg.DISCONNECTED)},i.onopen=o=>{var s;t(),(s=this.connectionStateListener)===null||s===void 0||s.call(this,xg.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},i.onmessage=o=>{var s,a;if(o.data==="h")(s=this.incomingDataListener)===null||s===void 0||s.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(o.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var t;const{webSocket:n}=this;if(n){this.clearWebSocket(),(t=this.connectionStateListener)===null||t===void 0||t.call(this,xg.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(t){const{webSocket:n}=this;if(!n){this.pendingData.push(t),this.connect();return}n.send(t)}clearWebSocket(){const{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}}E0.WalletLinkWebSocket=Gvt;Object.defineProperty(zS,"__esModule",{value:!0});zS.WalletLinkConnection=void 0;const FW=cd,Zvt=qS,Jvt=VS,wx=E0,Vm=Ys,WW=1e4,Yvt=6e4;class Xvt{constructor({session:t,linkAPIUrl:n,listener:r,WebSocketClass:i=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Vm.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",c=>s.JsonRpcUrl&&this.handleChainUpdated(c,s.JsonRpcUrl)]]).forEach((c,l)=>{const d=s[l];d!==void 0&&c(d)})},this.handleDestroyed=s=>{var a;s==="1"&&((a=this.listener)===null||a===void 0||a.resetAndReload())},this.handleAccountUpdated=async s=>{var a;{const c=await this.cipher.decrypt(s);(a=this.listener)===null||a===void 0||a.accountUpdated(c)}},this.handleMetadataUpdated=async(s,a)=>{var c;{const l=await this.cipher.decrypt(a);(c=this.listener)===null||c===void 0||c.metadataUpdated(s,l)}},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(FW.WALLET_USER_NAME_KEY,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(FW.APP_VERSION_KEY,s)},this.handleChainUpdated=async(s,a)=>{var c;{const l=await this.cipher.decrypt(s),d=await this.cipher.decrypt(a);(c=this.listener)===null||c===void 0||c.chainUpdated(l,d)}},this.session=t,this.cipher=new Zvt.WalletLinkCipher(t.secret),this.listener=r;const o=new wx.WalletLinkWebSocket(`${n}/rpc`,i);o.setConnectionStateListener(async s=>{let a=!1;switch(s){case wx.ConnectionState.DISCONNECTED:if(!this.destroyed){const c=async()=>{await new Promise(l=>setTimeout(l,5e3)),this.destroyed||o.connect().catch(()=>{c()})};c()}break;case wx.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),a=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},WW),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case wx.ConnectionState.CONNECTING:break}this.connected!==a&&(this.connected=a)}),o.setIncomingDataListener(s=>{var a;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const c=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=c||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((a=this.requestResolutions.get(s.id))===null||a===void 0||a(s))}),this.ws=o,this.http=new Jvt.WalletLinkHTTP(n,t.id,t.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}destroy(){this.destroyed=!0,this.ws.disconnect(),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(t){var n;this._connected=t,t&&((n=this.onceConnected)===null||n===void 0||n.call(this))}setOnceConnected(t){return new Promise(n=>{this.connected?t().then(n):this.onceConnected=()=>{t().then(n),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(t){var n,r;this._linked=t,t&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(t)}setOnceLinked(t){return new Promise(n=>{this.linked?t().then(n):this.onceLinked=()=>{t().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(t){var n;if(!(t.type!=="Event"||t.event!=="Web3Response")){const r=await this.cipher.decrypt(t.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(i)}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(t=>setTimeout(t,250));try{await this.fetchUnseenEventsAPI()}catch(t){console.error("Unable to check for unseen events",t)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async setSessionMetadata(t,n){const r={type:"SetSessionConfig",id:(0,Vm.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[t]:n}};return this.setOnceConnected(async()=>{const i=await this.makeRequest(r);if(i.type==="Fail")throw new Error(i.error||"failed to set session metadata")})}async publishEvent(t,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),o={type:"PublishEvent",id:(0,Vm.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:t,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const s=await this.makeRequest(o);if(s.type==="Fail")throw new Error(s.error||"failed to publish event");return s.eventId})}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>WW*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(t,n=Yvt){const r=t.id;this.sendData(t);let i;return Promise.race([new Promise((o,s)=>{i=window.setTimeout(()=>{s(new Error(`request ${r} timed out`))},n)}),new Promise(o=>{this.requestResolutions.set(r,s=>{clearTimeout(i),o(s),this.requestResolutions.delete(r)})})])}async authenticate(){const t={type:"HostSession",id:(0,Vm.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},n=await this.makeRequest(t);if(n.type==="Fail")throw new Error(n.error||"failed to authenticate")}sendIsLinked(){const t={type:"IsLinked",id:(0,Vm.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}sendGetSessionConfig(){const t={type:"GetSessionConfig",id:(0,Vm.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}}zS.WalletLinkConnection=Xvt;var HS={},Fre={exports:{}},Wre=Da.Buffer;function KS(e,t){this._block=Wre.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}KS.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=Wre.from(e,t));for(var n=this._block,r=this._blockSize,i=e.length,o=this._len,s=0;s<i;){for(var a=o%r,c=Math.min(i-s,r-a),l=0;l<c;l++)n[a+l]=e[s+l];o+=c,s+=c,o%r===0&&this._update(n)}return this._len+=i,this};KS.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=this._len*8;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(n&4294967295)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o};KS.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var by=KS,Qvt=Wl,zre=by,ebt=Da.Buffer,tbt=[1518500249,1859775393,-1894007588,-899497514],nbt=new Array(80);function hw(){this.init(),this._w=nbt,zre.call(this,64,56)}Qvt(hw,zre);hw.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rbt(e){return e<<5|e>>>27}function ibt(e){return e<<30|e>>>2}function obt(e,t,n,r){return e===0?t&n|~t&r:e===2?t&n|t&r|n&r:t^n^r}hw.prototype._update=function(e){for(var t=this._w,n=this._a|0,r=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=t[a-3]^t[a-8]^t[a-14]^t[a-16];for(var c=0;c<80;++c){var l=~~(c/20),d=rbt(n)+obt(l,r,i,o)+s+t[c]+tbt[l]|0;s=o,o=i,i=ibt(r),r=n,n=d}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};hw.prototype._hash=function(){var e=ebt.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var sbt=hw,abt=Wl,qre=by,cbt=Da.Buffer,lbt=[1518500249,1859775393,-1894007588,-899497514],dbt=new Array(80);function pw(){this.init(),this._w=dbt,qre.call(this,64,56)}abt(pw,qre);pw.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function ubt(e){return e<<1|e>>>31}function fbt(e){return e<<5|e>>>27}function hbt(e){return e<<30|e>>>2}function pbt(e,t,n,r){return e===0?t&n|~t&r:e===2?t&n|t&r|n&r:t^n^r}pw.prototype._update=function(e){for(var t=this._w,n=this._a|0,r=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=ubt(t[a-3]^t[a-8]^t[a-14]^t[a-16]);for(var c=0;c<80;++c){var l=~~(c/20),d=fbt(n)+pbt(l,r,i,o)+s+t[c]+lbt[l]|0;s=o,o=i,i=hbt(r),r=n,n=d}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};pw.prototype._hash=function(){var e=cbt.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var mbt=pw,gbt=Wl,Vre=by,ybt=Da.Buffer,vbt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],bbt=new Array(64);function mw(){this.init(),this._w=bbt,Vre.call(this,64,56)}gbt(mw,Vre);mw.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function wbt(e,t,n){return n^e&(t^n)}function _bt(e,t,n){return e&t|n&(e|t)}function xbt(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function kbt(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function Sbt(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function Ebt(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}mw.prototype._update=function(e){for(var t=this._w,n=this._a|0,r=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=this._f|0,c=this._g|0,l=this._h|0,d=0;d<16;++d)t[d]=e.readInt32BE(d*4);for(;d<64;++d)t[d]=Ebt(t[d-2])+t[d-7]+Sbt(t[d-15])+t[d-16]|0;for(var f=0;f<64;++f){var p=l+kbt(s)+wbt(s,a,c)+vbt[f]+t[f]|0,m=xbt(n)+_bt(n,r,i)|0;l=c,c=a,a=s,s=o+p|0,o=i,i=r,r=n,n=p+m|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=l+this._h|0};mw.prototype._hash=function(){var e=ybt.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var Hre=mw,Cbt=Wl,Ibt=Hre,Abt=by,Tbt=Da.Buffer,Rbt=new Array(64);function GS(){this.init(),this._w=Rbt,Abt.call(this,64,56)}Cbt(GS,Ibt);GS.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};GS.prototype._hash=function(){var e=Tbt.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var Pbt=GS,Obt=Wl,Kre=by,Nbt=Da.Buffer,zW=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],jbt=new Array(160);function gw(){this.init(),this._w=jbt,Kre.call(this,128,112)}Obt(gw,Kre);gw.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function qW(e,t,n){return n^e&(t^n)}function VW(e,t,n){return e&t|n&(e|t)}function HW(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function KW(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Bbt(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function $bt(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Mbt(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Dbt(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function ds(e,t){return e>>>0<t>>>0?1:0}gw.prototype._update=function(e){for(var t=this._w,n=this._ah|0,r=this._bh|0,i=this._ch|0,o=this._dh|0,s=this._eh|0,a=this._fh|0,c=this._gh|0,l=this._hh|0,d=this._al|0,f=this._bl|0,p=this._cl|0,m=this._dl|0,g=this._el|0,y=this._fl|0,v=this._gl|0,w=this._hl|0,_=0;_<32;_+=2)t[_]=e.readInt32BE(_*4),t[_+1]=e.readInt32BE(_*4+4);for(;_<160;_+=2){var E=t[_-30],C=t[_-15*2+1],T=Bbt(E,C),A=$bt(C,E);E=t[_-2*2],C=t[_-2*2+1];var S=Mbt(E,C),O=Dbt(C,E),D=t[_-7*2],K=t[_-7*2+1],H=t[_-16*2],X=t[_-16*2+1],U=A+K|0,I=T+D+ds(U,A)|0;U=U+O|0,I=I+S+ds(U,O)|0,U=U+X|0,I=I+H+ds(U,X)|0,t[_]=I,t[_+1]=U}for(var x=0;x<160;x+=2){I=t[x],U=t[x+1];var P=VW(n,r,i),N=VW(d,f,p),$=HW(n,d),L=HW(d,n),z=KW(s,g),q=KW(g,s),j=zW[x],W=zW[x+1],re=qW(s,a,c),de=qW(g,y,v),te=w+q|0,ce=l+z+ds(te,w)|0;te=te+de|0,ce=ce+re+ds(te,de)|0,te=te+W|0,ce=ce+j+ds(te,W)|0,te=te+U|0,ce=ce+I+ds(te,U)|0;var ge=L+N|0,Ce=$+P+ds(ge,L)|0;l=c,w=v,c=a,v=y,a=s,y=g,g=m+te|0,s=o+ce+ds(g,m)|0,o=i,m=p,i=r,p=f,r=n,f=d,d=te+ge|0,n=ce+Ce+ds(d,te)|0}this._al=this._al+d|0,this._bl=this._bl+f|0,this._cl=this._cl+p|0,this._dl=this._dl+m|0,this._el=this._el+g|0,this._fl=this._fl+y|0,this._gl=this._gl+v|0,this._hl=this._hl+w|0,this._ah=this._ah+n+ds(this._al,d)|0,this._bh=this._bh+r+ds(this._bl,f)|0,this._ch=this._ch+i+ds(this._cl,p)|0,this._dh=this._dh+o+ds(this._dl,m)|0,this._eh=this._eh+s+ds(this._el,g)|0,this._fh=this._fh+a+ds(this._fl,y)|0,this._gh=this._gh+c+ds(this._gl,v)|0,this._hh=this._hh+l+ds(this._hl,w)|0};gw.prototype._hash=function(){var e=Nbt.allocUnsafe(64);function t(n,r,i){e.writeInt32BE(n,i),e.writeInt32BE(r,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var Gre=gw,Lbt=Wl,Ubt=Gre,Fbt=by,Wbt=Da.Buffer,zbt=new Array(160);function ZS(){this.init(),this._w=zbt,Fbt.call(this,128,112)}Lbt(ZS,Ubt);ZS.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};ZS.prototype._hash=function(){var e=Wbt.allocUnsafe(48);function t(n,r,i){e.writeInt32BE(n,i),e.writeInt32BE(r,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var qbt=ZS,pm=Fre.exports=function(t){t=t.toLowerCase();var n=pm[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n};pm.sha=sbt;pm.sha1=mbt;pm.sha224=Pbt;pm.sha256=Hre;pm.sha384=qbt;pm.sha512=Gre;var Vbt=Fre.exports;Object.defineProperty(HS,"__esModule",{value:!0});HS.WalletLinkSession=void 0;const Hbt=Vbt,GW=$n,ZW="session:id",JW="session:secret",YW="session:linked";class dO{constructor(t,n,r,i){this._storage=t,this._id=n||(0,GW.randomBytesHex)(16),this._secret=r||(0,GW.randomBytesHex)(32),this._key=new Hbt.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(t){const n=t.getItem(ZW),r=t.getItem(YW),i=t.getItem(JW);return n&&i?new dO(t,n,i,r==="1"):null}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(ZW,this._id),this._storage.setItem(JW,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(YW,this._linked?"1":"0")}}HS.WalletLinkSession=dO;var tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.isDarkMode=tc.isMobileWeb=tc.getLocation=tc.createQrUrl=void 0;function Kbt(e,t,n,r,i,o){const s=r?"parent-id":"id",a=new URLSearchParams({[s]:e,secret:t,server:n,v:i,chainId:o.toString()}).toString();return`${n}/#/link?${a}`}tc.createQrUrl=Kbt;function Gbt(){try{return window.frameElement!==null}catch{return!1}}function Zbt(){try{return Gbt()&&window.top?window.top.location:window.location}catch{return window.location}}tc.getLocation=Zbt;function Jbt(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((e=window==null?void 0:window.navigator)===null||e===void 0?void 0:e.userAgent)}tc.isMobileWeb=Jbt;function Ybt(){var e,t;return(t=(e=window==null?void 0:window.matchMedia)===null||e===void 0?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)!==null&&t!==void 0?t:!1}tc.isDarkMode=Ybt;var JS={},yw={},uO={};Object.defineProperty(uO,"__esModule",{value:!0});uO.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var Xbt=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yw,"__esModule",{value:!0});yw.injectCssReset=void 0;const Qbt=Xbt(uO);function e1t(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(Qbt.default)),document.documentElement.appendChild(e)}yw.injectCssReset=e1t;var fO={};function Zre(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Zre(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function XW(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Zre(e))&&(r&&(r+=" "),r+=t);return r}const t1t=Object.freeze(Object.defineProperty({__proto__:null,clsx:XW,default:XW},Symbol.toStringTag,{value:"Module"})),Jre=Dl(t1t);var vw,Di,Yre,Xre,Yh,QW,Qre,eie,tie,hO,N7,j7,nie,Yb={},rie=[],n1t=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,bw=Array.isArray;function id(e,t){for(var n in t)e[n]=t[n];return e}function pO(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function B7(e,t,n){var r,i,o,s={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?vw.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return Ov(e,s,r,i,null)}function Ov(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Yre,__i:-1,__u:0};return i==null&&Di.vnode!=null&&Di.vnode(o),o}function r1t(){return{current:null}}function ww(e){return e.children}function Nv(e,t){this.props=e,this.context=t}function C0(e,t){if(t==null)return e.__?C0(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?C0(e):null}function iie(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return iie(e)}}function $7(e){(!e.__d&&(e.__d=!0)&&Yh.push(e)&&!hk.__r++||QW!==Di.debounceRendering)&&((QW=Di.debounceRendering)||Qre)(hk)}function hk(){for(var e,t,n,r,i,o,s,a=1;Yh.length;)Yh.length>a&&Yh.sort(eie),e=Yh.shift(),a=Yh.length,e.__d&&(n=void 0,i=(r=(t=e).__v).__e,o=[],s=[],t.__P&&((n=id({},r)).__v=r.__v+1,Di.vnode&&Di.vnode(n),mO(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,o,i??C0(r),!!(32&r.__u),s),n.__v=r.__v,n.__.__k[n.__i]=n,cie(o,n,s),n.__e!=i&&iie(n)));hk.__r=0}function oie(e,t,n,r,i,o,s,a,c,l,d){var f,p,m,g,y,v,w=r&&r.__k||rie,_=t.length;for(c=i1t(n,t,w,c,_),f=0;f<_;f++)(m=n.__k[f])!=null&&(p=m.__i===-1?Yb:w[m.__i]||Yb,m.__i=f,v=mO(e,m,p,i,o,s,a,c,l,d),g=m.__e,m.ref&&p.ref!=m.ref&&(p.ref&&gO(p.ref,null,m),d.push(m.ref,m.__c||g,m)),y==null&&g!=null&&(y=g),4&m.__u||p.__k===m.__k?c=sie(m,c,e):typeof m.type=="function"&&v!==void 0?c=v:g&&(c=g.nextSibling),m.__u&=-7);return n.__e=y,c}function i1t(e,t,n,r,i){var o,s,a,c,l,d=n.length,f=d,p=0;for(e.__k=new Array(i),o=0;o<i;o++)(s=t[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(c=o+p,(s=e.__k[o]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Ov(null,s,null,null,null):bw(s)?Ov(ww,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?Ov(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,a=null,(l=s.__i=o1t(s,n,c,f))!==-1&&(f--,(a=n[l])&&(a.__u|=2)),a==null||a.__v===null?(l==-1&&(i>d?p--:i<d&&p++),typeof s.type!="function"&&(s.__u|=4)):l!=c&&(l==c-1?p--:l==c+1?p++:(l>c?p--:p++,s.__u|=4))):e.__k[o]=null;if(f)for(o=0;o<d;o++)(a=n[o])!=null&&!(2&a.__u)&&(a.__e==r&&(r=C0(a)),die(a,a));return r}function sie(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=sie(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=C0(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function aie(e,t){return t=t||[],e==null||typeof e=="boolean"||(bw(e)?e.some(function(n){aie(n,t)}):t.push(e)),t}function o1t(e,t,n,r){var i,o,s=e.key,a=e.type,c=t[n];if(c===null&&e.key==null||c&&s==c.key&&a===c.type&&!(2&c.__u))return n;if(r>(c!=null&&!(2&c.__u)?1:0))for(i=n-1,o=n+1;i>=0||o<t.length;){if(i>=0){if((c=t[i])&&!(2&c.__u)&&s==c.key&&a===c.type)return i;i--}if(o<t.length){if((c=t[o])&&!(2&c.__u)&&s==c.key&&a===c.type)return o;o++}}return-1}function ez(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||n1t.test(t)?n:n+"px"}function _x(e,t,n,r,i){var o;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ez(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ez(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(tie,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.t=r.t:(n.t=hO,e.addEventListener(t,o?j7:N7,o)):e.removeEventListener(t,o?j7:N7,o);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function tz(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.u==null)t.u=hO++;else if(t.u<n.t)return;return n(Di.event?Di.event(t):t)}}}function mO(e,t,n,r,i,o,s,a,c,l){var d,f,p,m,g,y,v,w,_,E,C,T,A,S,O,D,K,H=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=Di.__b)&&d(t);e:if(typeof H=="function")try{if(w=t.props,_="prototype"in H&&H.prototype.render,E=(d=H.contextType)&&r[d.__c],C=d?E?E.props.value:d.__:r,n.__c?v=(f=t.__c=n.__c).__=f.__E:(_?t.__c=f=new H(w,C):(t.__c=f=new Nv(w,C),f.constructor=H,f.render=a1t),E&&E.sub(f),f.props=w,f.state||(f.state={}),f.context=C,f.__n=r,p=f.__d=!0,f.__h=[],f._sb=[]),_&&f.__s==null&&(f.__s=f.state),_&&H.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=id({},f.__s)),id(f.__s,H.getDerivedStateFromProps(w,f.__s))),m=f.props,g=f.state,f.__v=t,p)_&&H.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),_&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(_&&H.getDerivedStateFromProps==null&&w!==m&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(w,C),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(w,f.__s,C)===!1||t.__v==n.__v)){for(t.__v!=n.__v&&(f.props=w,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(X){X&&(X.__=t)}),T=0;T<f._sb.length;T++)f.__h.push(f._sb[T]);f._sb=[],f.__h.length&&s.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(w,f.__s,C),_&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(m,g,y)})}if(f.context=C,f.props=w,f.__P=e,f.__e=!1,A=Di.__r,S=0,_){for(f.state=f.__s,f.__d=!1,A&&A(t),d=f.render(f.props,f.state,f.context),O=0;O<f._sb.length;O++)f.__h.push(f._sb[O]);f._sb=[]}else do f.__d=!1,A&&A(t),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++S<25);f.state=f.__s,f.getChildContext!=null&&(r=id(id({},r),f.getChildContext())),_&&!p&&f.getSnapshotBeforeUpdate!=null&&(y=f.getSnapshotBeforeUpdate(m,g)),D=d,d!=null&&d.type===ww&&d.key==null&&(D=lie(d.props.children)),a=oie(e,bw(D)?D:[D],t,n,r,i,o,s,a,c,l),f.base=t.__e,t.__u&=-161,f.__h.length&&s.push(f),v&&(f.__E=f.__=null)}catch(X){if(t.__v=null,c||o!=null)if(X.then){for(t.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,t.__e=a}else for(K=o.length;K--;)pO(o[K]);else t.__e=n.__e,t.__k=n.__k;Di.__e(X,t,n)}else o==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=s1t(n.__e,t,n,r,i,o,s,c,l);return(d=Di.diffed)&&d(t),128&t.__u?void 0:a}function cie(e,t,n){for(var r=0;r<n.length;r++)gO(n[r],n[++r],n[++r]);Di.__c&&Di.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){Di.__e(o,i.__v)}})}function lie(e){return typeof e!="object"||e==null?e:bw(e)?e.map(lie):id({},e)}function s1t(e,t,n,r,i,o,s,a,c){var l,d,f,p,m,g,y,v=n.props,w=t.props,_=t.type;if(_=="svg"?i="http://www.w3.org/2000/svg":_=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(l=0;l<o.length;l++)if((m=o[l])&&"setAttribute"in m==!!_&&(_?m.localName==_:m.nodeType==3)){e=m,o[l]=null;break}}if(e==null){if(_==null)return document.createTextNode(w);e=document.createElementNS(i,_,w.is&&w),a&&(Di.__m&&Di.__m(t,o),a=!1),o=null}if(_===null)v===w||a&&e.data===w||(e.data=w);else{if(o=o&&vw.call(e.childNodes),v=n.props||Yb,!a&&o!=null)for(v={},l=0;l<e.attributes.length;l++)v[(m=e.attributes[l]).name]=m.value;for(l in v)if(m=v[l],l!="children"){if(l=="dangerouslySetInnerHTML")f=m;else if(!(l in w)){if(l=="value"&&"defaultValue"in w||l=="checked"&&"defaultChecked"in w)continue;_x(e,l,null,m,i)}}for(l in w)m=w[l],l=="children"?p=m:l=="dangerouslySetInnerHTML"?d=m:l=="value"?g=m:l=="checked"?y=m:a&&typeof m!="function"||v[l]===m||_x(e,l,m,v[l],i);if(d)a||f&&(d.__html===f.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(f&&(e.innerHTML=""),oie(t.type==="template"?e.content:e,bw(p)?p:[p],t,n,r,_=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,s,o?o[0]:n.__k&&C0(n,0),a,c),o!=null)for(l=o.length;l--;)pO(o[l]);a||(l="value",_=="progress"&&g==null?e.removeAttribute("value"):g!==void 0&&(g!==e[l]||_=="progress"&&!g||_=="option"&&g!==v[l])&&_x(e,l,g,v[l],i),l="checked",y!==void 0&&y!==e[l]&&_x(e,l,y,v[l],i))}return e}function gO(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(i){Di.__e(i,n)}}function die(e,t,n){var r,i;if(Di.unmount&&Di.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||gO(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Di.__e(o,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&die(r[i],t,n||typeof e.type!="function");n||pO(e.__e),e.__c=e.__=e.__e=void 0}function a1t(e,t,n){return this.constructor(e,n)}function uie(e,t,n){var r,i,o,s;t==document&&(t=document.documentElement),Di.__&&Di.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],s=[],mO(t,e=(!r&&n||t).__k=B7(ww,null,[e]),i||Yb,Yb,t.namespaceURI,!r&&n?[n]:i?null:t.firstChild?vw.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r,s),cie(o,e,s)}function fie(e,t){uie(e,t,fie)}function c1t(e,t,n){var r,i,o,s,a=id({},e.props);for(o in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)o=="key"?r=t[o]:o=="ref"?i=t[o]:a[o]=t[o]===void 0&&s!==void 0?s[o]:t[o];return arguments.length>2&&(a.children=arguments.length>3?vw.call(arguments,2):n),Ov(e.type,a,r||e.key,i||e.ref,null)}function l1t(e){function t(n){var r,i;return this.getChildContext||(r=new Set,(i={})[t.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.forEach(function(s){s.__e=!0,$7(s)})},this.sub=function(o){r.add(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){r&&r.delete(o),s&&s.call(o)}}),n.children}return t.__c="__cC"+nie++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}vw=rie.slice,Di={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(a){e=a}throw e}},Yre=0,Xre=function(e){return e!=null&&e.constructor==null},Nv.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=id({},this.state),typeof e=="function"&&(e=e(id({},n),this.props)),e&&id(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),$7(this))},Nv.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),$7(this))},Nv.prototype.render=ww,Yh=[],Qre=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,eie=function(e,t){return e.__v.__b-t.__v.__b},hk.__r=0,tie=/(PointerCapture)$|Capture$/i,hO=0,N7=tz(!1),j7=tz(!0),nie=0;const d1t=Object.freeze(Object.defineProperty({__proto__:null,Component:Nv,Fragment:ww,cloneElement:c1t,createContext:l1t,createElement:B7,createRef:r1t,h:B7,hydrate:fie,get isValidElement(){return Xre},get options(){return Di},render:uie,toChildArray:aie},Symbol.toStringTag,{value:"Module"})),hie=Dl(d1t);var $u,Ni,pC,nz,I0=0,pie=[],uo=Di,rz=uo.__b,iz=uo.__r,oz=uo.diffed,sz=uo.__c,az=uo.unmount,cz=uo.__;function mm(e,t){uo.__h&&uo.__h(Ni,e,I0||t),I0=0;var n=Ni.__H||(Ni.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function mie(e){return I0=1,gie(vie,e)}function gie(e,t,n){var r=mm($u++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):vie(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,a);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=Ni,!Ni.__f)){var i=function(a,c,l){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!o||o.call(this,a,c,l);var f=r.__c.props!==a;return d.forEach(function(p){if(p.__N){var m=p.__[0];p.__=p.__N,p.__N=void 0,m!==p.__[0]&&(f=!0)}}),o&&o.call(this,a,c,l)||f};Ni.__f=!0;var o=Ni.shouldComponentUpdate,s=Ni.componentWillUpdate;Ni.componentWillUpdate=function(a,c,l){if(this.__e){var d=o;o=void 0,i(a,c,l),o=d}s&&s.call(this,a,c,l)},Ni.shouldComponentUpdate=i}return r.__N||r.__}function u1t(e,t){var n=mm($u++,3);!uo.__s&&vO(n.__H,t)&&(n.__=e,n.u=t,Ni.__H.__h.push(n))}function yie(e,t){var n=mm($u++,4);!uo.__s&&vO(n.__H,t)&&(n.__=e,n.u=t,Ni.__h.push(n))}function f1t(e){return I0=5,yO(function(){return{current:e}},[])}function h1t(e,t,n){I0=6,yie(function(){if(typeof e=="function"){var r=e(t());return function(){e(null),r&&typeof r=="function"&&r()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function yO(e,t){var n=mm($u++,7);return vO(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function p1t(e,t){return I0=8,yO(function(){return e},t)}function m1t(e){var t=Ni.context[e.__c],n=mm($u++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(Ni)),t.props.value):e.__}function g1t(e,t){uo.useDebugValue&&uo.useDebugValue(t?t(e):e)}function y1t(e){var t=mm($u++,10),n=mie();return t.__=e,Ni.componentDidCatch||(Ni.componentDidCatch=function(r,i){t.__&&t.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function v1t(){var e=mm($u++,11);if(!e.__){for(var t=Ni.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function b1t(){for(var e;e=pie.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Yx),e.__H.__h.forEach(M7),e.__H.__h=[]}catch(t){e.__H.__h=[],uo.__e(t,e.__v)}}uo.__b=function(e){Ni=null,rz&&rz(e)},uo.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),cz&&cz(e,t)},uo.__r=function(e){iz&&iz(e),$u=0;var t=(Ni=e.__c).__H;t&&(pC===Ni?(t.__h=[],Ni.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Yx),t.__h.forEach(M7),t.__h=[],$u=0)),pC=Ni},uo.diffed=function(e){oz&&oz(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(pie.push(t)!==1&&nz===uo.requestAnimationFrame||((nz=uo.requestAnimationFrame)||w1t)(b1t)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),pC=Ni=null},uo.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Yx),n.__h=n.__h.filter(function(r){return!r.__||M7(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],uo.__e(r,n.__v)}}),sz&&sz(e,t)},uo.unmount=function(e){az&&az(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Yx(r)}catch(i){t=i}}),n.__H=void 0,t&&uo.__e(t,n.__v))};var lz=typeof requestAnimationFrame=="function";function w1t(e){var t,n=function(){clearTimeout(r),lz&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);lz&&(t=requestAnimationFrame(n))}function Yx(e){var t=Ni,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Ni=t}function M7(e){var t=Ni;e.__c=e.__(),Ni=t}function vO(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function vie(e,t){return typeof t=="function"?t(e):t}const _1t=Object.freeze(Object.defineProperty({__proto__:null,useCallback:p1t,useContext:m1t,useDebugValue:g1t,useEffect:u1t,useErrorBoundary:y1t,useId:v1t,useImperativeHandle:h1t,useLayoutEffect:yie,useMemo:yO,useReducer:gie,useRef:f1t,useState:mie},Symbol.toStringTag,{value:"Module"})),x1t=Dl(_1t);var bO={};Object.defineProperty(bO,"__esModule",{value:!0});bO.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(e){var t=cr&&cr.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;const n=t(Jre),r=hie,i=x1t,o=tc,s=t(bO),a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",c="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class l{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=(0,o.isDarkMode)()}attach(m){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",m.appendChild(this.root),this.render()}presentItem(m){const g=this.nextItemKey++;return this.items.set(g,m),this.render(),()=>{this.items.delete(g),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,r.render)((0,r.h)("div",null,(0,r.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([m,g])=>(0,r.h)(e.SnackbarInstance,Object.assign({},g,{key:m}))))),this.root)}}e.Snackbar=l;const d=p=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-container")},(0,r.h)("style",null,s.default),(0,r.h)("div",{class:"-cbwsdk-snackbar"},p.children));e.SnackbarContainer=d;const f=({autoExpand:p,message:m,menuItems:g})=>{const[y,v]=(0,i.useState)(!0),[w,_]=(0,i.useState)(p??!1);(0,i.useEffect)(()=>{const C=[window.setTimeout(()=>{v(!1)},1),window.setTimeout(()=>{_(!0)},1e4)];return()=>{C.forEach(window.clearTimeout)}});const E=()=>{_(!w)};return(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance",y&&"-cbwsdk-snackbar-instance-hidden",w&&"-cbwsdk-snackbar-instance-expanded")},(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:E},(0,r.h)("img",{src:a,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},m),(0,r.h)("div",{class:"-gear-container"},!w&&(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,r.h)("img",{src:c,class:"-gear-icon",title:"Expand"}))),g&&g.length>0&&(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},g.map((C,T)=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item",C.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:C.onClick,key:T},(0,r.h)("svg",{width:C.svgWidth,height:C.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":C.defaultFillRule,"clip-rule":C.defaultClipRule,d:C.path,fill:"#AAAAAA"})),(0,r.h)("span",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item-info",C.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},C.info)))))};e.SnackbarInstance=f})(fO);Object.defineProperty(JS,"__esModule",{value:!0});JS.WalletLinkRelayUI=void 0;const k1t=yw,S1t=fO;class E1t{constructor(){this.attached=!1,this.snackbar=new S1t.Snackbar}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",t.appendChild(n),this.snackbar.attach(n),this.attached=!0,(0,k1t.injectCssReset)()}showConnecting(t){let n;return t.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(n)}}JS.WalletLinkRelayUI=E1t;var YS={},XS={},wO={};Object.defineProperty(wO,"__esModule",{value:!0});wO.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var bie=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(XS,"__esModule",{value:!0});XS.RedirectDialog=void 0;const C1t=bie(Jre),td=hie,I1t=yw,A1t=fO,T1t=tc,R1t=bie(wO);class P1t{constructor(){this.root=null,this.darkMode=(0,T1t.isDarkMode)()}attach(){const t=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",t.appendChild(this.root),(0,I1t.injectCssReset)()}present(t){this.render(t)}clear(){this.render(null)}render(t){this.root&&((0,td.render)(null,this.root),t&&(0,td.render)((0,td.h)(O1t,Object.assign({},t,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}XS.RedirectDialog=P1t;const O1t=({title:e,buttonText:t,darkMode:n,onButtonClick:r,onDismiss:i})=>{const o=n?"dark":"light";return(0,td.h)(A1t.SnackbarContainer,{darkMode:n},(0,td.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,td.h)("style",null,R1t.default),(0,td.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,td.h)("div",{class:(0,C1t.default)("-cbwsdk-redirect-dialog-box",o)},(0,td.h)("p",null,e),(0,td.h)("button",{onClick:r},t))))};var ld={};Object.defineProperty(ld,"__esModule",{value:!0});ld.CBW_MOBILE_DEEPLINK_URL=ld.WALLETLINK_URL=ld.CB_KEYS_URL=void 0;ld.CB_KEYS_URL="https://keys.coinbase.com/connect";ld.WALLETLINK_URL="https://www.walletlink.org";ld.CBW_MOBILE_DEEPLINK_URL="https://go.cb-w.com/walletlink";Object.defineProperty(YS,"__esModule",{value:!0});YS.WLMobileRelayUI=void 0;const N1t=XS,j1t=tc,B1t=ld;class $1t{constructor(){this.attached=!1,this.redirectDialog=new N1t.RedirectDialog}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(t){const n=new URL(B1t.CBW_MOBILE_DEEPLINK_URL);n.searchParams.append("redirect_url",(0,j1t.getLocation)().href),t&&n.searchParams.append("wl_url",t);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(t){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(t)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(t)},99)}showConnecting(t){return()=>{this.redirectDialog.clear()}}}YS.WLMobileRelayUI=$1t;Object.defineProperty(WS,"__esModule",{value:!0});WS.WalletLinkRelay=void 0;const M1t=zS,D1t=cd,L1t=fw,mC=HS,Hm=yy,U1t=tc,F1t=JS,dz=YS,W1t=$d,$o=$n,z1t=Md;class du{constructor(t){this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.isMobileWeb=(0,U1t.isMobileWeb)(),this.appName="",this.appLogoUrl=null,this.linkedUpdated=o=>{this.isLinked=o;const s=this.storage.getItem(D1t.LOCAL_STORAGE_ADDRESSES_KEY);if(o&&(this._session.linked=o),this.isUnlinkedErrorState=!1,s){const a=s.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!o&&this._session.linked&&!c&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(o,s)=>{this.storage.setItem(o,s)},this.chainUpdated=(o,s)=>{this.chainCallbackParams.chainId===o&&this.chainCallbackParams.jsonRpcUrl===s||(this.chainCallbackParams={chainId:o,jsonRpcUrl:s},this.chainCallback&&this.chainCallback(o,s))},this.accountUpdated=o=>{this.accountsCallback&&this.accountsCallback([o]),du.accountRequestCallbackIds.size>0&&(Array.from(du.accountRequestCallbackIds.values()).forEach(s=>{const a={type:"WEB3_RESPONSE",id:s,response:{method:"requestEthereumAccounts",result:[o]}};this.invokeCallback(Object.assign(Object.assign({},a),{id:s}))}),du.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new L1t.RelayEventManager,this.ui=r}subscribe(){const t=mC.WalletLinkSession.load(this.storage)||new mC.WalletLinkSession(this.storage).save(),{linkAPIUrl:n}=this,r=new M1t.WalletLinkConnection({session:t,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new dz.WLMobileRelayUI:new F1t.WalletLinkRelayUI;return r.connect(),{session:t,ui:i,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(t=>setTimeout(()=>t(null),1e3))]).then(()=>{this.connection.destroy();const t=mC.WalletLinkSession.load(this.storage);(t==null?void 0:t.id)===this._session.id&&z1t.ScopedLocalStorage.clearAll(),document.location.reload()}).catch(t=>{})}setAppInfo(t,n){this.appName=t,this.appLogoUrl=n}getStorageItem(t){return this.storage.getItem(t)}setStorageItem(t,n){this.storage.setItem(t,n)}signEthereumMessage(t,n,r,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,$o.hexStringFromBuffer)(t,!0),address:n,addPrefix:r,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(t,n,r){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,$o.hexStringFromBuffer)(t,!0),signature:(0,$o.hexStringFromBuffer)(n,!0),addPrefix:r}})}signEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,$o.bigIntStringFromBigInt)(t.weiValue),data:(0,$o.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,$o.bigIntStringFromBigInt)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,$o.bigIntStringFromBigInt)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,$o.bigIntStringFromBigInt)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,$o.bigIntStringFromBigInt)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,$o.bigIntStringFromBigInt)(t.weiValue),data:(0,$o.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,$o.bigIntStringFromBigInt)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,$o.bigIntStringFromBigInt)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,$o.bigIntStringFromBigInt)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,$o.bigIntStringFromBigInt)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,$o.hexStringFromBuffer)(t,!0),chainId:n}})}scanQRCode(t){return this.sendRequest({method:"scanQRCode",params:{regExp:t}})}getWalletLinkSession(){return this._session}genericRequest(t,n){return this.sendRequest({method:"generic",params:{action:n,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let n=null;const r=(0,$o.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,t.method,o),n==null||n()};return new Promise((o,s)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,a=>{if(n==null||n(),(0,Hm.isErrorResponse)(a))return s(new Error(a.errorMessage));o(a)}),this.publishWeb3RequestEvent(r,t)})}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}setDappDefaultChainCallback(t){this.dappDefaultChain=t}publishWeb3RequestEvent(t,n){const r={type:"WEB3_REQUEST",id:t,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r.id,response:{method:n.method,errorMessage:i.message}})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(t){if(this.ui instanceof dz.WLMobileRelayUI)switch(t){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(t){const n={type:"WEB3_REQUEST_CANCELED",id:t};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(t,n,r){return this.connection.publishEvent(t,n,r)}handleWeb3ResponseMessage(t){const{response:n}=t;if(n.method==="requestEthereumAccounts"){du.accountRequestCallbackIds.forEach(r=>this.invokeCallback(Object.assign(Object.assign({},t),{id:r}))),du.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}handleErrorResponse(t,n,r){var i;const o=(i=r==null?void 0:r.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:n,errorMessage:o}})}invokeCallback(t){const n=this.relayEventManager.callbacks.get(t.id);n&&(n(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},n=(0,$o.randomBytesHex)(8);return new Promise((r,i)=>{this.relayEventManager.callbacks.set(n,o=>{if((0,Hm.isErrorResponse)(o))return i(new Error(o.errorMessage));r(o)}),du.accountRequestCallbackIds.add(n),this.publishWeb3RequestEvent(n,t)})}watchAsset(t,n,r,i,o,s){const a={method:"watchAsset",params:{type:t,options:{address:n,symbol:r,decimals:i,image:o},chainId:s}};let c=null;const l=(0,$o.randomBytesHex)(8),d=f=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,f),c==null||c()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}),new Promise((f,p)=>{this.relayEventManager.callbacks.set(l,m=>{if(c==null||c(),(0,Hm.isErrorResponse)(m))return p(new Error(m.errorMessage));f(m)}),this.publishWeb3RequestEvent(l,a)})}addEthereumChain(t,n,r,i,o,s){const a={method:"addEthereumChain",params:{chainId:t,rpcUrls:n,blockExplorerUrls:i,chainName:o,iconUrls:r,nativeCurrency:s}};let c=null;const l=(0,$o.randomBytesHex)(8),d=f=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,f),c==null||c()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}),new Promise((f,p)=>{this.relayEventManager.callbacks.set(l,m=>{if(c==null||c(),(0,Hm.isErrorResponse)(m))return p(new Error(m.errorMessage));f(m)}),this.publishWeb3RequestEvent(l,a)})}switchEthereumChain(t,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:n})},i=(0,$o.randomBytesHex)(8);return new Promise((o,s)=>{this.relayEventManager.callbacks.set(i,a=>{if((0,Hm.isErrorResponse)(a)&&a.errorCode)return s(W1t.standardErrors.provider.custom({code:a.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,Hm.isErrorResponse)(a))return s(new Error(a.errorMessage));o(a)}),this.publishWeb3RequestEvent(i,r)})}}WS.WalletLinkRelay=du;du.accountRequestCallbackIds=new Set;var q1t=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(DS,"__esModule",{value:!0});DS.WalletLinkSigner=void 0;const gC=q1t(Wvt),uz=cd,V1t=fw,ou=yy,H1t=WS,fz=ld,us=$d,oi=$n,K1t=Md,yC="DefaultChainId",hz="DefaultJsonRpcUrl";class G1t{constructor(t){var n,r;this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1;const{appName:i,appLogoUrl:o}=t.metadata;this._appName=i,this._appLogoUrl=o,this._storage=new K1t.ScopedLocalStorage("walletlink",fz.WALLETLINK_URL),this.updateListener=t.updateListener,this._relayEventManager=new V1t.RelayEventManager,this._jsonRpcUrlFromOpts="";const s=this._storage.getItem(uz.LOCAL_STORAGE_ADDRESSES_KEY);if(s){const c=s.split(" ");c[0]!==""&&(this._addresses=c.map(l=>(0,oi.ensureAddressString)(l)),(n=this.updateListener)===null||n===void 0||n.onAccountsUpdate({accounts:this._addresses,source:"storage"}))}this._storage.getItem(yC)&&((r=this.updateListener)===null||r===void 0||r.onChainUpdate({chain:{id:this.getChainId(),rpcUrl:this.jsonRpcUrl},source:"storage"}),this.hasMadeFirstChainChangedEmission=!0),this.initializeRelay()}getSession(){const t=this.initializeRelay(),{id:n,secret:r}=t.getWalletLinkSession();return{id:n,secret:r}}async handshake(){return await this.request({method:"eth_requestAccounts"})}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(hz))!==null&&t!==void 0?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(hz,t)}updateProviderInfo(t,n){var r;this.jsonRpcUrl=t;const i=this.getChainId();this._storage.setItem(yC,n.toString(10)),((0,oi.ensureIntNumber)(n)!==i||!this.hasMadeFirstChainChangedEmission)&&((r=this.updateListener)===null||r===void 0||r.onChainUpdate({chain:{id:n,rpcUrl:t},source:"wallet"}),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,n,r,i,o,s){const c=await this.initializeRelay().watchAsset(t,n,r,i,o,s==null?void 0:s.toString());return(0,ou.isErrorResponse)(c)?!1:!!c.result}async addEthereumChain(t,n,r,i,o,s){var a,c;if((0,oi.ensureIntNumber)(t)===this.getChainId())return!1;const l=this.initializeRelay();this._isAuthorized()||await l.requestEthereumAccounts();const d=await l.addEthereumChain(t.toString(),n,o,r,i,s);return(0,ou.isErrorResponse)(d)?!1:(((a=d.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(n[0],t),((c=d.result)===null||c===void 0?void 0:c.isApproved)===!0)}async switchEthereumChain(t){const r=await this.initializeRelay().switchEthereumChain(t.toString(10),this.selectedAddress||void 0);if((0,ou.isErrorResponse)(r)){if(!r.errorCode)return;throw r.errorCode===us.standardErrorCodes.provider.unsupportedChain?us.standardErrors.provider.unsupportedChain():us.standardErrors.provider.custom({message:r.errorMessage,code:r.errorCode})}const i=r.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,t)}async disconnect(){this._relay&&this._relay.resetAndReload(),this._storage.clear()}async request(t){try{return this._request(t).catch(n=>{throw n})}catch(n){return Promise.reject(n)}}async _request(t){if(!t||typeof t!="object"||Array.isArray(t))throw us.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:n,params:r}=t;if(typeof n!="string"||n.length===0)throw us.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw us.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const i=r===void 0?[]:r,o=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:n,params:i,jsonrpc:"2.0",id:o})).result}_setAddresses(t,n){var r;if(!Array.isArray(t))throw new Error("addresses is not an array");const i=t.map(o=>(0,oi.ensureAddressString)(o));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.updateListener)===null||r===void 0||r.onAccountsUpdate({accounts:i,source:"wallet"}),this._storage.setItem(uz.LOCAL_STORAGE_ADDRESSES_KEY,i.join(" ")))}_sendRequestAsync(t){return new Promise((n,r)=>{try{const i=this._handleSynchronousMethods(t);if(i!==void 0)return n({jsonrpc:"2.0",id:t.id,result:i})}catch(i){return r(i)}this._handleAsynchronousMethods(t).then(i=>i&&n(Object.assign(Object.assign({},i),{id:t.id}))).catch(i=>r(i))})}_handleSynchronousMethods(t){const{method:n}=t;switch(n){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:n}=t,r=t.params||[];switch(n){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(r);case"eth_ecRecover":return this._eth_ecRecover(r);case"personal_sign":return this._personal_sign(r);case"personal_ecRecover":return this._personal_ecRecover(r);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(r);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(r);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(r);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(r);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(r);case"wallet_watchAsset":return this._wallet_watchAsset(r);default:return this._throwUnsupportedMethodError()}}_isKnownAddress(t){try{const n=(0,oi.ensureAddressString)(t);return this._addresses.map(i=>(0,oi.ensureAddressString)(i)).includes(n)}catch{}return!1}_ensureKnownAddress(t){if(!this._isKnownAddress(t))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const n=t.from?(0,oi.ensureAddressString)(t.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=t.to?(0,oi.ensureAddressString)(t.to):null,i=t.value!=null?(0,oi.ensureBigInt)(t.value):BigInt(0),o=t.data?(0,oi.ensureBuffer)(t.data):Buffer.alloc(0),s=t.nonce!=null?(0,oi.ensureIntNumber)(t.nonce):null,a=t.gasPrice!=null?(0,oi.ensureBigInt)(t.gasPrice):null,c=t.maxFeePerGas!=null?(0,oi.ensureBigInt)(t.maxFeePerGas):null,l=t.maxPriorityFeePerGas!=null?(0,oi.ensureBigInt)(t.maxPriorityFeePerGas):null,d=t.gas!=null?(0,oi.ensureBigInt)(t.gas):null,f=t.chainId?(0,oi.ensureIntNumber)(t.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:o,nonce:s,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:d,chainId:f}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw us.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw us.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,n,r,i){this._ensureKnownAddress(n);try{const s=await this.initializeRelay().signEthereumMessage(t,n,r,i);if((0,ou.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}catch(o){throw typeof o.message=="string"&&o.message.match(/(denied|rejected)/i)?us.standardErrors.provider.userRejectedRequest("User denied message signature"):o}}async _ethereumAddressFromSignedMessage(t,n,r){const o=await this.initializeRelay().ethereumAddressFromSignedMessage(t,n,r);if((0,ou.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,oi.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(yC);if(!t)return(0,oi.ensureIntNumber)(1);const n=parseInt(t,10);return(0,oi.ensureIntNumber)(n)}async _eth_requestAccounts(){if(this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let t;try{if(t=await this.initializeRelay().requestEthereumAccounts(),(0,ou.isErrorResponse)(t))throw new Error(t.errorMessage)}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?us.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!t.result)throw new Error("accounts received is empty");return this._setAddresses(t.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const n=(0,oi.ensureAddressString)(t[0]),r=(0,oi.ensureBuffer)(t[1]);return this._signEthereumMessage(r,n,!1)}_eth_ecRecover(t){const n=(0,oi.ensureBuffer)(t[0]),r=(0,oi.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(n,r,!1)}_personal_sign(t){this._requireAuthorization();const n=(0,oi.ensureBuffer)(t[0]),r=(0,oi.ensureAddressString)(t[1]);return this._signEthereumMessage(n,r,!0)}_personal_ecRecover(t){const n=(0,oi.ensureBuffer)(t[0]),r=(0,oi.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(n,r,!0)}async _eth_signTransaction(t){this._requireAuthorization();const n=this._prepareTransactionParams(t[0]||{});try{const i=await this.initializeRelay().signEthereumTransaction(n);if((0,ou.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?us.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_sendRawTransaction(t){const n=(0,oi.ensureBuffer)(t[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if((0,ou.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(t){this._requireAuthorization();const n=this._prepareTransactionParams(t[0]||{});try{const i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if((0,ou.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?us.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_signTypedData_v1(t){this._requireAuthorization();const n=(0,oi.ensureParsedJSONObject)(t[0]),r=(0,oi.ensureAddressString)(t[1]);this._ensureKnownAddress(r);const i=gC.default.hashForSignTypedDataLegacy({data:n}),o=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,o)}async _eth_signTypedData_v3(t){this._requireAuthorization();const n=(0,oi.ensureAddressString)(t[0]),r=(0,oi.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(n);const i=gC.default.hashForSignTypedData_v3({data:r}),o=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,o)}async _eth_signTypedData_v4(t){this._requireAuthorization();const n=(0,oi.ensureAddressString)(t[0]),r=(0,oi.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(n);const i=gC.default.hashForSignTypedData_v4({data:r}),o=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,o)}async _wallet_addEthereumChain(t){var n,r,i,o;const s=t[0];if(((n=s.rpcUrls)===null||n===void 0?void 0:n.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!s.chainName||s.chainName.trim()==="")throw us.standardErrors.rpc.invalidParams("chainName is a required field");if(!s.nativeCurrency)throw us.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(s.chainId,16);return await this.addEthereumChain(a,(r=s.rpcUrls)!==null&&r!==void 0?r:[],(i=s.blockExplorerUrls)!==null&&i!==void 0?i:[],s.chainName,(o=s.iconUrls)!==null&&o!==void 0?o:[],s.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const n=t[0];return await this.switchEthereumChain(parseInt(n.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){const n=Array.isArray(t)?t[0]:t;if(!n.type)throw us.standardErrors.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw us.standardErrors.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw us.standardErrors.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw us.standardErrors.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:o,image:s,decimals:a}=n.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(n.type,i,o,a,s,r)}}initializeRelay(){if(!this._relay){const t=new H1t.WalletLinkRelay({linkAPIUrl:fz.WALLETLINK_URL,storage:this._storage});t.setAppInfo(this._appName,this._appLogoUrl),t.attachUI(),t.setAccountsCallback((n,r)=>this._setAddresses(n,r)),t.setChainCallback((n,r)=>{this.updateProviderInfo(r,parseInt(n,10))}),this._relay=t}return this._relay}}DS.WalletLinkSigner=G1t;var qc={};Object.defineProperty(qc,"__esModule",{value:!0});qc.checkErrorForInvalidRequestArgs=qc.getCoinbaseInjectedProvider=qc.getCoinbaseInjectedSigner=qc.fetchRPCRequest=void 0;const Z1t=um,Xx=$d;async function J1t(e,t){if(!t.rpcUrl)throw Xx.standardErrors.rpc.internal("No RPC URL set for chain");const n=Object.assign(Object.assign({},e),{jsonrpc:"2.0",id:crypto.randomUUID()});return(await(await window.fetch(t.rpcUrl,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Z1t.LIB_VERSION}})).json()).result}qc.fetchRPCRequest=J1t;function wie(){return globalThis.coinbaseWalletSigner}qc.getCoinbaseInjectedSigner=wie;function Y1t(){return globalThis.coinbaseWalletExtension}function X1t(){var e,t;try{const n=globalThis;return(e=n.ethereum)!==null&&e!==void 0?e:(t=n.top)===null||t===void 0?void 0:t.ethereum}catch{return}}function Q1t({metadata:e,preference:t}){var n;if(t.options!=="smartWalletOnly"){if(wie())return;const o=Y1t();if(o){const{appName:s,appLogoUrl:a,appChainIds:c}=e;return(n=o.setAppInfo)===null||n===void 0||n.call(o,s,a,c),o}}const r=X1t();if(r!=null&&r.isCoinbaseBrowser)return r}qc.getCoinbaseInjectedProvider=Q1t;function ewt(e){if(!e||typeof e!="object"||Array.isArray(e))return Xx.standardErrors.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:e});const{method:t,params:n}=e;if(typeof t!="string"||t.length===0)return Xx.standardErrors.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))return Xx.standardErrors.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:e})}qc.checkErrorForInvalidRequestArgs=ewt;Object.defineProperty(rd,"__esModule",{value:!0});rd.createSigner=rd.fetchSignerType=rd.storeSignerType=rd.loadSignerType=void 0;const twt=BS,_ie=DS,nwt=$d,rwt=qc,iwt=Md,xie="SignerType",kie=new iwt.ScopedLocalStorage("CBWSDK","SignerConfigurator");function owt(){return kie.getItem(xie)}rd.loadSignerType=owt;function swt(e){kie.setItem(xie,e)}rd.storeSignerType=swt;async function awt(e){const{communicator:t,metadata:n}=e;lwt(t,n).catch(()=>{});const r={id:crypto.randomUUID(),event:"selectSignerType",data:e.preference},{data:i}=await t.postRequestAndWaitForResponse(r);return i}rd.fetchSignerType=awt;function cwt(e){const{signerType:t,metadata:n,communicator:r,updateListener:i}=e;switch(t){case"scw":return new twt.SCWSigner({metadata:n,updateListener:i,communicator:r});case"walletlink":return new _ie.WalletLinkSigner({metadata:n,updateListener:i});case"extension":{const o=(0,rwt.getCoinbaseInjectedSigner)();if(!o)throw nwt.standardErrors.rpc.internal("injected signer not found");return o}}}rd.createSigner=cwt;async function lwt(e,t){await e.onMessage(({event:r})=>r==="WalletLinkSessionRequest");const n=new _ie.WalletLinkSigner({metadata:t});e.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),e.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}var QS={},A0={};Object.defineProperty(A0,"__esModule",{value:!0});A0.closePopup=A0.openPopup=void 0;const dwt=$d,pz=420,mz=540;function uwt(e){const t=(window.innerWidth-pz)/2+window.screenX,n=(window.innerHeight-mz)/2+window.screenY,r=window.open(e,"Smart Wallet",`width=${pz}, height=${mz}, left=${t}, top=${n}`);if(r==null||r.focus(),!r)throw dwt.standardErrors.rpc.internal("Pop up window failed to open");return r}A0.openPopup=uwt;function fwt(e){e&&!e.closed&&e.close()}A0.closePopup=fwt;Object.defineProperty(QS,"__esModule",{value:!0});QS.Communicator=void 0;const hwt=um,gz=A0,pwt=ld,yz=$d;class mwt{constructor(t=pwt.CB_KEYS_URL){this.popup=null,this.listeners=new Map,this.postMessage=async n=>{(await this.waitForPopupLoaded()).postMessage(n,this.url.origin)},this.postRequestAndWaitForResponse=async n=>{const r=this.onMessage(({requestId:i})=>i===n.id);return this.postMessage(n),await r},this.onMessage=async n=>new Promise((r,i)=>{const o=s=>{if(s.origin!==this.url.origin)return;const a=s.data;n(a)&&(r(a),window.removeEventListener("message",o),this.listeners.delete(o))};window.addEventListener("message",o),this.listeners.set(o,{reject:i})}),this.disconnect=()=>{(0,gz.closePopup)(this.popup),this.popup=null,this.listeners.forEach(({reject:n},r)=>{n(yz.standardErrors.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",r)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=(0,gz.openPopup)(this.url),this.onMessage(({event:n})=>n==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:n})=>n==="PopupLoaded").then(n=>{this.postMessage({requestId:n.id,data:{version:hwt.LIB_VERSION}})}).then(()=>{if(!this.popup)throw yz.standardErrors.rpc.internal();return this.popup})),this.url=new URL(t)}}QS.Communicator=mwt;var e5={};Object.defineProperty(e5,"__esModule",{value:!0});e5.determineMethodCategory=void 0;const vz={handshake:["eth_requestAccounts"],sign:["eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","wallet_getCapabilities","wallet_sendCalls","wallet_showCallsStatus"],state:["eth_chainId","eth_accounts","eth_coinbase","net_version"],deprecated:["eth_sign","eth_signTypedData_v2"],unsupported:["eth_subscribe","eth_unsubscribe"],fetch:[]};function gwt(e){for(const t in vz){const n=t;if(vz[n].includes(e))return n}}e5.determineMethodCategory=gwt;var ywt=cr&&cr.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},vwt=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PS,"__esModule",{value:!0});PS.CoinbaseWalletProvider=void 0;const bwt=vwt(ryt),Km=$d,wwt=NS,xx=Ys,nv=$n,kx=rd,bz=qc,_wt=QS,xwt=e5,kwt=Md;class Swt extends bwt.default{constructor(t){var n,r,{metadata:i}=t,o=t.preference,{keysUrl:s}=o,a=ywt(o,["keysUrl"]);super(),this.accounts=[],this.handlers={handshake:async l=>{try{if(this.connected)return this.emit("connect",{chainId:(0,nv.hexStringFromIntNumber)((0,xx.IntNumber)(this.chain.id))}),this.accounts;const d=await this.requestSignerSelection(),f=this.initSigner(d),p=await f.handshake();return this.signer=f,(0,kx.storeSignerType)(d),this.emit("connect",{chainId:(0,nv.hexStringFromIntNumber)((0,xx.IntNumber)(this.chain.id))}),p}catch(d){throw this.handleUnauthorizedError(d),d}},sign:async l=>{if(!this.connected||!this.signer)throw Km.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods");try{return await this.signer.request(l)}catch(d){throw this.handleUnauthorizedError(d),d}},fetch:l=>(0,bz.fetchRPCRequest)(l,this.chain),state:l=>{const d=()=>{if(this.connected)return this.accounts;throw Km.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")};switch(l.method){case"eth_chainId":return(0,nv.hexStringFromIntNumber)((0,xx.IntNumber)(this.chain.id));case"net_version":return this.chain.id;case"eth_accounts":return d();case"eth_coinbase":return d()[0];default:return this.handlers.unsupported(l)}},deprecated:({method:l})=>{throw Km.standardErrors.rpc.methodNotSupported(`Method ${l} is deprecated.`)},unsupported:({method:l})=>{throw Km.standardErrors.rpc.methodNotSupported(`Method ${l} is not supported.`)}},this.isCoinbaseWallet=!0,this.updateListener={onAccountsUpdate:({accounts:l,source:d})=>{(0,nv.areAddressArraysEqual)(this.accounts,l)||(this.accounts=l,d!=="storage"&&this.emit("accountsChanged",this.accounts))},onChainUpdate:({chain:l,source:d})=>{l.id===this.chain.id&&l.rpcUrl===this.chain.rpcUrl||(this.chain=l,d!=="storage"&&this.emit("chainChanged",(0,nv.hexStringFromIntNumber)((0,xx.IntNumber)(l.id))))}},this.metadata=i,this.preference=a,this.communicator=new _wt.Communicator(s),this.chain={id:(r=(n=i.appChainIds)===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:1};const c=(0,kx.loadSignerType)();this.signer=c?this.initSigner(c):null}get connected(){return this.accounts.length>0}async request(t){var n;try{const r=(0,bz.checkErrorForInvalidRequestArgs)(t);if(r)throw r;const i=(n=(0,xwt.determineMethodCategory)(t.method))!==null&&n!==void 0?n:"fetch";return this.handlers[i](t)}catch(r){return Promise.reject((0,wwt.serializeError)(r,t.method))}}handleUnauthorizedError(t){t.code===Km.standardErrorCodes.provider.unauthorized&&this.disconnect()}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){this.accounts=[],this.chain={id:1},kwt.ScopedLocalStorage.clearAll(),this.emit("disconnect",Km.standardErrors.provider.disconnected("User initiated disconnection"))}requestSignerSelection(){return(0,kx.fetchSignerType)({communicator:this.communicator,preference:this.preference,metadata:this.metadata})}initSigner(t){return(0,kx.createSigner)({signerType:t,metadata:this.metadata,communicator:this.communicator,updateListener:this.updateListener})}}PS.CoinbaseWalletProvider=Swt;Object.defineProperty(Zb,"__esModule",{value:!0});Zb.CoinbaseWalletSDK=void 0;const Ewt=RS,Cwt=PS,Iwt=Md,Awt=um,Twt=$n,Rwt=qc;class Pwt{constructor(t){this.metadata={appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||(0,Twt.getFavicon)(),appChainIds:t.appChainIds||[]},this.storeLatestVersion()}makeWeb3Provider(t={options:"all"}){var n;const r={metadata:this.metadata,preference:t};return(n=(0,Rwt.getCoinbaseInjectedProvider)(r))!==null&&n!==void 0?n:new Cwt.CoinbaseWalletProvider(r)}getCoinbaseWalletLogo(t,n=240){return(0,Ewt.walletLogo)(t,n)}storeLatestVersion(){new Iwt.ScopedLocalStorage("CBWSDK").setItem("VERSION",Awt.LIB_VERSION)}}Zb.CoinbaseWalletSDK=Pwt;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletSDK=void 0;const t=Zb;e.default=t.CoinbaseWalletSDK;var n=Zb;Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}})})(tre);let vC;const bC=84532,wC=8453,Owt=({appLogoUrl:e,appName:t,evmNetworks:n,walletPreference:r}={})=>{const i=n==null?void 0:n.map(a=>Number(a.chainId));return(n==null?void 0:n.some(a=>a.chainId===bC))&&(i==null||i.sort((a,c)=>a===bC?-1:c===bC?1:0)),(n==null?void 0:n.some(a=>a.chainId===wC))&&(i==null||i.sort((a,c)=>a===wC?-1:c===wC?1:0)),vC||(vC=new tre.CoinbaseWalletSDK({appChainIds:i,appLogoUrl:e,appName:t}).makeWeb3Provider({options:r??"all"})),vC};class Nwt extends TP{constructor(t){var{appName:n,appLogoUrl:r,evmNetworks:i,coinbaseWalletPreference:o}=t,s=Uit(t,["appName","appLogoUrl","evmNetworks","coinbaseWalletPreference"]);super(Object.assign({evmNetworks:i},s)),this.name="Coinbase",this.overrideKey="coinbase",this.supportedChains=["EVM","ETH"],this.connectedChain="EVM",this.canConnectViaQrCode=!1,this.canConnectViaCustodialService=!this.isInstalledOnBrowser(),this.coinbaseProviderOpts={appLogoUrl:r,appName:n,evmNetworks:i,walletPreference:o}}get coinbaseProvider(){return Owt(this.coinbaseProviderOpts)}getConnectedAccounts(){return Nr(this,void 0,void 0,function*(){try{const t=yield this.coinbaseProvider.request({method:"eth_accounts"});return t[0]&&this.setActiveAccount(t[0]),t}catch{return[]}})}isInstalledOnBrowser(){var t;return!!(!((t=window==null?void 0:window.coinbaseWalletExtension)===null||t===void 0)&&t.isCoinbaseWallet)}getAddress(){return Nr(this,void 0,void 0,function*(){const[t]=yield this.coinbaseProvider.request({method:"eth_requestAccounts"});return this.setActiveAccount(t),t})}signMessage(t){return Nr(this,void 0,void 0,function*(){const[n]=yield this.coinbaseProvider.request({method:"eth_requestAccounts"});try{return yield this.coinbaseProvider.request({method:"personal_sign",params:[hn(bl(t)),n.toLowerCase()]})}catch{return}})}setupEventListeners(){const{handleAccountChange:t,handleChainChange:n,handleDisconnect:r}=hK(this);this.coinbaseProvider.on("accountsChanged",t),this.coinbaseProvider.on("chainChanged",n),this.coinbaseProvider.on("disconnect",r),this.teardownEventListeners=()=>{this.coinbaseProvider.removeListener("accountsChanged",t),this.coinbaseProvider.removeListener("chainChanged",n),this.coinbaseProvider.removeListener("disconnect",r)}}getWalletClient(t){return nb({account:this.getActiveAccount(),chain:t?YT[t]:void 0,transport:eb(this.coinbaseProvider)})}}Gs.getEvmProviderByChainId=(e,t)=>{var n;return(n=Gs.getProviders(e).evm)===null||n===void 0?void 0:n.find(o=>o.chainId===t)};Gs.registerEvmProviders=()=>{Gs.registerChainProviders(n0.EVM,e=>{const t={};return e!=null&&e.evm&&(t.evm=FA(e.evm).map(n=>{var r;const i=((r=n.privateCustomerRpcUrls)===null||r===void 0?void 0:r[0])||n.rpcUrls[0],o=NA({chain:d2(n),transport:KC(i)});return{chainId:n.chainId,chainName:n.name,provider:o}})),t.evm})};const jwt=e=>[...Y0t,...Q0t(e),...eyt(e),...Ont(e),Nwt,Z0t,J0t,tyt()];function Xn(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(e,[])).next())})}var Sx=Da.Buffer;function Bwt(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=Sx.from(m)),!Sx.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var g=0,y=0,v=0,w=m.length;v!==w&&m[v]===0;)v++,g++;for(var _=(w-v)*l+1>>>0,E=new Uint8Array(_);v!==w;){for(var C=m[v],T=0,A=_-1;(C!==0||T<y)&&A!==-1;A--,T++)C+=256*E[A]>>>0,E[A]=C%s>>>0,C=C/s>>>0;if(C!==0)throw new Error("Non-zero carry");y=T,v++}for(var S=_-y;S!==_&&E[S]===0;)S++;for(var O=a.repeat(g);S<_;++S)O+=e.charAt(E[S]);return O}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return Sx.alloc(0);for(var g=0,y=0,v=0;m[g]===a;)y++,g++;for(var w=(m.length-g)*c+1>>>0,_=new Uint8Array(w);g<m.length;){var E=m.charCodeAt(g);if(E>255)return;var C=t[E];if(C===255)return;for(var T=0,A=w-1;(C!==0||T<v)&&A!==-1;A--,T++)C+=s*_[A]>>>0,_[A]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");v=T,g++}for(var S=w-v;S!==w&&_[S]===0;)S++;var O=Sx.allocUnsafe(y+(w-S));O.fill(0,0,y);for(var D=y;S!==w;)O[D++]=_[S++];return O}function p(m){var g=f(m);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:f,decode:p}}var $wt=Bwt,Mwt=$wt,Dwt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Lwt=Mwt(Dwt);const Rs=qo(Lwt);class Uwt extends TypeError{constructor(t,n){let r;const{message:i,explanation:o,...s}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function Fwt(e){return Cu(e)&&typeof e[Symbol.iterator]=="function"}function Cu(e){return typeof e=="object"&&e!=null}function Ml(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Wwt(e){const{done:t,value:n}=e.next();return t?void 0:n}function zwt(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ml(r)}\``}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*wz(e,t,n,r){Fwt(e)||(e=[e]);for(const i of e){const o=zwt(i,t,n,r);o&&(yield o)}}function*_O(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&t.type!=="type"&&Cu(t.schema)&&Cu(e)&&!Array.isArray(e)))for(const l in e)t.schema[l]===void 0&&delete e[l];let c="valid";for(const l of t.validator(e,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,d,f]of t.entries(e,a)){const p=_O(d,f,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,d],coerce:o,mask:s,message:n.message});for(const m of p)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(d=m[1],l===void 0?e=d:e instanceof Map?e.set(l,d):e instanceof Set?e.add(d):Cu(e)&&(d!==void 0||l in e)&&(e[l]=d))}if(c!=="not_valid")for(const l of t.refiner(e,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}let Dd=class{constructor(t){const{type:n,schema:r,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{const d=i(c,l);return wz(d,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{const d=o(c,l);return wz(d,l,this,c)}:this.refiner=()=>[]}assert(t,n){return qwt(t,this,n)}create(t,n){return $t(t,this,n)}is(t){return Sie(t,this)}mask(t,n){return Vwt(t,this,n)}validate(t,n={}){return _w(t,this,n)}};function qwt(e,t,n){const r=_w(e,t,{message:n});if(r[0])throw r[0]}function $t(e,t,n){const r=_w(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Vwt(e,t,n){const r=_w(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Sie(e,t){return!_w(e,t)[0]}function _w(e,t,n={}){const r=_O(e,t,n),i=Wwt(r);return i[0]?[new Uwt(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function gm(e,t){return new Dd({type:e,schema:null,validator:t})}function Hwt(){return gm("any",()=>!0)}function Yt(e){return new Dd({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Ml(t)}`}})}function wd(){return gm("boolean",e=>typeof e=="boolean")}function xO(e){return gm("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Ml(t)}`)}function go(e){const t=Ml(e),n=typeof e;return new Dd({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${Ml(r)}`}})}function Kwt(){return gm("never",()=>!1)}function Ht(e){return new Dd({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function Oe(){return gm("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Ml(e)}`)}function rr(e){return new Dd({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Eie(e,t){return new Dd({type:"record",schema:null,*entries(n){if(Cu(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator(n){return Cu(n)||`Expected an object, but received: ${Ml(n)}`}})}function Pt(){return gm("string",e=>typeof e=="string"||`Expected a string, but received: ${Ml(e)}`)}function kO(e){const t=Kwt();return new Dd({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Ml(n)}`}})}function mt(e){const t=Object.keys(e);return new Dd({type:"type",schema:e,*entries(n){if(Cu(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return Cu(n)||`Expected an object, but received: ${Ml(n)}`},coercer(n){return Cu(n)?{...n}:n}})}function ja(e){const t=e.map(n=>n.type).join(" | ");return new Dd({type:"union",schema:null,coercer(n){for(const r of e){const[i,o]=r.validate(n,{coerce:!0});if(!i)return o}return n},validator(n,r){const i=[];for(const o of e){const[...s]=_O(n,o,r),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Ml(n)}`,...i]}})}function xw(){return gm("unknown",()=>!0)}function kw(e,t,n){return new Dd({...e,coercer:(r,i)=>Sie(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var Cie={},Iie={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,d){this.fn=c,this.context=l,this.once=d||!1}function o(c,l,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,p),g=n?n+l:l;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],d,f;if(this._eventsCount===0)return l;for(f in d=this._events)t.call(d,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},a.prototype.listeners=function(l){var d=n?n+l:l,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},a.prototype.listenerCount=function(l){var d=n?n+l:l,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,d,f,p,m,g){var y=n?n+l:l;if(!this._events[y])return!1;var v=this._events[y],w=arguments.length,_,E;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,m),!0;case 6:return v.fn.call(v.context,d,f,p,m,g),!0}for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];v.fn.apply(v.context,_)}else{var C=v.length,T;for(E=0;E<C;E++)switch(v[E].once&&this.removeListener(l,v[E].fn,void 0,!0),w){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,d);break;case 3:v[E].fn.call(v[E].context,d,f);break;case 4:v[E].fn.call(v[E].context,d,f,p);break;default:if(!_)for(T=1,_=new Array(w-1);T<w;T++)_[T-1]=arguments[T];v[E].fn.apply(v[E].context,_)}}return!0},a.prototype.on=function(l,d,f){return o(this,l,d,f,!1)},a.prototype.once=function(l,d,f){return o(this,l,d,f,!0)},a.prototype.removeListener=function(l,d,f,p){var m=n?n+l:l;if(!this._events[m])return this;if(!d)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&s(this,m);else{for(var y=0,v=[],w=g.length;y<w;y++)(g[y].fn!==d||p&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(l){var d;return l?(d=n?n+l:l,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Iie);var Aie=Iie.exports,T0={};Object.defineProperty(T0,"__esModule",{value:!0});T0.createError=T0.DefaultDataPack=void 0;const Gwt=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);class Zwt{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}}T0.DefaultDataPack=Zwt;function Jwt(e,t){const n={code:e,message:Gwt.get(e)||"Internal Server Error"};return t&&(n.data=t),n}T0.createError=Jwt;Object.defineProperty(Cie,"__esModule",{value:!0});const Ywt=Aie,Xwt=T0;class Qwt extends Ywt.EventEmitter{constructor(n,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:o=!0,reconnect_interval:s=1e3,max_reconnects:a=5,...c}={},l,d){super();en(this,"address");en(this,"rpc_id");en(this,"queue");en(this,"options");en(this,"autoconnect");en(this,"ready");en(this,"reconnect");en(this,"reconnect_timer_id");en(this,"reconnect_interval");en(this,"max_reconnects");en(this,"rest_options");en(this,"current_reconnects");en(this,"generate_request_id");en(this,"socket");en(this,"webSocketFactory");en(this,"dataPack");this.webSocketFactory=n,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=o,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=l||(()=>++this.rpc_id),d?this.dataPack=d:this.dataPack=new Xwt.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(n,r,i,o){return!o&&typeof i=="object"&&(o=i,i=null),new Promise((s,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(n,r),l={jsonrpc:"2.0",method:n,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(l),o,d=>{if(d)return a(d);this.queue[c]={promise:[s,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(n){const r=await this.call("rpc.login",n);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(n,r){return new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const s={jsonrpc:"2.0",method:n,params:r};this.socket.send(this.dataPack.encode(s),a=>{if(a)return o(a);i()})})}async subscribe(n){typeof n=="string"&&(n=[n]);const r=await this.call("rpc.on",n);if(typeof n=="string"&&r[n]!=="ok")throw new Error("Failed subscribing to an event '"+n+"' with: "+r[n]);return r}async unsubscribe(n){typeof n=="string"&&(n=[n]);const r=await this.call("rpc.off",n);if(typeof n=="string"&&r[n]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(n,r){this.socket.close(n||1e3,r)}setAutoReconnect(n){this.reconnect=n}setReconnectInterval(n){this.reconnect_interval=n}setMaxReconnects(n){this.max_reconnects=n}_connect(n,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(n,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const o=[i.notification];if(i.params.constructor===Object)o.push(i.params);else for(let s=0;s<i.params.length;s++)o.push(i.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,o)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:o})=>{this.ready&&setTimeout(()=>this.emit("close",i,o),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(n,r),this.reconnect_interval)))})}}var e_t=Cie.default=Qwt,Tie={};Object.defineProperty(Tie,"__esModule",{value:!0});const t_t=Aie;class n_t extends t_t.EventEmitter{constructor(n,r,i){super();en(this,"socket");this.socket=new window.WebSocket(n,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=o=>this.emit("message",o.data),this.socket.onerror=o=>this.emit("error",o),this.socket.onclose=o=>{this.emit("close",o.code,o.reason)}}send(n,r,i){const o=i||r;try{this.socket.send(n),o()}catch(s){o(s)}}close(n,r){this.socket.close(n,r)}addEventListener(n,r,i){this.socket.addEventListener(n,r,i)}}function r_t(e,t){return new n_t(e,t)}var i_t=Tie.default=r_t;function _z(e){try{return cc.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Rie=(e,t)=>cc.sign(e,t.slice(0,32)),o_t=cc.verify,R0=e=>Se.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Se.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Se.Buffer.from(e);class s_t{constructor(t){Object.assign(this,t)}encode(){return Se.Buffer.from(ny(Qx,this))}static decode(t){return ry(Qx,this,t)}static decodeUnchecked(t){return ty(Qx,this,t)}}const Qx=new Map;var Pie;const a_t=32,Nf=32;function c_t(e){return e._bn!==void 0}let xz=1;class Ln extends s_t{constructor(t){if(super({}),this._bn=void 0,c_t(t))this._bn=t._bn;else{if(typeof t=="string"){const n=Rs.decode(t);if(n.length!=Nf)throw new Error("Invalid public key input");this._bn=new pd(n)}else this._bn=new pd(t);if(this._bn.byteLength()>Nf)throw new Error("Invalid public key input")}}static unique(){const t=new Ln(xz);return xz+=1,new Ln(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Rs.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Se.Buffer);if(t.length===Nf)return t;const n=Se.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Se.Buffer.concat([t.toBuffer(),Se.Buffer.from(n),r.toBuffer()]),o=El(i);return new Ln(o)}static createProgramAddressSync(t,n){let r=Se.Buffer.alloc(0);t.forEach(function(o){if(o.length>a_t)throw new TypeError("Max seed length exceeded");r=Se.Buffer.concat([r,R0(o)])}),r=Se.Buffer.concat([r,n.toBuffer(),Se.Buffer.from("ProgramDerivedAddress")]);const i=El(r);if(_z(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ln(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Se.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new Ln(t);return _z(n.toBytes())}}Pie=Ln;Ln.default=new Pie("11111111111111111111111111111111");Qx.set(Ln,{kind:"struct",fields:[["_bn","u256"]]});new Ln("BPFLoader1111111111111111111111111111111111");const Lg=1232,SO=127,pk=64;class Oie extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Oie.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Nie extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Nie.prototype,"name",{value:"TransactionExpiredTimeoutError"});class wv extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(wv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class mk{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const Zr=(e="publicKey")=>Et(32,e),l_t=(e="signature")=>Et(64,e),kg=(e="string")=>{const t=le([he("length"),he("lengthPadding"),Et(vi(he(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const c={chars:Se.Buffer.from(o,"utf8")};return r(c,s,a)},i.alloc=o=>he().span+he().span+Se.Buffer.from(o,"utf8").length,i},d_t=(e="authorized")=>le([Zr("staker"),Zr("withdrawer")],e),u_t=(e="lockup")=>le([xn("unixTimestamp"),xn("epoch"),Zr("custodian")],e),f_t=(e="voteInit")=>le([Zr("nodePubkey"),Zr("authorizedVoter"),Zr("authorizedWithdrawer"),Ve("commission")],e),h_t=(e="voteAuthorizeWithSeedArgs")=>le([he("voteAuthorizationType"),Zr("currentAuthorityDerivedKeyOwnerPubkey"),kg("currentAuthorityDerivedKeySeed"),Zr("newAuthorized")],e);function Ja(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,!(r&128))break}return t}function Ya(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function oo(e,t){if(!e)throw new Error(t||"Assertion failed")}class t5{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new t5(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];oo(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,c])=>c.isSigner&&c.isWritable),r=t.filter(([,c])=>c.isSigner&&!c.isWritable),i=t.filter(([,c])=>!c.isSigner&&c.isWritable),o=t.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{oo(n.length>0,"Expected at least one writable signer key");const[c]=n[0];oo(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new Ln(c)),...r.map(([c])=>new Ln(c)),...i.map(([c])=>new Ln(c)),...o.map(([c])=>new Ln(c))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Ln(o),c=t.findIndex(l=>l.equals(a));c>=0&&(oo(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}}const jie="Reached end of buffer unexpectedly";function gu(e){if(e.length===0)throw new Error(jie);return e.shift()}function Xa(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(jie);return e.splice(...t)}class Mu{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new Ln(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Rs.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new mk(this.staticAccountKeys)}static compile(t){const n=t5.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new mk(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Rs.encode(a.data)}));return new Mu({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];Ya(n,t);const r=this.instructions.map(f=>{const{accounts:p,programIdIndex:m}=f,g=Array.from(Rs.decode(f.data));let y=[];Ya(y,p.length);let v=[];return Ya(v,g.length),{programIdIndex:m,keyIndicesCount:Se.Buffer.from(y),keyIndices:p,dataLength:Se.Buffer.from(v),data:g}});let i=[];Ya(i,r.length);let o=Se.Buffer.alloc(Lg);Se.Buffer.from(i).copy(o);let s=i.length;r.forEach(f=>{const m=le([Ve("programIdIndex"),Et(f.keyIndicesCount.length,"keyIndicesCount"),Tn(Ve("keyIndex"),f.keyIndices.length,"keyIndices"),Et(f.dataLength.length,"dataLength"),Tn(Ve("userdatum"),f.data.length,"data")]).encode(f,o,s);s+=m}),o=o.slice(0,s);const a=le([Et(1,"numRequiredSignatures"),Et(1,"numReadonlySignedAccounts"),Et(1,"numReadonlyUnsignedAccounts"),Et(n.length,"keyCount"),Tn(Zr("key"),t,"keys"),Zr("recentBlockhash")]),c={numRequiredSignatures:Se.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Se.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Se.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Se.Buffer.from(n),keys:this.accountKeys.map(f=>R0(f.toBytes())),recentBlockhash:Rs.decode(this.recentBlockhash)};let l=Se.Buffer.alloc(2048);const d=a.encode(c,l);return o.copy(l,d),l.slice(0,d+o.length)}static from(t){let n=[...t];const r=gu(n);if(r!==(r&SO))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=gu(n),o=gu(n),s=Ja(n);let a=[];for(let p=0;p<s;p++){const m=Xa(n,0,Nf);a.push(new Ln(Se.Buffer.from(m)))}const c=Xa(n,0,Nf),l=Ja(n);let d=[];for(let p=0;p<l;p++){const m=gu(n),g=Ja(n),y=Xa(n,0,g),v=Ja(n),w=Xa(n,0,v),_=Rs.encode(Se.Buffer.from(w));d.push({programIdIndex:m,accounts:y,data:_})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Rs.encode(Se.Buffer.from(c)),accountKeys:a,instructions:d};return new Mu(f)}}class Xb{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new mk(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const i=t-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){const i=t-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=t5.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const d of o){const f=n.extractTableLookup(d);if(f!==void 0){const[p,{writable:m,readonly:g}]=f;r.push(p),i.writable.push(...m),i.readonly.push(...g)}}const[s,a]=n.getMessageComponents(),l=new mk(a,i).compileInstructions(t.instructions);return new Xb({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:l,addressTableLookups:r})}serialize(){const t=Array();Ya(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Ya(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();Ya(o,this.addressTableLookups.length);const s=le([Ve("prefix"),le([Ve("numRequiredSignatures"),Ve("numReadonlySignedAccounts"),Ve("numReadonlyUnsignedAccounts")],"header"),Et(t.length,"staticAccountKeysLength"),Tn(Zr(),this.staticAccountKeys.length,"staticAccountKeys"),Zr("recentBlockhash"),Et(r.length,"instructionsLength"),Et(n.length,"serializedInstructions"),Et(o.length,"addressTableLookupsLength"),Et(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Lg),l=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:Rs.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,l)}serializeInstructions(){let t=0;const n=new Uint8Array(Lg);for(const r of this.compiledInstructions){const i=Array();Ya(i,r.accountKeyIndexes.length);const o=Array();Ya(o,r.data.length);const s=le([Ve("programIdIndex"),Et(i.length,"encodedAccountKeyIndexesLength"),Tn(Ve(),r.accountKeyIndexes.length,"accountKeyIndexes"),Et(o.length,"encodedDataLength"),Et(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(Lg);for(const r of this.addressTableLookups){const i=Array();Ya(i,r.writableIndexes.length);const o=Array();Ya(o,r.readonlyIndexes.length);const s=le([Zr("accountKey"),Et(i.length,"encodedWritableIndexesLength"),Tn(Ve(),r.writableIndexes.length,"writableIndexes"),Et(o.length,"encodedReadonlyIndexesLength"),Tn(Ve(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=gu(n),i=r&SO;oo(r!==i,"Expected versioned message but received legacy message");const o=i;oo(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:gu(n),numReadonlySignedAccounts:gu(n),numReadonlyUnsignedAccounts:gu(n)},a=[],c=Ja(n);for(let g=0;g<c;g++)a.push(new Ln(Xa(n,0,Nf)));const l=Rs.encode(Xa(n,0,Nf)),d=Ja(n),f=[];for(let g=0;g<d;g++){const y=gu(n),v=Ja(n),w=Xa(n,0,v),_=Ja(n),E=new Uint8Array(Xa(n,0,_));f.push({programIdIndex:y,accountKeyIndexes:w,data:E})}const p=Ja(n),m=[];for(let g=0;g<p;g++){const y=new Ln(Xa(n,0,Nf)),v=Ja(n),w=Xa(n,0,v),_=Ja(n),E=Xa(n,0,_);m.push({accountKey:y,writableIndexes:w,readonlyIndexes:E})}return new Xb({header:s,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:f,addressTableLookups:m})}}const Bie={deserializeMessageVersion(e){const t=e[0],n=t&SO;return n===t?"legacy":n},deserialize:e=>{const t=Bie.deserializeMessageVersion(e);if(t==="legacy")return Mu.from(e);if(t===0)return Xb.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let pf=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const p_t=Se.Buffer.alloc(pk).fill(0);class D7{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Se.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class zc{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new D7(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<n.length;y++)if(n[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],o=[];n.forEach(y=>{y.keys.forEach(w=>{o.push({...w})});const v=y.programId.toString();i.includes(v)||i.push(v)}),i.forEach(y=>{o.push({pubkey:new Ln(y),isSigner:!1,isWritable:!1})});const s=[];o.forEach(y=>{const v=y.pubkey.toString(),w=s.findIndex(_=>_.pubkey.toString()===v);w>-1?(s[w].isWritable=s[w].isWritable||y.isWritable,s[w].isSigner=s[w].isSigner||y.isSigner):s.push(y)}),s.sort(function(y,v){if(y.isSigner!==v.isSigner)return y.isSigner?-1:1;if(y.isWritable!==v.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(v.pubkey.toBase58(),"en",w)});const a=s.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=s.splice(a,1);y.isSigner=!0,y.isWritable=!0,s.unshift(y)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const v=s.findIndex(w=>w.pubkey.equals(y.publicKey));if(v>-1)s[v].isSigner||(s[v].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,l=0,d=0;const f=[],p=[];s.forEach(({pubkey:y,isSigner:v,isWritable:w})=>{v?(f.push(y.toString()),c+=1,w||(l+=1)):(p.push(y.toString()),w||(d+=1))});const m=f.concat(p),g=n.map(y=>{const{data:v,programId:w}=y;return{programIdIndex:m.indexOf(w.toString()),accounts:y.keys.map(_=>m.indexOf(_.pubkey.toString())),data:Rs.encode(v)}});return g.forEach(y=>{oo(y.programIdIndex>=0),y.accounts.forEach(v=>oo(v>=0))}),new Mu({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:g})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=Rie(r,i.secretKey);this._addSignature(i.publicKey,R0(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){oo(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Se.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):o_t(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];Ya(r,n.length);const i=r.length+n.length*64+t.length,o=Se.Buffer.alloc(i);return oo(n.length<256),Se.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(oo(s.length===64,"signature has invalid length"),Se.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),oo(o.length<=Lg,`Transaction too large: ${o.length} > ${Lg}`),o}get keys(){return oo(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return oo(this.instructions.length===1),this.instructions[0].programId}get data(){return oo(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=Ja(n);let i=[];for(let o=0;o<r;o++){const s=Xa(n,0,pk);i.push(Rs.encode(Se.Buffer.from(s)))}return zc.populate(Mu.from(n),i)}static populate(t,n=[]){const r=new zc;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==Rs.encode(p_t)?null:Rs.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new D7({keys:o,programId:t.accountKeys[i.programIdIndex],data:Rs.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}}class EO{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)oo(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<t.header.numRequiredSignatures;i++)r.push(new Uint8Array(pk));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();Ya(n,this.signatures.length);const r=le([Et(n.length,"encodedSignaturesLength"),Tn(l_t(),this.signatures.length,"signatures"),Et(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let n=[...t];const r=[],i=Ja(n);for(let s=0;s<i;s++)r.push(new Uint8Array(Xa(n,0,pk)));const o=Bie.deserialize(new Uint8Array(n));return new EO(o,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const o=r.findIndex(s=>s.equals(i.publicKey));oo(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=Rie(n,i.secretKey)}}addSignature(t,n){oo(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));oo(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const m_t=160,g_t=64,y_t=m_t/g_t,v_t=1e3/y_t;new Ln("SysvarC1ock11111111111111111111111111111111");new Ln("SysvarEpochSchedu1e111111111111111111111111");new Ln("Sysvar1nstructions1111111111111111111111111");new Ln("SysvarRecentB1ockHashes11111111111111111111");new Ln("SysvarRent111111111111111111111111111111111");new Ln("SysvarRewards111111111111111111111111111111");new Ln("SysvarS1otHashes111111111111111111111111111");new Ln("SysvarS1otHistory11111111111111111111111111");new Ln("SysvarStakeHistory1111111111111111111111111");class kz extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:i}){let o;switch(t){case"send":o=`Transaction ${n} resulted in an error. 
${r}. `+(i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"")+"\nCatch the SendTransactionError and call `getLogs()` on it for full details.";break;case"simulate":o=`Simulation failed. 
Message: ${r}. 
`+(i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"")+"\nCatch the SendTransactionError and call `getLogs()` on it for full details.";break;default:o="Unknown action"}super(o),this.signature=void 0,this.transactionMessage=void 0,this.logs=void 0,this.signature=n,this.transactionMessage=r,this.logs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.logs)?this.logs:void 0}}async getLogs(t){return Array.isArray(this.logs)||(this.logs=new Promise((n,r)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.logs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.logs}}class An extends Error{constructor({code:t,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}function cg(e){return new Promise(t=>setTimeout(t,e))}const b_t=Ot("lamportsPerSignature"),$ie=le([he("version"),he("state"),Zr("authorizedPubkey"),Zr("nonce"),le([b_t],"feeCalculator")]);$ie.span;class CO{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=$ie.decode(R0(t),0);return new CO({authorizedPubkey:new Ln(n.authorizedPubkey),nonce:new Ln(n.nonce).toString(),feeCalculator:n.feeCalculator})}}const w_t=e=>{const t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}},__t=e=>t=>{const n=Et(e,t),{encode:r,decode:i}=w_t(n),o=n;return o.decode=(s,a)=>{const c=i(s,a);return M1(Se.Buffer.from(c))},o.encode=(s,a,c)=>{const l=D1(s,e);return r(l,a,c)},o},P0=__t(8);Object.freeze({Create:{index:0,layout:le([he("instruction"),xn("lamports"),xn("space"),Zr("programId")])},Assign:{index:1,layout:le([he("instruction"),Zr("programId")])},Transfer:{index:2,layout:le([he("instruction"),P0("lamports")])},CreateWithSeed:{index:3,layout:le([he("instruction"),Zr("base"),kg("seed"),xn("lamports"),xn("space"),Zr("programId")])},AdvanceNonceAccount:{index:4,layout:le([he("instruction")])},WithdrawNonceAccount:{index:5,layout:le([he("instruction"),xn("lamports")])},InitializeNonceAccount:{index:6,layout:le([he("instruction"),Zr("authorized")])},AuthorizeNonceAccount:{index:7,layout:le([he("instruction"),Zr("authorized")])},Allocate:{index:8,layout:le([he("instruction"),xn("space")])},AllocateWithSeed:{index:9,layout:le([he("instruction"),Zr("base"),kg("seed"),xn("space"),Zr("programId")])},AssignWithSeed:{index:10,layout:le([he("instruction"),Zr("base"),kg("seed"),Zr("programId")])},TransferWithSeed:{index:11,layout:le([he("instruction"),P0("lamports"),kg("seed"),Zr("programId")])},UpgradeNonceAccount:{index:12,layout:le([he("instruction")])}});new Ln("11111111111111111111111111111111");new Ln("BPFLoader2111111111111111111111111111111111");function x_t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k_t=Object.prototype.toString,S_t=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function _v(e,t){var n,r,i,o,s,a,c;if(e===!0)return"true";if(e===!1)return"false";switch(typeof e){case"object":if(e===null)return null;if(e.toJSON&&typeof e.toJSON=="function")return _v(e.toJSON(),t);if(c=k_t.call(e),c==="[object Array]"){for(i="[",r=e.length-1,n=0;n<r;n++)i+=_v(e[n],!0)+",";return r>-1&&(i+=_v(e[n],!0)),i+"]"}else if(c==="[object Object]"){for(o=S_t(e).sort(),r=o.length,i="",n=0;n<r;)s=o[n],a=_v(e[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),n++;return"{"+i+"}"}else return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var E_t=function(e){var t=_v(e,!1);if(t!==void 0)return""+t},Sz=x_t(E_t);const rv=32;function _C(e){let t=0;for(;e>1;)e/=2,t++;return t}function C_t(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class I_t{constructor(t,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=_C(C_t(t+rv+1))-_C(rv)-1,r=this.getSlotsInEpoch(n),i=t-(r-rv);return[n,i]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*rv:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+_C(rv)):this.slotsPerEpoch}}var A_t=globalThis.fetch;class T_t extends e_t{constructor(t,n,r){const i=o=>{const s=i_t(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,t,n,r),this.underlyingSocket=void 0}call(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function R_t(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const Ez=56;class Cz{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=R_t(P_t,t),r=t.length-Ez;oo(r>=0,"lookup table is invalid"),oo(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=le([Tn(Zr(),i,"addresses")]).decode(t.slice(Ez));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Ln(n.authority[0]):void 0,addresses:o.map(s=>new Ln(s))}}}const P_t={index:1,layout:le([he("typeIndex"),P0("deactivationSlot"),Ot("lastExtendedSlot"),Ve("lastExtendedStartIndex"),Ve(),Tn(Zr(),vi(Ve(),-1),"authority")])},O_t=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function N_t(e){const t=e.match(O_t);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${r}${c}${o}`}const es=kw(xO(Ln),Pt(),e=>new Ln(e)),Mie=kO([Pt(),go("base64")]),IO=kw(xO(Se.Buffer),Mie,e=>Se.Buffer.from(e[0],"base64")),j_t=30*1e3;function B_t(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function to(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function Die(e){return ja([mt({jsonrpc:go("2.0"),id:Pt(),result:e}),mt({jsonrpc:go("2.0"),id:Pt(),error:mt({code:xw(),message:Pt(),data:rr(Hwt())})})])}const $_t=Die(xw());function $r(e){return kw(Die(e),$_t,t=>"error"in t?t:{...t,result:$t(t.result,e)})}function Eo(e){return $r(mt({context:mt({slot:Oe()}),value:e}))}function n5(e){return mt({context:mt({slot:Oe()}),value:e})}function xC(e,t){return e===0?new Xb({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new Ln(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Rs.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new Mu(t)}const M_t=mt({foundation:Oe(),foundationTerm:Oe(),initial:Oe(),taper:Oe(),terminal:Oe()}),D_t=$r(Yt(Ht(mt({epoch:Oe(),effectiveSlot:Oe(),amount:Oe(),postBalance:Oe(),commission:rr(Ht(Oe()))})))),L_t=Yt(mt({slot:Oe(),prioritizationFee:Oe()})),U_t=mt({total:Oe(),validator:Oe(),foundation:Oe(),epoch:Oe()}),F_t=mt({epoch:Oe(),slotIndex:Oe(),slotsInEpoch:Oe(),absoluteSlot:Oe(),blockHeight:rr(Oe()),transactionCount:rr(Oe())}),W_t=mt({slotsPerEpoch:Oe(),leaderScheduleSlotOffset:Oe(),warmup:wd(),firstNormalEpoch:Oe(),firstNormalSlot:Oe()}),z_t=Eie(Pt(),Yt(Oe())),ym=Ht(ja([mt({}),Pt()])),q_t=mt({err:ym}),V_t=go("receivedSignature"),H_t=mt({"solana-core":Pt(),"feature-set":rr(Oe())}),Iz=Eo(mt({err:Ht(ja([mt({}),Pt()])),logs:Ht(Yt(Pt())),accounts:rr(Ht(Yt(Ht(mt({executable:wd(),owner:Pt(),lamports:Oe(),data:Yt(Pt()),rentEpoch:rr(Oe())}))))),unitsConsumed:rr(Oe()),returnData:rr(Ht(mt({programId:Pt(),data:kO([Pt(),go("base64")])})))})),K_t=Eo(mt({byIdentity:Eie(Pt(),Yt(Oe())),range:mt({firstSlot:Oe(),lastSlot:Oe()})}));function G_t(e,t,n,r,i,o){const s=n||A_t;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(d,f)=>{const p=await new Promise((m,g)=>{try{r(d,f,(y,v)=>m([y,v]))}catch(y){g(y)}});return await s(...p)}),new eP(async(d,f)=>{const p={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},Zxt)};try{let m=5,g,y=500;for(;c?g=await c(e,p):g=await s(e,p),!(g.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await cg(y),y*=2;const v=await g.text();g.ok?f(null,v):f(new Error(`${g.status} ${g.statusText}: ${v}`))}catch(m){m instanceof Error&&f(m)}},{})}function Z_t(e){return(t,n)=>new Promise((r,i)=>{e.request(t,n,(o,s)=>{if(o){i(o);return}r(s)})})}function J_t(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const i=t.map(o=>e.request(o.methodName,o.args));e.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const Y_t=$r(M_t),X_t=$r(U_t),Q_t=$r(L_t),ext=$r(F_t),txt=$r(W_t),nxt=$r(z_t),rxt=$r(Oe()),ixt=Eo(mt({total:Oe(),circulating:Oe(),nonCirculating:Oe(),nonCirculatingAccounts:Yt(es)})),L7=mt({amount:Pt(),uiAmount:Ht(Oe()),decimals:Oe(),uiAmountString:rr(Pt())}),oxt=Eo(Yt(mt({address:es,amount:Pt(),uiAmount:Ht(Oe()),decimals:Oe(),uiAmountString:rr(Pt())}))),sxt=Eo(Yt(mt({pubkey:es,account:mt({executable:wd(),owner:es,lamports:Oe(),data:IO,rentEpoch:Oe()})}))),U7=mt({program:Pt(),parsed:xw(),space:Oe()}),axt=Eo(Yt(mt({pubkey:es,account:mt({executable:wd(),owner:es,lamports:Oe(),data:U7,rentEpoch:Oe()})}))),cxt=Eo(Yt(mt({lamports:Oe(),address:es}))),Qb=mt({executable:wd(),owner:es,lamports:Oe(),data:IO,rentEpoch:Oe()}),lxt=mt({pubkey:es,account:Qb}),dxt=kw(ja([xO(Se.Buffer),U7]),ja([Mie,U7]),e=>Array.isArray(e)?$t(e,IO):e),F7=mt({executable:wd(),owner:es,lamports:Oe(),data:dxt,rentEpoch:Oe()}),uxt=mt({pubkey:es,account:F7}),fxt=mt({state:ja([go("active"),go("inactive"),go("activating"),go("deactivating")]),active:Oe(),inactive:Oe()}),hxt=$r(Yt(mt({signature:Pt(),slot:Oe(),err:ym,memo:Ht(Pt()),blockTime:rr(Ht(Oe()))}))),pxt=$r(Yt(mt({signature:Pt(),slot:Oe(),err:ym,memo:Ht(Pt()),blockTime:rr(Ht(Oe()))}))),mxt=mt({subscription:Oe(),result:n5(Qb)}),gxt=mt({pubkey:es,account:Qb}),yxt=mt({subscription:Oe(),result:n5(gxt)}),vxt=mt({parent:Oe(),slot:Oe(),root:Oe()}),bxt=mt({subscription:Oe(),result:vxt}),wxt=ja([mt({type:ja([go("firstShredReceived"),go("completed"),go("optimisticConfirmation"),go("root")]),slot:Oe(),timestamp:Oe()}),mt({type:go("createdBank"),parent:Oe(),slot:Oe(),timestamp:Oe()}),mt({type:go("frozen"),slot:Oe(),timestamp:Oe(),stats:mt({numTransactionEntries:Oe(),numSuccessfulTransactions:Oe(),numFailedTransactions:Oe(),maxTransactionsPerEntry:Oe()})}),mt({type:go("dead"),slot:Oe(),timestamp:Oe(),err:Pt()})]),_xt=mt({subscription:Oe(),result:wxt}),xxt=mt({subscription:Oe(),result:n5(ja([q_t,V_t]))}),kxt=mt({subscription:Oe(),result:Oe()}),Sxt=mt({pubkey:Pt(),gossip:Ht(Pt()),tpu:Ht(Pt()),rpc:Ht(Pt()),version:Ht(Pt())}),Az=mt({votePubkey:Pt(),nodePubkey:Pt(),activatedStake:Oe(),epochVoteAccount:wd(),epochCredits:Yt(kO([Oe(),Oe(),Oe()])),commission:Oe(),lastVote:Oe(),rootSlot:Ht(Oe())}),Ext=$r(mt({current:Yt(Az),delinquent:Yt(Az)})),Cxt=ja([go("processed"),go("confirmed"),go("finalized")]),Ixt=mt({slot:Oe(),confirmations:Ht(Oe()),err:ym,confirmationStatus:rr(Cxt)}),Axt=Eo(Yt(Ht(Ixt))),Txt=$r(Oe()),Lie=mt({accountKey:es,writableIndexes:Yt(Oe()),readonlyIndexes:Yt(Oe())}),AO=mt({signatures:Yt(Pt()),message:mt({accountKeys:Yt(Pt()),header:mt({numRequiredSignatures:Oe(),numReadonlySignedAccounts:Oe(),numReadonlyUnsignedAccounts:Oe()}),instructions:Yt(mt({accounts:Yt(Oe()),data:Pt(),programIdIndex:Oe()})),recentBlockhash:Pt(),addressTableLookups:rr(Yt(Lie))})}),Uie=mt({pubkey:es,signer:wd(),writable:wd(),source:rr(ja([go("transaction"),go("lookupTable")]))}),Fie=mt({accountKeys:Yt(Uie),signatures:Yt(Pt())}),Wie=mt({parsed:xw(),program:Pt(),programId:es}),zie=mt({accounts:Yt(es),data:Pt(),programId:es}),Rxt=ja([zie,Wie]),Pxt=ja([mt({parsed:xw(),program:Pt(),programId:Pt()}),mt({accounts:Yt(Pt()),data:Pt(),programId:Pt()})]),qie=kw(Rxt,Pxt,e=>"accounts"in e?$t(e,zie):$t(e,Wie)),Vie=mt({signatures:Yt(Pt()),message:mt({accountKeys:Yt(Uie),instructions:Yt(qie),recentBlockhash:Pt(),addressTableLookups:rr(Ht(Yt(Lie)))})}),gk=mt({accountIndex:Oe(),mint:Pt(),owner:rr(Pt()),uiTokenAmount:L7}),Hie=mt({writable:Yt(es),readonly:Yt(es)}),r5=mt({err:ym,fee:Oe(),innerInstructions:rr(Ht(Yt(mt({index:Oe(),instructions:Yt(mt({accounts:Yt(Oe()),data:Pt(),programIdIndex:Oe()}))})))),preBalances:Yt(Oe()),postBalances:Yt(Oe()),logMessages:rr(Ht(Yt(Pt()))),preTokenBalances:rr(Ht(Yt(gk))),postTokenBalances:rr(Ht(Yt(gk))),loadedAddresses:rr(Hie),computeUnitsConsumed:rr(Oe())}),TO=mt({err:ym,fee:Oe(),innerInstructions:rr(Ht(Yt(mt({index:Oe(),instructions:Yt(qie)})))),preBalances:Yt(Oe()),postBalances:Yt(Oe()),logMessages:rr(Ht(Yt(Pt()))),preTokenBalances:rr(Ht(Yt(gk))),postTokenBalances:rr(Ht(Yt(gk))),loadedAddresses:rr(Hie),computeUnitsConsumed:rr(Oe())}),wy=ja([go(0),go("legacy")]),vm=mt({pubkey:Pt(),lamports:Oe(),postBalance:Ht(Oe()),rewardType:Ht(Pt()),commission:rr(Ht(Oe()))}),Oxt=$r(Ht(mt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Oe(),transactions:Yt(mt({transaction:AO,meta:Ht(r5),version:rr(wy)})),rewards:rr(Yt(vm)),blockTime:Ht(Oe()),blockHeight:Ht(Oe())}))),Nxt=$r(Ht(mt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Oe(),rewards:rr(Yt(vm)),blockTime:Ht(Oe()),blockHeight:Ht(Oe())}))),jxt=$r(Ht(mt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Oe(),transactions:Yt(mt({transaction:Fie,meta:Ht(r5),version:rr(wy)})),rewards:rr(Yt(vm)),blockTime:Ht(Oe()),blockHeight:Ht(Oe())}))),Bxt=$r(Ht(mt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Oe(),transactions:Yt(mt({transaction:Vie,meta:Ht(TO),version:rr(wy)})),rewards:rr(Yt(vm)),blockTime:Ht(Oe()),blockHeight:Ht(Oe())}))),$xt=$r(Ht(mt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Oe(),transactions:Yt(mt({transaction:Fie,meta:Ht(TO),version:rr(wy)})),rewards:rr(Yt(vm)),blockTime:Ht(Oe()),blockHeight:Ht(Oe())}))),Mxt=$r(Ht(mt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Oe(),rewards:rr(Yt(vm)),blockTime:Ht(Oe()),blockHeight:Ht(Oe())}))),Dxt=$r(Ht(mt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Oe(),transactions:Yt(mt({transaction:AO,meta:Ht(r5)})),rewards:rr(Yt(vm)),blockTime:Ht(Oe())}))),Tz=$r(Ht(mt({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Oe(),signatures:Yt(Pt()),blockTime:Ht(Oe())}))),kC=$r(Ht(mt({slot:Oe(),meta:Ht(r5),blockTime:rr(Ht(Oe())),transaction:AO,version:rr(wy)}))),Ex=$r(Ht(mt({slot:Oe(),transaction:Vie,meta:Ht(TO),blockTime:rr(Ht(Oe())),version:rr(wy)}))),Lxt=Eo(mt({blockhash:Pt(),feeCalculator:mt({lamportsPerSignature:Oe()})})),Uxt=Eo(mt({blockhash:Pt(),lastValidBlockHeight:Oe()})),Fxt=Eo(wd()),Wxt=mt({slot:Oe(),numTransactions:Oe(),numSlots:Oe(),samplePeriodSecs:Oe()}),zxt=$r(Yt(Wxt)),qxt=Eo(Ht(mt({feeCalculator:mt({lamportsPerSignature:Oe()})}))),Vxt=$r(Pt()),Hxt=$r(Pt()),Kxt=mt({err:ym,logs:Yt(Pt()),signature:Pt()}),Gxt=mt({result:n5(Kxt),subscription:Oe()}),Zxt={"solana-client":"js/0.0.0-development"};class Jxt{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const l={};return async d=>{const{commitment:f,config:p}=to(d),m=this._buildArgs([],f,void 0,p),g=Sz(m);return l[g]=l[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",m),v=$t(y,$r(Oe()));if("error"in v)throw new An(v.error,"failed to get block height information");return v.result}finally{delete l[g]}})(),await l[g]}})();let r,i,o,s,a,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,c=n.httpAgent),this._rpcEndpoint=B_t(t),this._rpcWsEndpoint=r||N_t(t),this._rpcClient=G_t(t,i,o,s,a,c),this._rpcRequest=Z_t(this._rpcClient),this._rpcBatchRequest=J_t(this._rpcClient),this._rpcWebSocket=new T_t(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:i}=to(n),o=this._buildArgs([t.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=$t(s,Eo(Oe()));if("error"in a)throw new An(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=$t(n,$r(Ht(Oe())));if("error"in r)throw new An(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=$t(t,$r(Oe()));if("error"in n)throw new An(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=$t(t,rxt);if("error"in n)throw new An(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=$t(r,ixt);if("error"in i)throw new An(i.error,"failed to get supply");return i.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=$t(i,Eo(L7));if("error"in o)throw new An(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=$t(i,Eo(L7));if("error"in o)throw new An(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,n,r){const{commitment:i,config:o}=to(r);let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),l=$t(c,sxt);if("error"in l)throw new An(l.error,`failed to get token accounts owned by account ${t.toBase58()}`);return l.result}async getParsedTokenAccountsByOwner(t,n,r){let i=[t.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=$t(s,axt);if("error"in a)throw new An(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=$t(i,cxt);if("error"in o)throw new An(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=$t(i,oxt);if("error"in o)throw new An(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:i}=to(n),o=this._buildArgs([t.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=$t(s,Eo(Ht(Qb)));if("error"in a)throw new An(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:i}=to(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=$t(s,Eo(Ht(F7)));if("error"in a)throw new An(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:i}=to(n),o=t.map(l=>l.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=$t(a,Eo(Yt(Ht(F7))));if("error"in c)throw new An(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:i}=to(n),o=t.map(l=>l.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=$t(a,Eo(Yt(Ht(Qb))));if("error"in c)throw new An(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:i,config:o}=to(n),s=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),c=$t(a,$r(fxt));if("error"in c)throw new An(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,n){const{commitment:r,config:i}=to(n),{encoding:o,...s}=i||{},a=this._buildArgs([t.toBase58()],r,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),l=Yt(lxt),d=s.withContext===!0?$t(c,Eo(l)):$t(c,$r(l));if("error"in d)throw new An(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:i}=to(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=$t(s,$r(Yt(uxt)));if("error"in a)throw new An(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){var o;let r;if(typeof t=="string")r=t;else{const s=t;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=Rs.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return oo(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,i,o=!1;const s=new Promise((c,l)=>{try{r=this.onSignature(n,(f,p)=>{r=void 0;const m={context:p,value:f};c({__type:pf.PROCESSED,response:m})},t);const d=new Promise(f=>{r==null?f():i=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&f()})});(async()=>{if(await d,o)return;const f=await this.getSignatureStatus(n);if(o||f==null)return;const{context:p,value:m}=f;if(m!=null)if(m!=null&&m.err)l(m.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:pf.PROCESSED,response:{context:p,value:m}})}})()}catch(d){l(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(f=>{const p=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let m=await p();if(!o){for(;m<=r;)if(await cg(1e3),o||(m=await p(),o))return;f({__type:pf.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),l=this.getCancellationPromise(n);let d;try{const f=await Promise.race([l,c,s]);if(f.__type===pf.PROCESSED)d=f.response;else throw new Oie(i)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const c=new Promise(m=>{let g=o,y=null;const v=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await v(),!a)for(;;){if(o!==g){m({__type:pf.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await cg(2e3),a||(g=await v(),a))return}})()}),{abortConfirmation:l,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),f=this.getCancellationPromise(n);let p;try{const m=await Promise.race([f,d,c]);if(m.__type===pf.PROCESSED)p=m.response;else{let g;for(;;){const y=await this.getSignatureStatus(s);if(y==null)break;if(y.context.slot<(m.slotInWhichNonceDidAdvance??r)){await cg(400);continue}g=y;break}if(g!=null&&g.value){const y=t||"finalized",{confirmationStatus:v}=g.value;switch(y){case"processed":case"recent":if(v!=="processed"&&v!=="confirmed"&&v!=="finalized")throw new wv(s);break;case"confirmed":case"single":case"singleGossip":if(v!=="confirmed"&&v!=="finalized")throw new wv(s);break;case"finalized":case"max":case"root":if(v!=="finalized")throw new wv(s);break;default:}p={context:g.context,value:{err:g.value.err}}}else throw new wv(s)}}finally{a=!0,l()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const i=new Promise(c=>{let l=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{l=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:pf.TIMED_OUT,timeoutMs:l}),l)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const c=await Promise.race([s,i]);if(c.__type===pf.PROCESSED)a=c.response;else throw new Nie(n,c.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=$t(t,$r(Yt(Sxt)));if("error"in n)throw new An(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),i=$t(r,Ext);if("error"in i)throw new An(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:n,config:r}=to(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=$t(o,$r(Oe()));if("error"in s)throw new An(s.error,"failed to get slot");return s.result}async getSlotLeader(t){const{commitment:n,config:r}=to(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=$t(o,$r(Pt()));if("error"in s)throw new An(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,n){const r=[t,n],i=await this._rpcRequest("getSlotLeaders",r),o=$t(i,$r(Yt(es)));if("error"in o)throw new An(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,n){const{context:r,value:i}=await this.getSignatureStatuses([t],n);oo(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=$t(i,Axt);if("error"in o)throw new An(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:n,config:r}=to(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=$t(o,$r(Oe()));if("error"in s)throw new An(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),i=$t(r,Y_t);if("error"in i)throw new An(i.error,"failed to get inflation");return i.result}async getInflationReward(t,n,r){const{commitment:i,config:o}=to(r),s=this._buildArgs([t.map(l=>l.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),c=$t(a,D_t);if("error"in c)throw new An(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=$t(t,X_t);if("error"in n)throw new An(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=to(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=$t(o,ext);if("error"in s)throw new An(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=$t(t,txt);if("error"in n)throw new An(n.error,"failed to get epoch schedule");const r=n.result;return new I_t(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=$t(t,nxt);if("error"in n)throw new An(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=$t(i,Txt);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getRecentBlockhash",n),i=$t(r,Lxt);if("error"in i)throw new An(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=$t(n,zxt);if("error"in r)throw new An(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=$t(i,qxt);if("error"in o)throw new An(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=R0(t.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=$t(o,Eo(Ht(Oe())));if("error"in s)throw new An(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(t){var s;const n=(s=t==null?void 0:t.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=$t(i,Q_t);if("error"in o)throw new An(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=to(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=$t(o,Uxt);if("error"in s)throw new An(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(t,n){const{commitment:r,config:i}=to(n),o=this._buildArgs([t],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=$t(s,Fxt);if("error"in a)throw new An(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=$t(t,$r(H_t));if("error"in n)throw new An(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=$t(t,$r(Pt()));if("error"in n)throw new An(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:i}=to(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=$t(s,jxt);if("error"in a)throw a.error;return a.result}case"none":{const a=$t(s,Nxt);if("error"in a)throw a.error;return a.result}default:{const a=$t(s,Oxt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:l,meta:d,version:f})=>({meta:d,transaction:{...l,message:xC(f,l.message)},version:f}))}:null}}}catch(a){throw new An(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:i}=to(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=$t(s,$xt);if("error"in a)throw a.error;return a.result}case"none":{const a=$t(s,Mxt);if("error"in a)throw a.error;return a.result}default:{const a=$t(s,Bxt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new An(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...c}=t;r=a,n=c}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=$t(o,K_t);if("error"in s)throw new An(s.error,"failed to get block production information");return s.result}async getTransaction(t,n){const{commitment:r,config:i}=to(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=$t(s,kC);if("error"in a)throw new An(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:xC(c.version,c.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:i}=to(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=$t(s,Ex);if("error"in a)throw new An(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:i}=to(n),o=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{const l=$t(c,Ex);if("error"in l)throw new An(l.error,"failed to get transactions");return l.result})}async getTransactions(t,n){const{commitment:r,config:i}=to(n),o=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{const l=$t(c,kC);if("error"in l)throw new An(l.error,"failed to get transactions");const d=l.result;return d&&{...d,transaction:{...d.transaction,message:xC(d.version,d.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getConfirmedBlock",r),o=$t(i,Dxt);if("error"in o)throw new An(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");const a={...s,transactions:s.transactions.map(({transaction:c,meta:l})=>{const d=new Mu(c.message);return{meta:l,transaction:{...c,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:l})=>({meta:l,transaction:zc.populate(c.message,c.signatures)}))}}async getBlocks(t,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),o=await this._rpcRequest("getBlocks",i),s=$t(o,$r(Yt(Oe())));if("error"in s)throw new An(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=$t(i,Tz);if("error"in o)throw new An(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),o=$t(i,Tz);if("error"in o)throw new An(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getConfirmedTransaction",r),o=$t(i,kC);if("error"in o)throw new An(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Mu(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:zc.populate(a,c)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),o=$t(i,Ex);if("error"in o)throw new An(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,n){const r=t.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=$t(s,Ex);if("error"in a)throw new An(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const c=await this.getConfirmedBlockSignatures(n,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=$t(o,hxt);if("error"in s)throw new An(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=$t(o,pxt);if("error"in s)throw new An(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=new Cz({key:t,state:Cz.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=CO.fromAccountData(i.data)),{context:r,value:o}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),i=$t(r,Vxt);if("error"in i)throw new An(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await cg(100);const r=Date.now()-this._blockhashInfo.lastFetch>=j_t;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await cg(v_t/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=to(t),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=$t(o,Eo(Oe()));if("error"in s)throw new An(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,n,r){if("message"in t){const y=t.serialize(),v=Se.Buffer.from(y).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const w=n||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[v,w],E=await this._rpcRequest("simulateTransaction",_),C=$t(E,Iz);if("error"in C)throw new Error("failed to simulate transaction: "+C.error.message);return C.result}let i;if(t instanceof zc){let g=t;i=new zc,i.feePayer=g.feePayer,i.instructions=t.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=zc.populate(t),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const v=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(v)&&!this._blockhashInfo.transactionSignatures.includes(v)){this._blockhashInfo.simulatedSignatures.push(v);break}else g=!0}}const s=i._compile(),a=s.serialize(),l=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:s.nonProgramIds()).map(y=>y.toBase58());d.accounts={encoding:"base64",addresses:g}}o&&(d.sigVerify=!0);const f=[l,d],p=await this._rpcRequest("simulateTransaction",f),m=$t(p,Iz);if("error"in m){let g;if("data"in m.error&&(g=m.error.data.logs,g&&Array.isArray(g))){const y=`
    `,v=y+g.join(y);console.error(m.error.message,v)}throw new kz({action:"simulate",signature:"",transactionMessage:m.error.message,logs:g})}return m.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=t.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(t.nonceInfo)t.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const o=t.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(t,n){const r=R0(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[t,r],a=await this._rpcRequest("sendTransaction",s),c=$t(a,Hxt);if("error"in c){let l;throw"data"in c.error&&(l=c.error.data.logs),new kz({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:l})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){var i;const r=(i=this._subscriptionsByHash[t])==null?void 0:i.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){var o;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=$t(t,mxt);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,i=Sz([t.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];oo(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const i=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=$t(t,yxt);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,i){const o=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=$t(t,Gxt);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=$t(t,bxt);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=$t(t,_xt);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,i)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=$t(t,xxt);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const i=this._buildArgs([t],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,o),a=this._makeSubscription({callback:(c,l)=>{n(c,l);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=$t(t,kxt);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:le([he("instruction"),P0("recentSlot"),Ve("bumpSeed")])},FreezeLookupTable:{index:1,layout:le([he("instruction")])},ExtendLookupTable:{index:2,layout:le([he("instruction"),P0(),Tn(Zr(),vi(he(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:le([he("instruction")])},CloseLookupTable:{index:4,layout:le([he("instruction")])}});new Ln("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:le([Ve("instruction"),he("units"),he("additionalFee")])},RequestHeapFrame:{index:1,layout:le([Ve("instruction"),he("bytes")])},SetComputeUnitLimit:{index:2,layout:le([Ve("instruction"),he("units")])},SetComputeUnitPrice:{index:3,layout:le([Ve("instruction"),P0("microLamports")])}});new Ln("ComputeBudget111111111111111111111111111111");le([Ve("numSignatures"),Ve("padding"),Mn("signatureOffset"),Mn("signatureInstructionIndex"),Mn("publicKeyOffset"),Mn("publicKeyInstructionIndex"),Mn("messageDataOffset"),Mn("messageDataSize"),Mn("messageInstructionIndex")]);new Ln("Ed25519SigVerify111111111111111111111111111");m1.utils.isValidPrivateKey;le([Ve("numSignatures"),Mn("signatureOffset"),Ve("signatureInstructionIndex"),Mn("ethAddressOffset"),Ve("ethAddressInstructionIndex"),Mn("messageDataOffset"),Mn("messageDataSize"),Ve("messageInstructionIndex"),Et(20,"ethAddress"),Et(64,"signature"),Ve("recoveryId")]);new Ln("KeccakSecp256k11111111111111111111111111111");var Kie;new Ln("StakeConfig11111111111111111111111111111111");class Gie{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}}Kie=Gie;Gie.default=new Kie(0,0,Ln.default);Object.freeze({Initialize:{index:0,layout:le([he("instruction"),d_t(),u_t()])},Authorize:{index:1,layout:le([he("instruction"),Zr("newAuthorized"),he("stakeAuthorizationType")])},Delegate:{index:2,layout:le([he("instruction")])},Split:{index:3,layout:le([he("instruction"),xn("lamports")])},Withdraw:{index:4,layout:le([he("instruction"),xn("lamports")])},Deactivate:{index:5,layout:le([he("instruction")])},Merge:{index:7,layout:le([he("instruction")])},AuthorizeWithSeed:{index:8,layout:le([he("instruction"),Zr("newAuthorized"),he("stakeAuthorizationType"),kg("authoritySeed"),Zr("authorityOwner")])}});new Ln("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:le([he("instruction"),f_t()])},Authorize:{index:1,layout:le([he("instruction"),Zr("newAuthorized"),he("voteAuthorizationType")])},Withdraw:{index:3,layout:le([he("instruction"),xn("lamports")])},UpdateValidatorIdentity:{index:4,layout:le([he("instruction")])},AuthorizeWithSeed:{index:10,layout:le([he("instruction"),h_t()])}});new Ln("Vote111111111111111111111111111111111111111");new Ln("Va1idator1nfo111111111111111111111111111111");mt({name:Pt(),website:rr(Pt()),details:rr(Pt()),keybaseUsername:rr(Pt())});new Ln("Vote111111111111111111111111111111111111111");le([Zr("nodePubkey"),Zr("authorizedWithdrawer"),Ve("commission"),Ot(),Tn(le([Ot("slot"),he("confirmationCount")]),vi(he(),-8),"votes"),Ve("rootSlotValid"),Ot("rootSlot"),Ot(),Tn(le([Ot("epoch"),Zr("authorizedVoter")]),vi(he(),-8),"authorizedVoters"),le([Tn(le([Zr("authorizedPubkey"),Ot("epochOfLastAuthorizedSwitch"),Ot("targetEpoch")]),32,"buf"),Ot("idx"),Ve("isEmpty")],"priorVoters"),Ot(),Tn(le([Ot("epoch"),Ot("credits"),Ot("prevCredits")]),vi(he(),-8),"epochCredits"),le([Ot("slot"),Ot("timestamp")],"lastTimestamp")]);const Yxt=e=>{const t=e.match(/Nonce: (.*)/);if(t&&t.length===2)return t[1]},Xxt="genesis-hash",SC=e=>`${e}_${Xxt}`,Qxt=new Ln("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr");class i5 extends XA{constructor(t){var n;super(t),this.isHardwareWalletEnabled=!1,this.verifiedCredentials=[],this.supportedChains=["SOL"],this.connectedChain="SOL",this.solNetworks=t.solNetworks,this.chainRpcProviders=t.chainRpcProviders,(n=this.chainRpcProviders)===null||n===void 0||n.registerSolanaProviders()}getNetwork(){return Xn(this,void 0,void 0,function*(){const t=this.getWalletClient();let n=localStorage.getItem(SC(t.rpcEndpoint));n||(n=yield t.getGenesisHash(),localStorage.setItem(SC(t.rpcEndpoint),n)),n=n.substring(0,32);let r;return n==="5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"?r="mainnet":n==="EtWTRABZaYq6iMfeYKouRu166VU2xqa1"?r="devnet":r="testnet",r})}endSession(){return Xn(this,void 0,void 0,function*(){localStorage.removeItem(SC(this.getWalletClient().rpcEndpoint))})}getWalletClient(){var t;const[n]=this.solNetworks;if(!n)throw new Ae("No enabled networks");const r=((t=n.privateCustomerRpcUrls)===null||t===void 0?void 0:t[0])||n.rpcUrls[0];return new Jxt(r,"confirmed")}getPublicClient(){return Xn(this,void 0,void 0,function*(){var t,n;if(this.solNetworks.length===0)return;const r={cosmos:[],evm:void 0,solana:this.solNetworks,starknet:void 0};return(n=(t=this.chainRpcProviders)===null||t===void 0?void 0:t.getSolanaRpcProviderByChainId(r,"101"))===null||n===void 0?void 0:n.provider})}getBalance(){return Xn(this,void 0,void 0,function*(){const t=yield this.getSigner();if(!t||!t.publicKey)return;const n=new Ln(t.publicKey.toString());return this.lamportsToSol(yield this.getWalletClient().getBalance(n)).toString()})}lamportsToSol(t){return t/1e9}canConnectWithHardwareWallet(){const t=zo(this.walletBook,this.key);return!t||!t.hardwareWallets?!1:t.hardwareWallets.includes("ledger")}signMessage(t){const n=Object.create(null,{signMessage:{get:()=>super.signMessage}});return Xn(this,void 0,void 0,function*(){if(this.isHardwareWalletEnabled)throw new UH(`Message signing is currently not supported on ${this.name} hardware wallet.
          You can use signMessageViaTransaction instead to achieve similar functionality
          by signing a transaction with a memo instruction.
          You can read more about it here https://github.com/solana-labs/solana/issues/21366`);return n.signMessage.call(this,t)})}proveOwnership(t){const n=Object.create(null,{proveOwnership:{get:()=>super.proveOwnership}});return Xn(this,void 0,void 0,function*(){if(this.isHardwareWalletEnabled){const r=Yxt(t);if(!r)throw new Ae("Nonce missing");return this.signMessageViaTransaction(r)}return n.proveOwnership.call(this,t)})}signMessageViaTransaction(t){return Xn(this,void 0,void 0,function*(){const n=yield this.getAddress();if(!n)throw new Ae("Address missing");const r=this.buildAuthTx(t);r.feePayer=new Ln(n),r.recentBlockhash=(yield this.getWalletClient().getLatestBlockhash()).blockhash;const i=yield this.getSigner();if(!i)throw new Ae("Signer not found");const s=(yield i.signTransaction(r)).serialize();return JSON.stringify({signedTransaction:{data:Array.from(s),type:"Buffer"}})})}buildAuthTx(t){const n=new zc;return n.add(new D7({data:Buffer.from(t,"utf8"),keys:[],programId:Qxt})),n}setVerifiedCredentials(t){this.verifiedCredentials=t}isLedgerAddress(t){return n3e(t,this.verifiedCredentials)}}const $h=(e,t)=>`https://phantom.app/ul/v1/${e}?${t.toString()}`,Cx=(e,t,n)=>{const r=Ug.box.open.after(ui.decode(e),ui.decode(t),n);if(!r)throw new Error("Unable to decrypt data");return JSON.parse(Buffer.from(r).toString("utf8"))},Gm=(e,t)=>{const n=Ug.randomBytes(24),r=Ug.box.after(Buffer.from(JSON.stringify(e)),n,t);return[n,r]},e2t={"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3zQawwpjk2NsNY":"testnet","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdpKuc147dw2N9d":"mainnet-beta",EtWTRABZaYq6iMfeYKouRu166VU2xqa1wcaWoxPkrZBG:"devnet"},Zie=e=>Xn(void 0,void 0,void 0,function*(){try{const{result:t}=yield(yield fetch(e,{body:JSON.stringify({id:1,jsonrpc:"2.0",method:"getGenesisHash"}),headers:{"Content-Type":"application/json"},method:"POST"})).json();return e2t[t]}catch{return"mainnet-beta"}}),Ko={address:{get:()=>{var e;return(e=localStorage.getItem("dynamic_phantom_wallet_address"))!==null&&e!==void 0?e:void 0},remove:()=>{localStorage.removeItem("dynamic_phantom_wallet_address")},set:e=>{localStorage.setItem("dynamic_phantom_wallet_address",e.toString())}},encryptionPublicKey:{get:()=>{const e=localStorage.getItem("dynamic_phantom_public_key");if(e)return new Uint8Array(JSON.parse(e))},remove:()=>{localStorage.removeItem("dynamic_phantom_public_key")},set:e=>{localStorage.setItem("dynamic_phantom_public_key",JSON.stringify([...e]))}},encryptionSecretKey:{get:()=>{const e=localStorage.getItem("dynamic_phantom_secret_key");if(e)return new Uint8Array(JSON.parse(e))},remove:()=>{localStorage.removeItem("dynamic_phantom_secret_key")},set:e=>{localStorage.setItem("dynamic_phantom_secret_key",JSON.stringify([...e]))}},message:{get:()=>{var e;return(e=localStorage.getItem("dynamic_phantom_message_to_sign"))!==null&&e!==void 0?e:void 0},remove:()=>{localStorage.removeItem("dynamic_phantom_message_to_sign")},set:e=>{localStorage.setItem("dynamic_phantom_message_to_sign",e)}},method:{get:()=>{var e;return(e=localStorage.getItem("dynamic_phantom_method"))!==null&&e!==void 0?e:void 0},remove:()=>{localStorage.removeItem("dynamic_phantom_method")},set:e=>{localStorage.setItem("dynamic_phantom_method",e)}},session:{get:()=>{var e;return(e=localStorage.getItem("dynamic_phantom_session"))!==null&&e!==void 0?e:void 0},remove:()=>{localStorage.removeItem("dynamic_phantom_session")},set:e=>{localStorage.setItem("dynamic_phantom_session",e)}},sharedSecret:{get:()=>{const e=localStorage.getItem("dynamic_phantom_shared_secret");if(e)return new Uint8Array(JSON.parse(e))},remove:()=>{localStorage.removeItem("dynamic_phantom_shared_secret")},set:e=>{localStorage.setItem("dynamic_phantom_shared_secret",JSON.stringify([...e]))}}},t2t=()=>{for(const e in Ko)Ko[e].remove()};class n2t extends i5{constructor(t){super(Object.assign({},t)),this.name="Phantom",this.overrideKey="phantom"}getMethod(){throw new Error("Method not implemented.")}getAddress(){return Xn(this,void 0,void 0,function*(){const t=Ko.address.get();if(t)return t;yield this.connect()})}connect(){return Xn(this,void 0,void 0,function*(){var t,n;const r=Ug.box.keyPair();Ko.encryptionPublicKey.set(r.publicKey),Ko.encryptionSecretKey.set(r.secretKey);const i=window.location.href.includes("localhost")||window.location.href.includes("0.0.0.0")||window.location.href.includes("127.0.0.1"),o=(n=(t=this.solNetworks[0].privateCustomerRpcUrls)===null||t===void 0?void 0:t[0])!==null&&n!==void 0?n:this.solNetworks[0].rpcUrls[0],s=new URLSearchParams({app_url:i?"https://demo.dynamic.xyz":window.location.href,cluster:yield Zie(o),dapp_encryption_public_key:ui.encode(r.publicKey),redirect_link:window.location.href}),a=$h("connect",s);window.location.href=a})}getSession(){return Xn(this,void 0,void 0,function*(){const t=new URLSearchParams(window.location.search),{data:n,nonce:r,phantom_encryption_public_key:i,encryptionSecretKey:o}=this.getInputsOrThrow("getSession",["data","nonce","phantom_encryption_public_key"],["encryptionSecretKey"]),s=Ug.box.before(ui.decode(i),o);Ko.sharedSecret.set(s);const a=Cx(n,r,s);return Ko.session.set(a.session),Ko.address.set(new Ln(a.public_key)),t.delete("phantom_encryption_public_key"),t.delete("data"),t.delete("nonce"),history.replaceState(null,"",`${window.location.origin}${window.location.pathname}?${t.toString()}`),a.public_key})}signMessage(t){return Xn(this,void 0,void 0,function*(){const{session:n,sharedSecret:r,encryptionPublicKey:i}=this.getInputsOrThrow("signMessage",[],["session","sharedSecret","encryptionPublicKey"]);Ko.message.set(t);const o={message:ui.encode(Buffer.from(t)),session:n},[s,a]=Gm(o,r),c=new URLSearchParams({dapp_encryption_public_key:ui.encode(i),nonce:ui.encode(s),payload:ui.encode(a),redirect_link:window.location.href}),l=$h("signMessage",c);throw Ko.method.set("signMessage"),window.location.href=l,new Error("ignore")})}extractSignature(){const t=new URLSearchParams(window.location.search),{data:n,nonce:r,sharedSecret:i,message:o}=this.getInputsOrThrow("extractSignature",["data","nonce"],["sharedSecret","message"]),s=Cx(n,r,i);return t.delete("data"),t.delete("nonce"),history.replaceState(null,"",`${window.location.origin}${window.location.pathname}?${t.toString()}`),{message:o,signature:s.signature}}extractTransactions(){const t=new URLSearchParams(window.location.search),{data:n,nonce:r,sharedSecret:i}=this.getInputsOrThrow("extractTransactions",["data","nonce"],["sharedSecret"]),s=Cx(n,r,i).transactions.map(a=>zc.from(ui.decode(a)));return t.delete("data"),t.delete("nonce"),history.replaceState(null,"",`${window.location.origin}${window.location.pathname}?${t.toString()}`),s}extractTransaction(){const t=new URLSearchParams(window.location.search),{data:n,nonce:r,sharedSecret:i}=this.getInputsOrThrow("extractTransaction",["data","nonce"],["sharedSecret"]),o=Cx(n,r,i),s=zc.from(ui.decode(o.transaction));return t.delete("data"),t.delete("nonce"),history.replaceState(null,"",`${window.location.origin}${window.location.pathname}?${t.toString()}`),s}consumeMethod(){const t=Ko.method.get();return Ko.method.remove(),t}getSigner(){return Xn(this,void 0,void 0,function*(){const t=Ko.address.get();if(t)return{addListener:()=>{throw new Error("Not implemented")},connect:()=>{throw new Error("Not implemented")},disconnect:()=>{throw new Error("Not implemented")},emit:()=>{throw new Error("Not implemented")},eventNames:()=>{throw new Error("Not implemented")},isBackpack:!1,isBraveWallet:!1,isConnected:!0,isExodus:!1,isGlow:!1,isMagicEden:!1,isPhantom:!0,isSolflare:!1,listenerCount:()=>{throw new Error("Not implemented")},listeners:()=>{throw new Error("Not implemented")},off:()=>{throw new Error("Not implemented")},on:()=>{throw new Error("Not implemented")},once:()=>{throw new Error("Not implemented")},providers:[],publicKey:new Ln(t),removeAllListeners:()=>{throw new Error("Not implemented")},removeListener:()=>{throw new Error("Not implemented")},signAllTransactions:n=>Xn(this,void 0,void 0,function*(){const r=n.map(p=>ui.encode(p.serialize({requireAllSignatures:!1}))),{session:i,sharedSecret:o,encryptionPublicKey:s}=this.getInputsOrThrow("signAllTransactions",[],["session","sharedSecret","encryptionPublicKey"]),a={session:i,transactions:r},[c,l]=Gm(a,o),d=new URLSearchParams({dapp_encryption_public_key:ui.encode(s),nonce:ui.encode(c),payload:ui.encode(l),redirect_link:window.location.href}),f=$h("signAllTransactions",d);return window.location.href=f,[]}),signAndSendTransaction:(n,r)=>Xn(this,void 0,void 0,function*(){const{session:i,sharedSecret:o,encryptionPublicKey:s}=this.getInputsOrThrow("signAndSendTransaction",[],["session","sharedSecret","encryptionPublicKey"]),a={options:r,session:i,transaction:ui.encode(n.serialize({requireAllSignatures:!1}))},[c,l]=Gm(a,o),d=new URLSearchParams({dapp_encryption_public_key:ui.encode(s),nonce:ui.encode(c),payload:ui.encode(l),redirect_link:window.location.href}),f=$h("signAndSendTransaction",d);return Ko.method.set("signAndSendTransaction"),window.location.href=f,{signature:""}}),signMessage:n=>Xn(this,void 0,void 0,function*(){const{session:r,sharedSecret:i,encryptionPublicKey:o}=this.getInputsOrThrow("signMessage",[],["session","sharedSecret","encryptionPublicKey"]),s={message:ui.encode(Buffer.from(n)),session:r},[a,c]=Gm(s,i),l=new URLSearchParams({dapp_encryption_public_key:ui.encode(o),nonce:ui.encode(a),payload:ui.encode(c),redirect_link:window.location.href}),d=$h("signMessage",l);return window.location.href=d,Buffer.from("")}),signTransaction:n=>Xn(this,void 0,void 0,function*(){const r=ui.encode(n.serialize({requireAllSignatures:!1})),{session:i,sharedSecret:o,encryptionPublicKey:s}=this.getInputsOrThrow("signTransaction",[],["session","sharedSecret","encryptionPublicKey"]),a={session:i,transaction:r},[c,l]=Gm(a,o),d=new URLSearchParams({dapp_encryption_public_key:ui.encode(s),nonce:ui.encode(c),payload:ui.encode(l),redirect_link:window.location.href}),f=$h("signTransaction",d);return window.location.href=f,n})}})}getConnectedAccounts(){return Xn(this,void 0,void 0,function*(){const t=Ko.address.get();return t?[t]:[]})}endSession(){return Xn(this,void 0,void 0,function*(){const t=Ko.address.get(),n=Ko.session.get(),r=Ko.sharedSecret.get(),i=Ko.encryptionPublicKey.get();if(t2t(),!t||!n||!i||!r)return;const o={session:n},[s,a]=Gm(o,r),c=new URLSearchParams({dapp_encryption_public_key:ui.encode(i),nonce:ui.encode(s),payload:ui.encode(a),redirect_link:window.location.href}),l=$h("disconnect",c);window.location.href=l})}getInputsOrThrow(t,n,r){const i={},o=new URLSearchParams(window.location.search);return n.forEach(s=>{const a=o.get(s);if(!a)throw new Error(`[PhantomRedirect] ${t} called, but required input '${s}' not found in query params`);i[s]=a}),r.forEach(s=>{const a=Ko[s].get();if(!a)throw new Error(`[PhantomRedirect] ${t} called, but required input '${s}' not found in local storage`);i[s]=a}),i}}const Jie=e=>!!e&&e.signature!==void 0;var r2t=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},i2t=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},e2;let iv;const t2=new Set,Sg={};function Yie(){if(iv||(iv=Object.freeze({register:Rz,get:o2t,on:s2t}),typeof window>"u"))return iv;const e=Object.freeze({register:Rz});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new a2t(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return iv}function Rz(...e){var t;return e=e.filter(n=>!t2.has(n)),e.length?(e.forEach(n=>t2.add(n)),(t=Sg.register)==null||t.forEach(n=>Pz(()=>n(...e))),function(){var r;e.forEach(i=>t2.delete(i)),(r=Sg.unregister)==null||r.forEach(i=>Pz(()=>i(...e)))}):()=>{}}function o2t(){return[...t2]}function s2t(e,t){var n;return(n=Sg[e])!=null&&n.push(t)||(Sg[e]=[t]),function(){var i;Sg[e]=(i=Sg[e])==null?void 0:i.filter(o=>t!==o)}}function Pz(e){try{e()}catch(t){console.error(t)}}class a2t extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),e2.set(this,void 0),r2t(this,e2,t,"f")}get detail(){return i2t(this,e2,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}e2=new WeakMap;const c2t=e=>{const{walletStandardLocators:t}=e;if(!t||t.length===0)return;const n=Yie().get();return t.reduce((r,i)=>{if(r)return r;const o=n.find(s=>s.name===i.name);if(o)return a3e(o,i.locator)},void 0)};class l2t{constructor(t){this.wallet=t}getInjectedConfig(){if(!this.wallet||!this.wallet.injectedConfig)return;const{injectedConfig:t}=this.wallet;return t.find(n=>n.chain==="sol")}getInstalledProvider(){const t=this.getInjectedConfig();if(!(!t||!t.extensionLocators))return this.installedProviderLookup(t.extensionLocators)}installedProviders(){var t,n;const r=this.getInjectedConfig();if(!r)return[];const i=[];if(r.windowLocations)for(const o of r.windowLocations){const s=KH(o);s&&s.length&&i.push(...s)}if(r.extensionLocators.length!==0&&window.solana&&(window.solana.providers?window.solana.providers.forEach(o=>i.push(o)):i.push(window.solana)),((n=(t=r.walletStandardLocators)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)>0){const o=c2t(r);o&&i.push(o)}return i}installedProviderLookup(t){const n=this.installedProviders();return t.length===0?n[0]:lK(n,t)}findProvider(){return this.getInstalledProvider()}isInstalledHelper(){return this.findProvider()!==void 0}getAddress(){return Xn(this,void 0,void 0,function*(){var t;const n=this.findProvider();if(n)return yield n.connect(),(t=n.publicKey)===null||t===void 0?void 0:t.toString()})}connect(){return Xn(this,void 0,void 0,function*(){const t=this.findProvider();if(t)try{return t.isConnected||(yield t.connect()),t}catch{return}})}signMessage(t){return Xn(this,void 0,void 0,function*(){if(!(yield this.getAddress()))return;const r=this.findProvider();if(!r)return;const i=new TextEncoder().encode(t),o=yield r.signMessage(i,"utf8");if(o)return Xg(Jie(o)?o.signature:o)})}handleAccountChange(t,n,r){return Xn(this,void 0,void 0,function*(){var i;if(!r){yield n==null?void 0:n.connect(),!((i=n==null?void 0:n.publicKey)===null||i===void 0)&&i.toString()&&t.emit("accountChange",{accounts:[n.publicKey.toString()]});return}r.toString()&&t.emit("accountChange",{accounts:[r.toString()]})})}_setupEventListeners(t){const n=this.findProvider();n==null||n.on("accountChanged",r=>this.handleAccountChange(t,n,r)),n==null||n.on("disconnect",()=>t.emit("disconnect"))}_teardownEventListeners(){const t=this.findProvider();t&&t.removeAllListeners()}getConnectedAccounts(){return Xn(this,void 0,void 0,function*(){var t,n;const r=this.findProvider();if(!r)return[];let i;try{r.isConnected||(i=yield r.connect({onlyIfTrusted:!0}))}catch{return[]}const o=i==null?void 0:i.address,s=(t=i==null?void 0:i.publicKey)!==null&&t!==void 0?t:(n=r.publicKey)===null||n===void 0?void 0:n.toString();return o?[o]:s?[s==null?void 0:s.toString()]:[]})}}class d2t extends UH{constructor(t){super(`Message signing is currently not supported on ${t} hardware wallet.
    You can use signMessageViaTransaction instead to achieve similar functionality
    by signing a transaction with a memo instruction.
    You can read more about it here https://github.com/solana-labs/solana/issues/21366`)}}class bm extends i5{getSolProviderHelper(){return this.wallet||(this.wallet=zo(this.walletBook,this.key)),this.wallet&&!this.solProviderHelper&&(this.solProviderHelper=new l2t(this.wallet)),this.solProviderHelper}getProvider(){var t;return(t=this.getSolProviderHelper())===null||t===void 0?void 0:t.getInstalledProvider()}setupEventListeners(){var t;(t=this.getSolProviderHelper())===null||t===void 0||t._setupEventListeners(this)}teardownEventListeners(){var t;(t=this.getSolProviderHelper())===null||t===void 0||t._teardownEventListeners()}connect(){return Xn(this,void 0,void 0,function*(){var t;yield(t=this.getSolProviderHelper())===null||t===void 0?void 0:t.connect()})}getSigner(){return Xn(this,void 0,void 0,function*(){var t;return(t=this.getSolProviderHelper())===null||t===void 0?void 0:t.connect()})}isInstalledOnBrowser(){var t;return!!(!((t=this.getSolProviderHelper())===null||t===void 0)&&t.isInstalledHelper())}getAddress(){return Xn(this,void 0,void 0,function*(){var t,n;if(!this.isInstalledOnBrowser()){if(di()&&(!((t=this.wallet)===null||t===void 0)&&t.mobile)&&this.wallet.mobile.inAppBrowser){const i=s3e(this.wallet.mobile.inAppBrowser)({encodedDappURI:encodeURIComponent(window.location.toString())});window.location.assign(i)}return}return(n=this.getSolProviderHelper())===null||n===void 0?void 0:n.getAddress()})}signMessage(t){return Xn(this,void 0,void 0,function*(){var n,r;const i=yield(n=this.getSolProviderHelper())===null||n===void 0?void 0:n.getAddress();if(i&&this.isLedgerAddress(i))throw new d2t(this.name);return(r=this.getSolProviderHelper())===null||r===void 0?void 0:r.signMessage(t)})}getConnectedAccounts(){return Xn(this,void 0,void 0,function*(){var t,n;return(n=(t=this.getSolProviderHelper())===null||t===void 0?void 0:t.getConnectedAccounts())!==null&&n!==void 0?n:[]})}}class Oz extends bm{constructor(t){super(t),this.name="Phantom",this.overrideKey="phantom",this.wallet=zo(this.walletBook,this.key)}getAddress(){const t=Object.create(null,{getAddress:{get:()=>super.getAddress}});return Xn(this,void 0,void 0,function*(){if(this.isInstalledOnBrowser())return t.getAddress.call(this);di()&&YA({nativeLink:"phantom://browse",universalLink:"https://phantom.app/ul/browse"})})}}class u2t extends i5{constructor(t){super(t),this.name="Phantom",this.overrideKey="phantom",this.wallet=zo(this.walletBook,this.key)}connect(){return Xn(this,void 0,void 0,function*(){yield this.getMobileOrInstalledWallet().connect()})}getSigner(){return Xn(this,void 0,void 0,function*(){return this.getMobileOrInstalledWallet().getSigner()})}getMobileOrInstalledWallet(){const t=new Oz(this.constructorProps);return!di()||t.isInstalledOnBrowser()?t:this.constructorProps.mobileExperience==="redirect"?new n2t(this.constructorProps):new Oz(this.constructorProps)}}const f2t=e=>!("instructions"in e),h2t=(e,t)=>{const n=e.features,r=()=>Xn(void 0,void 0,void 0,function*(){const l=yield t.getAddress(),d=e.accounts.find(f=>f.address===l);if(!d)throw new Error("Account not found");return d}),i=()=>Xn(void 0,void 0,void 0,function*(){var l,d;const f=(d=(l=t.solNetworks[0].privateCustomerRpcUrls)===null||l===void 0?void 0:l[0])!==null&&d!==void 0?d:t.solNetworks[0].rpcUrls[0];return`solana:${yield Zie(f)}`}),o=l=>Xn(void 0,void 0,void 0,function*(){const d=yield r(),f=yield n["solana:signTransaction"].signTransaction({account:d,chain:yield i(),transaction:l.serialize({requireAllSignatures:!1})});return f2t(l)?EO.deserialize(f[0].signedTransaction):zc.from(f[0].signedTransaction)});return{addListener:()=>{throw new Error("Not implemented")},connect:()=>{throw new Error("Not implemented")},disconnect:()=>t.endSession(),emit:()=>{throw new Error("Not implemented")},eventNames:()=>{throw new Error("Not implemented")},isBackpack:!1,isBraveWallet:!1,isConnected:!0,isExodus:!1,isGlow:!1,isMagicEden:!1,isPhantom:!1,isSolflare:!1,listenerCount:()=>{throw new Error("Not implemented")},listeners:()=>{throw new Error("Not implemented")},off:()=>{throw new Error("Not implemented")},on:()=>{throw new Error("Not implemented")},once:()=>{throw new Error("Not implemented")},providers:[],get publicKey(){return new Ln(e.accounts[0].publicKey)},removeAllListeners:()=>{throw new Error("Not implemented")},removeListener:()=>{throw new Error("Not implemented")},send:()=>{throw new Error("Not implemented")},signAllTransactions:l=>Xn(void 0,void 0,void 0,function*(){return Promise.all(l.map(o))}),signAndSendTransaction:l=>Xn(void 0,void 0,void 0,function*(){const d=yield r(),f=yield n["solana:signAndSendTransaction"].signAndSendTransaction({account:d,chain:yield i(),transaction:l.serialize()}),[{signature:p}]=f;return{signature:new TextDecoder().decode(p)}}),signMessage:l=>Xn(void 0,void 0,void 0,function*(){const d=yield r();return(yield n["solana:signMessage"].signMessage({account:d,message:l}))[0].signature}),signTransaction:o}},p2t=new TextEncoder;class yk extends i5{constructor(t){super(t),this.connectedChain="SOL",this.supportedChains=["SOL"]}get wallet(){const t=yk.getWallet(this.walletBook,this.key);if(!t)throw new Error("Wallet not found");return t}get walletFeatures(){return this.wallet.features}connect(){return Xn(this,void 0,void 0,function*(){yield this.walletFeatures["standard:connect"].connect()})}endSession(){return Xn(this,void 0,void 0,function*(){yield this.walletFeatures["standard:disconnect"].disconnect()})}isInstalledOnBrowser(){return!0}getAddress(){return Xn(this,void 0,void 0,function*(){yield this.connect();const[t]=yield this.getConnectedAccounts();return t})}getConnectedAccounts(){return Xn(this,void 0,void 0,function*(){return this.wallet.accounts.map(n=>n.address)})}signMessage(t){return Xn(this,void 0,void 0,function*(){const n=yield this.getSigner();if(!n)throw new Error("Signer not found");const r=p2t.encode(t),i=yield n.signMessage(r);if(!(i instanceof Uint8Array))throw new Error("Signature not found");return Buffer.from(i).toString("base64")})}getSigner(){return Xn(this,void 0,void 0,function*(){const{wallet:t}=this;return h2t(t,this)})}static getWallet(t,n){var r,i;const o=Yie().get(),s=(r=t.wallets[n].injectedConfig)===null||r===void 0?void 0:r.find(l=>l.chain==="sol");if(!s)return;const{features:a}=(i=s.walletStandard)!==null&&i!==void 0?i:{};return a?o.find(l=>{var d;return l.name===((d=s.walletStandard)===null||d===void 0?void 0:d.name)?a.reduce((m,g)=>{const y=Object.keys(l.features);return m?y.includes(g):!1},!0):!1}):void 0}}class m2t extends bm{constructor(t){super(t),this.name="CoinbaseSolana",this.overrideKey="coinbasesolana",this.wallet=zo(this.walletBook,this.key)}getSigner(){return Xn(this,void 0,void 0,function*(){var t;return(t=this.getSolProviderHelper())===null||t===void 0?void 0:t.connect()})}signMessage(t){return Xn(this,void 0,void 0,function*(){const n=yield this.getAddress();if(!n)return;const r=yield this.getSigner();if(!r)return;const i=new TextEncoder().encode(t),o=yield r.signMessage(i,n);if(o)return Xg(Jie(o)?o.signature:o)})}}class g2t extends bm{constructor(t){super(t),this.name="Solflare",this.overrideKey="solflare",this.wallet=zo(this.walletBook,this.key)}getAddress(){return Xn(this,void 0,void 0,function*(){var t,n,r,i,o;if(di()&&!this.isInstalledOnBrowser()){YA({nativeLink:((n=(t=this.wallet)===null||t===void 0?void 0:t.mobile)===null||n===void 0?void 0:n.native)||"solflare://ul/v1/browse",universalLink:((i=(r=this.wallet)===null||r===void 0?void 0:r.mobile)===null||i===void 0?void 0:i.universal)||"https://solflare.com/ul/v1/browse"});return}return(o=this.getSolProviderHelper())===null||o===void 0?void 0:o.getAddress()})}signMessage(t){return Xn(this,void 0,void 0,function*(){if(!(yield this.getAddress()))return;const r=yield this.getSigner();if(!r)return;const i=new TextEncoder().encode(t),o=a=>a.signature!==void 0;yield r.connect(),yield new Promise(a=>{setTimeout(a,100)});const s=yield r.signMessage(i,"utf8");return o(s)?Xg(s.signature):void 0})}}class y2t extends bm{constructor(t){super(t),this.name="Backpack",this.overrideKey="backpacksol",this.wallet=zo(this.walletBook,this.key)}getSigner(){return Xn(this,void 0,void 0,function*(){var t;return(t=this.getSolProviderHelper())===null||t===void 0?void 0:t.connect()})}signMessage(t){return Xn(this,void 0,void 0,function*(){if(!(yield this.getAddress()))return;const r=yield this.getSigner();if(!r)return;const i=yield r.signMessage(Buffer.from(t,"utf8"));if(i)return typeof i=="object"&&"signature"in i?Xg(i.signature):Xg(i)})}}const v2t=[m2t,y2t,g2t],b2t=["coinbasesolana","phantom","phantomledger","backpacksol","solflare"],w2t=({walletBook:e})=>{var t;return Object.entries((t=e==null?void 0:e.wallets)!==null&&t!==void 0?t:{}).filter(([n,r])=>{var i;const o=!!(!((i=r.injectedConfig)===null||i===void 0)&&i.find(a=>a.chain==="sol")),s=b2t.includes(n);return o&&!s}).map(([n,r])=>{var i;const{shortName:o}=r,s=o||r.name;return!!(!((i=r.injectedConfig)===null||i===void 0)&&i.find(c=>c.walletStandard))&&!!yk.getWallet(e,n)?class extends yk{constructor(l){super(Object.assign({},l)),this.name=s,this.overrideKey=n}}:class extends bm{constructor(c){super(Object.assign({},c)),this.name=s,this.wallet=r,this.overrideKey=n}}})};class _2t extends bm{constructor(t){super(t),this.name="Unknown",this.overrideKey="unknown",this.wallet=zo(this.walletBook,this.key)}isInstalledOnBrowser(){return!1}}class x2t extends bm{constructor(t){super(t),this.name="Fallback Connector",this.overrideKey="fallbackconnector",this.isAvailable=!1,this.wallet=zo(this.walletBook,this.key)}isInstalledOnBrowser(){return!1}}const k2t=e=>[...v2t,...w2t(e),...Lit(e),u2t,_2t,x2t];function S2t({className:e,style:t}){var n;return u.jsx("svg",{className:e,style:t,width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M15.0566 12.5H15.067M1.10156 3.5V17.5C1.10156 18.6046 2.02718 19.5 3.16898 19.5H17.6409C18.7827 19.5 19.7083 18.6046 19.7083 17.5V7.5C19.7083 6.39543 18.7827 5.5 17.6409 5.5L3.16898 5.5C2.02718 5.5 1.10156 4.60457 1.10156 3.5ZM1.10156 3.5C1.10156 2.39543 2.02718 1.5 3.16898 1.5H15.5735M15.5735 12.5C15.5735 12.7761 15.3421 13 15.0566 13C14.7712 13 14.5398 12.7761 14.5398 12.5C14.5398 12.2239 14.7712 12 15.0566 12C15.3421 12 15.5735 12.2239 15.5735 12.5Z",stroke:(n=t==null?void 0:t.color)!=null?n:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function E2t({className:e,style:t}){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,style:t,children:u.jsx("path",{d:"m9 18 6-6-6-6"})})}function C2t(){var e,t,n,r,i;let{step:o,appearance:s,setStep:a,setError:c}=bk();return o!=="initial"?null:u.jsxs("button",{className:que("relative flex text-base p-4 bg-cm-muted-primary text-cm-text-primary items-center w-full rounded-xl justify-center","transition-colors duration-200 ease-in-out","hover:bg-cm-hover focus:bg-cm-hover outline-none"),style:{borderRadius:s==null?void 0:s.borderRadius,borderColor:(e=s==null?void 0:s.colors)==null?void 0:e.border,backgroundColor:(t=s==null?void 0:s.colors)==null?void 0:t.buttonBackground},onClick:()=>{a("web3"),c(null)},children:[u.jsx(S2t,{className:"h-[21px] w-[21px] absolute left-[20px]",style:{color:(n=s==null?void 0:s.colors)==null?void 0:n.textPrimary}}),u.jsx("span",{className:"font-medium",style:{margin:"0px 32px",color:(r=s==null?void 0:s.colors)==null?void 0:r.textPrimary},children:"Continue with a wallet"}),u.jsx(E2t,{className:"h-[21px] w-[21px] absolute right-[20px]",style:{color:(i=s==null?void 0:s.colors)==null?void 0:i.textSecondary}}),u.jsx("span",{className:"sr-only",children:"Continue with a wallet"})]})}function I2t(){var e,t;let{appearance:n,step:r,setStep:i}=bk();return r==="web3"?u.jsxs(u.Fragment,{children:[u.jsx(Vue,{onClick:()=>i("initial"),iconColor:(e=n==null?void 0:n.colors)==null?void 0:e.textPrimary,ringColor:(t=n==null?void 0:n.colors)==null?void 0:t.accent}),u.jsx("div",{className:"flex flex-col items-center",children:u.jsx("div",{className:"flex flex-col gap-[10px] w-full",children:u.jsx("div",{className:"widget-container",children:u.jsx(oQe,{background:"none"})})})})]}):null}function A2t({children:e,apiKeyEnvironment:t}){var n,r;let{crossmintAuth:i}=Hue(),{appearance:o}=bk(),s=`.powered-by-dynamic { display: none !important; } .wallet-list__scroll-container { padding: 0px !important; } .wallet-list__search-container { padding-left: 0px !important; padding-right: 0px !important; } .dynamic-footer { display: none !important; } h1 { color: ${(n=o==null?void 0:o.colors)==null?void 0:n.textPrimary} !important; } * { color: ${(r=o==null?void 0:o.colors)==null?void 0:r.textSecondary} !important; }`;return u.jsx(sQe,{apiKeyEnvironment:t,settings:{cssOverrides:s,walletConnectors:[jwt,k2t],events:{onAuthFlowCancel(){console.log("[CryptoWalletConnectionHandler] onAuthFlowCancel")},onAuthFlowClose(){console.log("[CryptoWalletConnectionHandler] onAuthFlowClose")},onAuthFailure(a,c){console.error("[CryptoWalletConnectionHandler] onAuthFailure",a,c)},onAuthSuccess(a){console.log("[CryptoWalletConnectionHandler] onAuthSuccess",a)}},handlers:{handleConnectedWallet:a=>Mz(this,null,function*(){var c;console.log("[CryptoWalletConnectionHandler] handleConnectedWallet",a);let l=a.address;if(!l)return console.error("[CryptoWalletConnectionHandler] handleConnectedWallet: address is missing"),!1;let d=yield r2e(a);console.log({chain:d});try{let f=yield i==null?void 0:i.signInWithSmartWallet(l),p=yield(c=a.connector)==null?void 0:c.signMessage(f.challenge),m=(yield i==null?void 0:i.authenticateSmartWallet(l,p)).oneTimeSecret;yield i==null?void 0:i.handleRefreshAuthMaterial(m)}catch(f){return console.error("[CryptoWalletConnectionHandler] Error authenticating wallet:",f),!1}return!0})}},children:e})}function T2t(){let{crossmint:e}=xfe(),t=wfe(e,{usageOrigin:"client"});return u.jsx(A2t,{apiKeyEnvironment:t.parsedAPIKey.environment,children:u.jsx(R2t,{})})}function R2t(){let{step:e}=bk();return e.startsWith("web3")?u.jsx(I2t,{}):e==="initial"?u.jsx(C2t,{}):null}const b3t=Object.freeze(Object.defineProperty({__proto__:null,Web3AuthFlow:T2t},Symbol.toStringTag,{value:"Module"}));export{tt as B,xv as H,b3t as W,Au as a,Gc as b,Fk as c,qpe as d,O0 as e,oRe as f,J7 as g,fRe as h,fV as i,Os as s};
